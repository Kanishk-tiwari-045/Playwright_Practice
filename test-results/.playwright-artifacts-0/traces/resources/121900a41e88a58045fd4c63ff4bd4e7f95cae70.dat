/*! For license information please see main.507da33e.js.LICENSE.txt */
(()=>{var e={43(e,t,n){"use strict";e.exports=n(202)},95(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},105(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},132(e,t){"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case i:case m:case g:return e;default:switch(e=e&&e.$$typeof){case d:case c:case u:case f:case p:case l:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=u,t.isMemo=function(e){return v(e)===p}},139(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},141(e,t,n){var r=n(143),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},143(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},153(e,t,n){"use strict";var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},171(e,t,n){var r=n(812),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},202(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,h={};function v(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}function x(){}function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=v.prototype;var b=y.prototype=new x;b.constructor=y,f(b,v.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,a)&&!N.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function O(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===o?"."+_(l,0):o,k(i)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),O(i,t,a,"",function(e){return e})):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=""===o?".":o+":",k(e))for(var c=0;c<e.length;c++){var d=o+_(s=e[c],c);l+=O(s,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=g&&e[g]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(s=e.next()).done;)l+=O(s=s.value,t,a,d=o+_(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",function(e){return t.call(n,e,a++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},T={transition:null},A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:T,ReactCurrentOwner:j};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=j.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>o(l,n))c<a&&0>o(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<a&&0>o(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,m=null,g=3,p=!1,f=!1,h=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function k(e){if(h=!1,b(e),!f)if(null!==r(c))f=!0,T(w);else{var t=r(d);null!==t&&A(k,t.startTime-e)}}function w(e,n){f=!1,h&&(h=!1,x(S),S=-1),p=!0;var o=g;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!O());){var i=m.callback;if("function"===typeof i){m.callback=null,g=m.priorityLevel;var s=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?m.callback=s:m===r(c)&&a(c),b(n)}else a(c);m=r(c)}if(null!==m)var l=!0;else{var u=r(d);null!==u&&A(k,u.startTime-n),l=!1}return l}finally{m=null,g=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,C=null,S=-1,E=5,_=-1;function O(){return!(t.unstable_now()-_<E)}function I(){if(null!==C){var e=t.unstable_now();_=e;var n=!0;try{n=C(!0,e)}finally{n?j():(N=!1,C=null)}}else N=!1}if("function"===typeof y)j=function(){y(I)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=I,j=function(){P.postMessage(null)}}else j=function(){v(I,0)};function T(e){C=e,N||(N=!0,j())}function A(e,n){S=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,T(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(g){case 1:case 2:case 3:var t=3;break;default:t=g}var n=g;g=t;try{return e()}finally{g=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=g;g=e;try{return t()}finally{g=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(h?(x(S),S=-1):h=!0,A(k,o-i))):(e.sortIndex=s,n(c,e),f||p||(f=!0,T(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=g;return function(){var n=g;g=t;try{return e.apply(this,arguments)}finally{g=n}}}},330(e,t,n){"use strict";var r=n(43);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,i=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),a=r[0].inst,d=r[1];return s(function(){a.value=n,a.getSnapshot=t,c(a)&&d({inst:a})},[e,n,t]),i(function(){return c(a)&&d({inst:a}),e(function(){c(a)&&d({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},391(e,t,n){"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443(e,t,n){"use strict";e.exports=n(717)},461(e,t,n){"use strict";e.exports=n(330)},552(e,t,n){var r=n(105),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},569(e,t,n){var r=n(686),a=n(757),o=n(801),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,d,u,m,g,p=0,f=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=l,r=c;return l=c=void 0,p=t,u=e.apply(r,n)}function y(e){var n=e-g;return void 0===g||n>=t||n<0||h&&e-p>=d}function b(){var e=a();if(y(e))return k(e);m=setTimeout(b,function(e){var n=t-(e-g);return h?s(n,d-(e-p)):n}(e))}function k(e){return m=void 0,v&&l?x(e):(l=c=void 0,u)}function w(){var e=a(),n=y(e);if(l=arguments,c=this,g=e,n){if(void 0===m)return function(e){return p=e,m=setTimeout(b,t),f?x(e):u}(g);if(h)return clearTimeout(m),m=setTimeout(b,t),x(g)}return void 0===m&&(m=setTimeout(b,t)),u}return t=o(t)||0,r(n)&&(f=!!n.leading,d=(h="maxWait"in n)?i(o(n.maxWait)||0,t):d,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==m&&clearTimeout(m),p=0,l=g=c=m=void 0},w.flush=function(){return void 0===m?u:k(a())},w}},579(e,t,n){"use strict";e.exports=n(153)},686(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},717(e,t,n){"use strict";var r=n(43),a=n(461);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=a.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var u=s(null);if(null===u.current){var m={hasValue:!1,value:null};u.current=m}else m=u.current;u=c(function(){function e(e){if(!l){if(l=!0,i=e,e=r(e),void 0!==a&&m.hasValue){var t=m.value;if(a(t,e))return s=t}return s=e}if(t=s,o(i,e))return t;var n=r(e);return void 0!==a&&a(t,n)?(i=e,t):(i=e,s=n)}var i,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,a]);var g=i(e,u[0],u[1]);return l(function(){m.hasValue=!0,m.value=g},[g]),d(g),g}},730(e,t,n){"use strict";var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},p={};function f(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];h[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=h.hasOwnProperty(t)?h[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(p,e)||!u.call(g,e)&&(m.test(e)?p[e]=!0:(g[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,x);h[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,x);h[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,x);h[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var z,D=Object.assign;function L(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function H(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case w:return"Portal";case C:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=fe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(ge).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,Ne=null;function Ce(e){if(e=ya(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=ka(t),we(e.stateNode,e.type,t))}}function Se(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ee(){if(je){var e=je,t=Ne;if(Ne=je=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function _e(e,t){return e(t)}function Oe(){}var Ie=!1;function Me(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return _e(e,t,n)}finally{Ie=!1,(null!==je||null!==Ne)&&(Oe(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ka(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Te=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){Te=!1}function Re(e,t,n,r,a,o,i,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ze=!1,De=null,Le=!1,Be=null,Fe={onError:function(e){ze=!0,De=e}};function He(e,t,n,r,a,o,i,s,l){ze=!1,De=null,Re.apply(Fe,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(o(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ye=a.unstable_shouldYield,$e=a.unstable_requestPaint,Je=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=ut(s):0!==(o&=i)&&(r=ut(o))}else 0!==(i=n&~a)?r=ut(i):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function gt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,wt,jt,Nt,Ct,St=!1,Et=[],_t=null,Ot=null,It=null,Mt=new Map,Pt=new Map,Tt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function zt(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=xa(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ct(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Lt(e)&&n.delete(t)}function Ft(){St=!1,null!==_t&&Lt(_t)&&(_t=null),null!==Ot&&Lt(Ot)&&(Ot=null),null!==It&&Lt(It)&&(It=null),Mt.forEach(Bt),Pt.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Wt(e){function t(t){return Ht(t,e)}if(0<Et.length){Ht(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ht(_t,e),null!==Ot&&Ht(Ot,e),null!==It&&Ht(It,e),Mt.forEach(t),Pt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Tt.shift()}var Vt=b.ReactCurrentBatchConfig,qt=!0;function Ut(e,t,n,r){var a=yt,o=Vt.transition;Vt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=a,Vt.transition=o}}function Kt(e,t,n,r){var a=yt,o=Vt.transition;Vt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=a,Vt.transition=o}}function Gt(e,t,n,r){if(qt){var a=Yt(e,t,n,r);if(null===a)qr(e,t,r,Xt,n),Rt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return _t=zt(_t,e,t,n,r,a),!0;case"dragenter":return Ot=zt(Ot,e,t,n,r,a),!0;case"mouseover":return It=zt(It,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Mt.set(o,zt(Mt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Pt.set(o,zt(Pt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==a;){var o=ya(a);if(null!==o&&kt(o),null===(o=Yt(e,t,n,r))&&qr(e,t,r,Xt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=xa(e=ke(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Zt,r=n.length,a="value"in Jt?Jt.value:Jt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Qt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=D({},cn,{view:0,detail:0}),mn=an(un),gn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(gn),fn=an(D({},gn,{dataTransfer:0})),hn=an(D({},un,{relatedTarget:0})),vn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(xn),bn=an(D({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return Nn}var Sn=D({},un,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Sn),_n=an(D({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),In=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=D({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Mn),Tn=[9,13,27,32],An=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var zn=d&&"TextEvent"in window&&!Rn,Dn=d&&(!An||Rn&&8<Rn&&11>=Rn),Ln=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Un(e,t,n,r){Se(r),0<(t=Kr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Xn(e){Lr(e,0)}function Yn(e){if(G(ba(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(d){var Zn;if(d){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Zn=Qn}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Un(t,Gn,e,ke(e)),Me(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function or(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&gr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=dr(n,o);var i=dr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=d&&"documentMode"in document&&11>=document.documentMode,hr=null,vr=null,xr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==hr||hr!==X(r)||("selectionStart"in(r=hr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},jr={},Nr={};function Cr(e){if(jr[e])return jr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return jr[e]=n[t];return e}d&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Sr=Cr("animationend"),Er=Cr("animationiteration"),_r=Cr("animationstart"),Or=Cr("transitionend"),Ir=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ir.set(e,t),l(t,[e])}for(var Tr=0;Tr<Mr.length;Tr++){var Ar=Mr[Tr];Pr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(_r,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,l,c){if(He.apply(this,arguments),ze){if(!ze)throw Error(o(198));var d=De;ze=!1,De=null,Le||(Le=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&a.isPropagationStopped())break e;Dr(a,s,c),o=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==o&&a.isPropagationStopped())break e;Dr(a,s,c),o=l}}}if(Le)throw e=Be,Le=!1,Be=null,e}function Br(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Hr]){e[Hr]=!0,i.forEach(function(t){"selectionchange"!==t&&(zr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Fr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch($t(t)){case 1:var a=Ut;break;case 4:a=Kt;break;default:a=Gt}n=a.bind(null,t,n,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=xa(s)))return;if(5===(l=i.tag)||6===l){r=o=i;continue e}s=s.parentNode}}r=r.return}Me(function(){var r=o,a=ke(n),i=[];e:{var s=Ir.get(e);if(void 0!==s){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=hn;break;case"focusout":c="blur",l=hn;break;case"beforeblur":case"afterblur":l=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Sr:case Er:case _r:l=vn;break;case Or:l=In;break;case"scroll":l=mn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==s?s+"Capture":null:s;d=[];for(var g,p=r;null!==p;){var f=(g=p).stateNode;if(5===g.tag&&null!==f&&(g=f,null!==m&&(null!=(f=Pe(p,m))&&d.push(Ur(p,f,g)))),u)break;p=p.return}0<d.length&&(s=new l(s,c,null,n,a),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xa(c)&&!c[pa])&&(l||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xa(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=pn,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==l?s:ba(l),g=null==c?s:ba(c),(s=new d(f,p+"leave",l,n,a)).target=u,s.relatedTarget=g,f=null,xa(a)===r&&((d=new d(m,p+"enter",c,n,a)).target=g,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(m=c,p=0,g=d=l;g;g=Gr(g))p++;for(g=0,f=m;f;f=Gr(f))g++;for(;0<p-g;)d=Gr(d),p--;for(;0<g-p;)m=Gr(m),g--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Gr(d),m=Gr(m)}d=null}else d=null;null!==l&&Xr(i,s,l,d,!1),null!==c&&null!==u&&Xr(i,u,c,d,!0)}if("select"===(l=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var h=$n;else if(qn(s))if(Jn)h=ir;else{h=ar;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(h=or);switch(h&&(h=h(e,r))?Un(i,h,n,a):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?ba(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(hr=v,vr=r,xr=null);break;case"focusout":xr=vr=hr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(i,n,a);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":br(i,n,a)}var x;if(An)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Fn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(x=en()):(Zt="value"in(Jt=a)?Jt.value:Jt.textContent,Wn=!0)),0<(v=Kr(r,y)).length&&(y=new bn(y,e,null,n,a),i.push({event:y,listeners:v}),x?y.data=x:null!==(x=Hn(n))&&(y.data=x))),(x=zn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!An&&Fn(e,t)?(e=en(),Qt=Zt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=x))}Lr(i,t)})}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Pe(e,n))&&r.unshift(Ur(e,o,a)),null!=(o=Pe(e,t))&&r.push(Ur(e,o,a))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(l=Pe(n,o))&&i.unshift(Ur(n,l,s)):a||null!=(l=Pe(n,o))&&i.push(Ur(n,l,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Qr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+ua,ga="__reactProps$"+ua,pa="__reactContainer$"+ua,fa="__reactEvents$"+ua,ha="__reactListeners$"+ua,va="__reactHandles$"+ua;function xa(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ma])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ma]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ka(e){return e[ga]||null}var wa=[],ja=-1;function Na(e){return{current:e}}function Ca(e){0>ja||(e.current=wa[ja],wa[ja]=null,ja--)}function Sa(e,t){ja++,wa[ja]=e.current,e.current=t}var Ea={},_a=Na(Ea),Oa=Na(!1),Ia=Ea;function Ma(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){Ca(Oa),Ca(_a)}function Aa(e,t,n){if(_a.current!==Ea)throw Error(o(168));Sa(_a,t),Sa(Oa,n)}function Ra(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,V(e)||"Unknown",a));return D({},n,r)}function za(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ia=_a.current,Sa(_a,e),Sa(Oa,Oa.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ra(e,t,Ia),r.__reactInternalMemoizedMergedChildContext=e,Ca(Oa),Ca(_a),Sa(_a,e)):Ca(Oa),Sa(Oa,n)}var La=null,Ba=!1,Fa=!1;function Ha(e){null===La?La=[e]:La.push(e)}function Wa(){if(!Fa&&null!==La){Fa=!0;var e=0,t=yt;try{var n=La;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,Ba=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),Ge(Qe,Wa),a}finally{yt=t,Fa=!1}}return null}var Va=[],qa=0,Ua=null,Ka=0,Ga=[],Xa=0,Ya=null,$a=1,Ja="";function Za(e,t){Va[qa++]=Ka,Va[qa++]=Ua,Ua=e,Ka=t}function Qa(e,t,n){Ga[Xa++]=$a,Ga[Xa++]=Ja,Ga[Xa++]=Ya,Ya=e;var r=$a;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,$a=1<<32-it(t)+a|n<<a|r,Ja=o+e}else $a=1<<o|n<<a|r,Ja=e}function eo(e){null!==e.return&&(Za(e,1),Qa(e,1,0))}function to(e){for(;e===Ua;)Ua=Va[--qa],Va[qa]=null,Ka=Va[--qa],Va[qa]=null;for(;e===Ya;)Ya=Ga[--Xa],Ga[Xa]=null,Ja=Ga[--Xa],Ga[Xa]=null,$a=Ga[--Xa],Ga[Xa]=null}var no=null,ro=null,ao=!1,oo=null;function io(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ya?{id:$a,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ao){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=no;t&&so(e,t)?io(r,n):(e.flags=-4097&e.flags|2,ao=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ao=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function mo(e){if(e!==no)return!1;if(!ao)return uo(e),ao=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw go(),Error(o(418));for(;t;)io(e,t),t=ca(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ca(e.stateNode.nextSibling):null;return!0}function go(){for(var e=ro;e;)e=ca(e.nextSibling)}function po(){ro=no=null,ao=!1}function fo(e){null===oo?oo=[e]:oo.push(e)}var ho=b.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&yo(o)===t.type)?((r=a(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Tc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Tc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Dc(t,e.mode,n)).return=e,t;case P:return m(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Ac(t,e.mode,n,null)).return=e,t;xo(e,t)}return null}function g(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?d(e,t,n,r):null;case P:return g(e,t,(a=n._init)(n._payload),r)}if(te(n)||R(n))return null!==a?null:u(e,t,n,r,null);xo(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||R(r))return u(t,e=e.get(n)||null,r,a,null);xo(t,r)}return null}function f(a,o,s,l){for(var c=null,d=null,u=o,f=o=0,h=null;null!==u&&f<s.length;f++){u.index>f?(h=u,u=null):h=u.sibling;var v=g(a,u,s[f],l);if(null===v){null===u&&(u=h);break}e&&u&&null===v.alternate&&t(a,u),o=i(v,o,f),null===d?c=v:d.sibling=v,d=v,u=h}if(f===s.length)return n(a,u),ao&&Za(a,f),c;if(null===u){for(;f<s.length;f++)null!==(u=m(a,s[f],l))&&(o=i(u,o,f),null===d?c=u:d.sibling=u,d=u);return ao&&Za(a,f),c}for(u=r(a,u);f<s.length;f++)null!==(h=p(u,a,f,s[f],l))&&(e&&null!==h.alternate&&u.delete(null===h.key?f:h.key),o=i(h,o,f),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach(function(e){return t(a,e)}),ao&&Za(a,f),c}function h(a,s,l,c){var d=R(l);if("function"!==typeof d)throw Error(o(150));if(null==(l=d.call(l)))throw Error(o(151));for(var u=d=null,f=s,h=s=0,v=null,x=l.next();null!==f&&!x.done;h++,x=l.next()){f.index>h?(v=f,f=null):v=f.sibling;var y=g(a,f,x.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(a,f),s=i(y,s,h),null===u?d=y:u.sibling=y,u=y,f=v}if(x.done)return n(a,f),ao&&Za(a,h),d;if(null===f){for(;!x.done;h++,x=l.next())null!==(x=m(a,x.value,c))&&(s=i(x,s,h),null===u?d=x:u.sibling=x,u=x);return ao&&Za(a,h),d}for(f=r(a,f);!x.done;h++,x=l.next())null!==(x=p(f,a,h,x.value,c))&&(e&&null!==x.alternate&&f.delete(null===x.key?h:x.key),s=i(x,s,h),null===u?d=x:u.sibling=x,u=x);return e&&f.forEach(function(e){return t(a,e)}),ao&&Za(a,h),d}return function e(r,o,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case k:e:{for(var c=i.key,d=o;null!==d;){if(d.key===c){if((c=i.type)===j){if(7===d.tag){n(r,d.sibling),(o=a(d,i.props.children)).return=r,r=o;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&yo(c)===d.type){n(r,d.sibling),(o=a(d,i.props)).ref=vo(r,d,i),o.return=r,r=o;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===j?((o=Ac(i.props.children,r.mode,l,i.key)).return=r,r=o):((l=Tc(i.type,i.key,i.props,null,r.mode,l)).ref=vo(r,o,i),l.return=r,r=l)}return s(r);case w:e:{for(d=i.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Dc(i,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(d=i._init)(i._payload),l)}if(te(i))return f(r,o,i,l);if(R(i))return h(r,o,i,l);xo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=zc(i,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var ko=bo(!0),wo=bo(!1),jo=Na(null),No=null,Co=null,So=null;function Eo(){So=Co=No=null}function _o(e){var t=jo.current;Ca(jo),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){No=e,So=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===No)throw Error(o(308));Co=e,No.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Po=null;function To(e){null===Po?Po=[e]:Po.push(e)}function Ao(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,To(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var zo=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ro(e,n)}return null===(a=r.interleaved)?(t.next=t,To(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ro(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var a=e.updateQueue;zo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?o=c:i.next=c,i=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==o){var u=a.baseState;for(i=0,d=c=l=null,s=o;;){var m=s.lane,g=s.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,f=s;switch(m=t,g=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(g,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(g,u,m):p)||void 0===m)break e;u=D({},u,m);break e;case 2:zo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[s]:m.push(s))}else g={eventTime:g,lane:m,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=g,l=u):d=d.next=g,i|=m;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(m=s).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=u}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Uo={},Ko=Na(Uo),Go=Na(Uo),Xo=Na(Uo);function Yo(e){if(e===Uo)throw Error(o(174));return e}function $o(e,t){switch(Sa(Xo,t),Sa(Go,e),Sa(Ko,Uo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Ko),Sa(Ko,t)}function Jo(){Ca(Ko),Ca(Go),Ca(Xo)}function Zo(e){Yo(Xo.current);var t=Yo(Ko.current),n=le(t,e.type);t!==n&&(Sa(Go,e),Sa(Ko,n))}function Qo(e){Go.current===e&&(Ca(Ko),Ca(Go))}var ei=Na(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var ai=b.ReactCurrentDispatcher,oi=b.ReactCurrentBatchConfig,ii=0,si=null,li=null,ci=null,di=!1,ui=!1,mi=0,gi=0;function pi(){throw Error(o(321))}function fi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function hi(e,t,n,r,a,i){if(ii=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Qi:es,e=n(r,a),ui){i=0;do{if(ui=!1,mi=0,25<=i)throw Error(o(301));i+=1,ci=li=null,t.updateQueue=null,ai.current=ts,e=n(r,a)}while(ui)}if(ai.current=Zi,t=null!==li&&null!==li.next,ii=0,ci=li=si=null,di=!1,t)throw Error(o(300));return e}function vi(){var e=0!==mi;return mi=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?si.memoizedState=ci=e:ci=ci.next=e,ci}function yi(){if(null===li){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===ci?si.memoizedState:ci.next;if(null!==t)ci=t,li=e;else{if(null===e)throw Error(o(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===ci?si.memoizedState=ci=e:ci=ci.next=e}return ci}function bi(e,t){return"function"===typeof t?t(e):t}function ki(e){var t=yi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=s=null,c=null,d=i;do{var u=d.lane;if((ii&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=m,s=r):c=c.next=m,si.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==i);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,si.lanes|=i,Rl|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=yi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(ys=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function Ni(e,t){var n=si,r=yi(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,ys=!0),r=r.queue,zi(Ei.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(n.flags|=2048,Mi(9,Si.bind(null,n,r,a,t),void 0,null),null===_l)throw Error(o(349));0!==(30&ii)||Ci(n,t,a)}return a}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,_i(t)&&Oi(e)}function Ei(e,t,n){return n(function(){_i(t)&&Oi(e)})}function _i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oi(e){var t=Ro(e,1);null!==t&&tc(t,e,1,-1)}function Ii(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Xi.bind(null,si,e),[t.memoizedState,e]}function Mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pi(){return yi().memoizedState}function Ti(e,t,n,r){var a=xi();si.flags|=e,a.memoizedState=Mi(1|t,n,void 0,void 0===r?null:r)}function Ai(e,t,n,r){var a=yi();r=void 0===r?null:r;var o=void 0;if(null!==li){var i=li.memoizedState;if(o=i.destroy,null!==r&&fi(r,i.deps))return void(a.memoizedState=Mi(t,n,o,r))}si.flags|=e,a.memoizedState=Mi(1|t,n,o,r)}function Ri(e,t){return Ti(8390656,8,e,t)}function zi(e,t){return Ai(2048,8,e,t)}function Di(e,t){return Ai(4,2,e,t)}function Li(e,t){return Ai(4,4,e,t)}function Bi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ai(4,4,Bi.bind(null,t,e),n)}function Hi(){}function Wi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=yi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&ii)?(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n):(sr(n,t)||(n=ft(),si.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ui(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=oi.transition;oi.transition={};try{e(!1),t()}finally{yt=n,oi.transition=r}}function Ki(){return yi().memoizedState}function Gi(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e))$i(t,n);else if(null!==(n=Ao(e,t,n,r))){tc(n,e,r,Ql()),Ji(n,t,r)}}function Xi(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))$i(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i)){var l=t.interleaved;return null===l?(a.next=a,To(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ao(e,t,a,r))&&(tc(n,e,r,a=Ql()),Ji(n,t,r))}}function Yi(e){var t=e.alternate;return e===si||null!==t&&t===si}function $i(e,t){ui=di=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Zi={readContext:Mo,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Qi={readContext:Mo,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4194308,4,Bi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ti(4,2,e,t)},useMemo:function(e,t){var n=xi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Ii,useDebugValue:Hi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Ui.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,a=xi();if(ao){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_l)throw Error(o(349));0!==(30&ii)||Ci(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ri(Ei.bind(null,r,i,e),[e]),r.flags|=2048,Mi(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=xi(),t=_l.identifierPrefix;if(ao){var n=Ja;t=":"+t+"R"+(n=($a&~(1<<32-it($a)-1)).toString(32)+n),0<(n=mi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=gi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Mo,useCallback:Wi,useContext:Mo,useEffect:zi,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Li,useMemo:Vi,useReducer:ki,useRef:Pi,useState:function(){return ki(bi)},useDebugValue:Hi,useDeferredValue:function(e){return qi(yi(),li.memoizedState,e)},useTransition:function(){return[ki(bi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Ki,unstable_isNewReconciler:!1},ts={readContext:Mo,useCallback:Wi,useContext:Mo,useEffect:zi,useImperativeHandle:Fi,useInsertionEffect:Di,useLayoutEffect:Li,useMemo:Vi,useReducer:wi,useRef:Pi,useState:function(){return wi(bi)},useDebugValue:Hi,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:qi(t,li.memoizedState,e)},useTransition:function(){return[wi(bi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:Ki,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ql(),a=ec(e),o=Bo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,a))&&(tc(t,e,a,r),Ho(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ql(),a=ec(e),o=Bo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,a))&&(tc(t,e,a,r),Ho(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ql(),r=ec(e),a=Bo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fo(e,a,r))&&(tc(t,e,r,n),Ho(t,e,r))}};function os(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,o))}function is(e,t,n){var r=!1,a=Ea,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(a=Pa(t)?Ia:_a.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ma(e,a):Ea),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Mo(o):(o=Pa(t)?Ia:_a.current,a.context=Ma(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&as.enqueueReplaceState(a,a.state,null),Vo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ms="function"===typeof WeakMap?WeakMap:Map;function gs(e,t,n){(n=Bo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),us(0,t)},n}function ps(e,t,n){(n=Bo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){us(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Ul?Ul=new Set([this]):Ul.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ms;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Nc.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bo(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var xs=b.ReactCurrentOwner,ys=!1;function bs(e,t,n,r){t.child=null===e?wo(t,null,n,r):ko(t,e.child,n,r)}function ks(e,t,n,r,a){n=n.render;var o=t.ref;return Io(t,a),r=hi(e,t,n,r,o,a),n=vi(),null===e||ys?(ao&&n&&eo(t),t.flags|=1,bs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function ws(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Mc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,js(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Pc(o,r)).ref=t.ref,e.return=t,t.child=e}function js(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(ys=!0)}}return Ss(e,t,n,r,a)}function Ns(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Pl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Pl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Sa(Pl,Ml),Ml|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sa(Pl,Ml),Ml|=r;return bs(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,a){var o=Pa(n)?Ia:_a.current;return o=Ma(t,o),Io(t,a),n=hi(e,t,n,r,o,a),r=vi(),null===e||ys?(ao&&r&&eo(t),t.flags|=1,bs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Es(e,t,n,r,a){if(Pa(n)){var o=!0;za(t)}else o=!1;if(Io(t,a),null===t.stateNode)Ws(e,t),is(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mo(c):c=Ma(t,c=Pa(n)?Ia:_a.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,i,r,c),zo=!1;var m=t.memoizedState;i.state=m,Vo(t,r,i,a),l=t.memoizedState,s!==r||m!==l||Oa.current||zo?("function"===typeof d&&(rs(t,n,d,r),l=t.memoizedState),(s=zo||os(t,n,s,r,m,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mo(l):l=Ma(t,l=Pa(n)?Ia:_a.current);var g=n.getDerivedStateFromProps;(d="function"===typeof g||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||m!==l)&&ss(t,i,r,l),zo=!1,m=t.memoizedState,i.state=m,Vo(t,r,i,a);var p=t.memoizedState;s!==u||m!==p||Oa.current||zo?("function"===typeof g&&(rs(t,n,g,r),p=t.memoizedState),(c=zo||os(t,n,c,r,m,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,a)}function _s(e,t,n,r,a,o){Cs(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Da(t,n,!1),Vs(e,t,o);r=t.stateNode,xs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Aa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Aa(0,t.context,!1),$o(e,t.containerInfo)}function Is(e,t,n,r,a){return po(),fo(a),t.flags|=256,bs(e,t,n,r),t.child}var Ms,Ps,Ts,As={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,a=t.pendingProps,i=ei.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sa(ei,1&i),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,s?(a=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,a,0,null),e=Ac(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=As,e):Ds(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Rc({mode:"visible",children:r.children},a,0,null),(i=Ac(i,a,s,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ko(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=As,i);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Ls(e,t,s,r=ds(i=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ys||l){if(null!==(r=_l)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ro(e,a),tc(r,e,a,-1))}return pc(),Ls(e,t,s,r=ds(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ro=ca(a.nextSibling),no=t,ao=!0,oo=null,null!==e&&(Ga[Xa++]=$a,Ga[Xa++]=Ja,Ga[Xa++]=Ya,$a=e.id,Ja=e.overflow,Ya=t),t=Ds(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(s){s=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?s=Pc(r,s):(s=Ac(s,l,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=As,a}return e=(s=e.child).sibling,a=Pc(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ds(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&fo(r),ko(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function Fs(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Hs(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ei.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(ei,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fs(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ti(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fs(t,!0,n,null,o);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Us(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(t),null;case 1:case 17:return Pa(t.type)&&Ta(),Us(t),null;case 3:return r=t.stateNode,Jo(),Ca(Oa),Ca(_a),ri(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(mo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(oc(oo),oo=null))),Us(t),null;case 5:Qo(t);var a=Yo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Us(t),null}if(e=Yo(Ko.current),mo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ma]=t,r[ga]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Rr.length;a++)Br(Rr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":$(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var l in xe(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":K(r),Q(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Qr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ma]=t,e[ga]=r,Ms(e,t),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Rr.length;a++)Br(Rr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":$(e,r),a=Y(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=D({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in xe(n,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?he(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Br("scroll",e):null!=d&&y(e,i,d,l))}switch(n){case"input":K(e),Q(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Us(t),null;case 6:if(e&&null!=t.stateNode)Ts(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Yo(Xo.current),Yo(Ko.current),mo(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(i=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return Us(t),null;case 13:if(Ca(ei),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ao&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))go(),po(),t.flags|=98560,i=!1;else if(i=mo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[ma]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Us(t),i=!1}else null!==oo&&(oc(oo),oo=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ei.current)?0===Tl&&(Tl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Us(t),null);case 4:return Jo(),null===e&&Wr(t.stateNode.containerInfo),Us(t),null;case 10:return _o(t.type._context),Us(t),null;case 19:if(Ca(ei),null===(i=t.memoizedState))return Us(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)qs(i,!1);else{if(0!==Tl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ti(e))){for(t.flags|=128,qs(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(ei,1&ei.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Hl&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ti(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!ao)return Us(t),null}else 2*Je()-i.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=ei.current,Sa(ei,r?1&n|2:1&n),t):(Us(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Us(t),6&t.subtreeFlags&&(t.flags|=8192)):Us(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Pa(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ca(Oa),Ca(_a),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(Ca(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ei),null;case 4:return Jo(),null;case 10:return _o(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ms=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Yo(Ko.current);var o,i=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),i=[];break;case"select":a=D({},a,{value:void 0}),r=D({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(d in xe(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ts=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function Qs(e,t,n){try{n()}catch(r){jc(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&Qs(t,n,o)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[ga],delete t[fa],delete t[ha],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function sl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(sl(e,t,n),e=e.sibling;null!==e;)sl(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,dl=!1;function ul(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Ys||Zs(n,t);case 6:var r=cl,a=dl;cl=null,ul(e,t,n),dl=a,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=dl,cl=n.stateNode.containerInfo,dl=!0,ul(e,t,n),cl=r,dl=a;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&Qs(n,t,i),a=a.next}while(a!==r)}ul(e,t,n);break;case 1:if(!Ys&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){jc(n,t,s)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,ul(e,t,n),Ys=r):ul(e,t,n);break;default:ul(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));ml(i,s,a),cl=null,dl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){jc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),hl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(h){jc(e,e.return,h)}try{tl(5,e,e.return)}catch(h){jc(e,e.return,h)}}break;case 1:pl(t,e),hl(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(pl(t,e),hl(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(h){jc(e,e.return,h)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(a,i),ye(l,s);var d=ye(l,i);for(s=0;s<c.length;s+=2){var u=c[s],m=c[s+1];"style"===u?he(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):y(a,u,m,d)}switch(l){case"input":Z(a,i);break;case"textarea":oe(a,i);break;case"select":var g=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):g!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ga]=i}catch(h){jc(e,e.return,h)}}break;case 6:if(pl(t,e),hl(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(h){jc(e,e.return,h)}}break;case 3:if(pl(t,e),hl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(h){jc(e,e.return,h)}break;case 4:default:pl(t,e),hl(e);break;case 13:pl(t,e),hl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Fl=Je())),4&r&&gl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(d=Ys)||u,pl(t,e),Ys=d):pl(t,e),hl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Js=e,u=e.child;null!==u;){for(m=Js=u;null!==Js;){switch(p=(g=Js).child,g.tag){case 0:case 11:case 14:case 15:tl(4,g,g.return);break;case 1:Zs(g,g.return);var f=g.stateNode;if("function"===typeof f.componentWillUnmount){r=g,n=g.return;try{t=r,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(h){jc(r,n,h)}}break;case 5:Zs(g,g.return);break;case 22:if(null!==g.memoizedState){bl(m);continue}}null!==p?(p.return=g,Js=p):bl(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=m.stateNode,s=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",s))}catch(h){jc(e,e.return,h)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(h){jc(e,e.return,h)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pl(t,e),hl(e),4&r&&gl(e);case 21:}}function hl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;sl(e,il(e),i);break;default:throw Error(o(161))}}catch(s){jc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var a=Js,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Xs;if(!i){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=i,(Ys=l)&&!c)for(Js=a;null!==Js;)l=(i=Js).child,22===i.tag&&null!==i.memoizedState?kl(a):null!==l?(l.return=i,Js=l):kl(a);for(;null!==o;)Js=o,xl(o,t,n),o=o.sibling;Js=a,Xs=s,Ys=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Js=o):yl(e)}}function yl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qo(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Wt(m)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&rl(t)}catch(g){jc(t,t.return,g)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function bl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function kl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){jc(t,a,l)}}var o=t.return;try{rl(t)}catch(l){jc(t,o,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){jc(t,i,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var wl,jl=Math.ceil,Nl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,Sl=b.ReactCurrentBatchConfig,El=0,_l=null,Ol=null,Il=0,Ml=0,Pl=Na(0),Tl=0,Al=null,Rl=0,zl=0,Dl=0,Ll=null,Bl=null,Fl=0,Hl=1/0,Wl=null,Vl=!1,ql=null,Ul=null,Kl=!1,Gl=null,Xl=0,Yl=0,$l=null,Jl=-1,Zl=0;function Ql(){return 0!==(6&El)?Je():-1!==Jl?Jl:Jl=Je()}function ec(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Il?Il&-Il:null!==ho.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function tc(e,t,n,r){if(50<Yl)throw Yl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&El)&&e===_l||(e===_l&&(0===(2&El)&&(zl|=n),4===Tl&&ic(e,Il)),nc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Hl=Je()+500,Ba&&Wa()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,l=a[i];-1===l?0!==(s&n)&&0===(s&r)||(a[i]=gt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=mt(e,e===_l?Il:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Ba=!0,Ha(e)}(sc.bind(null,e)):Ha(sc.bind(null,e)),ia(function(){0===(6&El)&&Wa()}),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Jl=-1,Zl=0,0!==(6&El))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=mt(e,e===_l?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var a=El;El|=2;var i=gc();for(_l===e&&Il===t||(Wl=null,Hl=Je()+500,uc(e,t));;)try{vc();break}catch(l){mc(e,l)}Eo(),Nl.current=i,El=a,null!==Ol?t=0:(_l=null,Il=0,t=Tl)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t)throw n=Al,uc(e,0),ic(e,r),nc(e,Je()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=fc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Al,uc(e,0),ic(e,r),nc(e,Je()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bc(e,Bl,Wl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Fl+500-Je())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Ql(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(bc.bind(null,e,Bl,Wl),t);break}bc(e,Bl,Wl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ra(bc.bind(null,e,Bl,Wl),r);break}bc(e,Bl,Wl);break;default:throw Error(o(329))}}}return nc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ll;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~Dl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&El))throw Error(o(327));kc();var t=mt(e,0);if(0===(1&t))return nc(e,Je()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Al,uc(e,0),ic(e,t),nc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Bl,Wl),nc(e,Je()),null}function lc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Hl=Je()+500,Ba&&Wa())}}function cc(e){null!==Gl&&0===Gl.tag&&0===(6&El)&&kc();var t=El;El|=1;var n=Sl.transition,r=yt;try{if(Sl.transition=null,yt=1,e)return e()}finally{yt=r,Sl.transition=n,0===(6&(El=t))&&Wa()}}function dc(){Ml=Pl.current,Ca(Pl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ta();break;case 3:Jo(),Ca(Oa),Ca(_a),ri();break;case 5:Qo(r);break;case 4:Jo();break;case 13:case 19:Ca(ei);break;case 10:_o(r.type._context);break;case 22:case 23:dc()}n=n.return}if(_l=e,Ol=e=Pc(e.current,null),Il=Ml=t,Tl=0,Al=null,Dl=zl=Rl=0,Bl=Ll=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Po=null}return e}function mc(e,t){for(;;){var n=Ol;try{if(Eo(),ai.current=Zi,di){for(var r=si.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}di=!1}if(ii=0,ci=li=si=null,ui=!1,mi=0,Cl.current=null,null===n||null===n.return){Tl=1,Al=t,Ol=null;break}e:{var i=e,s=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&fs(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var h=new Set;h.add(c),t.updateQueue=h}else f.add(c);break e}if(0===(1&t)){fs(i,d,t),pc();break e}c=Error(o(426))}else if(ao&&1&l.mode){var v=hs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),fo(cs(c,l));break e}}i=c=cs(c,l),4!==Tl&&(Tl=2),null===Ll?Ll=[i]:Ll.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,gs(0,c,t));break e;case 1:l=c;var x=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Ul||!Ul.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,ps(i,l,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function gc(){var e=Nl.current;return Nl.current=Zi,null===e?Zi:e}function pc(){0!==Tl&&3!==Tl&&2!==Tl||(Tl=4),null===_l||0===(268435455&Rl)&&0===(268435455&zl)||ic(_l,Il)}function fc(e,t){var n=El;El|=2;var r=gc();for(_l===e&&Il===t||(Wl=null,uc(e,t));;)try{hc();break}catch(a){mc(e,a)}if(Eo(),El=n,Nl.current=r,null!==Ol)throw Error(o(261));return _l=null,Il=0,Tl}function hc(){for(;null!==Ol;)xc(Ol)}function vc(){for(;null!==Ol&&!Ye();)xc(Ol)}function xc(e){var t=wl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?yc(e):Ol=t,Cl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Tl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Tl&&(Tl=5)}function bc(e,t,n){var r=yt,a=Sl.transition;try{Sl.transition=null,yt=1,function(e,t,n,r){do{kc()}while(null!==Gl);if(0!==(6&El))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===_l&&(Ol=_l=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,_c(tt,function(){return kc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Sl.transition,Sl.transition=null;var s=yt;yt=1;var l=El;El|=4,Cl.current=null,function(e,t){if(ea=qt,gr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(k){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,m=e,g=null;t:for(;;){for(var p;m!==n||0!==a&&3!==m.nodeType||(l=s+a),m!==i||0!==r&&3!==m.nodeType||(c=s+r),3===m.nodeType&&(s+=m.nodeValue.length),null!==(p=m.firstChild);)g=m,m=p;for(;;){if(m===e)break t;if(g===n&&++d===a&&(l=s),g===i&&++u===r&&(c=s),null!==(p=m.nextSibling))break;g=(m=g).parentNode}m=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var h=f.memoizedProps,v=f.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?h:ns(t.type,h),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(k){jc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}f=el,el=!1}(e,n),fl(n,e),pr(ta),qt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),$e(),El=l,yt=s,Sl.transition=i}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Xl=a),i=e.pendingLanes,0===i&&(Ul=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Xl)&&0!==e.tag&&kc(),i=e.pendingLanes,0!==(1&i)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Wa()}(e,t,n,r)}finally{Sl.transition=a,yt=r}return null}function kc(){if(null!==Gl){var e=bt(Xl),t=Sl.transition,n=yt;try{if(Sl.transition=null,yt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Xl=0,0!==(6&El))throw Error(o(331));var a=El;for(El|=4,Js=e.current;null!==Js;){var i=Js,s=i.child;if(0!==(16&Js.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Js=d;null!==Js;){var u=Js;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var m=u.child;if(null!==m)m.return=u,Js=m;else for(;null!==Js;){var g=(u=Js).sibling,p=u.return;if(al(u),u===d){Js=null;break}if(null!==g){g.return=p,Js=g;break}Js=p}}}var f=i.alternate;if(null!==f){var h=f.child;if(null!==h){f.child=null;do{var v=h.sibling;h.sibling=null,h=v}while(null!==h)}}Js=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Js=s;else e:for(;null!==Js;){if(0!==(2048&(i=Js).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,Js=x;break e}Js=i.return}}var y=e.current;for(Js=y;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=y;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){jc(l,l.return,w)}if(l===s){Js=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Js=k;break e}Js=l.return}}if(El=a,Wa(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{yt=n,Sl.transition=t}}return!1}function wc(e,t,n){e=Fo(e,t=gs(0,t=cs(n,t),1),1),t=Ql(),null!==e&&(vt(e,1,t),nc(e,t))}function jc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ul||!Ul.has(r))){t=Fo(t,e=ps(t,e=cs(n,e),1),1),e=Ql(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Nc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Ql(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Il&n)===n&&(4===Tl||3===Tl&&(130023424&Il)===Il&&500>Je()-Fl?uc(e,0):Dl|=n),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=Ql();null!==(e=Ro(e,t))&&(vt(e,t,n),nc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function _c(e,t){return Ge(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Oc(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Mc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case j:return Ac(n.children,a,i,t);case N:s=8,a|=8;break;case C:return(e=Ic(12,n,t,2|a)).elementType=C,e.lanes=i,e;case O:return(e=Ic(13,n,t,a)).elementType=O,e.lanes=i,e;case I:return(e=Ic(19,n,t,a)).elementType=I,e.lanes=i,e;case T:return Rc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case E:s=9;break e;case _:s=11;break e;case M:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ac(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,a,o,i,s,l){return e=new Lc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Fc(e){if(!e)return Ea;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Ra(e,n,t)}return t}function Hc(e,t,n,r,a,o,i,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=Fc(null),n=e.current,(o=Bo(r=Ql(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,a),e.current.lanes=a,vt(e,a,r),nc(e,r),e}function Wc(e,t,n,r){var a=t.current,o=Ql(),i=ec(a);return n=Fc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(a,t,i))&&(tc(e,a,i,o),Ho(e,a,i)),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Uc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}wl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)ys=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:Zo(t);break;case 1:Pa(t.type)&&za(t);break;case 4:$o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(jo,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Sa(ei,1&ei.current),null!==(e=Vs(e,t,n))?e.sibling:null);Sa(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Vs(e,t,n)}(e,t,n);ys=0!==(131072&e.flags)}else ys=!1,ao&&0!==(1048576&t.flags)&&Qa(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=Ma(t,_a.current);Io(t,n),a=hi(null,t,r,e,a,n);var i=vi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(i=!0,za(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Do(t),a.updater=as,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=_s(null,t,r,!0,i,n)):(t.tag=0,ao&&i&&eo(t),bs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===M)return 14}return 2}(r),e=ns(r,e),a){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Es(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 1:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Lo(e,t),Vo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Is(e,t,r,n,a=cs(Error(o(423)),t));break e}if(r!==a){t=Is(e,t,r,n,a=cs(Error(o(424)),t));break e}for(ro=ca(t.stateNode.containerInfo.firstChild),no=t,ao=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===a){t=Vs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&co(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return zs(e,t,n);case 4:return $o(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ks(e,t,r,a=t.elementType===r?a:ns(r,a),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Sa(jo,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Oa.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){s=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Bo(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Oo(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Oo(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}bs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Io(t,n),r=r(a=Mo(a)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return a=ns(r=t.type,t.pendingProps),ws(e,t,r,a=ns(r.type,a),n);case 15:return js(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ns(r,a),Ws(e,t),t.tag=1,Pa(r)?(e=!0,za(t)):e=!1,Io(t,n),is(t,r,a),ls(t,r,a,n),_s(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ns(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vc(i);o.call(e)}}var i=Hc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[pa]=i.current,Wr(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),cc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return Vc(i)}Xc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Wc(null,e,null,null)}),t[pa]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Dt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),nc(t,Je()),0===(6&El)&&(Hl=Je()+500,Wa()))}break;case 13:cc(function(){var t=Ro(e,1);if(null!==t){var n=Ql();tc(t,e,1,n)}}),Uc(e,1)}},wt=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)tc(t,e,134217728,Ql());Uc(e,134217728)}},jt=function(e){if(13===e.tag){var t=ec(e),n=Ro(e,t);if(null!==n)tc(n,e,t,Ql());Uc(e,t)}},Nt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ka(r);if(!a)throw Error(o(90));G(r),Z(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=lc,Oe=cc;var Qc={usingClientEntryPoint:!1,Events:[ya,ba,ka,Se,Ee,lc]},ed={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},td={bundleType:ed.bundleType,version:ed.version,rendererPackageName:ed.rendererPackageName,rendererConfig:ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:ed.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{at=nd.inject(td),ot=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,a,0,i,s),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(cc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},757(e,t,n){var r=n(552);e.exports=function(){return r.Date.now()}},761(e){e.exports=function(e){return null!=e&&"object"==typeof e}},801(e,t,n){var r=n(141),a=n(686),o=n(841),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):i.test(e)?NaN:+e}},812(e,t,n){var r=n(552).Symbol;e.exports=r},816(e,t,n){"use strict";e.exports=n(132)},841(e,t,n){var r=n(913),a=n(761);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==r(e)}},853(e,t,n){"use strict";e.exports=n(234)},913(e,t,n){var r=n(812),a=n(171),o=n(95),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},950(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>tn,hasStandardBrowserEnv:()=>rn,hasStandardBrowserWebWorkerEnv:()=>an,navigator:()=>nn,origin:()=>on});var t,r=n(43),a=n.t(r,2),o=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(aO){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,a){void 0===a&&(a={});let{window:o=document.defaultView,v5Compat:c=!1}=a,g=o.history,p=t.Pop,f=null,h=v();function v(){return(g.state||{idx:null}).idx}function x(){p=t.Pop;let e=v(),n=null==e?null:e-h;h=e,f&&f({action:p,location:b.location,delta:n})}function y(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,g.replaceState(i({},g.state,{idx:h}),""));let b={get action(){return p},get location(){return e(o,g)},listen(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(s,x),f=e,()=>{o.removeEventListener(s,x),f=null}},createHref:e=>n(o,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let a=u(b.location,e,n);r&&r(a,e),h=v()+1;let i=d(a,h),s=b.createHref(a);try{g.pushState(i,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(s)}c&&f&&f({action:p,location:b.location,delta:1})},replace:function(e,n){p=t.Replace;let a=u(b.location,e,n);r&&r(a,e),h=v();let o=d(a,h),i=b.createHref(a);g.replaceState(o,"",i),c&&f&&f({action:p,location:b.location,delta:0})},go:e=>g.go(e)};return b}var f;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(f||(f={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function h(e,t,n){return void 0===n&&(n="/"),v(e,t,n,!1)}function v(e,t,n,r){let a=M(("string"===typeof t?g(t):t).pathname||"/",n);if(null==a)return null;let o=x(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(o);let i=null;for(let s=0;null==i&&s<o.length;++s){let e=I(a);i=_(o[s],e,r)}return i}function x(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(l(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let s=B([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),x(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:E(s,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))a(e,t,r);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=y(r.join("/")),s=[];return s.push(...i.map(e=>""===e?o:[o,e].join("/"))),a&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,k=3,w=2,j=1,N=10,C=-2,S=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=C),t&&(r+=w),n.filter(e=>!S(e)).reduce((e,t)=>e+(b.test(t)?k:""===t?j:N),r)}function _(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===o?t:t.slice(o.length)||"/",d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=O({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:B([o,d.pathname]),pathnameBase:F(B([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=B([o,d.pathnameBase]))}return i}function O(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),s=a.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=s[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:o,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}const P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function T(e,t){void 0===t&&(t="/");let n,{pathname:r,search:a="",hash:o=""}="string"===typeof e?g(e):e;if(r)if(i=r,P.test(i))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),c(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+r)}n=r.startsWith("/")?A(r.substring(1),"/"):A(r,t)}else n=t;var i;return{pathname:n,search:H(a),hash:W(o)}}function A(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function z(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=z(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=g(e):(a=i({},e),l(!a.pathname||!a.pathname.includes("?"),R("?","pathname","search",a)),l(!a.pathname||!a.pathname.includes("#"),R("#","pathname","hash",a)),l(!a.search||!a.search.includes("#"),R("#","search","hash",a)));let o,s=""===e||""===a.pathname,c=s?"/":a.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let d=T(a,o),u=c&&"/"!==c&&c.endsWith("/"),m=(s||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const B=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],U=(new Set(q),["get",...q]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=r.createContext(null);const X=r.createContext(null);const Y=r.createContext(null);const $=r.createContext(null);const J=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=r.createContext(null);function Q(){return null!=r.useContext($)}function ee(){return Q()||l(!1),r.useContext($).location}function te(e){r.useContext(Y).static||r.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=r.useContext(J);return e?function(){let{router:e}=me(de.UseNavigateStable),t=pe(ue.UseNavigateStable),n=r.useRef(!1);te(()=>{n.current=!0});let a=r.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},a)))},[e,t]);return a}():function(){Q()||l(!1);let e=r.useContext(G),{basename:t,future:n,navigator:a}=r.useContext(Y),{matches:o}=r.useContext(J),{pathname:i}=ee(),s=JSON.stringify(D(o,n.v7_relativeSplatPath)),c=r.useRef(!1);te(()=>{c.current=!0});let d=r.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void a.go(n);let o=L(n,JSON.parse(s),i,"path"===r.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:B([t,o.pathname])),(r.replace?a.replace:a.push)(o,r.state,r)},[t,a,s,i,e]);return d}()}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext(Y),{matches:o}=r.useContext(J),{pathname:i}=ee(),s=JSON.stringify(D(o,a.v7_relativeSplatPath));return r.useMemo(()=>L(e,JSON.parse(s),i,"path"===n),[e,s,i,n])}function ae(e,n,a,o){Q()||l(!1);let{navigator:i}=r.useContext(Y),{matches:s}=r.useContext(J),c=s[s.length-1],d=c?c.params:{},u=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let m,p=ee();if(n){var f;let e="string"===typeof n?g(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||l(!1),m=e}else m=p;let v=m.pathname||"/",x=v;if("/"!==u){let e=u.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=h(e,{pathname:x});let b=ce(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:B([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:B([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,a,o);return n&&b?r.createElement($.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},b):b}function oe(){let e=function(){var e;let t=r.useContext(Z),n=ge(ue.UseRouteError),a=pe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const ie=r.createElement(oe,null);class se extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:a}=e,o=r.useContext(G);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},a)}function ce(e,t,n,a){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,c=null==(o=n)?void 0:o.errors;if(null!=c){let e=s.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let d=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){d=!0,s=u>=0?s.slice(0,u+1):[s[0]];break}}}return s.reduceRight((e,a,o)=>{let i,l=!1,m=null,g=null;var p;n&&(i=c&&a.route.id?c[a.route.id]:void 0,m=a.route.errorElement||ie,d&&(u<0&&0===o?(p="route-fallback",!1||fe[p]||(fe[p]=!0),l=!0,g=null):u===o&&(l=!0,g=a.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,o+1)),h=()=>{let t;return t=i?m:l?g:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(le,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===o)?r.createElement(se,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var de=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(de||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function me(e){let t=r.useContext(G);return t||l(!1),t}function ge(e){let t=r.useContext(X);return t||l(!1),t}function pe(e){let t=function(){let e=r.useContext(J);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const fe={};function he(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function ve(e){let{to:t,replace:n,state:a,relative:o}=e;Q()||l(!1);let{future:i,static:s}=r.useContext(Y),{matches:c}=r.useContext(J),{pathname:d}=ee(),u=ne(),m=L(t,D(c,i.v7_relativeSplatPath),d,"path"===o),g=JSON.stringify(m);return r.useEffect(()=>u(JSON.parse(g),{replace:n,state:a,relative:o}),[u,g,o,n,a]),null}function xe(e){l(!1)}function ye(e){let{basename:n="/",children:a=null,location:o,navigationType:i=t.Pop,navigator:s,static:c=!1,future:d}=e;Q()&&l(!1);let u=n.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:u,navigator:s,static:c,future:K({v7_relativeSplatPath:!1},d)}),[u,d,s,c]);"string"===typeof o&&(o=g(o));let{pathname:p="/",search:f="",hash:h="",state:v=null,key:x="default"}=o,y=r.useMemo(()=>{let e=M(p,u);return null==e?null:{location:{pathname:e,search:f,hash:h,state:v,key:x},navigationType:i}},[u,p,f,h,v,x,i]);return null==y?null:r.createElement(Y.Provider,{value:m},r.createElement($.Provider,{children:a,value:y}))}function be(e){let{children:t,location:n}=e;return ae(ke(t),n)}new Promise(()=>{});r.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let o=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,ke(e.props.children,o));e.type!==xe&&l(!1),e.props.index&&e.props.children&&l(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ke(e.props.children,o)),n.push(i)}),n}var we=n(950),je=n.t(we,2);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(aO){}new Map;const Ee=a.startTransition;je.flushSync,a.useId;function _e(e){let{basename:t,children:n,future:a,window:o}=e,i=r.useRef();var s;null==i.current&&(i.current=(void 0===(s={window:o,v5Compat:!0})&&(s={}),p(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return u("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,s)));let l=i.current,[c,d]=r.useState({action:l.action,location:l.location}),{v7_startTransition:g}=a||{},f=r.useCallback(e=>{g&&Ee?Ee(()=>d(e)):d(e)},[d,g]);return r.useLayoutEffect(()=>l.listen(f),[l,f]),r.useEffect(()=>he(a),[a]),r.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:a})}const Oe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Me=r.forwardRef(function(e,t){let n,{onClick:a,relative:o,reloadDocument:i,replace:s,state:c,target:d,to:u,preventScrollReset:g,viewTransition:p}=e,f=Ce(e,Se),{basename:h}=r.useContext(Y),v=!1;if("string"===typeof u&&Ie.test(u)&&(n=u,Oe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=M(t.pathname,h);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(aO){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||l(!1);let{basename:a,navigator:o}=r.useContext(Y),{hash:i,pathname:s,search:c}=re(e,{relative:n}),d=s;return"/"!==a&&(d="/"===s?a:B([a,s])),o.createHref({pathname:d,search:c,hash:i})}(u,{relative:o}),y=function(e,t){let{target:n,replace:a,state:o,preventScrollReset:i,relative:s,viewTransition:l}=void 0===t?{}:t,c=ne(),d=ee(),u=re(e,{relative:s});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:m(d)===m(u);c(e,{replace:n,state:o,preventScrollReset:i,relative:s,viewTransition:l})}},[d,c,u,a,o,n,e,i,s,l])}(u,{replace:s,state:c,target:d,preventScrollReset:g,relative:o,viewTransition:p});return r.createElement("a",Ne({},f,{href:n||x,onClick:v||i?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:t,target:d}))});var Pe,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Re(e){var t=function(e,t){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ae(t)?t:t+""}function ze(e,t,n){return(t=Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach(function(t){ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Fe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const He=["color","size","strokeWidth","absoluteStrokeWidth","children"],We=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ve=(e,t)=>{const n=(0,r.forwardRef)((n,a)=>{let{color:o="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:c}=n,d=Be(n,He);return(0,r.createElement)("svg",Le(Le({ref:a},Fe),{},{width:i,height:i,stroke:o,strokeWidth:l?24*Number(s)/Number(i):s,className:"lucide lucide-".concat(We(e))},d),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]])});return n.displayName="".concat(e),n},qe=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var Ue=n(579);const Ke=e=>{let{children:t,variant:n="default",className:r=""}=e;return(0,Ue.jsx)("div",{className:"p-4 rounded-lg flex items-center gap-2 ".concat({default:"bg-gray-100 text-gray-800",destructive:"bg-red-50 text-red-800"}[n]," ").concat(r),children:t})},Ge=e=>{let{children:t}=e;return(0,Ue.jsx)("div",{className:"text-sm",children:t})};function Xe(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ye}=Object.prototype,{getPrototypeOf:$e}=Object,{iterator:Je,toStringTag:Ze}=Symbol,Qe=(et=Object.create(null),e=>{const t=Ye.call(e);return et[t]||(et[t]=t.slice(8,-1).toLowerCase())});var et;const tt=e=>(e=e.toLowerCase(),t=>Qe(t)===e),nt=e=>t=>typeof t===e,{isArray:rt}=Array,at=nt("undefined");function ot(e){return null!==e&&!at(e)&&null!==e.constructor&&!at(e.constructor)&&lt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const it=tt("ArrayBuffer");const st=nt("string"),lt=nt("function"),ct=nt("number"),dt=e=>null!==e&&"object"===typeof e,ut=e=>{if("object"!==Qe(e))return!1;const t=$e(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ze in e)&&!(Je in e)},mt=tt("Date"),gt=tt("File"),pt=tt("Blob"),ft=tt("FileList"),ht=tt("URLSearchParams"),[vt,xt,yt,bt]=["ReadableStream","Request","Response","Headers"].map(tt);function kt(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),rt(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(ot(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(n=0;n<o;n++)i=r[n],t.call(null,e[i],i,e)}}function wt(e,t){if(ot(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const jt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:n.g,Nt=e=>!at(e)&&e!==jt;const Ct=(St="undefined"!==typeof Uint8Array&&$e(Uint8Array),e=>St&&e instanceof St);var St;const Et=tt("HTMLFormElement"),_t=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Ot=tt("RegExp"),It=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};kt(n,(n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)}),Object.defineProperties(e,r)};const Mt=tt("AsyncFunction"),Pt=(Tt="function"===typeof setImmediate,At=lt(jt.postMessage),Tt?setImmediate:At?((e,t)=>(jt.addEventListener("message",n=>{let{source:r,data:a}=n;r===jt&&a===e&&t.length&&t.shift()()},!1),n=>{t.push(n),jt.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var Tt,At;const Rt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(jt):"undefined"!==typeof process&&process.nextTick||Pt,zt={isArray:rt,isArrayBuffer:it,isBuffer:ot,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||lt(e.append)&&("formdata"===(t=Qe(e))||"object"===t&&lt(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&it(e.buffer),t},isString:st,isNumber:ct,isBoolean:e=>!0===e||!1===e,isObject:dt,isPlainObject:ut,isEmptyObject:e=>{if(!dt(e)||ot(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(aO){return!1}},isReadableStream:vt,isRequest:xt,isResponse:yt,isHeaders:bt,isUndefined:at,isDate:mt,isFile:gt,isBlob:pt,isRegExp:Ot,isFunction:lt,isStream:e=>dt(e)&&lt(e.pipe),isURLSearchParams:ht,isTypedArray:Ct,isFileList:ft,forEach:kt,merge:function e(){const{caseless:t,skipUndefined:n}=Nt(this)&&this||{},r={},a=(a,o)=>{const i=t&&wt(r,o)||o;ut(r[i])&&ut(a)?r[i]=e(r[i],a):ut(a)?r[i]=e({},a):rt(a)?r[i]=a.slice():n&&at(a)||(r[i]=a)};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&kt(arguments[o],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return kt(t,(t,r)=>{n&&lt(t)?e[r]=Xe(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,i;const s={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&$e(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Qe,kindOfTest:tt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(rt(e))return e;let t=e.length;if(!ct(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Je]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Et,hasOwnProperty:_t,hasOwnProp:_t,reduceDescriptors:It,freezeMethods:e=>{It(e,(t,n)=>{if(lt(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];lt(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return rt(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:wt,global:jt,isContextDefined:Nt,isSpecCompliantForm:function(e){return!!(e&&lt(e.append)&&"FormData"===e[Ze]&&e[Je])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(dt(e)){if(t.indexOf(e)>=0)return;if(ot(e))return e;if(!("toJSON"in e)){t[r]=e;const a=rt(e)?[]:{};return kt(e,(e,t)=>{const o=n(e,r+1);!at(o)&&(a[t]=o)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:Mt,isThenable:e=>e&&(dt(e)||lt(e))&&lt(e.then)&&lt(e.catch),setImmediate:Pt,asap:Rt,isIterable:e=>null!=e&&lt(e[Je])};function Dt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}zt.inherits(Dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:zt.toJSONObject(this.config),code:this.code,status:this.status}}});const Lt=Dt.prototype,Bt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Bt[e]={value:e}}),Object.defineProperties(Dt,Bt),Object.defineProperty(Lt,"isAxiosError",{value:!0}),Dt.from=(e,t,n,r,a,o)=>{const i=Object.create(Lt);zt.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const s=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Dt.call(i,s,l,n,r,a),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Ft=Dt;function Ht(e){return zt.isPlainObject(e)||zt.isArray(e)}function Wt(e){return zt.endsWith(e,"[]")?e.slice(0,-2):e}function Vt(e,t,n){return e?e.concat(t).map(function(e,t){return e=Wt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const qt=zt.toFlatObject(zt,{},null,function(e){return/^is[A-Z]/.test(e)});const Ut=function(e,t,n){if(!zt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=zt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!zt.isUndefined(t[e])})).metaTokens,a=n.visitor||c,o=n.dots,i=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&zt.isSpecCompliantForm(t);if(!zt.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(zt.isDate(e))return e.toISOString();if(zt.isBoolean(e))return e.toString();if(!s&&zt.isBlob(e))throw new Ft("Blob is not supported. Use a Buffer instead.");return zt.isArrayBuffer(e)||zt.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let s=e;if(e&&!a&&"object"===typeof e)if(zt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(zt.isArray(e)&&function(e){return zt.isArray(e)&&!e.some(Ht)}(e)||(zt.isFileList(e)||zt.endsWith(n,"[]"))&&(s=zt.toArray(e)))return n=Wt(n),s.forEach(function(e,r){!zt.isUndefined(e)&&null!==e&&t.append(!0===i?Vt([n],r,o):null===i?n:n+"[]",l(e))}),!1;return!!Ht(e)||(t.append(Vt(a,n,o),l(e)),!1)}const d=[],u=Object.assign(qt,{defaultVisitor:c,convertValue:l,isVisitable:Ht});if(!zt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!zt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),zt.forEach(n,function(n,o){!0===(!(zt.isUndefined(n)||null===n)&&a.call(t,n,zt.isString(o)?o.trim():o,r,u))&&e(n,r?r.concat(o):[o])}),d.pop()}}(e),t};function Kt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Gt(e,t){this._pairs=[],e&&Ut(e,this,t)}const Xt=Gt.prototype;Xt.append=function(e,t){this._pairs.push([e,t])},Xt.toString=function(e){const t=e?function(t){return e.call(this,t,Kt)}:Kt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Yt=Gt;function $t(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Jt(e,t,n){if(!t)return e;const r=n&&n.encode||$t;zt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):zt.isURLSearchParams(t)?t.toString():new Yt(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Zt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){zt.forEach(this.handlers,function(t){null!==t&&e(t)})}},Qt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},en={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Yt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},tn="undefined"!==typeof window&&"undefined"!==typeof document,nn="object"===typeof navigator&&navigator||void 0,rn=tn&&(!nn||["ReactNative","NativeScript","NS"].indexOf(nn.product)<0),an="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,on=tn&&window.location.href||"http://localhost",sn=Le(Le({},e),en);const ln=function(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),s=a>=e.length;if(o=!o&&zt.isArray(r)?r.length:o,s)return zt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&zt.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],a)&&zt.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i}if(zt.isFormData(e)&&zt.isFunction(e.entries)){const n={};return zt.forEachEntry(e,(e,r)=>{t(function(e){return zt.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const cn={transitional:Qt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=zt.isObject(e);a&&zt.isHTMLForm(e)&&(e=new FormData(e));if(zt.isFormData(e))return r?JSON.stringify(ln(e)):e;if(zt.isArrayBuffer(e)||zt.isBuffer(e)||zt.isStream(e)||zt.isFile(e)||zt.isBlob(e)||zt.isReadableStream(e))return e;if(zt.isArrayBufferView(e))return e.buffer;if(zt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ut(e,new sn.classes.URLSearchParams,Le({visitor:function(e,t,n,r){return sn.isNode&&zt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=zt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ut(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(zt.isString(e))try{return(t||JSON.parse)(e),zt.trim(e)}catch(aO){if("SyntaxError"!==aO.name)throw aO}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||cn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(zt.isResponse(e)||zt.isReadableStream(e))return e;if(e&&zt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(aO){if(n){if("SyntaxError"===aO.name)throw Ft.from(aO,Ft.ERR_BAD_RESPONSE,this,null,this.response);throw aO}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sn.classes.FormData,Blob:sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};zt.forEach(["delete","get","head","post","put","patch"],e=>{cn.headers[e]={}});const dn=cn,un=zt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mn=Symbol("internals");function gn(e){return e&&String(e).trim().toLowerCase()}function pn(e){return!1===e||null==e?e:zt.isArray(e)?e.map(pn):String(e)}function fn(e,t,n,r,a){return zt.isFunction(r)?r.call(this,t,n):(a&&(t=n),zt.isString(t)?zt.isString(r)?-1!==t.indexOf(r):zt.isRegExp(r)?r.test(t):void 0:void 0)}class hn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=gn(t);if(!a)throw new Error("header name must be a non-empty string");const o=zt.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=pn(e))}const o=(e,t)=>zt.forEach(e,(e,n)=>a(e,n,t));if(zt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(zt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&un[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(zt.isObject(e)&&zt.isIterable(e)){let n,r,a={};for(const t of e){if(!zt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?zt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=gn(e)){const n=zt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(zt.isFunction(t))return t.call(this,e,n);if(zt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=gn(e)){const n=zt.findKey(this,e);return!(!n||void 0===this[n]||t&&!fn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=gn(e)){const a=zt.findKey(n,e);!a||t&&!fn(0,n[a],a,t)||(delete n[a],r=!0)}}return zt.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!fn(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return zt.forEach(this,(r,a)=>{const o=zt.findKey(n,a);if(o)return t[o]=pn(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=pn(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return zt.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&zt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[mn]=this[mn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=gn(e);t[r]||(!function(e,t){const n=zt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return zt.isArray(e)?e.forEach(r):r(e),this}}hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),zt.reduceDescriptors(hn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),zt.freezeMethods(hn);const vn=hn;function xn(e,t){const n=this||dn,r=t||n,a=vn.from(r.headers);let o=r.data;return zt.forEach(e,function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function yn(e){return!(!e||!e.__CANCEL__)}function bn(e,t,n){Ft.call(this,null==e?"canceled":e,Ft.ERR_CANCELED,t,n),this.name="CanceledError"}zt.inherits(bn,Ft,{__CANCEL__:!0});const kn=bn;function wn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ft("Request failed with status code "+n.status,[Ft.ERR_BAD_REQUEST,Ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const jn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[i];a||(a=l),n[o]=s,r[o]=l;let d=i,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-a<t)return;const m=c&&l-c;return m?Math.round(1e3*u/m):void 0}};const Nn=function(e,t){let n,r,a=0,o=1e3/t;const i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];t>=o?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},o-t)))},()=>n&&i(n)]},Cn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=jn(50,250);return Nn(n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,s=o-r,l=a(s);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Sn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},En=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zt.asap(()=>e(...n))},_n=sn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,sn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(sn.origin),sn.navigator&&/(msie|trident)/i.test(sn.navigator.userAgent)):()=>!0,On=sn.hasStandardBrowserEnv?{write(e,t,n,r,a,o,i){if("undefined"===typeof document)return;const s=["".concat(e,"=").concat(encodeURIComponent(t))];zt.isNumber(n)&&s.push("expires=".concat(new Date(n).toUTCString())),zt.isString(r)&&s.push("path=".concat(r)),zt.isString(a)&&s.push("domain=".concat(a)),!0===o&&s.push("secure"),zt.isString(i)&&s.push("SameSite=".concat(i)),document.cookie=s.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function In(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Mn=e=>e instanceof vn?Le({},e):e;function Pn(e,t){t=t||{};const n={};function r(e,t,n,r){return zt.isPlainObject(e)&&zt.isPlainObject(t)?zt.merge.call({caseless:r},e,t):zt.isPlainObject(t)?zt.merge({},t):zt.isArray(t)?t.slice():t}function a(e,t,n,a){return zt.isUndefined(t)?zt.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function o(e,t){if(!zt.isUndefined(t))return r(void 0,t)}function i(e,t){return zt.isUndefined(t)?zt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>a(Mn(e),Mn(t),0,!0)};return zt.forEach(Object.keys(Le(Le({},e),t)),function(r){const o=l[r]||a,i=o(e[r],t[r],r);zt.isUndefined(i)&&o!==s||(n[r]=i)}),n}const Tn=e=>{const t=Pn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:o,headers:i,auth:s}=t;if(t.headers=i=vn.from(i),t.url=Jt(In(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),zt.isFormData(n))if(sn.hasStandardBrowserEnv||sn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(zt.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(sn.hasStandardBrowserEnv&&(r&&zt.isFunction(r)&&(r=r(t)),r||!1!==r&&_n(t.url))){const e=a&&o&&On.read(o);e&&i.set(a,e)}return t},An="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Tn(e);let a=r.data;const o=vn.from(r.headers).normalize();let i,s,l,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:g}=r;function p(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let f=new XMLHttpRequest;function h(){if(!f)return;const r=vn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());wn(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f}),f=null}f.open(r.method.toUpperCase(),r.url,!0),f.timeout=r.timeout,"onloadend"in f?f.onloadend=h:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(h)},f.onabort=function(){f&&(n(new Ft("Request aborted",Ft.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Ft(r,Ft.ERR_NETWORK,e,f);a.event=t||null,n(a),f=null},f.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Qt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ft(t,a.clarifyTimeoutError?Ft.ETIMEDOUT:Ft.ECONNABORTED,e,f)),f=null},void 0===a&&o.setContentType(null),"setRequestHeader"in f&&zt.forEach(o.toJSON(),function(e,t){f.setRequestHeader(t,e)}),zt.isUndefined(r.withCredentials)||(f.withCredentials=!!r.withCredentials),u&&"json"!==u&&(f.responseType=r.responseType),g&&([l,d]=Cn(g,!0),f.addEventListener("progress",l)),m&&f.upload&&([s,c]=Cn(m),f.upload.addEventListener("progress",s),f.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{f&&(n(!t||t.type?new kn(null,e,f):t),f.abort(),f=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);v&&-1===sn.protocols.indexOf(v)?n(new Ft("Unsupported protocol "+v+":",Ft.ERR_BAD_REQUEST,e)):f.send(a||null)})},Rn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ft?t:new kn(t instanceof Error?t.message:t))}};let o=t&&setTimeout(()=>{o=null,a(new Ft("timeout ".concat(t," of ms exceeded"),Ft.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:s}=r;return s.unsubscribe=()=>zt.asap(i),s}};function zn(e,t){this.v=e,this.k=t}function Dn(e){return function(){return new Ln(e.apply(this,arguments))}}function Ln(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,s=i instanceof zn;Promise.resolve(s?i.v:i).then(function(n){if(s){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}a(o.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(o,i){var s={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=s:(t=n=s,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Bn(e){return new zn(e,0)}function Fn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new zn(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Hn(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Wn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Wn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Wn=function(e){this.s=e,this.n=e.next},Wn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Wn(e)}Ln.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ln.prototype.next=function(e){return this._invoke("next",e)},Ln.prototype.throw=function(e){return this._invoke("throw",e)},Ln.prototype.return=function(e){return this._invoke("return",e)};const Vn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},qn=function(){var e=Dn(function*(e,t){var n,r=!1,a=!1;try{for(var o,i=Hn(Un(e));r=!(o=yield Bn(i.next())).done;r=!1){const e=o.value;yield*Fn(Hn(Vn(e,t)))}}catch(s){a=!0,n=s}finally{try{r&&null!=i.return&&(yield Bn(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Un=function(){var e=Dn(function*(e){if(e[Symbol.asyncIterator])return void(yield*Fn(Hn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Bn(t.read());if(e)break;yield n}}finally{yield Bn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Kn=(e,t,n,r)=>{const a=qn(e,t);let o,i=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return s(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),a.return())},{highWaterMark:2})},{isFunction:Gn}=zt,Xn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(zt.global),{ReadableStream:Yn,TextEncoder:$n}=zt.global,Jn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(aO){return!1}},Zn=e=>{e=zt.merge.call({skipUndefined:!0},Xn,e);const{fetch:t,Request:n,Response:r}=e,a=t?Gn(t):"function"===typeof fetch,o=Gn(n),i=Gn(r);if(!a)return!1;const s=a&&Gn(Yn),l=a&&("function"===typeof $n?(c=new $n,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=o&&s&&Jn(()=>{let e=!1;const t=new n(sn.origin,{body:new Yn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&s&&Jn(()=>zt.isReadableStream(new r("").body)),m={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Ft("Response type '".concat(e,"' is not supported"),Ft.ERR_NOT_SUPPORT,n)})});const g=async(e,t)=>{const r=zt.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(zt.isBlob(e))return e.size;if(zt.isSpecCompliantForm(e)){const t=new n(sn.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return zt.isArrayBufferView(e)||zt.isArrayBuffer(e)?e.byteLength:(zt.isURLSearchParams(e)&&(e+=""),zt.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:i,data:s,signal:l,cancelToken:c,timeout:p,onDownloadProgress:f,onUploadProgress:h,responseType:v,headers:x,withCredentials:y="same-origin",fetchOptions:b}=Tn(e),k=t||fetch;v=v?(v+"").toLowerCase():"text";let w=Rn([l,c&&c.toAbortSignal()],p),j=null;const N=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(h&&d&&"get"!==i&&"head"!==i&&0!==(C=await g(x,s))){let e,t=new n(a,{method:"POST",body:s,duplex:"half"});if(zt.isFormData(s)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=Sn(C,Cn(En(h)));s=Kn(t.body,65536,e,n)}}zt.isString(y)||(y=y?"include":"omit");const t=o&&"credentials"in n.prototype,l=Le(Le({},b),{},{signal:w,method:i.toUpperCase(),headers:x.normalize().toJSON(),body:s,duplex:"half",credentials:t?y:void 0});j=o&&new n(a,l);let c=await(o?k(j,b):k(a,l));const p=u&&("stream"===v||"response"===v);if(u&&(f||p&&N)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=zt.toFiniteNumber(c.headers.get("content-length")),[n,a]=f&&Sn(t,Cn(En(f),!0))||[];c=new r(Kn(c.body,65536,n,()=>{a&&a(),N&&N()}),e)}v=v||"text";let S=await m[zt.findKey(m,v)||"text"](c,e);return!p&&N&&N(),await new Promise((t,n)=>{wn(t,n,{data:S,headers:vn.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:j})})}catch(S){if(N&&N(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new Ft("Network Error",Ft.ERR_NETWORK,e,j),{cause:S.cause||S});throw Ft.from(S,S&&S.code,e,j)}}},Qn=new Map,er=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,o=[r,a,n];let i,s,l=o.length,c=Qn;for(;l--;)i=o[l],s=c.get(i),void 0===s&&c.set(i,s=l?new Map:Zn(t)),c=s;return s},tr=(er(),{http:null,xhr:An,fetch:{get:er}});zt.forEach(tr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(aO){}Object.defineProperty(e,"adapterName",{value:t})}});const nr=e=>"- ".concat(e),rr=e=>zt.isFunction(e)||null===e||!1===e;const ar={getAdapter:function(e,t){e=zt.isArray(e)?e:[e];const{length:n}=e;let r,a;const o={};for(let i=0;i<n;i++){let n;if(r=e[i],a=r,!rr(r)&&(a=tr[(n=String(r)).toLowerCase()],void 0===a))throw new Ft("Unknown adapter '".concat(n,"'"));if(a&&(zt.isFunction(a)||(a=a.get(t))))break;o[n||"#"+i]=a}if(!a){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(nr).join("\n"):" "+nr(e[0]):"as no adapter specified";throw new Ft("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:tr};function or(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kn(null,e)}function ir(e){or(e),e.headers=vn.from(e.headers),e.data=xn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ar.getAdapter(e.adapter||dn.adapter,e)(e).then(function(t){return or(e),t.data=xn.call(e,e.transformResponse,t),t.headers=vn.from(t.headers),t},function(t){return yn(t)||(or(e),t&&t.response&&(t.response.data=xn.call(e,e.transformResponse,t.response),t.response.headers=vn.from(t.response.headers))),Promise.reject(t)})}const sr="1.13.2",lr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const cr={};lr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+sr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new Ft(r(a," has been removed"+(t?" in "+t:"")),Ft.ERR_DEPRECATED);return t&&!cr[a]&&(cr[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},lr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const dr={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ft("options must be an object",Ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new Ft("option "+o+" must be "+n,Ft.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ft("Unknown option "+o,Ft.ERR_BAD_OPTION)}},validators:lr},ur=dr.validators;class mr{constructor(e){this.defaults=e||{},this.interceptors={request:new Zt,response:new Zt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(aO){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Pn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&dr.assertOptions(n,{silentJSONParsing:ur.transitional(ur.boolean),forcedJSONParsing:ur.transitional(ur.boolean),clarifyTimeoutError:ur.transitional(ur.boolean)},!1),null!=r&&(zt.isFunction(r)?t.paramsSerializer={serialize:r}:dr.assertOptions(r,{encode:ur.function,serialize:ur.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),dr.assertOptions(t,{baseUrl:ur.spelling("baseURL"),withXsrfToken:ur.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&zt.merge(a.common,a[t.method]);a&&zt.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=vn.concat(o,a);const i=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!s){const e=[ir.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let m=t;for(;u<d;){const e=i[u++],t=i[u++];try{m=e(m)}catch(g){t.call(this,g);break}}try{c=ir.call(this,m)}catch(g){return Promise.reject(g)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Jt(In((e=Pn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}zt.forEach(["delete","get","head","options"],function(e){mr.prototype[e]=function(t,n){return this.request(Pn(n||{},{method:e,url:t,data:(n||{}).data}))}}),zt.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Pn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}mr.prototype[e]=t(),mr.prototype[e+"Form"]=t(!0)});const gr=mr;class pr{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new kn(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pr(function(t){e=t}),cancel:e}}}const fr=pr;const hr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(hr).forEach(e=>{let[t,n]=e;hr[n]=t});const vr=hr;const xr=function e(t){const n=new gr(t),r=Xe(gr.prototype.request,n);return zt.extend(r,gr.prototype,n,{allOwnKeys:!0}),zt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Pn(t,n))},r}(dn);xr.Axios=gr,xr.CanceledError=kn,xr.CancelToken=fr,xr.isCancel=yn,xr.VERSION=sr,xr.toFormData=Ut,xr.AxiosError=Ft,xr.Cancel=xr.CanceledError,xr.all=function(e){return Promise.all(e)},xr.spread=function(e){return function(t){return e.apply(null,t)}},xr.isAxiosError=function(e){return zt.isObject(e)&&!0===e.isAxiosError},xr.mergeConfig=Pn,xr.AxiosHeaders=vn,xr.formToJSON=e=>ln(zt.isHTMLForm(e)?new FormData(e):e),xr.getAdapter=ar.getAdapter,xr.HttpStatusCode=vr,xr.default=xr;const yr=xr,br=Ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),kr=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),wr=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),jr=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Nr=Ve("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),Cr=Ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sr=(0,r.createContext)(null),Er=e=>{let{onClose:t}=e;const n=(0,r.useContext)(Sr),[a,o]=(0,r.useState)("details"),[i,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),h=(0,r.useCallback)(e=>{e.target.classList.contains("modal-overlay")&&t()},[t]);(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t]),(0,r.useEffect)(()=>{(async()=>{try{var e,t;const r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/profile"),{credentials:"include"}),a=await r.json();s("".concat(a.first_name," ").concat(a.last_name)),c(a.email),u(a.first_name),g(a.last_name),null!==n&&void 0!==n&&null!==(e=n.user)&&void 0!==e&&null!==(t=e.roles)&&void 0!==t&&t[0]&&f(n.user.roles[0].split(/[_ ]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "))}catch(r){console.error("Error fetching user details:",r)}})()},[n]);return(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 z-50 flex items-center justify-center modal-overlay",onClick:h,children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[(0,Ue.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Settings"}),(0,Ue.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Ue.jsx)(Cr,{size:24})})]}),(0,Ue.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("div",{className:"flex",children:[{id:"details",label:"Personal Details"},{id:"preferences",label:"Preferences"}].map(e=>(0,Ue.jsx)("button",{onClick:()=>o(e.id),className:"px-6 py-3 text-sm font-medium transition-colors ".concat(a===e.id?"border-b-2 border-gray-900 dark:border-white text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"),children:e.label},e.id))})}),(0,Ue.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:["details"===a&&(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0",children:(0,Ue.jsx)("div",{className:"h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center",children:(0,Ue.jsx)("span",{className:"text-gray-500",children:"Photo"})})}),(0,Ue.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Ue.jsx)("button",{type:"button",className:"text-indigo-600 font-medium",children:"Change photo"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500",children:"JPG, GIF or PNG. Max size of 800K"})]})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),(0,Ue.jsx)("input",{type:"text",value:i,readOnly:!0,className:"mt-1 block w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),(0,Ue.jsx)("input",{type:"email",value:l,readOnly:!0,className:"mt-1 block w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})]}),(0,Ue.jsx)("div",{className:"grid grid-cols-2 gap-6",children:(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),(0,Ue.jsx)("input",{type:"text",value:p,readOnly:!0,className:"mt-1 block w-full h-10 px-3 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-200  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400 disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"})]})}),(0,Ue.jsx)("div",{className:"flex justify-end",children:(0,Ue.jsx)("button",{type:"submit",className:"bg-indigo-600 dark:bg-indigo-500 text-white px-4 py-2 rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:ring-offset-gray-800 transition-colors",children:"Save Changes"})})]}),"preferences"===a&&(0,Ue.jsx)("div",{className:"space-y-6",children:(0,Ue.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:"Preference settings will be available soon."})})]})]})})},_r=(0,r.createContext)(),Or=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(()=>{const e=localStorage.getItem("darkMode");return!!e&&JSON.parse(e)});(0,r.useEffect)(()=>{localStorage.setItem("darkMode",JSON.stringify(n)),n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]);return(0,Ue.jsx)(_r.Provider,{value:{isDarkMode:n,toggleTheme:()=>{a(e=>!e)}},children:t})},Ir=e=>{let{isProfileModalOpen:t,setIsProfileModalOpen:n,toggleSidebar:a,isSidebarCollapsed:o}=e;ne();const i=(0,r.useContext)(Sr),{isDarkMode:s,toggleTheme:l}=(()=>{const e=(0,r.useContext)(_r);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e})();return(0,Ue.jsxs)("nav",{className:"bg-secondary-light dark:bg-secondary-dark border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:[(0,Ue.jsxs)("div",{className:"w-full flex items-center h-16",children:[(0,Ue.jsxs)("div",{className:"flex items-center flex-shrink-0 px-6",children:[(0,Ue.jsx)("button",{onClick:a,className:"text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 flex-shrink-0 w-5 h-5 flex items-center justify-center","aria-label":"Toggle sidebar",children:(0,Ue.jsx)(br,{size:22})}),(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-white font-bold text-xl whitespace-nowrap ml-3",children:"Produktiv.ai"})]}),(0,Ue.jsx)("div",{className:"flex-1 flex items-center justify-end px-4 sm:px-6 lg:px-8",children:(0,Ue.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ue.jsx)("button",{onClick:l,className:"text-amber-600 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-300 transition-colors duration-200","aria-label":"Toggle theme",children:s?(0,Ue.jsx)(kr,{size:20}):(0,Ue.jsx)(wr,{size:20})}),(0,Ue.jsx)("button",{onClick:()=>n(!0),className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors duration-200",title:"Profile",children:(0,Ue.jsx)(jr,{size:20})}),(0,Ue.jsx)("button",{onClick:async()=>{try{const e=await fetch("https://dev-services.produktiv.ai/api/v1/auth/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});i&&i.setUser&&i.setUser(null),localStorage.clear();const t=(await e.json()).keycloakLogoutUrl;t&&t.startsWith("http")?window.location.href="".concat(t,"&post_logout_redirect_uri=").concat("https://dev.produktiv.ai/login"):window.location.href="https://dev.produktiv.ai/login"}catch(e){console.error("Logout error:",e),window.location.href="https://dev.produktiv.ai/login"}},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors duration-200",title:"Logout",children:(0,Ue.jsx)(Nr,{size:20})})]})})]}),t&&(0,Ue.jsx)(Er,{onClose:()=>n(!1)})]})},Mr=Ve("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Pr=Ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Tr=Ve("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]),Ar=Ve("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Rr=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),zr=Ve("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Dr=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Lr=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Br=Ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Fr=Ve("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Hr=e=>{let{isCollapsed:t,closeProfile:n}=e;const r=ee(),a=(ne(),r.pathname.startsWith("/policies")),o=[{path:"/dashboard",label:"Dashboard",icon:(0,Ue.jsx)(Mr,{size:20}),color:"text-purple-600 dark:text-purple-400"},{path:"/connect",label:"Connect",icon:(0,Ue.jsx)(Pr,{size:20}),color:"text-green-600 dark:text-green-400"},{path:"/classification",label:"Taxonomy",icon:(0,Ue.jsx)(Tr,{size:20}),color:"text-orange-600 dark:text-orange-400"},{path:"/metadata",label:"Metadata",icon:(0,Ue.jsx)(Ar,{size:20}),color:"text-indigo-600 dark:text-indigo-400"},{path:"/discover",label:"Discover",icon:(0,Ue.jsx)(Rr,{size:20}),color:"text-cyan-600 dark:text-cyan-400"},{path:"/policies",label:"Policies",icon:(0,Ue.jsx)(zr,{size:20}),color:"text-red-600 dark:text-red-400"},{path:"/users",label:"Users",icon:(0,Ue.jsx)(Dr,{size:20}),color:"text-pink-600 dark:text-pink-400"},{path:"/monitor",label:"Monitor",icon:(0,Ue.jsx)(Lr,{size:20}),color:"text-emerald-600 dark:text-emerald-400"},{path:"/settings",label:"Settings",icon:(0,Ue.jsx)(Br,{size:20}),color:"text-slate-600 dark:text-slate-400"},{path:"/rag",label:"RAG",icon:(0,Ue.jsx)(Fr,{size:20}),color:"text-violet-600 dark:text-violet-400"}];return(0,Ue.jsx)("div",{className:"".concat(t?"w-17":"w-52"," bg-primary-light dark:bg-primary-dark p-4 min-h-screen border-r border-gray-200 dark:border-gray-700 \n      transition-[width] duration-300 ease-linear relative"),children:(0,Ue.jsx)("nav",{className:"space-y-2 mt-4",children:o.map(e=>{const o="/policies"===e.path?a:r.pathname===e.path;return(0,Ue.jsxs)(Me,{to:e.path,onClick:()=>n(),className:"flex items-center px-2 py-2 rounded-lg transition-all duration-300 ease-in-out relative\n                ".concat(o?"bg-accent-light dark:bg-accent-dark text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-300 hover:bg-accent-light dark:hover:bg-accent-dark hover:text-gray-900 dark:hover:text-white"),title:t?e.label:"",children:[(0,Ue.jsx)("span",{className:"flex-shrink-0 w-5 h-5 flex items-center justify-center ".concat(o?"text-blue-600 dark:text-blue-400":"".concat(e.color," hover:text-blue-600 dark:hover:text-blue-400")," transition-colors duration-200"),children:e.icon}),(0,Ue.jsx)("span",{className:"absolute left-10 transition-all duration-300 ease-in-out whitespace-nowrap ".concat(t?"opacity-0 translate-x-2":"opacity-100 translate-x-0"),children:e.label})]},e.path)})})})},Wr=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(()=>{const e=localStorage.getItem("sidebarCollapsed");return!e||JSON.parse(e)}),[o,i]=(0,r.useState)(!1);(0,r.useEffect)(()=>{localStorage.setItem("sidebarCollapsed",JSON.stringify(n))},[n]);return(0,Ue.jsxs)("div",{className:"h-screen flex flex-col dark:bg-gray-900 overflow-hidden",children:[(0,Ue.jsx)(Ir,{isProfileModalOpen:o,setIsProfileModalOpen:i,toggleSidebar:()=>{a(e=>!e)},isSidebarCollapsed:n}),(0,Ue.jsxs)("div",{className:"flex flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900",children:[(0,Ue.jsx)(Hr,{isCollapsed:n,closeProfile:()=>{i(!1)}}),(0,Ue.jsx)("main",{className:"flex-1 transition-all duration-300 ease-linear overflow-y-auto\n            ".concat("pl-4"),children:(0,Ue.jsx)("div",{className:"min-h-full p-4",children:(0,Ue.jsx)("div",{className:"min-h-full bg-white dark:bg-gray-800 rounded-lg shadow-lg dark:shadow-gray-900/50",children:(0,Ue.jsx)("div",{className:"p-4 dark:text-gray-100",children:t})})})})]})]})},Vr=e=>{var t,n,r,a,o;let{metrics:i}=e;const s=e=>{switch(e){case"Completed":return"text-green-500";case"Processing":case"Pending":return"text-gray-500";case"Failed":return"text-red-500";default:return"text-gray-600"}},l=e=>{switch(e){case"Completed":return"bg-green-500";case"Processing":case"Pending":return"bg-gray-500";case"Failed":return"bg-red-500";default:return"bg-gray-400"}},c=(null===(t=i.workflow)||void 0===t?void 0:t.reduce((e,t)=>e+t.count,0))||1;return(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ue.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Processing Pipeline"}),null===(n=i.workflow)||void 0===n?void 0:n.filter(e=>"Document Ingestion"===e.stage||"Metadata Generation"===e.stage).map((e,t)=>{const n=e.count/c*100;return(0,Ue.jsxs)("div",{className:"space-y-1",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.stage}),(0,Ue.jsx)("span",{className:"".concat(s(e.status)," font-medium text-xs"),children:e.count})]}),(0,Ue.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:(0,Ue.jsx)("div",{className:"h-1.5 ".concat(l(e.status)," rounded-full transition-all duration-300"),style:{width:"".concat(Math.min(n,100),"%")}})})]},t)})]}),(0,Ue.jsxs)("div",{className:"flex-shrink-0",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Metadata Completion"}),(0,Ue.jsx)("div",{className:"flex items-center justify-center",children:(0,Ue.jsxs)("div",{className:"relative w-20 h-20",children:[(0,Ue.jsxs)("svg",{className:"w-20 h-20 transform -rotate-90",viewBox:"0 0 36 36",children:[(0,Ue.jsx)("path",{className:"text-gray-300 dark:text-gray-600",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,Ue.jsx)("path",{className:"".concat((d=null===(r=i.metadata)||void 0===r?void 0:r.completionRate,d>=80?"bg-green-500":d>=60?"bg-yellow-500":"bg-red-500").replace("bg-","text-")),stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:"".concat((null===(a=i.metadata)||void 0===a?void 0:a.completionRate)||0,", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,Ue.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Ue.jsxs)("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[null===(o=i.metadata)||void 0===o?void 0:o.completionRate,"%"]})})]})})]})]})});var d},qr=e=>{var t,n;let{metrics:r}=e;null===(t=r.queryTypes)||void 0===t||t.reduce((e,t)=>e+t.count,0);return(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,Ue.jsxs)("div",{className:"flex justify-between items-center p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)(Dr,{className:"w-4 h-4 text-green-600"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Users"})]}),(0,Ue.jsx)("span",{className:"font-bold text-green-600",children:null===(n=r.users)||void 0===n?void 0:n.active})]})})})},Ur=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Kr=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Gr=Ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Xr=Ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),Yr=e=>{var t,n,r;let{metrics:a}=e;const o=e=>{switch(e.toLowerCase()){case"connected":return(0,Ue.jsx)(Ur,{className:"w-4 h-4 text-gray-500"});case"error":return(0,Ue.jsx)(Kr,{className:"w-4 h-4 text-gray-500"});case"warning":return(0,Ue.jsx)(qe,{className:"w-4 h-4 text-gray-500"});default:return(0,Ue.jsx)(Gr,{className:"w-4 h-4 text-gray-500"})}};return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)(Xr,{className:"w-4 h-4 text-blue-600"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Sources"})]}),(0,Ue.jsx)("span",{className:"font-medium text-blue-900 dark:text-blue-600",children:null===(t=a.sources)||void 0===t?void 0:t.total})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)(Ur,{className:"w-4 h-4 text-green-600"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active"})]}),(0,Ue.jsx)("span",{className:"font-medium text-green-600",children:null===(n=a.sources)||void 0===n?void 0:n.active})]})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Connector Status"}),(0,Ue.jsx)("div",{className:"space-y-2",children:null===(r=a.connectors)||void 0===r?void 0:r.map((e,t)=>{return(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[o(e.status),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-red-400",children:e.name})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("span",{className:"text-xs font-medium ".concat((n=e.status,n.toLowerCase(),"text-gray-600")),children:e.status}),(0,Ue.jsx)("span",{className:"text-xs text-red-500",children:e.count})]})]},t);var n})})]})]})},$r=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),Jr=Ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Zr=e=>{var t,n,r,a;let{metrics:o}=e;const i=e=>{switch(e.toLowerCase()){case"admin":return"text-purple-500";case"data steward":return"text-blue-500";case"data engineer":return"text-green-500";case"gen user":return"text-red-500";case"guest":return"text-yellow-500";default:return"text-gray-500"}};return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)(Dr,{className:"w-4 h-4 text-blue-600"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Users"})]}),(0,Ue.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:null===(t=o.users)||void 0===t?void 0:t.total})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)($r,{className:"w-4 h-4 text-green-600"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Today"})]}),(0,Ue.jsx)("span",{className:"font-medium text-green-600",children:null===(n=o.users)||void 0===n?void 0:n.activeToday})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)(Jr,{className:"w-4 h-4 text-blue-600"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"New This Week"})]}),(0,Ue.jsx)("span",{className:"font-medium text-blue-600",children:null===(r=o.users)||void 0===r?void 0:r.newThisWeek})]})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"User Types"}),(0,Ue.jsx)("div",{className:"space-y-2",children:null===(a=o.userTypes)||void 0===a?void 0:a.map((e,t)=>(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-sm font-medium ".concat(i(e.type)),children:e.type}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("div",{className:"w-16 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,Ue.jsx)("div",{className:"h-full ".concat(i(e.type).replace("text-","bg-")," rounded-full"),style:{width:"".concat(e.percentage,"%")}})}),(0,Ue.jsx)("span",{className:"text-xs text-white-500 w-8",children:e.count})]})]},t))})]})]})},Qr=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ea=Ve("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ta=Ve("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),na=e=>{var t,n;let{metrics:r}=e;const a=e=>{switch(e.toLowerCase()){case"critical":return(0,Ue.jsx)(Qr,{className:"w-4 h-4 text-gray-500"});case"warning":return(0,Ue.jsx)(qe,{className:"w-4 h-4 text-gray-500"});case"info":return(0,Ue.jsx)(ea,{className:"w-4 h-4 text-gray-500"});case"security":return(0,Ue.jsx)(ta,{className:"w-4 h-4 text-gray-500"});default:return(0,Ue.jsx)(Ur,{className:"w-4 h-4 text-gray-500"})}};return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsxs)("div",{className:"relative w-16 h-16 mx-auto mb-2",children:[(0,Ue.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90",viewBox:"0 0 36 36",children:[(0,Ue.jsx)("path",{className:"text-gray-300 dark:text-gray-600",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,Ue.jsx)("path",{className:"text-gray-500",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:"".concat(100*(r.critical||0)/(r.total||1),", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,Ue.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Ue.jsx)("span",{className:"text-lg font-bold text-gray-600",children:r.critical||0})})]}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500",children:"Critical"})]}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsxs)("div",{className:"relative w-16 h-16 mx-auto mb-2",children:[(0,Ue.jsxs)("svg",{className:"w-16 h-16 transform -rotate-90",viewBox:"0 0 36 36",children:[(0,Ue.jsx)("path",{className:"text-gray-300 dark:text-gray-600",stroke:"currentColor",strokeWidth:"3",fill:"transparent",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),(0,Ue.jsx)("path",{className:"text-gray-500",stroke:"currentColor",strokeWidth:"3",fill:"transparent",strokeDasharray:"".concat(100*(r.warning||0)/(r.total||1),", 100"),d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"})]}),(0,Ue.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Ue.jsx)("span",{className:"text-lg font-bold text-gray-600",children:r.warning||0})})]}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500",children:"Warning"})]})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Alert Categories"}),(0,Ue.jsx)("div",{className:"space-y-2",children:null===(t=r.categories)||void 0===t?void 0:t.map((e,t)=>{return(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[a(e.type),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.type})]}),(0,Ue.jsx)("span",{className:"text-sm font-medium ".concat((n=e.type,n.toLowerCase(),"text-gray-600")),children:e.count})]},t);var n})})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Recent Alerts"}),(0,Ue.jsx)("div",{className:"space-y-2",children:null===(n=r.recent)||void 0===n?void 0:n.slice(0,3).map((e,t)=>{return(0,Ue.jsx)("div",{className:"p-2 rounded-lg ".concat((n=e.severity,n.toLowerCase(),"bg-gray-100 dark:bg-gray-900/30")," border border-opacity-30"),children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[a(e.severity),(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-500",children:e.title})]}),(0,Ue.jsx)("span",{className:"text-xs text-gray-500",children:e.time})]})},t);var n})})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Resolution Rate"}),(0,Ue.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Ue.jsx)("div",{className:"h-2 bg-gray-500 rounded-full",style:{width:"".concat(r.resolutionRate||0,"%")}})}),(0,Ue.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ue.jsx)("span",{children:"0%"}),(0,Ue.jsxs)("span",{className:"font-medium",children:[r.resolutionRate||0,"%"]}),(0,Ue.jsx)("span",{children:"100%"})]})]})]})},ra=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),aa=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oa=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ia=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),sa=Ve("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),la=e=>{var t,n,r,a,o,i;let{metrics:s}=e;const l=e=>{switch(e){case"Active":return(0,Ue.jsx)(Ur,{className:"w-4 h-4 text-green-500"});case"Draft":return(0,Ue.jsx)(ra,{className:"w-4 h-4 text-gray-500"});case"Needs Review":return(0,Ue.jsx)(Qr,{className:"w-4 h-4 text-gray-500"});default:return(0,Ue.jsx)(ta,{className:"w-4 h-4 text-gray-500"})}};return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ue.jsx)(ta,{className:"w-4 h-4 text-blue-600"}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Policy Status"})]}),null===(t=s.policyStatus)||void 0===t?void 0:t.filter(e=>"Active"===e.status).map((e,t)=>(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[l(e.status),(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.status})]}),(0,Ue.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.count})]},t))]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ue.jsx)(aa,{className:"w-4 h-4 text-blue-600"}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Access Requests"})]}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Requests"}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ue.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:null===(n=s.requests)||void 0===n?void 0:n.total}),(c=null===(r=s.requests)||void 0===r?void 0:r.trend,c>0?(0,Ue.jsx)(ia,{className:"w-3 h-3 text-gray-500"}):c<0?(0,Ue.jsx)(sa,{className:"w-3 h-3 text-gray-500"}):null)]})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Granted"}),(0,Ue.jsx)("span",{className:"font-medium text-green-600",children:null===(a=s.requests)||void 0===a?void 0:a.granted})]}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Denied"}),(0,Ue.jsx)("span",{className:"font-medium text-red-600",children:null===(o=s.requests)||void 0===o?void 0:o.denied})]})]})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[(0,Ue.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recent Policy Activity"}),(0,Ue.jsx)("div",{className:"space-y-2",children:null===(i=s.recentActivity)||void 0===i?void 0:i.slice(0,2).map((e,t)=>(0,Ue.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-blue-400 truncate",children:e.action}),(0,Ue.jsx)("span",{className:"text-blue-500 ml-2",children:e.time})]},t))})]})]});var c},ca=e=>yr.create({baseURL:e,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),da=ca("https://dev-services.produktiv.ai"),ua=ca("https://dev-services.produktiv.ai"),ma=ca("https://dev-services.produktiv.ai"),ga=ca("https://dev-services.produktiv.ai"),pa="sharepoint",fa="onedrive",ha=e=>{e.interceptors.request.use(e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1];return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e)),e.interceptors.response.use(e=>e,e=>{var t,n,r,a,o,i;return console.error("API Error:",{message:e.message,code:e.code,status:null===(t=e.response)||void 0===t?void 0:t.status,data:null===(n=e.response)||void 0===n?void 0:n.data,config:{url:null===(r=e.config)||void 0===r?void 0:r.url,method:null===(a=e.config)||void 0===a?void 0:a.method,baseURL:null===(o=e.config)||void 0===o?void 0:o.baseURL}}),401===(null===(i=e.response)||void 0===i?void 0:i.status)?console.warn("401 Unauthorized - but already on dashboard, not redirecting"):"ERR_NETWORK"===e.code&&console.error("Network error - service may be unreachable"),Promise.reject(e)})},va=[{label:"yr",seconds:31536e3},{label:"mth",seconds:2592e3},{label:"day",seconds:86400},{label:"hr",seconds:3600},{label:"min",seconds:60},{label:"sec",seconds:1}];function xa(e){const t=Math.floor((Date.now()-new Date(e).getTime())/1e3);for(const n of va){const e=Math.floor(t/n.seconds);if(e>=1)return"".concat(e," ").concat(n.label).concat(e>1?"s":""," ago")}return"just now"}const ya=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return Promise.race([e,new Promise((e,n)=>setTimeout(()=>n(new Error("Request timeout after ".concat(t,"ms"))),t))])};ha(da),ha(ua),ha(ma),ha(ga);const ba=()=>{var e,t,n;const[a,o]=(0,r.useState)({documentWorkflow:!1,dataDiscovery:!1,dataConnectors:!1,policiesAccess:!1,userActivity:!1,alerts:!1}),[i,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)({}),[d,u]=(0,r.useState)([]),[m,g]=(0,r.useState)(!1),p=ne(),[f,h]=(0,r.useState)({workflow:[{stage:"Document Ingestion",count:0,status:"Completed"},{stage:"Text Extraction",count:1156,status:"Processing"},{stage:"Classification",count:1098,status:"Processing"},{stage:"Metadata Generation",count:0,status:"Completed"},{stage:"Indexing",count:854,status:"Pending"},{stage:"Failed Processing",count:23,status:"Failed"}],metadata:{completionRate:87},processing:{avgTime:"2.3min",throughput:"156"}}),v={"Document Workflow":"/metadata","Data Discovery":"/discover","Data Connectors":"/connect","User Activity":"/users","Policies and Access":"/monitor"},[x,y]=(0,r.useState)({queries:{total:3247},users:{active:0},performance:{avgResponse:"0.8s",successRate:96},queryTypes:[{type:"Semantic",count:0,percentage:0},{type:"Syntactic",count:0,percentage:0},{type:"Hybrid",count:0,percentage:0}],topTerms:[{term:"customer data",count:234},{term:"compliance report",count:189},{term:"risk assessment",count:167},{term:"financial statement",count:145}]}),[b,k]=(0,r.useState)({sources:{total:0,active:0},dataVolume:{total:"2.4TB"},connectors:[{name:"SharePoint",status:"Connected",count:0},{name:"Confluence",status:"Connected",count:0},{name:"Google Drive",status:"Warning",count:0},{name:"Slack",status:"Connected",count:0},{name:"Teams",status:"Error",count:0},{name:"Elasticsearch",status:"Connected",count:0},{name:"OpenSearch",status:"Connected",count:0},{name:"AlloyDB",status:"Connected",count:0},{name:"AmazonRDS",status:"Connected",count:0},{name:"BigQuery",status:"Connected",count:0},{name:"PgVector",status:"Connected",count:0}],sync:{lastSync:"15min ago",successRate:98,avgDuration:"4.2min"},transfer:{incoming:"1.2GB",processed:"856MB"}}),[w,j]=(0,r.useState)({users:{total:0,activeToday:0,newThisWeek:0},userTypes:[{type:"Admin",count:0,percentage:0},{type:"Data Steward",count:0,percentage:0},{type:"Data Engineer",count:0,percentage:0},{type:"Guest",count:0,percentage:0},{type:"Gen User",count:0,percentage:0}],activity:{avgSessionTime:"28min",dailyActions:1456,peakHours:"10-11 AM"},topUsers:[{name:"John Smith",actions:234},{name:"Sarah Johnson",actions:189},{name:"Mike Chen",actions:167}],engagement:{level:87}}),[N,C]=(0,r.useState)({policyStatus:[{status:"Active",count:0},{status:"Draft",count:8},{status:"Needs Review",count:3}],recentActivity:[{action:"-",time:"-"},{action:"-",time:"-"},{action:"-",time:"-"}],compliance:{score:94},templates:{count:15},requests:{total:0,granted:0,denied:0,trend:12},accessTypes:[{type:"Granted",count:0,percentage:0},{type:"Denied",count:0,percentage:0},{type:"Suspicious",count:0,percentage:0}],security:{failedLogins:34,suspicious:12,blockedIPs:8},performance:{avgResponseTime:"120ms",uptime:99.8}}),S=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("error"===e||"warn"===e){const a=(new Date).toISOString(),o={timestamp:a,level:e,module:t,message:n,details:r};u(e=>[...e.slice(-49),o]);const i="[".concat(a,"] ").concat(e.toUpperCase()," - ").concat(t,": ").concat(n);"error"===e?console.error(i,r):console.warn(i,r)}else!1},[E,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(E)return;_(!0);(async()=>{await Promise.all([O("documentWorkflow",I),O("userActivity",T)]),await new Promise(e=>setTimeout(e,500)),await Promise.all([O("dataConnectors",M)]),await new Promise(e=>setTimeout(e,500)),await O("policiesAccess",P)})().then(()=>{s(!0)}).catch(e=>{S("error","dashboard","Dashboard initialization failed",e),s(!0)})},[]);const O=async(e,t)=>{o(t=>Le(Le({},t),{},{[e]:!0}));try{await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3;for(let l=1;l<=n;l++)try{return void await e()}catch(s){var a;const e=null===(a=s.response)||void 0===a?void 0:a.status;var o,i;if(e>=400&&e<500)throw S("warn",t,"API endpoint error (".concat(e,")"),{status:e,url:null===(o=s.config)||void 0===o?void 0:o.url}),s;if(l===n)throw S("error",t,"Failed after ".concat(n," attempts"),{status:e,message:s.message,url:null===(i=s.config)||void 0===i?void 0:i.url}),s;if(!(e>=500||"ERR_NETWORK"===s.code||s.message.includes("timeout")))throw s;{const e=r*Math.pow(2,l-1);await new Promise(t=>setTimeout(t,e))}}}(t,e),c(t=>{const n=Le({},t);return delete n[e],n})}catch(r){var n;const t=null===(n=r.response)||void 0===n?void 0:n.status;let a={status:t,message:r.message,timestamp:(new Date).toISOString()};a.type=404===t?"not_found":t>=400&&t<500?"client_error":"server_error",c(t=>Le(Le({},t),{},{[e]:a}))}finally{o(t=>Le(Le({},t),{},{[e]:!1}))}},I=(0,r.useCallback)(async()=>{try{var e,t,n,r,a,o;const i=await ya(da.get("/api/v1/metadata/indices")),s=null!==(e=null===i||void 0===i||null===(t=i.data)||void 0===t||null===(n=t.syntactic_metadata)||void 0===n?void 0:n.docs_count)&&void 0!==e?e:0,l=null!==(r=null===i||void 0===i||null===(a=i.data)||void 0===a||null===(o=a.semantic_metadata)||void 0===o?void 0:o.docs_count)&&void 0!==r?r:0;h(e=>{const t=s?Math.round(l/s*100):0;return Le(Le({},e),{},{workflow:e.workflow.map(e=>"Document Ingestion"===e.stage?Le(Le({},e),{},{count:s}):"Metadata Generation"===e.stage?Le(Le({},e),{},{count:l}):e),value:s,metadata:Le(Le({},e.metadata),{},{completionRate:t})})})}catch(i){throw i}},[]),M=(0,r.useCallback)(async()=>{try{var e,t,n,r,a,o;const[i,s,l]=await Promise.all([ya(da.get("/api/v1/metadata/indices/provider/user")),ya(ua.get("/api/v1/connections")),ya(ua.get("/api/v1/connections/count"))]),c=i.data,d={};c.forEach(e=>{e.providers.forEach(e=>{const t=e.provider;d[t]||(d[t]=0),d[t]+=e.stats})});const u={[pa]:[pa,fa]},m=b.connectors.map(e=>{const t=e.name.toLowerCase().replace(/\s+/g,"-");let n=0;return n=u[t]?u[t].reduce((e,t)=>e+(d[t]||0),0):d[t]||0,Le(Le({},e),{},{count:n})}),g=null!==(e=null===s||void 0===s||null===(t=s.data)||void 0===t||null===(n=t.connections)||void 0===n||null===(r=n.filter(e=>e.Connected))||void 0===r?void 0:r.length)&&void 0!==e?e:0,p=null!==(a=null===l||void 0===l||null===(o=l.data)||void 0===o?void 0:o.connection_type_count)&&void 0!==a?a:0;k(e=>Le(Le({},e),{},{connectors:m,sources:Le(Le({},e.sources),{},{active:g,total:p})}))}catch(i){throw i}},[]),P=(0,r.useCallback)(async()=>{try{var e,t,n,r,a,o,i,s,l,c,d,u;const[m,g]=await Promise.all([ya(ga.get("/api/v1/policy/policies/analytics")),ya(ga.get("/api/v1/policy/access-logs/insights"))]),p=(null===m||void 0===m||null===(e=m.data)||void 0===e||null===(t=e.data)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.policy_detail)||[],f=null!==(r=null===m||void 0===m||null===(a=m.data)||void 0===a||null===(o=a.data)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.active_policies)&&void 0!==r?r:0,h=null!==(s=null===g||void 0===g||null===(l=g.data)||void 0===l?void 0:l.insights)&&void 0!==s?s:{},v=null!==(c=h.total_access_attempts)&&void 0!==c?c:0,x=null!==(d=h.allowed_access)&&void 0!==d?d:0,y=null!==(u=h.denied_access)&&void 0!==u?u:0,b=p.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)).slice(0,2).map(e=>({action:"".concat(e.policy_name),time:xa(e.timestamp)}));C(e=>Le(Le({},e),{},{recentActivity:b,policyStatus:e.policyStatus.map(e=>"Active"===e.status?Le(Le({},e),{},{count:f}):e),requests:Le(Le({},e.requests),{},{total:v,granted:x,denied:y})}))}catch(m){throw m}},[]),T=(0,r.useCallback)(async()=>{try{var e,t;const n=await ya(ma.get("/api/v1/auth/UserInfo")),r=null!==(e=null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.accepted_users)&&void 0!==e?e:0;y(e=>Le(Le({},e),{},{users:Le(Le({},e.users),{},{active:r})})),j(e=>{var t,r,a,o,i,s,l,c;const d=null!==(t=null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.total_invited_users)&&void 0!==t?t:0,u=null!==(a=null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.user_types)&&void 0!==a?a:{},m=null!==(i=null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.active_today)&&void 0!==i?i:0,g=null!==(l=null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.new_this_week)&&void 0!==l?l:0,p=((new Date).toISOString().slice(0,10),e.userTypes.map(e=>{const t=e.type.toUpperCase().replace(/\s/g,"_"),n=u[t]||0,r=d?Math.round(n/d*100):0;return Le(Le({},e),{},{count:n,percentage:r})}));return Le(Le({},e),{},{users:Le(Le({},e.users),{},{total:d,activeToday:m,newThisWeek:g}),userTypes:p})})}catch(n){throw n}},[]),A=[{title:"Document Workflow",value:f.value||"0",metrics:f,timeframe:"Today",loading:a.documentWorkflow,colorScheme:"blue"},{title:"Data Discovery",value:x.users.active||"0",metrics:x,timeframe:"Active Users",loading:a.dataDiscovery,colorScheme:"green"},{title:"Data Connectors",value:"".concat(b.sources.active,"/").concat(b.sources.total),metrics:b,timeframe:"Active",loading:a.dataConnectors,colorScheme:"purple"},{title:"Policies and Access",value:"".concat((null===(e=N.policyStatus)||void 0===e||null===(t=e.find(e=>"Active"===e.status))||void 0===t?void 0:t.count)||0,"/").concat((null===(n=N.requests)||void 0===n?void 0:n.total)||0),metrics:N,timeframe:"Policies/Requests",loading:a.policiesAccess,colorScheme:"amber"},{title:"User Activity",value:w.users.activeToday||"0",metrics:w,timeframe:"Active Today",loading:a.userActivity,colorScheme:"indigo"}],R={blue:{bg:"bg-gradient-to-br from-blue-50 to-white dark:from-blue-900/10 dark:to-gray-800",border:"border-blue-200 dark:border-blue-800",titleIcon:"bg-blue-100 dark:bg-blue-900/30",value:"text-blue-600 dark:text-blue-400",accent:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-gradient-to-br from-green-50 to-white dark:from-green-900/10 dark:to-gray-800",border:"border-green-200 dark:border-green-800",titleIcon:"bg-green-100 dark:bg-green-900/30",value:"text-green-600 dark:text-green-400",accent:"text-green-600 dark:text-green-400"},purple:{bg:"bg-gradient-to-br from-purple-50 to-white dark:from-purple-900/10 dark:to-gray-800",border:"border-purple-200 dark:border-purple-800",titleIcon:"bg-purple-100 dark:bg-purple-900/30",value:"text-purple-600 dark:text-purple-400",accent:"text-purple-600 dark:text-purple-400"},amber:{bg:"bg-gradient-to-br from-amber-50 to-white dark:from-amber-900/10 dark:to-gray-800",border:"border-amber-200 dark:border-amber-800",titleIcon:"bg-amber-100 dark:bg-amber-900/30",value:"text-amber-600 dark:text-amber-400",accent:"text-amber-600 dark:text-amber-400"},indigo:{bg:"bg-gradient-to-br from-indigo-50 to-white dark:from-indigo-900/10 dark:to-gray-800",border:"border-indigo-200 dark:border-indigo-800",titleIcon:"bg-indigo-100 dark:bg-indigo-900/30",value:"text-indigo-600 dark:text-indigo-400",accent:"text-indigo-600 dark:text-indigo-400"}};return(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 p-8",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Overview of document processing, policies, and system metrics"})]}),!1]}),m&&!1,(0,Ue.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:A.map((e,t)=>{const n=R[e.colorScheme],r="Document Workflow"===e.title?"documentWorkflow":"Data Discovery"===e.title?"dataDiscovery":"Data Connectors"===e.title?"dataConnectors":"Policies and Access"===e.title?"policiesAccess":"User Activity"===e.title?"userActivity":null,a=l[r];return(0,Ue.jsxs)("div",{onClick:()=>{v[e.title]&&("Policies and Access"===e.title?p("/monitor",{state:{activeTab:"analytics"}}):p(v[e.title]))},className:"".concat(n.bg," p-6 rounded-xl shadow-sm border ").concat(n.border," hover:shadow-lg transition-all duration-200 cursor-pointer group"),children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"p-2.5 ".concat(n.titleIcon," rounded-lg group-hover:scale-105 transition-transform"),children:(0,Ue.jsxs)("svg",{className:"w-6 h-6 ".concat(n.accent),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:["Document Workflow"===e.title&&(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}),"Data Discovery"===e.title&&(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}),"Data Connectors"===e.title&&(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"}),"Policies and Access"===e.title&&(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"}),"User Activity"===e.title&&(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})]})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h3",{className:"text-base font-bold text-gray-900 dark:text-white flex items-center",children:[e.title,e.loading&&(0,Ue.jsx)("span",{className:"ml-2 animate-spin h-3.5 w-3.5 border-2 border-t-transparent ".concat(n.accent," rounded-full")}),!i&&!e.loading&&(0,Ue.jsx)("span",{className:"ml-2 h-3.5 w-3.5 border-2 border-gray-300 rounded-full"}),a&&(0,Ue.jsx)("span",{className:"ml-2 h-4 w-4 bg-yellow-500 rounded-full flex items-center justify-center text-white text-xs font-bold",title:"API Error: ".concat(a.message),children:"!"})]}),e.timeframe&&(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400 text-xs",children:e.timeframe})]})]}),v[e.title]&&(0,Ue.jsx)("div",{className:"p-1.5 ".concat(n.accent," opacity-0 group-hover:opacity-100 transition-opacity"),children:(0,Ue.jsx)(Fr,{size:16})})]}),(0,Ue.jsx)("div",{className:"mb-4",children:(0,Ue.jsx)("span",{className:"text-3xl font-bold ".concat(n.value),children:e.value})}),(0,Ue.jsx)("div",{className:"border-t ".concat(n.border," mb-4")}),(0,Ue.jsx)("div",{children:e.metrics&&(0,Ue.jsxs)(Ue.Fragment,{children:["Document Workflow"===e.title&&(0,Ue.jsx)(Vr,{metrics:e.metrics}),"Data Discovery"===e.title&&(0,Ue.jsx)(qr,{metrics:e.metrics}),"Data Connectors"===e.title&&(0,Ue.jsx)(Yr,{metrics:e.metrics}),"Policies and Access"===e.title&&(0,Ue.jsx)(la,{metrics:e.metrics}),"User Activity"===e.title&&(0,Ue.jsx)(Zr,{metrics:e.metrics}),"Alerts"===e.title&&(0,Ue.jsx)(na,{metrics:e.metrics})]})})]},t)})})]})})},ka=(0,r.createContext)(),wa=e=>{let{children:t}=e;const[n,a]=(0,r.useState)([]),[o,i]=(0,r.useState)([]),[s,l]=(0,r.useState)({}),[c,d]=(0,r.useState)({}),u=(0,r.useCallback)(async()=>{a([{id:1,label:"PII Data",parentId:null},{id:2,label:"Technical Documentation",parentId:null},{id:3,label:"Financial Documents",parentId:null}])},[]),m=(0,r.useCallback)(e=>{a(t=>[...t,Le(Le({},e),{},{id:Date.now()})])},[]),g=(0,r.useCallback)((e,t)=>{a(n=>n.map(n=>n.id===e?Le(Le({},n),t):n))},[]),p=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]),f=(0,r.useCallback)(e=>{const t=n.find(t=>t.id===e);t&&(i(e=>[...e,t]),l(t=>Le(Le({},t),{},{[e]:"pending"})))},[n]),h=(0,r.useCallback)((e,t,n)=>{i(t=>t.filter(t=>t.id!==e)),l(t=>Le(Le({},t),{},{[e]:"approved"})),d(r=>Le(Le({},r),{},{[e]:{context:t,notes:n}}))},[]),v=(0,r.useCallback)((e,t)=>{i(t=>t.filter(t=>t.id!==e)),l(t=>Le(Le({},t),{},{[e]:"rejected"}))},[]),x=(0,r.useCallback)(async e=>new Promise(e=>{setTimeout(()=>{e()},2e3)}),[]),y={taxonomyNodes:n,pendingNodes:o,validationStatus:s,businessContext:c,loadTaxonomy:u,addNode:m,updateNode:g,deleteNode:p,submitForReview:f,approveNode:h,rejectNode:v,importFromGlossary:x};return(0,Ue.jsx)(ka.Provider,{value:y,children:t})},ja=Ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Na=Ve("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ca=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Sa=Ve("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Ea=Ve("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),_a=Ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Oa=Ve("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Ia=Ve("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),Ma=Ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Pa=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ta=Ve("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Aa=Ve("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ra=e=>{let{data:t,onDataChange:n}=e;const[a,o]=(0,r.useState)(0),[i,s]=(0,r.useState)(!1),l=[{id:"all",name:"All Documents",icon:Gr,count:1250,description:"Use all available documents in the system"},{id:"recent",name:"Recent Documents",icon:Ar,count:450,description:"Documents added in the last 30 days"},{id:"folder",name:"Specific Folder",icon:Ta,count:0,description:"Select documents from a specific folder"},{id:"custom",name:"Custom Selection",icon:Br,count:0,description:"Manually select specific documents"}];(0,r.useEffect)(()=>{s(!0),setTimeout(()=>{const e=l.find(e=>e.id===t.documentSource);o((null===e||void 0===e?void 0:e.count)||0),s(!1)},1e3)},[t.documentSource]);const c=(e,r)=>{n(Le(Le({},t),{},{clusteringParams:Le(Le({},t.clusteringParams),{},{[e]:r})}))};return(0,Ue.jsx)("div",{className:"h-full overflow-y-auto p-6",children:(0,Ue.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(Ar,{className:"w-5 h-5"}),"Document Source"]}),(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(e=>{const r=e.icon;return(0,Ue.jsx)("div",{onClick:()=>{return r=e.id,void n(Le(Le({},t),{},{documentSource:r}));var r},className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(t.documentSource===e.id?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("div",{className:"p-2 rounded-lg ".concat(t.documentSource===e.id?"bg-purple-100 dark:bg-purple-800":"bg-gray-100 dark:bg-gray-700"),children:(0,Ue.jsx)(r,{className:"w-5 h-5 ".concat(t.documentSource===e.id?"text-purple-600 dark:text-purple-400":"text-gray-500")})}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description}),e.count>0&&(0,Ue.jsxs)("p",{className:"text-sm text-purple-600 dark:text-purple-400 mt-2",children:[e.count," documents available"]})]})]})},e.id)})})]}),t.documentSource&&(0,Ue.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h4",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Selected Documents"}),(0,Ue.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:i?"Loading...":"".concat(a," documents will be analyzed")})]}),a>0&&(0,Ue.jsxs)("div",{className:"text-right",children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a}),(0,Ue.jsx)("div",{className:"text-xs text-blue-500",children:"documents"})]})]})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(Br,{className:"w-5 h-5"}),"Clustering Parameters",(0,Ue.jsxs)("div",{className:"relative group",children:[(0,Ue.jsx)(Aa,{className:"w-4 h-4 text-gray-400 cursor-help"}),(0,Ue.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap z-10",children:"Configure how AI should group your documents"})]})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Clustering Algorithm"}),(0,Ue.jsx)("div",{className:"space-y-2",children:[{id:"best",name:"Best Algorithm (Auto)",description:"Automatically selects the best clustering algorithm"},{id:"ball_tree",name:"Ball Tree",description:"Efficient for high-dimensional data"},{id:"kd_tree",name:"KD Tree",description:"Good for low to medium dimensional data"},{id:"brute",name:"Brute Force",description:"Exact but slower algorithm"}].map(e=>(0,Ue.jsxs)("label",{className:"flex items-start gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ue.jsx)("input",{type:"radio",name:"algorithm",value:e.id,checked:t.clusteringParams.algorithm===e.id,onChange:e=>c("algorithm",e.target.value),className:"mt-1"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]},e.id))})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Naming Strategy"}),(0,Ue.jsx)("div",{className:"space-y-2",children:[{id:"keyword_based",name:"Keyword-Based",description:"Generate names based on document keywords"},{id:"llm_generated",name:"AI-Generated",description:"Use AI to generate descriptive names"},{id:"domain_aware",name:"Domain-Aware",description:"Use domain-specific terminology"},{id:"hybrid",name:"Hybrid",description:"Combine multiple naming strategies"}].map(e=>(0,Ue.jsxs)("label",{className:"flex items-start gap-3 p-3 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ue.jsx)("input",{type:"radio",name:"namingStrategy",value:e.id,checked:t.clusteringParams.namingStrategy===e.id,onChange:e=>c("namingStrategy",e.target.value),className:"mt-1"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]},e.id))})]})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Maximum Hierarchy Depth: ",t.clusteringParams.maxDepth]}),(0,Ue.jsx)("input",{type:"range",min:"2",max:"5",value:t.clusteringParams.maxDepth,onChange:e=>c("maxDepth",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,Ue.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ue.jsx)("span",{children:"2 levels"}),(0,Ue.jsx)("span",{children:"5 levels"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Minimum Cluster Size: ",t.clusteringParams.minClusterSize]}),(0,Ue.jsx)("input",{type:"range",min:"5",max:"50",value:t.clusteringParams.minClusterSize,onChange:e=>c("minClusterSize",parseInt(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,Ue.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ue.jsx)("span",{children:"5 docs"}),(0,Ue.jsx)("span",{children:"50 docs"})]})]})]}),(0,Ue.jsxs)("div",{className:"mt-6",children:[(0,Ue.jsx)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Advanced Parameters"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Content Weight: ",Math.round(100*t.clusteringParams.embeddingWeight),"%"]}),(0,Ue.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:t.clusteringParams.embeddingWeight,onChange:e=>{const t=parseFloat(e.target.value);c("embeddingWeight",t),c("metadataWeight",1-t)},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,Ue.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ue.jsx)("span",{children:"Metadata"}),(0,Ue.jsx)("span",{children:"Content"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Noise Threshold: ",Math.round(100*t.clusteringParams.noiseThreshold),"%"]}),(0,Ue.jsx)("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:t.clusteringParams.noiseThreshold,onChange:e=>c("noiseThreshold",parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"}),(0,Ue.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,Ue.jsx)("span",{children:"Strict"}),(0,Ue.jsx)("span",{children:"Loose"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"mt-6",children:[(0,Ue.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:t.clusteringParams.domainSpecific,onChange:e=>c("domainSpecific",e.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Use domain-specific clustering"}),(0,Ue.jsx)(Aa,{className:"w-4 h-4 text-gray-400"})]}),(0,Ue.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 ml-6",children:"Apply industry-specific knowledge for better clustering results"})]})]}),a>0&&(0,Ue.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)(ea,{className:"w-5 h-5 text-blue-500"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Estimated Processing Time"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a<100?"2-3 minutes":a<500?"5-8 minutes":a<1e3?"10-15 minutes":"15-25 minutes"})]})]})})]})})},za=Ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Da=e=>{let{data:t,onDataChange:n}=e;const{user:a}=(0,r.useContext)(Sr),[o]=(0,r.useState)([{stage:0,message:"Initializing clustering process...",icon:za},{stage:30,message:"Analyzing document content and metadata...",icon:Ar},{stage:60,message:"Creating hierarchical clusters...",icon:_a},{stage:90,message:"Generating taxonomy structure...",icon:Ur},{stage:100,message:"Finalizing and optimizing results...",icon:Ur}]);(0,r.useEffect)(()=>{t.isGenerating||t.generationResult||i()},[]);const i=async()=>{n(Le(Le({},t),{},{isGenerating:!0,generationProgress:0,generationError:null}));try{const e=setInterval(()=>{n(e=>Le(Le({},e),{},{generationProgress:Math.min(e.generationProgress+15*Math.random(),95)}))},2e3),r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/generate"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({org_id:"00000000-0000-0000-0000-000000000001",user_id:(null===a||void 0===a?void 0:a.userId)||(null===a||void 0===a?void 0:a.id),clustering_params:{min_cluster_size:t.clusteringParams.minClusterSize,min_samples:Math.max(2,Math.floor(.1*t.clusteringParams.minClusterSize)),max_depth:t.clusteringParams.maxDepth,cluster_selection_epsilon:.1,metric:"cosine",algorithm:t.clusteringParams.algorithm,leaf_size:30,n_jobs:-1,embedding_weight:t.clusteringParams.embeddingWeight,metadata_weight:t.clusteringParams.metadataWeight,use_hierarchical:t.clusteringParams.useHierarchical,noise_threshold:t.clusteringParams.noiseThreshold,naming_strategy:t.clusteringParams.namingStrategy,domain_specific:t.clusteringParams.domainSpecific,preview_mode:t.clusteringParams.previewMode},document_filters:{source:t.documentSource},incremental:!1})});if(clearInterval(e),!r.ok)throw new Error("Generation failed: ".concat(r.statusText));const o=await r.json();n(e=>Le(Le({},e),{},{generationProgress:100,isGenerating:!1,generationResult:o}))}catch(e){console.error("Generation error:",e),n(t=>Le(Le({},t),{},{isGenerating:!1,generationError:e.message}))}},s=()=>{n(Le(Le({},t),{},{generationResult:null,generationError:null})),i()};return(0,Ue.jsx)("div",{className:"h-full overflow-y-auto p-6",children:(0,Ue.jsx)("div",{className:"max-w-4xl mx-auto",children:t.isGenerating||t.generationError?(()=>{const e=o.find(e=>t.generationProgress>=e.stage)||o[o.length-1];e.icon;return(0,Ue.jsxs)("div",{className:"text-center space-y-6",children:[(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4",children:t.isGenerating?(0,Ue.jsx)("div",{className:"w-full h-full border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}):(0,Ue.jsx)("div",{className:"w-full h-full rounded-full flex items-center justify-center ".concat(t.generationError?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900"),children:t.generationError?(0,Ue.jsx)(qe,{className:"w-8 h-8 text-red-600 dark:text-red-400"}):(0,Ue.jsx)(Ur,{className:"w-8 h-8 text-green-600 dark:text-green-400"})})}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:t.generationError?"Generation Failed":t.isGenerating?"Generating Taxonomy":"Generation Complete"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:t.generationError?t.generationError:e.message})]})]}),t.isGenerating&&(0,Ue.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,Ue.jsx)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Ue.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(t.generationProgress,"%")}})}),(0,Ue.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[Math.round(t.generationProgress),"% complete"]})]}),t.generationError&&(0,Ue.jsx)("button",{onClick:s,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry Generation"})]})})():(()=>{if(!t.generationResult)return null;const e=t.generationResult,n=e.proposed_nodes||[],r=e.unassigned_documents||[],a=e.generation_stats||{};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:a.nodes_generated||n.length}),(0,Ue.jsx)("div",{className:"text-sm text-green-700 dark:text-green-300",children:"Nodes Generated"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:a.documents_clustered||0}),(0,Ue.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Documents Clustered"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[Math.round(100*(a.overall_quality||.8)),"%"]}),(0,Ue.jsx)("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"Quality Score"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:r.length}),(0,Ue.jsx)("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Unassigned"})]})]})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(_a,{className:"w-5 h-5 text-purple-600"}),"Generated Taxonomy Structure"]}),(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto",children:0===n.length?(0,Ue.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ue.jsx)(Ar,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,Ue.jsx)("p",{children:"No nodes were generated. Try adjusting the clustering parameters."})]}):(0,Ue.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>{var n;return(0,Ue.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:"AI Generated"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),(0,Ue.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,Ue.jsxs)("span",{children:[(null===(n=e.document_ids)||void 0===n?void 0:n.length)||0," documents"]}),(0,Ue.jsxs)("span",{children:["Level ",e.level]}),(0,Ue.jsxs)("span",{children:["Confidence: ",Math.round(100*(e.confidence_score||.8)),"%"]}),e.business_domain&&(0,Ue.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded",children:e.business_domain})]})]}),(0,Ue.jsx)("div",{className:"flex items-center gap-2",children:(0,Ue.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((e.confidence_score||.8)>.8?"bg-green-500":(e.confidence_score||.8)>.6?"bg-yellow-500":"bg-red-500")})})]})},t)})})})]}),r.length>0&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(qe,{className:"w-5 h-5 text-orange-500"}),"Unassigned Documents (",r.length,")"]}),(0,Ue.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[(0,Ue.jsx)("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-3",children:"These documents couldn't be automatically clustered. You can manually assign them in the next step."}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[r.slice(0,6).map((e,t)=>(0,Ue.jsxs)("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:["\u2022 ",e.title||e.id||"Document ".concat(t+1)]},t)),r.length>6&&(0,Ue.jsxs)("div",{className:"text-sm text-orange-500",children:["... and ",r.length-6," more"]})]})]})]}),e.quality_metrics&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quality Metrics"}),(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(e.quality_metrics).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:[(0,Ue.jsx)("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:t.replace(/_/g," ")}),(0,Ue.jsx)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"number"===typeof n?Math.round(100*n)/100:n})]},t)})})]})]})})()})})},La=Ve("Files",[["path",{d:"M15.5 2H8.6c-.4 0-.8.2-1.1.5-.3.3-.5.7-.5 1.1v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8c.4 0 .8-.2 1.1-.5.3-.3.5-.7.5-1.1V6.5L15.5 2z",key:"cennsq"}],["path",{d:"M3 7.6v12.8c0 .4.2.8.5 1.1.3.3.7.5 1.1.5h9.8",key:"ms809a"}],["path",{d:"M15 2v5h5",key:"qq6kwv"}]]),Ba=Ve("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),Fa=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ha=Ve("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var Wa={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Va=r.createContext&&r.createContext(Wa),qa=function(){return qa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},qa.apply(this,arguments)},Ua=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Ka(e){return e&&e.map(function(e,t){return r.createElement(e.tag,qa({key:t},e.attr),Ka(e.child))})}function Ga(e){return function(t){return r.createElement(Xa,qa({attr:qa({},e.attr)},t),Ka(e.child))}}function Xa(e){var t=function(t){var n,a=e.attr,o=e.size,i=e.title,s=Ua(e,["attr","size","title"]),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",qa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,s,{className:n,style:qa(qa({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==Va?r.createElement(Va.Consumer,null,function(e){return t(e)}):t(Wa)}function Ya(e){return Ga({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M180.41 203.01c-.72 22.65 10.6 32.68 10.88 39.05a8.164 8.164 0 0 1-4.1 6.27l-12.8 8.96a10.66 10.66 0 0 1-5.63 1.92c-.43-.02-8.19 1.83-20.48-25.61a78.608 78.608 0 0 1-62.61 29.45c-16.28.89-60.4-9.24-58.13-56.21-1.59-38.28 34.06-62.06 70.93-60.05 7.1.02 21.6.37 46.99 6.27v-15.62c2.69-26.46-14.7-46.99-44.81-43.91-2.4.01-19.4-.5-45.84 10.11-7.36 3.38-8.3 2.82-10.75 2.82-7.41 0-4.36-21.48-2.94-24.2 5.21-6.4 35.86-18.35 65.94-18.18a76.857 76.857 0 0 1 55.69 17.28 70.285 70.285 0 0 1 17.67 52.36l-.01 69.29zM93.99 235.4c32.43-.47 46.16-19.97 49.29-30.47 2.46-10.05 2.05-16.41 2.05-27.4-9.67-2.32-23.59-4.85-39.56-4.87-15.15-1.14-42.82 5.63-41.74 32.26-1.24 16.79 11.12 31.4 29.96 30.48zm170.92 23.05c-7.86.72-11.52-4.86-12.68-10.37l-49.8-164.65c-.97-2.78-1.61-5.65-1.92-8.58a4.61 4.61 0 0 1 3.86-5.25c.24-.04-2.13 0 22.25 0 8.78-.88 11.64 6.03 12.55 10.37l35.72 140.83 33.16-140.83c.53-3.22 2.94-11.07 12.8-10.24h17.16c2.17-.18 11.11-.5 12.68 10.37l33.42 142.63L420.98 80.1c.48-2.18 2.72-11.37 12.68-10.37h19.72c.85-.13 6.15-.81 5.25 8.58-.43 1.85 3.41-10.66-52.75 169.9-1.15 5.51-4.82 11.09-12.68 10.37h-18.69c-10.94 1.15-12.51-9.66-12.68-10.75L328.67 110.7l-32.78 136.99c-.16 1.09-1.73 11.9-12.68 10.75h-18.3zm273.48 5.63c-5.88.01-33.92-.3-57.36-12.29a12.802 12.802 0 0 1-7.81-11.91v-10.75c0-8.45 6.2-6.9 8.83-5.89 10.04 4.06 16.48 7.14 28.81 9.6 36.65 7.53 52.77-2.3 56.72-4.48 13.15-7.81 14.19-25.68 5.25-34.95-10.48-8.79-15.48-9.12-53.13-21-4.64-1.29-43.7-13.61-43.79-52.36-.61-28.24 25.05-56.18 69.52-55.95 12.67-.01 46.43 4.13 55.57 15.62 1.35 2.09 2.02 4.55 1.92 7.04v10.11c0 4.44-1.62 6.66-4.87 6.66-7.71-.86-21.39-11.17-49.16-10.75-6.89-.36-39.89.91-38.41 24.97-.43 18.96 26.61 26.07 29.7 26.89 36.46 10.97 48.65 12.79 63.12 29.58 17.14 22.25 7.9 48.3 4.35 55.44-19.08 37.49-68.42 34.44-69.26 34.42zm40.2 104.86c-70.03 51.72-171.69 79.25-258.49 79.25A469.127 469.127 0 0 1 2.83 327.46c-6.53-5.89-.77-13.96 7.17-9.47a637.37 637.37 0 0 0 316.88 84.12 630.22 630.22 0 0 0 241.59-49.55c11.78-5 21.77 7.8 10.12 16.38zm29.19-33.29c-8.96-11.52-59.28-5.38-81.81-2.69-6.79.77-7.94-5.12-1.79-9.47 40.07-28.17 105.88-20.1 113.44-10.63 7.55 9.47-2.05 75.41-39.56 106.91-5.76 4.87-11.27 2.3-8.71-4.1 8.44-21.25 27.39-68.49 18.43-80.02z"}}]})(e)}function $a(e){return Ga({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M2.3 412.2c-4.5 7.6-2.1 17.5 5.5 22.2l105.9 65.2c7.7 4.7 17.7 2.4 22.4-5.3 0-.1.1-.2.1-.2 67.1-112.2 80.5-95.9 280.9-.7 8.1 3.9 17.8.4 21.7-7.7.1-.1.1-.3.2-.4l50.4-114.1c3.6-8.1-.1-17.6-8.1-21.3-22.2-10.4-66.2-31.2-105.9-50.3C127.5 179 44.6 345.3 2.3 412.2zm507.4-312.1c4.5-7.6 2.1-17.5-5.5-22.2L398.4 12.8c-7.5-5-17.6-3.1-22.6 4.4-.2.3-.4.6-.6 1-67.3 112.6-81.1 95.6-280.6.9-8.1-3.9-17.8-.4-21.7 7.7-.1.1-.1.3-.2.4L22.2 141.3c-3.6 8.1.1 17.6 8.1 21.3 22.2 10.4 66.3 31.2 106 50.4 248 120 330.8-45.4 373.4-112.9z"}}]})(e)}function Ja(e){return Ga({tag:"svg",attr:{viewBox:"0 0 528 512"},child:[{tag:"path",attr:{d:"M264.4 116.3l-132 84.3 132 84.3-132 84.3L0 284.1l132.3-84.3L0 116.3 132.3 32l132.1 84.3zM131.6 395.7l132-84.3 132 84.3-132 84.3-132-84.3zm132.8-111.6l132-84.3-132-83.6L395.7 32 528 116.3l-132.3 84.3L528 284.8l-132.3 84.3-131.3-85z"}}]})(e)}function Za(e){return Ga({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M339 314.9L175.4 32h161.2l163.6 282.9H339zm-137.5 23.6L120.9 480h310.5L512 338.5H201.5zM154.1 67.4L0 338.5 80.6 480 237 208.8 154.1 67.4z"}}]})(e)}function Qa(e){return Ga({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32h214.6v214.6H0V32zm233.4 0H448v214.6H233.4V32zM0 265.4h214.6V480H0V265.4zm233.4 0H448V480H233.4V265.4z"}}]})(e)}function eo(e){return Ga({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M94.12 315.1c0 25.9-21.16 47.06-47.06 47.06S0 341 0 315.1c0-25.9 21.16-47.06 47.06-47.06h47.06v47.06zm23.72 0c0-25.9 21.16-47.06 47.06-47.06s47.06 21.16 47.06 47.06v117.84c0 25.9-21.16 47.06-47.06 47.06s-47.06-21.16-47.06-47.06V315.1zm47.06-188.98c-25.9 0-47.06-21.16-47.06-47.06S139 32 164.9 32s47.06 21.16 47.06 47.06v47.06H164.9zm0 23.72c25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06H47.06C21.16 243.96 0 222.8 0 196.9s21.16-47.06 47.06-47.06H164.9zm188.98 47.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06s-21.16 47.06-47.06 47.06h-47.06V196.9zm-23.72 0c0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06V79.06c0-25.9 21.16-47.06 47.06-47.06 25.9 0 47.06 21.16 47.06 47.06V196.9zM283.1 385.88c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06-25.9 0-47.06-21.16-47.06-47.06v-47.06h47.06zm0-23.72c-25.9 0-47.06-21.16-47.06-47.06 0-25.9 21.16-47.06 47.06-47.06h117.84c25.9 0 47.06 21.16 47.06 47.06 0 25.9-21.16 47.06-47.06 47.06H283.1z"}}]})(e)}function to(e){return Ga({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M244.2 346.79c2.4-12.3-12-30-32.4-48.7-20.9-19.2-48.2-39.1-63.4-46.6-21.7-12-41.7-1.8-46.3 22.7-5 26.2 0 51.4 14.5 73.9 10.2 15.5 25.4 22.7 43.4 24 11.6.6 52.5 2.2 61.7-1 11.9-4.3 20.1-11.8 22.5-24.3zm205 20.8a5.22 5.22 0 0 0-8.3 2.4c-8 25.4-44.7 112.5-172.1 121.5-149.7 10.5 80.3 43.6 145.4-6.4 22.7-17.4 47.6-35 46.6-85.4-.4-10.1-4.9-26.69-11.6-32.1zm62-122.4c-.3-18.9-8.6-33.4-26-42.2-2.9-1.3-5-2.7-5.9-6.4A222.64 222.64 0 0 0 438.9 103c-1.1-1.5-3.5-3.2-2.2-5 8.5-11.5-.3-18-7-24.4Q321.4-31.11 177.4 13.09c-40.1 12.3-73.9 35.6-102 67.4-4 4.3-6.7 9.1-3 14.5 3 4 1.3 6.2-1 9.3C51.6 132 38.2 162.59 32.1 196c-.7 4.3-2.9 6-6.4 7.8-14.2 7-22.5 18.5-24.9 34L0 264.29v20.9c0 30.8 21 50.4 51.8 49 7.7-.3 11.7-4.3 12-11.5 2-77.5-2.4-95.4 3.7-125.8C92.1 72.39 234.3 5 345.3 65.39 411.4 102 445.7 159 447.6 234.79c.8 28.2 0 56.5 0 84.6 0 7 2.2 12.5 9.4 14.2 24.1 5 49.2-12 53.2-36.7 2.9-17.1 1-34.5 1-51.7zm-159.6 131.5c36.5 2.8 59.3-28.5 58.4-60.5-2.1-45.2-66.2-16.5-87.8-8-73.2 28.1-45 54.9-22.2 60.8z"}}]})(e)}function no(e){return Ga({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"}}]})(e)}function ro(e){return Ga({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"}}]})(e)}function ao(e){return Ga({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 264v-16c0-8.84-7.16-16-16-16H344v-40h72c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H224c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h72v40H16c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h104v40H64c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h160c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32h-56v-40h304v40h-56c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h160c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32h-56v-40h104c8.84 0 16-7.16 16-16zM256 128V64h128v64H256zm-64 320H96v-64h96v64zm352 0h-96v-64h96v64z"}}]})(e)}function oo(e){return Ga({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(e)}const io=e=>{let{isOpen:t,onClose:n,documentIds:a,nodeName:o}=e;const[i,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(null);(0,r.useEffect)(()=>{t&&a&&a.length>0&&m()},[t,a]);const m=async()=>{c(!0),u(null);try{const e=a.map(async e=>{try{var t,n,r,a,o,i,s,l,c,u,m,g,p,f;const d=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/").concat(e),{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!d.ok)return console.warn("Failed to fetch details for file ".concat(e,": ").concat(d.status)),null;const h=await d.json();return{id:h.id,name:(null===(t=h.syntactic_metadata)||void 0===t?void 0:t.name)||"Unknown",path:(null===(n=h.syntactic_metadata)||void 0===n?void 0:n.path)||"",provider:(null===(r=h.syntactic_metadata)||void 0===r?void 0:r.provider)||"Unknown",size:(null===(a=h.syntactic_metadata)||void 0===a?void 0:a.size)||0,modified_at:(null===(o=h.syntactic_metadata)||void 0===o?void 0:o.modified_at)||null,mime_type:(null===(i=h.syntactic_metadata)||void 0===i?void 0:i.mime_type)||(null===(s=h.syntactic_metadata)||void 0===s?void 0:s.file_type)||"Unknown",sensitivity:(null===(l=h.semantic_metadata)||void 0===l?void 0:l.document_sensitivity)||"Unknown",pii_detected:(null===(c=h.semantic_metadata)||void 0===c?void 0:c.pii_detected)||!1,owner:(null===(u=h.syntactic_metadata)||void 0===u?void 0:u.owner)||"Unknown",created_at:(null===(m=h.syntactic_metadata)||void 0===m?void 0:m.created_at)||null,accessed_at:(null===(g=h.syntactic_metadata)||void 0===g?void 0:g.accessed_at)||null,web_url:(null===(p=h.syntactic_metadata)||void 0===p||null===(f=p.properties)||void 0===f?void 0:f.web_url)||null}}catch(d){return console.error("Error fetching file ".concat(e,":"),d),null}}),t=(await Promise.all(e)).filter(e=>null!==e);s(t),t.length<a.length&&console.warn("Only ".concat(t.length," of ").concat(a.length," files loaded successfully"))}catch(d){console.error("Error fetching file details:",d),u(d.message)}finally{c(!1)}},g=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},p=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"sensitive":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"non_sensitive":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-400"}};return t?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:['Files in "',o,'"']}),(0,Ue.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null===a||void 0===a?void 0:a.length)||0," files clustered in this node"]})]}),(0,Ue.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 p-1",children:(0,Ue.jsx)(Cr,{className:"w-6 h-6"})})]}),(0,Ue.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:l?(0,Ue.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),(0,Ue.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading files..."})]}):d?(0,Ue.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)(qe,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),(0,Ue.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-2",children:"Failed to load files"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:d}),(0,Ue.jsx)("button",{onClick:m,className:"mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Retry"})]})}):0===i.length?(0,Ue.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)(Ar,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No files found"})]})}):(0,Ue.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,Ue.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0 mt-1",children:(()=>{const t={onedrive:Qa,confluence:$a,"google-drive":Za,slack:eo,teams:to,msteams:to}[null===(n=e.provider)||void 0===n?void 0:n.toLowerCase()]||Ba;var n;const r=(e=>({onedrive:"text-[#0078D4]",confluence:"text-[#172B4D]","google-drive":"text-[#4285F4]",slack:"text-[#4A154B]",teams:"text-[#6264A7]",msteams:"text-[#6264A7]"}[null===e||void 0===e?void 0:e.toLowerCase()]||"text-gray-500 dark:text-gray-400"))(e.provider);return(0,Ue.jsx)(t,{className:"w-6 h-6 ".concat(r)})})()}),(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ue.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(p(e.sensitivity)),children:e.sensitivity}),e.pii_detected&&(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-400",children:"PII"})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ue.jsx)(Ta,{className:"w-3 h-3"}),(0,Ue.jsx)("span",{className:"truncate",title:e.path,children:e.path||"No path"})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ue.jsx)(Fa,{className:"w-3 h-3"}),(0,Ue.jsx)("span",{children:g(e.size)})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ue.jsx)(Ha,{className:"w-3 h-3"}),(0,Ue.jsx)("span",{children:e.modified_at?new Date(e.modified_at).toLocaleDateString():"Unknown"})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ue.jsx)(jr,{className:"w-3 h-3"}),(0,Ue.jsx)("span",{className:"truncate",title:e.owner,children:e.owner})]})]}),(0,Ue.jsxs)("div",{className:"mt-2 text-xs text-gray-400",children:[(0,Ue.jsxs)("span",{className:"font-mono",children:["ID: ",e.id]}),e.mime_type&&(0,Ue.jsxs)("span",{className:"ml-4",children:["Type: ",e.mime_type]}),e.created_at&&(0,Ue.jsxs)("span",{className:"ml-4",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]})]}),(0,Ue.jsx)("div",{className:"flex items-center space-x-2 ml-4",children:e.web_url?(0,Ue.jsx)("a",{href:e.web_url,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Open file in new tab",children:(0,Ue.jsx)(Fr,{className:"w-4 h-4"})}):(0,Ue.jsx)("button",{disabled:!0,className:"p-1 text-gray-300 dark:text-gray-600 cursor-not-allowed",title:"File URL not available",children:(0,Ue.jsx)(Fr,{className:"w-4 h-4"})})})]})},e.id))})}),(0,Ue.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i.length===(null===a||void 0===a?void 0:a.length)?"Showing all ".concat(i.length," files"):"Showing ".concat(i.length," of ").concat((null===a||void 0===a?void 0:a.length)||0," files"),i.length<(null===a||void 0===a?void 0:a.length)&&(0,Ue.jsx)("span",{className:"text-orange-500 dark:text-orange-400 ml-2",children:"(Some files failed to load)"})]}),(0,Ue.jsx)("button",{onClick:n,className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Close"})]})})]})}):null},so=e=>{let{data:t,onDataChange:n,onSuccess:a,onCreateTaxonomy:o,setIsSaving:i}=e;const{user:s}=(0,r.useContext)(Sr),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[h,v]=(0,r.useState)([]),x=(0,r.useRef)([]),[y,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),j=t.generationResult,N=(null===j||void 0===j?void 0:j.proposed_nodes)||[],C=(null===j||void 0===j?void 0:j.unassigned_documents)||[];(0,r.useEffect)(()=>{N.length>0&&0===t.acceptedNodeIds.length&&n(Le(Le({},t),{},{acceptedNodeIds:N.map(e=>e.cluster_id||e.id)}))},[N]),(0,r.useEffect)(()=>{o&&o(_)},[t.acceptedNodeIds]),(0,r.useEffect)(()=>{"AI Generated Taxonomy"===t.taxonomyName&&n(Le(Le({},t),{},{taxonomyName:"AI Generated Taxonomy - ".concat((new Date).toLocaleDateString())}))},[]),(0,r.useEffect)(()=>{t.editedNodes&&t.editedNodes.length>0&&v(t.editedNodes)},[t.editedNodes]),(0,r.useEffect)(()=>{x.current=h},[h]);const S=(e,t)=>{u(n=>Le(Le({},n),{},{[e]:t}))},E=()=>{if(!d)return;const e=N.map(e=>e.cluster_id===d.cluster_id?d:e),r={cluster_id:d.cluster_id||d.id,name:d.name,description:d.description,business_domain:d.business_domain,sensitivity:d.sensitivity,tags:d.tags};v(e=>[...e.filter(e=>e.cluster_id!==(d.cluster_id||d.id)),r]),n(Le(Le({},t),{},{generationResult:Le(Le({},j),{},{proposed_nodes:e})})),g(!1),u(null)},_=async()=>{if(0!==t.acceptedNodeIds.length)if(t.taxonomyName&&""!==t.taxonomyName.trim())if(t.taxonomyName.trim().length<3)f("Taxonomy name must be at least 3 characters long");else if(t.taxonomyName.trim().length>100)f("Taxonomy name must be less than 100 characters");else if("custom"!==t.taxonomyCategory||t.customCategoryValue&&""!==t.customCategoryValue.trim())if("custom"!==t.taxonomyIndustry||t.customIndustryValue&&""!==t.customIndustryValue.trim()){i(!0),f(null);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/custom"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:t.taxonomyName.trim(),description:t.taxonomyDescription.trim()||"Taxonomy generated using AI clustering",industry:"custom"===t.taxonomyIndustry?t.customIndustryValue.trim()||"custom":t.taxonomyIndustry.trim()||"general",category:"custom"===t.taxonomyCategory?t.customCategoryValue.trim()||"custom":t.taxonomyCategory.trim()||"ai_generated",org_id:"00000000-0000-0000-0000-000000000001"})});if(!e.ok)throw new Error("Failed to create taxonomy");const n=await e.json(),r={preview_id:j.preview_id,node_ids:t.acceptedNodeIds,user_id:(null===s||void 0===s?void 0:s.userId)||(null===s||void 0===s?void 0:s.id),edited_nodes:x.current};if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(n.id,"/accept-generated"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)})).ok)throw new Error("Failed to accept generated nodes");a(n)}catch(e){console.error("Save error:",e),f(e.message)}finally{i(!1)}}else f("Please enter a custom industry name");else f("Please enter a custom category name");else f("Please enter a name for your taxonomy");else f("Please select at least one node to create the taxonomy")};return(0,Ue.jsxs)("div",{className:"h-full overflow-y-auto p-6",children:[(0,Ue.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Review & Refine Generated Taxonomy"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Review the generated nodes, make adjustments and select which ones to include in your taxonomy."})]}),(0,Ue.jsxs)("div",{className:"text-right",children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:t.acceptedNodeIds.length}),(0,Ue.jsx)("div",{className:"text-sm text-gray-500",children:"Nodes Selected"}),h.length>0&&(0,Ue.jsxs)("div",{className:"mt-2",children:[(0,Ue.jsx)("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:h.length}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500",children:"Nodes Edited"})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"taxonomyName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxonomy Name *"}),(0,Ue.jsx)("input",{type:"text",id:"taxonomyName",value:t.taxonomyName||"",onChange:e=>{n(Le(Le({},t),{},{taxonomyName:e.target.value}))},placeholder:"Enter a name for your taxonomy",className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white ".concat(t.taxonomyName&&t.taxonomyName.trim().length<3?"border-red-300 dark:border-red-600":t.taxonomyName&&t.taxonomyName.trim().length>100?"border-yellow-300 dark:border-yellow-600":"border-gray-300 dark:border-gray-600")}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Name for your taxonomy"}),(0,Ue.jsxs)("span",{className:"text-xs ".concat(t.taxonomyName&&t.taxonomyName.trim().length<3?"text-red-500 dark:text-red-400":t.taxonomyName&&t.taxonomyName.trim().length>100?"text-yellow-500 dark:text-yellow-400":"text-gray-400 dark:text-gray-500"),children:[t.taxonomyName?t.taxonomyName.trim().length:0,"/100"]})]}),t.taxonomyName&&t.taxonomyName.trim().length<3&&(0,Ue.jsx)("p",{className:"mt-1 text-sm text-red-500 dark:text-red-400",children:"Name must be at least 3 characters long"}),t.taxonomyName&&t.taxonomyName.trim().length>100&&(0,Ue.jsx)("p",{className:"mt-1 text-sm text-yellow-500 dark:text-yellow-400",children:"Name should be less than 100 characters"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"taxonomyCategory",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),"custom"===t.taxonomyCategory?(0,Ue.jsx)("input",{type:"text",id:"taxonomyCategory",value:t.customCategoryValue||"",onChange:e=>{n(Le(Le({},t),{},{customCategoryValue:e.target.value}))},placeholder:"Enter custom category name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white"}):(0,Ue.jsxs)("select",{id:"taxonomyCategory",value:t.taxonomyCategory||"",onChange:e=>{n(Le(Le({},t),{},{taxonomyCategory:e.target.value,customCategoryValue:""}))},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white",children:[(0,Ue.jsx)("option",{value:"",children:"Select a category"}),(0,Ue.jsx)("option",{value:"ai_generated",children:"AI Generated"}),(0,Ue.jsx)("option",{value:"business",children:"Business"}),(0,Ue.jsx)("option",{value:"technical",children:"Technical"}),(0,Ue.jsx)("option",{value:"legal",children:"Legal"}),(0,Ue.jsx)("option",{value:"finance",children:"Finance"}),(0,Ue.jsx)("option",{value:"healthcare",children:"Healthcare"}),(0,Ue.jsx)("option",{value:"education",children:"Education"}),(0,Ue.jsx)("option",{value:"marketing",children:"Marketing"}),(0,Ue.jsx)("option",{value:"research",children:"Research"}),(0,Ue.jsx)("option",{value:"custom",children:"Custom"})]}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Category to help organize your taxonomy"})]})]}),(0,Ue.jsxs)("div",{className:"mt-6",children:[(0,Ue.jsx)("label",{htmlFor:"taxonomyDescription",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ue.jsx)("textarea",{id:"taxonomyDescription",value:t.taxonomyDescription||"",onChange:e=>{n(Le(Le({},t),{},{taxonomyDescription:e.target.value}))},placeholder:"Describe the purpose and scope of this taxonomy",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white"}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Optional description to help others understand this taxonomy"})]}),(0,Ue.jsxs)("div",{className:"mt-6",children:[(0,Ue.jsx)("label",{htmlFor:"taxonomyIndustry",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Industry"}),"custom"===t.taxonomyIndustry?(0,Ue.jsx)("input",{type:"text",id:"taxonomyIndustry",value:t.customIndustryValue||"",onChange:e=>{n(Le(Le({},t),{},{customIndustryValue:e.target.value}))},placeholder:"Enter custom industry name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white"}):(0,Ue.jsxs)("select",{id:"taxonomyIndustry",value:t.taxonomyIndustry||"",onChange:e=>{n(Le(Le({},t),{},{taxonomyIndustry:e.target.value,customIndustryValue:""}))},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 dark:bg-gray-700 dark:text-white",children:[(0,Ue.jsx)("option",{value:"",children:"Select an industry"}),(0,Ue.jsx)("option",{value:"general",children:"General"}),(0,Ue.jsx)("option",{value:"technology",children:"Technology"}),(0,Ue.jsx)("option",{value:"healthcare",children:"Healthcare"}),(0,Ue.jsx)("option",{value:"finance",children:"Finance"}),(0,Ue.jsx)("option",{value:"legal",children:"Legal"}),(0,Ue.jsx)("option",{value:"education",children:"Education"}),(0,Ue.jsx)("option",{value:"retail",children:"Retail"}),(0,Ue.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,Ue.jsx)("option",{value:"consulting",children:"Consulting"}),(0,Ue.jsx)("option",{value:"marketing",children:"Marketing"}),(0,Ue.jsx)("option",{value:"research",children:"Research"}),(0,Ue.jsx)("option",{value:"government",children:"Government"}),(0,Ue.jsx)("option",{value:"non_profit",children:"Non-Profit"}),(0,Ue.jsx)("option",{value:"custom",children:"Custom"})]}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Industry context for your taxonomy"})]})]}),p&&(0,Ue.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[(0,Ue.jsx)(qe,{className:"w-5 h-5"}),(0,Ue.jsx)("span",{children:p})]})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(_a,{className:"w-5 h-5 text-purple-600"}),"Generated Nodes (",N.length,")"]}),0===N.length?(0,Ue.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ue.jsx)(Ar,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),(0,Ue.jsx)("p",{children:"No nodes were generated. Please go back and adjust the clustering parameters."})]}):(0,Ue.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:N.map(e=>{var r;const a=t.acceptedNodeIds.includes(e.cluster_id||e.id),o=e.confidence_score||.8;return(0,Ue.jsx)("div",{className:"border rounded-lg p-4 transition-all ".concat(a?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("span",{className:"px-2 py-1 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 text-xs rounded-full",children:"AI Generated"}),a&&(0,Ue.jsx)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-xs rounded-full",children:"Selected"}),h.some(t=>t.cluster_id===(e.cluster_id||e.id))&&(0,Ue.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:"Edited"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,Ue.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ue.jsx)(La,{className:"w-3 h-3"}),(0,Ue.jsxs)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[(null===(r=e.document_ids)||void 0===r?void 0:r.length)||0," documents"]})]}),(0,Ue.jsxs)("span",{children:["Level ",e.level]}),(0,Ue.jsxs)("span",{children:["Confidence: ",Math.round(100*o),"%"]}),e.business_domain&&(0,Ue.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded",children:e.business_domain})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>(e=>{w(e),b(!0)})(e),className:"p-1 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",title:"View clustered files",children:(0,Ue.jsx)(La,{className:"w-4 h-4"})}),(0,Ue.jsx)("button",{onClick:()=>(e=>{c(e),u(Le({},e)),g(!0)})(e),className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",title:"Edit node",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})}),(0,Ue.jsx)("button",{onClick:()=>(e=>{const r=t.acceptedNodeIds.includes(e)?t.acceptedNodeIds.filter(t=>t!==e):[...t.acceptedNodeIds,e];n(Le(Le({},t),{},{acceptedNodeIds:r}))})(e.cluster_id||e.id),className:"px-3 py-1 text-xs rounded-lg transition-colors ".concat(a?"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 hover:bg-red-200 dark:hover:bg-red-800":"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 hover:bg-green-200 dark:hover:bg-green-800"),children:a?"Deselect":"Select"})]})]}),(0,Ue.jsx)("div",{className:"flex items-center gap-2",children:(0,Ue.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(o>.8?"bg-green-500":o>.6?"bg-yellow-500":"bg-red-500")})})]})},e.cluster_id||e.id)})})]}),C.length>0&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(qe,{className:"w-5 h-5 text-orange-500"}),"Unassigned Documents (",C.length,")"]}),(0,Ue.jsxs)("div",{className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[(0,Ue.jsx)("p",{className:"text-sm text-orange-700 dark:text-orange-300 mb-3",children:"These documents couldn't be automatically clustered. You can create manual nodes for them later."}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[C.slice(0,8).map((e,t)=>(0,Ue.jsxs)("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:["\u2022 ",e.title||e.id||"Document ".concat(t+1)]},t)),C.length>8&&(0,Ue.jsxs)("div",{className:"text-sm text-orange-500",children:["... and ",C.length-8," more"]})]})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-500",children:[t.acceptedNodeIds.length," of ",N.length," nodes selected"]}),(0,Ue.jsx)("div",{className:"flex gap-3",children:(0,Ue.jsx)("button",{onClick:()=>{n(Le(Le({},t),{},{acceptedNodeIds:N.map(e=>e.cluster_id||e.id)}))},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Select All"})})]})]}),m&&(()=>{var e,t;return d?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Edit Node: ",d.name]}),(0,Ue.jsx)("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"\xd7"})]}),(0,Ue.jsxs)("div",{className:"p-6 space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Node Name"}),(0,Ue.jsx)("input",{type:"text",value:d.name||"",onChange:e=>S("name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ue.jsx)("textarea",{value:d.description||"",onChange:e=>S("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Domain"}),(0,Ue.jsxs)("select",{value:d.business_domain||"",onChange:e=>S("business_domain",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Ue.jsx)("option",{value:"",children:"Select Domain"}),(0,Ue.jsx)("option",{value:"finance",children:"Finance"}),(0,Ue.jsx)("option",{value:"healthcare",children:"Healthcare"}),(0,Ue.jsx)("option",{value:"legal",children:"Legal"}),(0,Ue.jsx)("option",{value:"technology",children:"Technology"}),(0,Ue.jsx)("option",{value:"general",children:"General"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sensitivity Level"}),(0,Ue.jsxs)("select",{value:d.sensitivity||"NON_SENSITIVE",onChange:e=>S("sensitivity",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Ue.jsx)("option",{value:"NON_SENSITIVE",children:"Non-Sensitive"}),(0,Ue.jsx)("option",{value:"SENSITIVE",children:"Sensitive"})]})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),(0,Ue.jsx)("input",{type:"text",value:(null===(e=d.tags)||void 0===e?void 0:e.join(", "))||"",onChange:e=>S("tags",e.target.value.split(",").map(e=>e.trim())),placeholder:"Enter tags separated by commas",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-500",children:[(null===(t=d.document_ids)||void 0===t?void 0:t.length)||0," documents \u2022 Confidence: ",Math.round(100*(d.confidence_score||.8)),"%"]}),(0,Ue.jsxs)("div",{className:"flex gap-3",children:[(0,Ue.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:E,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Save Changes"})]})]})]})]})}):null})(),(0,Ue.jsx)(io,{isOpen:y,onClose:()=>{b(!1),w(null)},documentIds:null===k||void 0===k?void 0:k.document_ids,nodeName:null===k||void 0===k?void 0:k.name})]})},lo=e=>{let{isOpen:t,onClose:n,onSuccess:a}=e;const[o,i]=(0,r.useState)(1),[s,l]=(0,r.useState)({documentSource:"all",clusteringParams:{algorithm:"best",maxDepth:3,minClusterSize:10,namingStrategy:"hybrid",embeddingWeight:.7,metadataWeight:.3,useHierarchical:!0,noiseThreshold:.1,domainSpecific:!0,previewMode:!0},selectedDocuments:[],generationJob:null,generationResult:null,isGenerating:!1,generationProgress:0,generationError:null,editedNodes:[],unassignedDocs:[],acceptedNodeIds:[],taxonomyName:"AI Generated Taxonomy",taxonomyDescription:"",taxonomyCategory:"",customCategoryValue:"",taxonomyIndustry:"",customIndustryValue:""}),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{switch(o){case 1:d(""!==s.documentSource);break;case 2:d(null!==s.generationResult);break;case 3:d(s.acceptedNodeIds.length>0);break;default:d(!1)}},[o,s]);const f=()=>{i(1),l({documentSource:"all",clusteringParams:{algorithm:"hierarchical",maxDepth:3,minClusterSize:10,namingStrategy:"descriptive",embeddingWeight:.7,metadataWeight:.3,useHierarchical:!0,noiseThreshold:.1,domainSpecific:!0,previewMode:!0},selectedDocuments:[],generationJob:null,generationResult:null,isGenerating:!1,generationProgress:0,generationError:null,editedNodes:[],unassignedDocs:[],acceptedNodeIds:[],taxonomyName:"AI Generated Taxonomy",taxonomyDescription:"",taxonomyCategory:"",customCategoryValue:"",taxonomyIndustry:"",customIndustryValue:""}),n()},h=[{id:1,title:"Document Selection & Parameters",description:"Choose documents and clustering settings"},{id:2,title:"Generation & Preview",description:"AI generates and previews taxonomy structure"},{id:3,title:"Review & Refinement",description:"Edit and finalize the taxonomy"}];return t?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-6xl h-[90vh] flex flex-col",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,Ue.jsx)(_a,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Generate Taxonomy with AI"}),(0,Ue.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Step ",o," of 3: ",h[o-1].description]})]})]}),(0,Ue.jsx)("button",{onClick:f,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,Ue.jsx)(Cr,{className:"w-5 h-5 text-gray-500"})})]}),(0,Ue.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("div",{className:"flex items-center justify-between",children:h.map((e,t)=>(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 ".concat(o>=e.id?"bg-purple-600 border-purple-600 text-white":"border-gray-300 dark:border-gray-600 text-gray-500"),children:o>e.id?(0,Ue.jsx)(Ur,{className:"w-5 h-5"}):(0,Ue.jsx)("span",{className:"text-sm font-medium",children:e.id})}),(0,Ue.jsx)("div",{className:"ml-3",children:(0,Ue.jsx)("p",{className:"text-sm font-medium ".concat(o>=e.id?"text-gray-900 dark:text-white":"text-gray-500"),children:e.title})}),t<h.length-1&&(0,Ue.jsx)("div",{className:"w-16 h-0.5 mx-4 ".concat(o>e.id?"bg-purple-600":"bg-gray-300 dark:bg-gray-600")})]},e.id))})}),(0,Ue.jsxs)("div",{className:"flex-1 overflow-hidden",children:[1===o&&(0,Ue.jsx)(Ra,{data:s,onDataChange:l}),2===o&&(0,Ue.jsx)(Da,{data:s,onDataChange:l}),3===o&&(0,Ue.jsx)(so,{data:s,onDataChange:l,onSuccess:e=>{a(e),f()},onCreateTaxonomy:e=>m(()=>e),setIsSaving:p})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"flex items-center gap-2",children:s.generationError&&(0,Ue.jsxs)("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400",children:[(0,Ue.jsx)(qe,{className:"w-4 h-4"}),(0,Ue.jsx)("span",{className:"text-sm",children:"Generation failed. Please try again."})]})}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("button",{onClick:f,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),o>1&&(0,Ue.jsxs)("button",{onClick:()=>{o>1&&i(o-1)},className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex items-center gap-2",children:[(0,Ue.jsx)(Pa,{className:"w-4 h-4"}),"Previous"]}),o<3?(0,Ue.jsxs)("button",{onClick:()=>{c&&o<3&&i(o+1)},disabled:!c||s.isGenerating,className:"px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ".concat(c&&!s.isGenerating?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed"),children:["Next",(0,Ue.jsx)(Na,{className:"w-4 h-4"})]}):(0,Ue.jsx)("button",{onClick:()=>{u&&u()},disabled:!c||g,className:"px-6 py-2 rounded-lg transition-colors flex items-center gap-2 ".concat(c&&!g?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed"),children:g?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(Ur,{className:"w-4 h-4"}),"Create Taxonomy"]})})]})]})]})}):null};function co(){}function uo(e){return null==e?co:function(){return this.querySelector(e)}}function mo(){return[]}function go(e){return null==e?mo:function(){return this.querySelectorAll(e)}}function po(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function fo(e){return function(){return this.matches(e)}}function ho(e){return function(t){return t.matches(e)}}var vo=Array.prototype.find;function xo(){return this.firstElementChild}var yo=Array.prototype.filter;function bo(){return Array.from(this.children)}function ko(e){return new Array(e.length)}function wo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function jo(e,t,n,r,a,o){for(var i,s=0,l=t.length,c=o.length;s<c;++s)(i=t[s])?(i.__data__=o[s],r[s]=i):n[s]=new wo(e,o[s]);for(;s<l;++s)(i=t[s])&&(a[s]=i)}function No(e,t,n,r,a,o,i){var s,l,c,d=new Map,u=t.length,m=o.length,g=new Array(u);for(s=0;s<u;++s)(l=t[s])&&(g[s]=c=i.call(l,l.__data__,s,t)+"",d.has(c)?a[s]=l:d.set(c,l));for(s=0;s<m;++s)c=i.call(e,o[s],s,o)+"",(l=d.get(c))?(r[s]=l,l.__data__=o[s],d.delete(c)):n[s]=new wo(e,o[s]);for(s=0;s<u;++s)(l=t[s])&&d.get(g[s])===l&&(a[s]=l)}function Co(e){return e.__data__}function So(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function Eo(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}wo.prototype={constructor:wo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var _o="http://www.w3.org/1999/xhtml";const Oo={svg:"http://www.w3.org/2000/svg",xhtml:_o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Io(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Oo.hasOwnProperty(t)?{space:Oo[t],local:e}:e}function Mo(e){return function(){this.removeAttribute(e)}}function Po(e){return function(){this.removeAttributeNS(e.space,e.local)}}function To(e,t){return function(){this.setAttribute(e,t)}}function Ao(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ro(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function zo(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Do(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lo(e){return function(){this.style.removeProperty(e)}}function Bo(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Fo(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ho(e,t){return e.style.getPropertyValue(t)||Do(e).getComputedStyle(e,null).getPropertyValue(t)}function Wo(e){return function(){delete this[e]}}function Vo(e,t){return function(){this[e]=t}}function qo(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Uo(e){return e.trim().split(/^|\s+/)}function Ko(e){return e.classList||new Go(e)}function Go(e){this._node=e,this._names=Uo(e.getAttribute("class")||"")}function Xo(e,t){for(var n=Ko(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Yo(e,t){for(var n=Ko(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function $o(e){return function(){Xo(this,e)}}function Jo(e){return function(){Yo(this,e)}}function Zo(e,t){return function(){(t.apply(this,arguments)?Xo:Yo)(this,e)}}function Qo(){this.textContent=""}function ei(e){return function(){this.textContent=e}}function ti(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ni(){this.innerHTML=""}function ri(e){return function(){this.innerHTML=e}}function ai(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function oi(){this.nextSibling&&this.parentNode.appendChild(this)}function ii(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function si(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===_o&&t.documentElement.namespaceURI===_o?t.createElement(e):t.createElementNS(n,e)}}function li(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ci(e){var t=Io(e);return(t.local?li:si)(t)}function di(){return null}function ui(){var e=this.parentNode;e&&e.removeChild(this)}function mi(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gi(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function pi(e){return function(){var t=this.__on;if(t){for(var n,r=0,a=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?t.length=a:delete this.__on}}}function fi(e,t,n){return function(){var r,a=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(a)for(var i=0,s=a.length;i<s;++i)if((r=a[i]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},a?a.push(r):this.__on=[r]}}function hi(e,t,n){var r=Do(e),a=r.CustomEvent;"function"===typeof a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function vi(e,t){return function(){return hi(this,e,t)}}function xi(e,t){return function(){return hi(this,e,t.apply(this,arguments))}}Go.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var yi=[null];function bi(e,t){this._groups=e,this._parents=t}function ki(){return new bi([[document.documentElement]],yi)}bi.prototype=ki.prototype={constructor:bi,select:function(e){"function"!==typeof e&&(e=uo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o,i,s=t[a],l=s.length,c=r[a]=new Array(l),d=0;d<l;++d)(o=s[d])&&(i=e.call(o,o.__data__,d,s))&&("__data__"in o&&(i.__data__=o.__data__),c[d]=i);return new bi(r,this._parents)},selectAll:function(e){e="function"===typeof e?po(e):go(e);for(var t=this._groups,n=t.length,r=[],a=[],o=0;o<n;++o)for(var i,s=t[o],l=s.length,c=0;c<l;++c)(i=s[c])&&(r.push(e.call(i,i.__data__,c,s)),a.push(i));return new bi(r,a)},selectChild:function(e){return this.select(null==e?xo:function(e){return function(){return vo.call(this.children,e)}}("function"===typeof e?e:ho(e)))},selectChildren:function(e){return this.selectAll(null==e?bo:function(e){return function(){return yo.call(this.children,e)}}("function"===typeof e?e:ho(e)))},filter:function(e){"function"!==typeof e&&(e=fo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o,i=t[a],s=i.length,l=r[a]=[],c=0;c<s;++c)(o=i[c])&&e.call(o,o.__data__,c,i)&&l.push(o);return new bi(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Co);var n,r=t?No:jo,a=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var i=o.length,s=new Array(i),l=new Array(i),c=new Array(i),d=0;d<i;++d){var u=a[d],m=o[d],g=m.length,p=So(e.call(u,u&&u.__data__,d,a)),f=p.length,h=l[d]=new Array(f),v=s[d]=new Array(f);r(u,m,h,v,c[d]=new Array(g),p,t);for(var x,y,b=0,k=0;b<f;++b)if(x=h[b]){for(b>=k&&(k=b+1);!(y=v[k])&&++k<f;);x._next=y||null}}return(s=new bi(s,a))._enter=l,s._exit=c,s},enter:function(){return new bi(this._enter||this._groups.map(ko),this._parents)},exit:function(){return new bi(this._exit||this._groups.map(ko),this._parents)},join:function(e,t,n){var r=this.enter(),a=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(a=t(a))&&(a=a.selection()),null==n?o.remove():n(o),r&&a?r.merge(a).order():a},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,o=r.length,i=Math.min(a,o),s=new Array(a),l=0;l<i;++l)for(var c,d=n[l],u=r[l],m=d.length,g=s[l]=new Array(m),p=0;p<m;++p)(c=d[p]||u[p])&&(g[p]=c);for(;l<a;++l)s[l]=n[l];return new bi(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,a=e[t],o=a.length-1,i=a[o];--o>=0;)(r=a[o])&&(i&&4^r.compareDocumentPosition(i)&&i.parentNode.insertBefore(r,i),i=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=Eo);for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o){for(var i,s=n[o],l=s.length,c=a[o]=new Array(l),d=0;d<l;++d)(i=s[d])&&(c[d]=i);c.sort(t)}return new bi(a,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,o=r.length;a<o;++a){var i=r[a];if(i)return i}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,o=t[n],i=0,s=o.length;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this},attr:function(e,t){var n=Io(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?Po:Mo:"function"===typeof t?n.local?zo:Ro:n.local?Ao:To)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?Lo:"function"===typeof t?Fo:Bo)(e,t,null==n?"":n)):Ho(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Wo:"function"===typeof t?qo:Vo)(e,t)):this.node()[e]},classed:function(e,t){var n=Uo(e+"");if(arguments.length<2){for(var r=Ko(this.node()),a=-1,o=n.length;++a<o;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"===typeof t?Zo:t?$o:Jo)(n,t))},text:function(e){return arguments.length?this.each(null==e?Qo:("function"===typeof e?ti:ei)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ni:("function"===typeof e?ai:ri)(e)):this.node().innerHTML},raise:function(){return this.each(oi)},lower:function(){return this.each(ii)},append:function(e){var t="function"===typeof e?e:ci(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:ci(e),r=null==t?di:"function"===typeof t?t:uo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(ui)},clone:function(e){return this.select(e?gi:mi)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,a,o=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),i=o.length;if(!(arguments.length<2)){for(s=t?fi:pi,r=0;r<i;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var l,c=0,d=s.length;c<d;++c)for(r=0,l=s[c];r<i;++r)if((a=o[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?xi:vi)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,a=e[t],o=0,i=a.length;o<i;++o)(r=a[o])&&(yield r)}};const wi=ki;var ji={value:()=>{}};function Ni(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Ci(r)}function Ci(e){this._=e}function Si(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function Ei(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=ji,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Ci.prototype=Ni.prototype={constructor:Ci,on:function(e,t){var n,r=this._,a=function(e,t){return e.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(e+"",r),o=-1,i=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<i;)if(n=(e=a[o]).type)r[n]=Ei(r[n],e.name,t);else if(null==t)for(n in r)r[n]=Ei(r[n],e.name,null);return this}for(;++o<i;)if((n=(e=a[o]).type)&&(n=Si(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ci(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),o=0;o<n;++o)a[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,o=r.length;a<o;++a)r[a].value.apply(t,n)}};const _i=Ni;var Oi,Ii,Mi=0,Pi=0,Ti=0,Ai=0,Ri=0,zi=0,Di="object"===typeof performance&&performance.now?performance:Date,Li="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Bi(){return Ri||(Li(Fi),Ri=Di.now()+zi)}function Fi(){Ri=0}function Hi(){this._call=this._time=this._next=null}function Wi(e,t,n){var r=new Hi;return r.restart(e,t,n),r}function Vi(){Ri=(Ai=Di.now())+zi,Mi=Pi=0;try{!function(){Bi(),++Mi;for(var e,t=Oi;t;)(e=Ri-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mi}()}finally{Mi=0,function(){var e,t,n=Oi,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Oi=t);Ii=e,Ui(r)}(),Ri=0}}function qi(){var e=Di.now(),t=e-Ai;t>1e3&&(zi-=t,Ai=e)}function Ui(e){Mi||(Pi&&(Pi=clearTimeout(Pi)),e-Ri>24?(e<1/0&&(Pi=setTimeout(Vi,e-Di.now()-zi)),Ti&&(Ti=clearInterval(Ti))):(Ti||(Ai=Di.now(),Ti=setInterval(qi,1e3)),Mi=1,Li(Vi)))}function Ki(e,t,n){var r=new Hi;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}Hi.prototype=Wi.prototype={constructor:Hi,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Bi():+n)+(null==t?0:+t),this._next||Ii===this||(Ii?Ii._next=this:Oi=this,Ii=this),this._call=e,this._time=n,Ui()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ui())}};var Gi=_i("start","end","cancel","interrupt"),Xi=[];function Yi(e,t,n,r,a,o){var i=e.__transition;if(i){if(n in i)return}else e.__transition={};!function(e,t,n){var r,a=e.__transition;function o(e){n.state=1,n.timer.restart(i,n.delay,n.time),n.delay<=e&&i(e-n.delay)}function i(o){var c,d,u,m;if(1!==n.state)return l();for(c in a)if((m=a[c]).name===n.name){if(3===m.state)return Ki(i);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete a[c]):+c<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete a[c])}if(Ki(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(u=n.tween.length),c=0,d=-1;c<u;++c)(m=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=m);r.length=d+1}}function s(t){for(var a=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),o=-1,i=r.length;++o<i;)r[o].call(e,a);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete a[t],a)return;delete e.__transition}a[t]=n,n.timer=Wi(o,0,n.time)}(e,n,{name:t,index:r,group:a,on:Gi,tween:Xi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function $i(e,t){var n=Zi(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ji(e,t){var n=Zi(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Zi(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qi(e,t){var n,r,a,o=e.__transition,i=!0;if(o){for(a in t=null==t?null:t+"",o)(n=o[a]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[a]):i=!1;i&&delete e.__transition}}function es(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var ts,ns=180/Math.PI,rs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function as(e,t,n,r,a,o){var i,s,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*ns,skewX:Math.atan(l)*ns,scaleX:i,scaleY:s}}function os(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(o,i){var s=[],l=[];return o=e(o),i=e(i),function(e,r,a,o,i,s){if(e!==a||r!==o){var l=i.push("translate(",null,t,null,n);s.push({i:l-4,x:es(e,a)},{i:l-2,x:es(r,o)})}else(a||o)&&i.push("translate("+a+t+o+n)}(o.translateX,o.translateY,i.translateX,i.translateY,s,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(a(n)+"rotate(",null,r)-2,x:es(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(o.rotate,i.rotate,s,l),function(e,t,n,o){e!==t?o.push({i:n.push(a(n)+"skewX(",null,r)-2,x:es(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(o.skewX,i.skewX,s,l),function(e,t,n,r,o,i){if(e!==n||t!==r){var s=o.push(a(o)+"scale(",null,",",null,")");i.push({i:s-4,x:es(e,n)},{i:s-2,x:es(t,r)})}else 1===n&&1===r||o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,i.scaleX,i.scaleY,s,l),o=i=null,function(e){for(var t,n=-1,r=l.length;++n<r;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var is=os(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rs:as(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),ss=os(function(e){return null==e?rs:(ts||(ts=document.createElementNS("http://www.w3.org/2000/svg","g")),ts.setAttribute("transform",e),(e=ts.transform.baseVal.consolidate())?as((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):rs)},", ",")",")");function ls(e,t){var n,r;return function(){var a=Ji(this,e),o=a.tween;if(o!==n)for(var i=0,s=(r=n=o).length;i<s;++i)if(r[i].name===t){(r=r.slice()).splice(i,1);break}a.tween=r}}function cs(e,t,n){var r,a;if("function"!==typeof n)throw new Error;return function(){var o=Ji(this,e),i=o.tween;if(i!==r){a=(r=i).slice();for(var s={name:t,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===t){a[l]=s;break}l===c&&a.push(s)}o.tween=a}}function ds(e,t,n){var r=e._id;return e.each(function(){var e=Ji(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Zi(e,r).value[t]}}function us(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ms(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function gs(){}var ps=.7,fs=1/ps,hs="\\s*([+-]?\\d+)\\s*",vs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ys=/^#([0-9a-f]{3,8})$/,bs=new RegExp("^rgb\\(".concat(hs,",").concat(hs,",").concat(hs,"\\)$")),ks=new RegExp("^rgb\\(".concat(xs,",").concat(xs,",").concat(xs,"\\)$")),ws=new RegExp("^rgba\\(".concat(hs,",").concat(hs,",").concat(hs,",").concat(vs,"\\)$")),js=new RegExp("^rgba\\(".concat(xs,",").concat(xs,",").concat(xs,",").concat(vs,"\\)$")),Ns=new RegExp("^hsl\\(".concat(vs,",").concat(xs,",").concat(xs,"\\)$")),Cs=new RegExp("^hsla\\(".concat(vs,",").concat(xs,",").concat(xs,",").concat(vs,"\\)$")),Ss={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Es(){return this.rgb().formatHex()}function _s(){return this.rgb().formatRgb()}function Os(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ys.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?Is(t):3===n?new Ts(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Ms(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Ms(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=bs.exec(e))?new Ts(t[1],t[2],t[3],1):(t=ks.exec(e))?new Ts(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ws.exec(e))?Ms(t[1],t[2],t[3],t[4]):(t=js.exec(e))?Ms(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ns.exec(e))?Bs(t[1],t[2]/100,t[3]/100,1):(t=Cs.exec(e))?Bs(t[1],t[2]/100,t[3]/100,t[4]):Ss.hasOwnProperty(e)?Is(Ss[e]):"transparent"===e?new Ts(NaN,NaN,NaN,0):null}function Is(e){return new Ts(e>>16&255,e>>8&255,255&e,1)}function Ms(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ts(e,t,n,r)}function Ps(e,t,n,r){return 1===arguments.length?function(e){return e instanceof gs||(e=Os(e)),e?new Ts((e=e.rgb()).r,e.g,e.b,e.opacity):new Ts}(e):new Ts(e,t,n,null==r?1:r)}function Ts(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function As(){return"#".concat(Ls(this.r)).concat(Ls(this.g)).concat(Ls(this.b))}function Rs(){const e=zs(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(Ds(this.r),", ").concat(Ds(this.g),", ").concat(Ds(this.b)).concat(1===e?")":", ".concat(e,")"))}function zs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ls(e){return((e=Ds(e))<16?"0":"")+e.toString(16)}function Bs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hs(e,t,n,r)}function Fs(e){if(e instanceof Hs)return new Hs(e.h,e.s,e.l,e.opacity);if(e instanceof gs||(e=Os(e)),!e)return new Hs;if(e instanceof Hs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),o=Math.max(t,n,r),i=NaN,s=o-a,l=(o+a)/2;return s?(i=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+a:2-o-a,i*=60):s=l>0&&l<1?0:i,new Hs(i,s,l,e.opacity)}function Hs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ws(e){return(e=(e||0)%360)<0?e+360:e}function Vs(e){return Math.max(0,Math.min(1,e||0))}function qs(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Us(e,t,n,r,a){var o=e*e,i=o*e;return((1-3*e+3*o-i)*t+(4-6*o+3*i)*n+(1+3*e+3*o-3*i)*r+i*a)/6}us(gs,Os,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Es,formatHex:Es,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Fs(this).formatHsl()},formatRgb:_s,toString:_s}),us(Ts,Ps,ms(gs,{brighter(e){return e=null==e?fs:Math.pow(fs,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ps:Math.pow(ps,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(Ds(this.r),Ds(this.g),Ds(this.b),zs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:As,formatHex:As,formatHex8:function(){return"#".concat(Ls(this.r)).concat(Ls(this.g)).concat(Ls(this.b)).concat(Ls(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:Rs,toString:Rs})),us(Hs,function(e,t,n,r){return 1===arguments.length?Fs(e):new Hs(e,t,n,null==r?1:r)},ms(gs,{brighter(e){return e=null==e?fs:Math.pow(fs,e),new Hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ps:Math.pow(ps,e),new Hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Ts(qs(e>=240?e-240:e+120,a,r),qs(e,a,r),qs(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new Hs(Ws(this.h),Vs(this.s),Vs(this.l),zs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zs(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(Ws(this.h),", ").concat(100*Vs(this.s),"%, ").concat(100*Vs(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const Ks=e=>()=>e;function Gs(e,t){return function(n){return e+n*t}}function Xs(e){return 1===(e=+e)?Ys:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ks(isNaN(t)?n:t)}}function Ys(e,t){var n=t-e;return n?Gs(e,n):Ks(isNaN(e)?t:e)}const $s=function e(t){var n=Xs(t);function r(e,t){var r=n((e=Ps(e)).r,(t=Ps(t)).r),a=n(e.g,t.g),o=n(e.b,t.b),i=Ys(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function Js(e){return function(t){var n,r,a=t.length,o=new Array(a),i=new Array(a),s=new Array(a);for(n=0;n<a;++n)r=Ps(t[n]),o[n]=r.r||0,i[n]=r.g||0,s[n]=r.b||0;return o=e(o),i=e(i),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=i(e),r.b=s(e),r+""}}}Js(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],i=r>0?e[r-1]:2*a-o,s=r<t-1?e[r+2]:2*o-a;return Us((n-r/t)*t,i,a,o,s)}}),Js(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],i=e[(r+1)%t],s=e[(r+2)%t];return Us((n-r/t)*t,a,o,i,s)}});var Zs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qs=new RegExp(Zs.source,"g");function el(e,t){var n,r,a,o=Zs.lastIndex=Qs.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=Zs.exec(e))&&(r=Qs.exec(t));)(a=r.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:es(n,r)})),o=Qs.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function tl(e,t){var n;return("number"===typeof t?es:t instanceof Os?$s:(n=Os(t))?(t=n,$s):el)(e,t)}function nl(e){return function(){this.removeAttribute(e)}}function rl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function al(e,t,n){var r,a,o=n+"";return function(){var i=this.getAttribute(e);return i===o?null:i===r?a:a=t(r=i,n)}}function ol(e,t,n){var r,a,o=n+"";return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?a:a=t(r=i,n)}}function il(e,t,n){var r,a,o;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttribute(e))===(s=l+"")?null:i===r&&s===a?o:(a=s,o=t(r=i,l));this.removeAttribute(e)}}function sl(e,t,n){var r,a,o;return function(){var i,s,l=n(this);if(null!=l)return(i=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:i===r&&s===a?o:(a=s,o=t(r=i,l));this.removeAttributeNS(e.space,e.local)}}function ll(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,a)),n}return a._value=t,a}function cl(e,t){var n,r;function a(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,a)),n}return a._value=t,a}function dl(e,t){return function(){$i(this,e).delay=+t.apply(this,arguments)}}function ul(e,t){return t=+t,function(){$i(this,e).delay=t}}function ml(e,t){return function(){Ji(this,e).duration=+t.apply(this,arguments)}}function gl(e,t){return t=+t,function(){Ji(this,e).duration=t}}var pl=wi.prototype.constructor;function fl(e){return function(){this.style.removeProperty(e)}}var hl=0;function vl(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function xl(){return++hl}var yl=wi.prototype;vl.prototype=function(e){return wi().transition(e)}.prototype={constructor:vl,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=uo(e));for(var r=this._groups,a=r.length,o=new Array(a),i=0;i<a;++i)for(var s,l,c=r[i],d=c.length,u=o[i]=new Array(d),m=0;m<d;++m)(s=c[m])&&(l=e.call(s,s.__data__,m,c))&&("__data__"in s&&(l.__data__=s.__data__),u[m]=l,Yi(u[m],t,n,m,u,Zi(s,n)));return new vl(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=go(e));for(var r=this._groups,a=r.length,o=[],i=[],s=0;s<a;++s)for(var l,c=r[s],d=c.length,u=0;u<d;++u)if(l=c[u]){for(var m,g=e.call(l,l.__data__,u,c),p=Zi(l,n),f=0,h=g.length;f<h;++f)(m=g[f])&&Yi(m,t,n,f,g,p);o.push(g),i.push(l)}return new vl(o,i,t,n)},selectChild:yl.selectChild,selectChildren:yl.selectChildren,filter:function(e){"function"!==typeof e&&(e=fo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var o,i=t[a],s=i.length,l=r[a]=[],c=0;c<s;++c)(o=i[c])&&e.call(o,o.__data__,c,i)&&l.push(o);return new vl(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,o=Math.min(r,a),i=new Array(r),s=0;s<o;++s)for(var l,c=t[s],d=n[s],u=c.length,m=i[s]=new Array(u),g=0;g<u;++g)(l=c[g]||d[g])&&(m[g]=l);for(;s<r;++s)i[s]=t[s];return new vl(i,this._parents,this._name,this._id)},selection:function(){return new pl(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=xl(),r=this._groups,a=r.length,o=0;o<a;++o)for(var i,s=r[o],l=s.length,c=0;c<l;++c)if(i=s[c]){var d=Zi(i,t);Yi(i,e,n,c,s,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new vl(r,this._parents,e,n)},call:yl.call,nodes:yl.nodes,node:yl.node,size:yl.size,empty:yl.empty,each:yl.each,on:function(e,t){var n=this._id;return arguments.length<2?Zi(this.node(),n).on.on(e):this.each(function(e,t,n){var r,a,o=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?$i:Ji;return function(){var i=o(this,e),s=i.on;s!==r&&(a=(r=s).copy()).on(t,n),i.on=a}}(n,e,t))},attr:function(e,t){var n=Io(e),r="transform"===n?ss:tl;return this.attrTween(e,"function"===typeof t?(n.local?sl:il)(n,r,ds(this,"attr."+e,t)):null==t?(n.local?rl:nl)(n):(n.local?ol:al)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=Io(e);return this.tween(n,(r.local?ll:cl)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?is:tl;return null==t?this.styleTween(e,function(e,t){var n,r,a;return function(){var o=Ho(this,e),i=(this.style.removeProperty(e),Ho(this,e));return o===i?null:o===n&&i===r?a:a=t(n=o,r=i)}}(e,r)).on("end.style."+e,fl(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,a,o;return function(){var i=Ho(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=Ho(this,e)),i===l?null:i===r&&l===a?o:(a=l,o=t(r=i,s))}}(e,r,ds(this,"style."+e,t))).each(function(e,t){var n,r,a,o,i="style."+t,s="end."+i;return function(){var l=Ji(this,e),c=l.on,d=null==l.value[i]?o||(o=fl(t)):void 0;c===n&&a===d||(r=(n=c).copy()).on(s,a=d),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,a,o=n+"";return function(){var i=Ho(this,e);return i===o?null:i===r?a:a=t(r=i,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,a;function o(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ds(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,a=Zi(this.node(),n).tween,o=0,i=a.length;o<i;++o)if((r=a[o]).name===e)return r.value;return null}return this.each((null==t?ls:cs)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?dl:ul)(t,e)):Zi(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?ml:gl)(t,e)):Zi(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Ji(this,e).ease=t}}(t,e)):Zi(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Ji(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(o,i){var s={value:i},l={value:function(){0===--a&&o()}};n.each(function(){var n=Ji(this,r),a=n.on;a!==e&&((t=(e=a).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t}),0===a&&o()})},[Symbol.iterator]:yl[Symbol.iterator]};var bl={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function kl(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}wi.prototype.interrupt=function(e){return this.each(function(){Qi(this,e)})},wi.prototype.transition=function(e){var t,n;e instanceof vl?(t=e._id,e=e._name):(t=xl(),(n=bl).time=Bi(),e=null==e?null:e+"");for(var r=this._groups,a=r.length,o=0;o<a;++o)for(var i,s=r[o],l=s.length,c=0;c<l;++c)(i=s[c])&&Yi(i,e,t,c,s,n||kl(i,t));return new vl(r,this._parents,e,t)};const{abs:wl,max:jl,min:Nl}=Math;function Cl(e){return[+e[0],+e[1]]}function Sl(e){return[Cl(e[0]),Cl(e[1])]}["w","e"].map(El),["n","s"].map(El),["n","w","e","s","nw","ne","sw","se"].map(El);function El(e){return{type:e}}function _l(e,t){return e.parent===t.parent?1:2}function Ol(e,t){return e+t.x}function Il(e,t){return Math.max(e,t.y)}function Ml(){var e=_l,t=1,n=1,r=!1;function a(a){var o,i=0;a.eachAfter(function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Ol,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Il,0)}(n)):(t.x=o?i+=e(t,o):0,t.y=0,o=t)});var s=function(e){for(var t;t=e.children;)e=t[0];return e}(a),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(a),c=s.x-e(s,l)/2,d=l.x+e(l,s)/2;return a.eachAfter(r?function(e){e.x=(e.x-a.x)*t,e.y=(a.y-e.y)*n}:function(e){e.x=(e.x-c)/(d-c)*t,e.y=(1-(a.y?e.y/a.y:1))*n})}return a.separation=function(t){return arguments.length?(e=t,a):e},a.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],a):r?null:[t,n]},a.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],a):r?[t,n]:null},a}function Pl(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function Tl(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Rl)):void 0===t&&(t=Al);for(var n,r,a,o,i,s=new Ll(e),l=[s];n=l.pop();)if((a=t(n.data))&&(i=(a=Array.from(a)).length))for(n.children=a,o=i-1;o>=0;--o)l.push(r=a[o]=new Ll(a[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Dl)}function Al(e){return e.children}function Rl(e){return Array.isArray(e)?e[1]:null}function zl(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Dl(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Ll(e){this.data=e,this.depth=this.height=0,this.parent=null}function Bl(e){return"string"===typeof e?new bi([[document.querySelector(e)]],[document.documentElement]):new bi([[e]],yi)}Ll.prototype=Tl.prototype={constructor:Ll,count:function(){return this.eachAfter(Pl)},each:function(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this},eachAfter:function(e,t){for(var n,r,a,o=this,i=[o],s=[],l=-1;o=i.pop();)if(s.push(o),n=o.children)for(r=0,a=n.length;r<a;++r)i.push(n[r]);for(;o=s.pop();)e.call(t,o,++l,this);return this},eachBefore:function(e,t){for(var n,r,a=this,o=[a],i=-1;a=o.pop();)if(e.call(t,a,++i,this),n=a.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r},sum:function(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;e=n.pop(),t=r.pop();for(;e===t;)a=e,e=n.pop(),t=r.pop();return a}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function(){return Tl(this).eachBefore(zl)},[Symbol.iterator]:function*(){var e,t,n,r,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(yield a,t=a.children)for(n=0,r=t.length;n<r;++n)o.push(t[n])}while(o.length)}};var Fl,Hl,Wl,Vl,ql,Ul,Kl,Gl,Xl,Yl,$l,Jl,Zl,Ql,ec=Array.prototype.slice;function tc(e){return function(){return e}}class nc{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function rc(e){return new nc(e,!0)}function ac(e){return new nc(e,!1)}function oc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const ic=Math.PI,sc=2*ic,lc=1e-6,cc=sc-lc;function dc(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class uc{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?dc:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return dc;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append(Fl||(Fl=oc(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(Hl||(Hl=oc(["Z"]))))}lineTo(e,t){this._append(Wl||(Wl=oc(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,n,r){this._append(Vl||(Vl=oc(["Q",",",",",",",""])),+e,+t,this._x1=+n,this._y1=+r)}bezierCurveTo(e,t,n,r,a,o){this._append(ql||(ql=oc(["C",",",",",",",",",",",""])),+e,+t,+n,+r,this._x1=+a,this._y1=+o)}arcTo(e,t,n,r,a){if(e=+e,t=+t,n=+n,r=+r,(a=+a)<0)throw new Error("negative radius: ".concat(a));let o=this._x1,i=this._y1,s=n-e,l=r-t,c=o-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append(Ul||(Ul=oc(["M",",",""])),this._x1=e,this._y1=t);else if(u>lc)if(Math.abs(d*s-l*c)>lc&&a){let m=n-o,g=r-i,p=s*s+l*l,f=m*m+g*g,h=Math.sqrt(p),v=Math.sqrt(u),x=a*Math.tan((ic-Math.acos((p+u-f)/(2*h*v)))/2),y=x/v,b=x/h;Math.abs(y-1)>lc&&this._append(Gl||(Gl=oc(["L",",",""])),e+y*c,t+y*d),this._append(Xl||(Xl=oc(["A",",",",0,0,",",",",",""])),a,a,+(d*m>c*g),this._x1=e+b*s,this._y1=t+b*l)}else this._append(Kl||(Kl=oc(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,n,r,a,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error("negative radius: ".concat(n));let i=n*Math.cos(r),s=n*Math.sin(r),l=e+i,c=t+s,d=1^o,u=o?r-a:a-r;null===this._x1?this._append(Yl||(Yl=oc(["M",",",""])),l,c):(Math.abs(this._x1-l)>lc||Math.abs(this._y1-c)>lc)&&this._append($l||($l=oc(["L",",",""])),l,c),n&&(u<0&&(u=u%sc+sc),u>cc?this._append(Jl||(Jl=oc(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),n,n,d,e-i,t-s,n,n,d,this._x1=l,this._y1=c):u>lc&&this._append(Zl||(Zl=oc(["A",",",",0,",",",",",",",""])),n,n,+(u>=ic),d,this._x1=e+n*Math.cos(a),this._y1=t+n*Math.sin(a)))}rect(e,t,n,r){this._append(Ql||(Ql=oc(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,n=+n,+r,-n)}toString(){return this._}}function mc(e){return e[0]}function gc(e){return e[1]}function pc(e){return e.source}function fc(e){return e.target}function hc(e){let t=pc,n=fc,r=mc,a=gc,o=null,i=null,s=function(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError("invalid digits: ".concat(n));t=e}return e},()=>new uc(t)}(l);function l(){let l;const c=ec.call(arguments),d=t.apply(this,c),u=n.apply(this,c);if(null==o&&(i=e(l=s())),i.lineStart(),c[0]=d,i.point(+r.apply(this,c),+a.apply(this,c)),c[0]=u,i.point(+r.apply(this,c),+a.apply(this,c)),i.lineEnd(),l)return i=null,l+""||null}return l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.x=function(e){return arguments.length?(r="function"===typeof e?e:tc(+e),l):r},l.y=function(e){return arguments.length?(a="function"===typeof e?e:tc(+e),l):a},l.context=function(t){return arguments.length?(null==t?o=i=null:i=e(o=t),l):o},l}const vc={passive:!1},xc={capture:!0,passive:!1};function yc(e){e.stopImmediatePropagation()}function bc(e){e.preventDefault(),e.stopImmediatePropagation()}function kc(e){var t=e.document.documentElement,n=Bl(e).on("dragstart.drag",bc,xc);"onselectstart"in t?n.on("selectstart.drag",bc,xc):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function wc(e,t){var n=e.document.documentElement,r=Bl(e).on("dragstart.drag",null);t&&(r.on("click.drag",bc,xc),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function jc(e){return((e=Math.exp(e))+1/e)/2}const Nc=function e(t,n,r){function a(e,a){var o,i,s=e[0],l=e[1],c=e[2],d=a[0],u=a[1],m=a[2],g=d-s,p=u-l,f=g*g+p*p;if(f<1e-12)i=Math.log(m/c)/t,o=function(e){return[s+e*g,l+e*p,c*Math.exp(t*e*i)]};else{var h=Math.sqrt(f),v=(m*m-c*c+r*f)/(2*c*n*h),x=(m*m-c*c-r*f)/(2*m*n*h),y=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(x*x+1)-x);i=(b-y)/t,o=function(e){var r,a=e*i,o=jc(y),d=c/(n*h)*(o*(r=t*a+y,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(y));return[s+d*g,l+d*p,c*o/jc(t*a+y)]}}return o.duration=1e3*i*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},a}(Math.SQRT2,2,4);function Cc(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const Sc=e=>()=>e;function Ec(e,t){let{sourceEvent:n,target:r,transform:a,dispatch:o}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function _c(e,t,n){this.k=e,this.x=t,this.y=n}_c.prototype={constructor:_c,scale:function(e){return 1===e?this:new _c(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new _c(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oc=new _c(1,0,0);function Ic(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Oc;return e.__zoom}function Mc(e){e.stopImmediatePropagation()}function Pc(e){e.preventDefault(),e.stopImmediatePropagation()}function Tc(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Ac(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Rc(){return this.__zoom||Oc}function zc(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Dc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Lc(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i))}function Bc(){var e,t,n,r=Tc,a=Ac,o=Lc,i=zc,s=Dc,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,u=Nc,m=_i("start","zoom","end"),g=0,p=10;function f(e){e.property("__zoom",Rc).on("wheel.zoom",w,{passive:!1}).on("mousedown.zoom",j).on("dblclick.zoom",N).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",E).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new _c(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,a=t[1]-n[1]*e.k;return r===e.x&&a===e.y?e:new _c(e.k,r,a)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function y(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,o=arguments,i=b(e,o).event(r),s=a.apply(e,o),l=null==n?x(s):"function"===typeof n?n.apply(e,o):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),d=e.__zoom,m="function"===typeof t?t.apply(e,o):t,g=u(d.invert(l).concat(c/d.k),m.invert(l).concat(c/m.k));return function(e){if(1===e)e=m;else{var t=g(e),n=c/t[2];e=new _c(n,l[0]-t[0]*n,l[1]-t[1]*n)}i.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=a.apply(e,t),this.taps=0}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(r.apply(this,arguments)){var s=b(this,n).event(e),d=this.__zoom,u=Math.max(l[0],Math.min(l[1],d.k*Math.pow(2,i.apply(this,arguments)))),m=Cc(e);if(s.wheel)s.mouse[0][0]===m[0]&&s.mouse[0][1]===m[1]||(s.mouse[1]=d.invert(s.mouse[0]=m)),clearTimeout(s.wheel);else{if(d.k===u)return;s.mouse=[m,d.invert(m)],Qi(this),s.start()}Pc(e),s.wheel=setTimeout(function(){s.wheel=null,s.end()},150),s.zoom("mouse",o(v(h(d,u),s.mouse[0],s.mouse[1]),s.extent,c))}}function j(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];if(!n&&r.apply(this,arguments)){var s=e.currentTarget,l=b(this,a,!0).event(e),d=Bl(e.view).on("mousemove.zoom",function(e){if(Pc(e),!l.moved){var t=e.clientX-m,n=e.clientY-p;l.moved=t*t+n*n>g}l.event(e).zoom("mouse",o(v(l.that.__zoom,l.mouse[0]=Cc(e,s),l.mouse[1]),l.extent,c))},!0).on("mouseup.zoom",function(e){d.on("mousemove.zoom mouseup.zoom",null),wc(e.view,l.moved),Pc(e),l.event(e).end()},!0),u=Cc(e,s),m=e.clientX,p=e.clientY;kc(e.view),Mc(e),l.mouse=[u,this.__zoom.invert(u)],Qi(this),l.start()}}function N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var s=this.__zoom,l=Cc(e.changedTouches?e.changedTouches[0]:e,this),u=s.invert(l),m=s.k*(e.shiftKey?.5:2),g=o(v(h(s,m),l,u),a.apply(this,n),c);Pc(e),d>0?Bl(this).transition().duration(d).call(y,g,l,e):Bl(this).call(f.transform,g,l,e)}}function C(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];if(r.apply(this,arguments)){var s,l,c,d,u=n.touches,m=u.length,g=b(this,o,n.changedTouches.length===m).event(n);for(Mc(n),l=0;l<m;++l)d=[d=Cc(c=u[l],this),this.__zoom.invert(d),c.identifier],g.touch0?g.touch1||g.touch0[2]===d[2]||(g.touch1=d,g.taps=0):(g.touch0=d,s=!0,g.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(g.taps<2&&(t=d[0],e=setTimeout(function(){e=null},500)),Qi(this),g.start())}}function S(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,i,s,l,d=b(this,n).event(e),u=e.changedTouches,m=u.length;for(Pc(e),a=0;a<m;++a)s=Cc(i=u[a],this),d.touch0&&d.touch0[2]===i.identifier?d.touch0[0]=s:d.touch1&&d.touch1[2]===i.identifier&&(d.touch1[0]=s);if(i=d.that.__zoom,d.touch1){var g=d.touch0[0],p=d.touch0[1],f=d.touch1[0],x=d.touch1[1],y=(y=f[0]-g[0])*y+(y=f[1]-g[1])*y,k=(k=x[0]-p[0])*k+(k=x[1]-p[1])*k;i=h(i,Math.sqrt(y/k)),s=[(g[0]+f[0])/2,(g[1]+f[1])/2],l=[(p[0]+x[0])/2,(p[1]+x[1])/2]}else{if(!d.touch0)return;s=d.touch0[0],l=d.touch0[1]}d.zoom("touch",o(v(i,s,l),d.extent,c))}}function E(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];if(this.__zooming){var i,s,l=b(this,a).event(e),c=e.changedTouches,d=c.length;for(Mc(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),i=0;i<d;++i)s=c[i],l.touch0&&l.touch0[2]===s.identifier?delete l.touch0:l.touch1&&l.touch1[2]===s.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(s=Cc(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<p)){var u=Bl(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return f.transform=function(e,t,n,r){var a=e.selection?e.selection():e;a.property("__zoom",Rc),e!==a?y(e,t,n,r):a.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},f.scaleBy=function(e,t,n,r){f.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},f.scaleTo=function(e,t,n,r){f.transform(e,function(){var e=a.apply(this,arguments),r=this.__zoom,i=null==n?x(e):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(i),l="function"===typeof t?t.apply(this,arguments):t;return o(v(h(r,l),i,s),e,c)},n,r)},f.translateBy=function(e,t,n,r){f.transform(e,function(){return o(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),a.apply(this,arguments),c)},null,r)},f.translateTo=function(e,t,n,r,i){f.transform(e,function(){var e=a.apply(this,arguments),i=this.__zoom,s=null==r?x(e):"function"===typeof r?r.apply(this,arguments):r;return o(Oc.translate(s[0],s[1]).scale(i.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)},r,i)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Bl(this.that).datum();m.call(e,this.that,new Ec(e,{sourceEvent:this.sourceEvent,target:f,type:e,transform:this.that.__zoom,dispatch:m}),t)}},f.wheelDelta=function(e){return arguments.length?(i="function"===typeof e?e:Sc(+e),f):i},f.filter=function(e){return arguments.length?(r="function"===typeof e?e:Sc(!!e),f):r},f.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Sc(!!e),f):s},f.extent=function(e){return arguments.length?(a="function"===typeof e?e:Sc([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),f):a},f.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],f):[l[0],l[1]]},f.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],f):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},f.constrain=function(e){return arguments.length?(o=e,f):o},f.duration=function(e){return arguments.length?(d=+e,f):d},f.interpolate=function(e){return arguments.length?(u=e,f):u},f.on=function(){var e=m.on.apply(m,arguments);return e===m?f:e},f.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,f):Math.sqrt(g)},f.tapDistance=function(e){return arguments.length?(p=+e,f):p},f}Ic.prototype=_c.prototype;const Fc=e=>{let{nodes:t,onNodeClick:n,className:a=""}=e;const o=(0,r.useRef)(),i=(0,r.useRef)(),[s,l]=(0,r.useState)("horizontal"),[c,d]=(0,r.useState)(!1),u=(0,r.useCallback)(e=>{if(!e||0===e.length)return null;const t=new Map;e.forEach(e=>{e.id?t.set(e.id,{id:e.id,name:e.name||"Unnamed Node",description:e.description||"",sensitivity:e.sensitivity||"NON_SENSITIVE",business_domain:e.business_domain||"",weight:e.weight||1,level:e.level||1,children:[]}):console.warn("Node missing id:",e)});let n=null;return e.forEach(e=>{if(!e.id)return;const r=t.get(e.id);if(r)if(e.parent_id&&t.has(e.parent_id))t.get(e.parent_id).children.push(r);else if(n){if(!n.virtual){n={id:"virtual-root",name:"Root",description:"Taxonomy Root",sensitivity:"NON_SENSITIVE",business_domain:"",weight:1,level:0,virtual:!0,children:[n]}}n.children.push(r)}else n=r}),n},[]),m=(0,r.useCallback)(()=>{if(!o.current||!i.current)return;const e=u(t);if(!e)return void console.warn("No root node found in taxonomy data");Bl(o.current).selectAll("*").remove();const r=i.current.getBoundingClientRect(),a=20,d=90,m=30,f=90,h=Math.max(r.width-f-d,800),v=Math.max(r.height-a-m,600),x=Bl(o.current).attr("width",h+f+d).attr("height",v+a+m),y=x.append("g").attr("transform","translate(".concat(f,",").concat(a,")")).append("g").attr("class","zoom-group"),b=Tl(e),k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"vertical"===s?Ml().size([(h-100)*e,v*e]).separation((t,n)=>(t.parent===n.parent?1:2)*e):Ml().size([v*e,(h-100)*e]).separation((t,n)=>(t.parent===n.parent?1:2)*e)}(1.5)(b),w=k.descendants(),j=k.links(),N="vertical"===s?hc(ac).x(e=>e.x).y(e=>e.y):hc(rc).x(e=>e.y).y(e=>e.x),C=Bc().scaleExtent([.1,8]).wheelDelta(function(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.001)}).filter(function(e){return!e.ctrlKey&&!e.button}).on("zoom",e=>{const{transform:t}=e,n=t.k,r=Math.round(100*n);let a=x.select(".zoom-indicator");a.empty()&&(a=x.append("text").attr("class","zoom-indicator").attr("x",10).attr("y",20).style("font-size","14px").style("fill","#374151").style("font-weight","bold").style("pointer-events","none").style("user-select","none").style("opacity",.9)),a.text("".concat(r,"%"));let o=x.select(".help-text");o.empty()&&(o=x.append("text").attr("class","help-text").attr("x",10).attr("y",40).style("font-size","11px").style("fill","#6b7280").style("font-weight","500").style("pointer-events","none").style("user-select","none").style("opacity",.8).text("Scroll to zoom \u2022 Drag to pan \u2022 +/- to zoom \u2022 0 to reset \u2022 Toggle orientation \u2022 Fullscreen")),y.attr("transform",t);const i=1/n,l=Math.max(8,Math.min(16,12*Math.sqrt(Math.max(.5,i)))),c=Math.max(.5,Math.min(3,2*i)),d=y.selectAll(".node"),u=d.data(),m=[];d.selectAll("text.node-label").style("font-size","".concat(l,"px")).style("stroke-width",n<.5?"".concat(.3*c,"px"):"0px").style("stroke",n<.5?"white":"none").style("paint-order",n<.5?"stroke fill":"normal").attr("dx",function(e,t){if("vertical"===s)return 0;e.children;const r=Math.max(10,15*i);let a=e.children?-r:r;if(n>1.5){const n=Ic(x.node()),r=e.originalY*n.k+n.x,o=e.originalX*n.k+n.y,i=8*l;let s=0;for(let e=0;e<Math.min(u.length,20);e++)if(t!==e){const t=u[e],c=t.originalY*n.k+n.x,d=t.originalX*n.k+n.y,m=Math.sqrt(Math.pow(r-c,2)+Math.pow(o-d,2));if(m<i&&(s++,m<4*l)){const e=1+.3*(1-m/i);a=Math.sign(a)*Math.abs(a)*e;break}}}return a}).attr("dy",function(e){return"vertical"===s?e.children?-8:20:".35em"}).each(function(e){const t=Bl(this),n=e.data.name.length,r=Math.max(12,Math.floor(25*Math.min(2,i)));n>r?t.text(e.data.name.substring(0,r)+"..."):t.text(e.data.name);const a=this.getBBox();m.push({node:e,bounds:a,element:this})}),d.selectAll("text.sensitivity-label").style("font-size","".concat(Math.max(8,.8*l),"px")).attr("dx",function(e){if("vertical"===s)return 0;e.children;const t=Math.max(10,18*i);return e.children?-t:t}).attr("dy",function(e){return"vertical"===s?e.children?-25-10*i:35+10*i:"".concat(1.3+.7*i,"em")}).style("opacity",n<.3?0:1),d.selectAll("text.level-label").style("font-size","".concat(Math.max(7,.7*l),"px")).attr("dx",0).attr("dy",function(e){return"vertical"===s?e.children?-40-15*i:-8-5*i:"".concat(-1.7-.5*i,"em")}).style("opacity",n<.4?0:1),d.selectAll("text.domain-label").style("font-size","".concat(Math.max(7,.6*l),"px")).attr("dx",function(e){if("vertical"===s)return 0;e.children;const t=Math.max(10,18*i);return e.children?-t:t}).attr("dy",function(e){return"vertical"===s?50+15*i:"".concat(2.8+1*i,"em")}).style("opacity",n<.5?0:1),y.selectAll(".node circle").style("stroke-width","".concat(Math.max(1,c),"px")).attr("r",function(e){return(e.data.virtual?8:6)*Math.max(.5,Math.min(2,.8*i))}),y.selectAll(".link").style("stroke-width","".concat(Math.max(1,c),"px"))});g.current=C,x.call(C);const S=h+f-60,E=x.append("g").attr("class","zoom-controls").attr("transform","translate(".concat(S,", 20)")).style("pointer-events","all"),_=x.append("g").attr("class","orientation-controls").attr("transform","translate(".concat(S,", 160)")).style("pointer-events","all");E.append("rect").attr("x",-8).attr("y",-8).attr("width",46).attr("height",126).attr("rx",12).style("fill","rgba(255, 255, 255, 0.95)").style("stroke","#e5e7eb").style("stroke-width",1.5).style("filter","drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))").style("backdrop-filter","blur(4px)"),E.append("rect").attr("width",30).attr("height",30).attr("rx",6).style("fill","#ffffff").style("stroke","#d1d5db").style("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.2s ease").on("click",e=>{e.stopPropagation(),x.transition().duration(300).call(C.scaleBy,1.4)}).on("mouseover",function(){Bl(this).style("fill","#f8fafc").style("stroke","#9ca3af")}).on("mouseout",function(){Bl(this).style("fill","#ffffff").style("stroke","#d1d5db")}),E.append("text").attr("x",15).attr("y",20).style("text-anchor","middle").style("font-size","18px").style("font-weight","600").style("fill","#374151").style("pointer-events","none").style("user-select","none").text("+"),E.append("rect").attr("y",35).attr("width",30).attr("height",30).attr("rx",6).style("fill","#ffffff").style("stroke","#d1d5db").style("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.2s ease").on("click",e=>{e.stopPropagation(),x.transition().duration(300).call(C.scaleBy,.7)}).on("mouseover",function(){Bl(this).style("fill","#f8fafc").style("stroke","#9ca3af")}).on("mouseout",function(){Bl(this).style("fill","#ffffff").style("stroke","#d1d5db")}),E.append("text").attr("x",15).attr("y",55).style("text-anchor","middle").style("font-size","20px").style("font-weight","600").style("fill","#374151").style("pointer-events","none").style("user-select","none").text("\u2212"),E.append("rect").attr("y",70).attr("width",30).attr("height",30).attr("rx",6).style("fill","#ffffff").style("stroke","#d1d5db").style("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.2s ease").on("click",e=>{e.stopPropagation();const t=y.node().getBBox(),n=t.width,r=t.height,a=t.x+n/2,o=t.y+r/2;if(0===n||0===r)return;const i=.9*Math.min(h/n,v/r),s=[h/2-i*a,v/2-i*o];x.transition().duration(750).call(C.transform,Oc.translate(s[0],s[1]).scale(i))}).on("mouseover",function(){Bl(this).style("fill","#f8fafc").style("stroke","#9ca3af")}).on("mouseout",function(){Bl(this).style("fill","#ffffff").style("stroke","#d1d5db")}),E.append("text").attr("x",15).attr("y",90).style("text-anchor","middle").style("font-size","14px").style("font-weight","600").style("fill","#374151").style("pointer-events","none").style("user-select","none").text("\u2302"),_.append("rect").attr("x",-8).attr("y",-8).attr("width",46).attr("height",115).attr("rx",12).style("fill","rgba(255, 255, 255, 0.95)").style("stroke","#e5e7eb").style("stroke-width",1.5).style("filter","drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))").style("backdrop-filter","blur(4px)"),_.append("rect").attr("width",30).attr("height",30).attr("rx",6).style("fill","horizontal"===s?"#3b82f6":"#ffffff").style("stroke","horizontal"===s?"#1d4ed8":"#d1d5db").style("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.2s ease").on("click",e=>{e.stopPropagation(),l("horizontal")}).on("mouseover",function(){"horizontal"!==s&&Bl(this).style("fill","#f8fafc").style("stroke","#9ca3af")}).on("mouseout",function(){"horizontal"!==s&&Bl(this).style("fill","#ffffff").style("stroke","#d1d5db")}),_.append("text").attr("x",15).attr("y",20).style("text-anchor","middle").style("font-size","12px").style("font-weight","600").style("fill","horizontal"===s?"#ffffff":"#374151").style("pointer-events","none").style("user-select","none").text("\u27f7"),_.append("rect").attr("y",35).attr("width",30).attr("height",30).attr("rx",6).style("fill","vertical"===s?"#3b82f6":"#ffffff").style("stroke","vertical"===s?"#1d4ed8":"#d1d5db").style("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.2s ease").on("click",e=>{e.stopPropagation(),l("vertical")}).on("mouseover",function(){"vertical"!==s&&Bl(this).style("fill","#f8fafc").style("stroke","#9ca3af")}).on("mouseout",function(){"vertical"!==s&&Bl(this).style("fill","#ffffff").style("stroke","#d1d5db")}),_.append("text").attr("x",15).attr("y",55).style("text-anchor","middle").style("font-size","12px").style("font-weight","600").style("fill","vertical"===s?"#ffffff":"#374151").style("pointer-events","none").style("user-select","none").text("\u2195"),_.append("rect").attr("y",70).attr("width",30).attr("height",30).attr("rx",6).style("fill",c?"#10b981":"#ffffff").style("stroke",c?"#059669":"#d1d5db").style("stroke-width",1.5).style("cursor","pointer").style("transition","all 0.2s ease").on("click",e=>{e.stopPropagation(),p()}).on("mouseover",function(){c||Bl(this).style("fill","#f0fdf4").style("stroke","#10b981")}).on("mouseout",function(){c||Bl(this).style("fill","#ffffff").style("stroke","#d1d5db")}),_.append("text").attr("x",15).attr("y",90).style("text-anchor","middle").style("font-size","10px").style("font-weight","600").style("fill",c?"#ffffff":"#374151").style("pointer-events","none").style("user-select","none").text("\u26f6"),y.selectAll(".link").data(j).enter().append("path").attr("class","link").attr("d",N).style("fill","none").style("stroke",e=>"SENSITIVE"===e.target.data.sensitivity?"#ef4444":"#6b7280").style("stroke-width","2px").style("opacity",.8).style("stroke-linecap","round").style("stroke-linejoin","round");const O=y.selectAll(".node").data(w).enter().append("g").attr("class","node").attr("transform",e=>"number"===typeof e.x&&"number"===typeof e.y?(e.originalX=e.x,e.originalY=e.y,"vertical"===s?"translate(".concat(e.x,",").concat(e.y,")"):"translate(".concat(e.y,",").concat(e.x,")")):"translate(0,0)").style("cursor","pointer").on("click",(e,t)=>{e.stopPropagation(),n&&!t.data.virtual&&n(t.data)});O.append("circle").attr("r",e=>e.data.virtual?8:6).style("fill",e=>{const t=e.data;return t.virtual?"#3b82f6":"SENSITIVE"===t.sensitivity?"#ef4444":"#22c55e"}).style("stroke",e=>{const t=e.data;return t.virtual?"#1d4ed8":"SENSITIVE"===t.sensitivity?"#dc2626":"#16a34a"}).style("stroke-width","2px"),O.append("text").attr("class","node-label").attr("dy","vertical"===s?e=>e.children?-8:20:".35em").attr("dx","vertical"===s?0:e=>e.children?-13:13).style("text-anchor","vertical"===s?"middle":e=>e.children?"end":"start").style("font-size","12px").style("font-weight","500").style("fill","#374151").text(e=>e.data.name).each(function(e){const t=Bl(this);e.data.name.length>20&&t.text(e.data.name.substring(0,20)+"...")}),O.filter(e=>!e.data.virtual&&"SENSITIVE"===e.data.sensitivity).append("text").attr("class","sensitivity-label").attr("dy","vertical"===s?e=>e.children?-25:35:"1.2em").attr("dx","vertical"===s?0:e=>e.children?-13:13).style("text-anchor","vertical"===s?"middle":e=>e.children?"end":"start").style("font-size","10px").style("fill","#ef4444").style("font-weight","500").text("SENSITIVE"),O.filter(e=>!e.data.virtual).append("text").attr("class","level-label").attr("dy","vertical"===s?e=>e.children?-40:-8:"-1.5em").attr("dx",0).style("text-anchor","middle").style("font-size","10px").style("fill","#6b7280").style("font-weight","600").text(e=>"L".concat(e.data.level)),O.filter(e=>!e.data.virtual&&!e.children&&e.data.business_domain).append("text").attr("class","domain-label").attr("dy","vertical"===s?50:"2.5em").attr("dx","vertical"===s?0:e=>e.children?-13:13).style("text-anchor","vertical"===s?"middle":e=>e.children?"end":"start").style("font-size","9px").style("fill","#6b7280").style("font-style","italic").style("font-weight","400").text(e=>e.data.business_domain.replace("_"," "));const I=Bl("body").append("div").attr("class","dendrogram-tooltip").style("position","absolute").style("padding","8px 12px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","6px").style("font-size","12px").style("pointer-events","none").style("opacity",0).style("z-index",1e3);return O.on("mouseover",function(e,t){if(t.data.virtual)return;const n=Ic(x.node()).k,r=Math.max(11,Math.min(14,12*Math.sqrt(1/n)));I.transition().duration(200).style("opacity",.95),I.html('\n        <div style="font-size: '.concat(r+2,'px;"><strong>').concat(t.data.name,'</strong></div>\n        <div style="margin-top: 4px; font-size: ').concat(r,'px;">').concat(t.data.description,'</div>\n        <div style="margin-top: 4px; font-size: ').concat(r,'px;">\n          <span style="color: ').concat("SENSITIVE"===t.data.sensitivity?"#fca5a5":"#86efac",'; font-weight: 600;">\n            ').concat(t.data.sensitivity,"\n          </span>\n        </div>\n        ").concat(t.data.business_domain?'<div style="margin-top: 4px; font-size: '.concat(r-1,'px;">Domain: <em>').concat(t.data.business_domain.replace("_"," "),"</em></div>"):"",'\n        <div style="margin-top: 4px; font-size: ').concat(r-1,'px;">Level: ').concat(t.data.level," \u2022 Weight: ").concat(t.data.weight,"</div>\n      ")).style("left",e.pageX+12+"px").style("top",e.pageY-12+"px").style("font-size",r+"px").style("max-width",Math.max(200,250/n)+"px")}).on("mousemove",function(e){I.style("left",e.pageX+12+"px").style("top",e.pageY-12+"px")}).on("mouseout",function(){I.transition().duration(300).style("opacity",0)}),()=>{Bl("body").selectAll(".dendrogram-tooltip").remove()}},[t,n,u,s,c]);(0,r.useEffect)(()=>{const e=setTimeout(()=>{m()},100);return()=>{clearTimeout(e),Bl("body").selectAll(".dendrogram-tooltip").remove()}},[m]),(0,r.useEffect)(()=>{let e;const t=()=>{clearTimeout(e),e=setTimeout(()=>{m()},250)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),clearTimeout(e)}},[m]);const g=(0,r.useRef)(),p=(0,r.useCallback)(()=>{d(!c)},[c]);(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&c&&d(!1)};return c?(document.addEventListener("keydown",e),document.body.style.overflow="hidden"):document.body.style.overflow="",()=>{document.removeEventListener("keydown",e),c||(document.body.style.overflow="")}},[c]),(0,r.useEffect)(()=>{const e=e=>{if(!o.current||!g.current)return;const t=Bl(o.current),n=g.current;switch(e.key){case"+":case"=":e.preventDefault(),t.transition().duration(300).call(n.scaleBy,1.4);break;case"-":e.preventDefault(),t.transition().duration(300).call(n.scaleBy,.7);break;case"0":e.preventDefault();const r=t.select(".zoom-group");if(!r.empty()){const e=r.node().getBBox(),a=i.current.getBoundingClientRect(),o={top:20,right:90,bottom:30,left:90},s=a.width-o.left-o.right,l=a.height-o.top-o.bottom;if(e.width>0&&e.height>0){const r=.9*Math.min(s/e.width,l/e.height),a=[s/2-r*(e.x+e.width/2),l/2-r*(e.y+e.height/2)];t.transition().duration(750).call(n.transform,Oc.translate(a[0],a[1]).scale(r))}else t.transition().duration(500).call(n.transform,Oc)}break;case"ArrowUp":e.preventDefault(),t.transition().duration(200).call(n.translateBy,0,-50);break;case"ArrowDown":e.preventDefault(),t.transition().duration(200).call(n.translateBy,0,50);break;case"ArrowLeft":e.preventDefault(),t.transition().duration(200).call(n.translateBy,-50,0);break;case"ArrowRight":e.preventDefault(),t.transition().duration(200).call(n.translateBy,50,0)}},t=i.current;if(t)return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},[]);const f=()=>(0,Ue.jsxs)("div",{ref:i,className:"w-full h-full focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 relative overflow-hidden ".concat(c?"min-h-screen":"min-h-[400px]"),tabIndex:0,role:"img","aria-label":"Interactive dendrogram visualization with zoom and pan controls",style:{cursor:"grab"},onMouseDown:e=>{e.target===i.current&&(i.current.style.cursor="grabbing")},onMouseUp:()=>{i.current&&(i.current.style.cursor="grab")},onMouseLeave:()=>{i.current&&(i.current.style.cursor="grab")},children:[(0,Ue.jsx)("svg",{ref:o,className:"w-full h-full select-none",style:{minHeight:c?"100vh":"400px",background:"radial-gradient(circle at 50% 50%, rgba(59, 130, 246, 0.02) 0%, transparent 50%)"}}),(!t||0===t.length)&&(0,Ue.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50/80 dark:bg-gray-900/80 backdrop-blur-sm",children:(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading dendrogram..."})]})}),c&&(0,Ue.jsx)("button",{onClick:p,className:"absolute top-4 right-4 z-50 p-2 bg-white dark:bg-gray-800 rounded-full shadow-lg border hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors","aria-label":"Exit fullscreen",children:(0,Ue.jsx)("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c&&(0,Ue.jsx)("div",{className:"absolute top-4 left-4 z-40 bg-black/70 text-white px-3 py-2 rounded-lg text-sm",children:"Press ESC or click \xd7 to exit fullscreen"})]});return t&&0!==t.length?c?(0,Ue.jsx)("div",{className:"fixed inset-0 z-50 bg-white dark:bg-gray-900",children:f()}):(0,Ue.jsx)("div",{className:"w-full bg-white dark:bg-gray-800 rounded-lg border ".concat(a),children:f()}):(0,Ue.jsx)("div",{className:"flex items-center justify-center h-64 bg-gray-50 dark:bg-gray-900 rounded-lg border ".concat(a),children:(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No taxonomy data available"})})};function Hc(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=Hc(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Wc=n(443);const Vc=e=>{let t;const n=new Set,r=(e,r)=>{const a="function"===typeof e?e(t):e;if(!Object.is(a,t)){const e=t;t=(null!=r?r:"object"!==typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!=={NODE_ENV:"production"}.MODE&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(r,a,o);return o},qc=e=>e?Vc(e):Vc;const{useDebugValue:Uc}=r,{useSyncExternalStoreWithSelector:Kc}=Wc,Gc=e=>e;function Xc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gc,n=arguments.length>2?arguments[2]:void 0;const r=Kc(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Uc(r),r}const Yc=(e,t)=>{const n=qc(e),r=function(e){return Xc(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function $c(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Jc=e=>()=>e;function Zc(e,t){let{sourceEvent:n,subject:r,target:a,identifier:o,active:i,x:s,y:l,dx:c,dy:d,dispatch:u}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}function Qc(e){return!e.ctrlKey&&!e.button}function ed(){return this.parentNode}function td(e,t){return null==t?{x:e.x,y:e.y}:t}function nd(){return navigator.maxTouchPoints||"ontouchstart"in this}Zc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const rd=["position","children","className","style"],ad=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],od=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],id=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesUpdatable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","children","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdate","onEdgeUpdateStart","onEdgeUpdateEnd","onReconnect","onReconnectStart","onReconnectEnd","reconnectRadius","edgeUpdaterRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold"],sd=(0,r.createContext)(null),ld=sd.Provider,cd=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),dd=()=>"The React Flow parent container needs a width and a height to render the graph.",ud=()=>"Only child nodes can use a parent extent.",md=()=>"Can't create edge. An edge needs a source and a target.",gd=e=>'Marker type "'.concat(e,"\" doesn't exist."),pd=(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),fd=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",hd=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),vd=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),xd=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function yd(e,t){const n=(0,r.useContext)(sd);if(null===n)throw new Error(xd);return Xc(n,e,t)}const bd=()=>{const e=(0,r.useContext)(sd);if(null===e)throw new Error(xd);return(0,r.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},kd=e=>e.userSelectionActive?"none":"all";function wd(e){let{position:t,children:n,className:a,style:o}=e,i=Be(e,rd);const s=yd(kd),l="".concat(t).split("-");return r.createElement("div",Le({className:Hc(["react-flow__panel",a,...l]),style:Le(Le({},o),{},{pointerEvents:s})},i),n)}function jd(e){let{proOptions:t,position:n="bottom-right"}=e;return null!==t&&void 0!==t&&t.hideAttribution?null:r.createElement(wd,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},r.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Nd=(0,r.memo)(e=>{let{x:t,y:n,label:a,labelStyle:o={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:d,className:u}=e,m=Be(e,ad);const g=(0,r.useRef)(null),[p,f]=(0,r.useState)({x:0,y:0,width:0,height:0}),h=Hc(["react-flow__edge-textwrapper",u]);return(0,r.useEffect)(()=>{if(g.current){const e=g.current.getBBox();f({x:e.x,y:e.y,width:e.width,height:e.height})}},[a]),"undefined"!==typeof a&&a?r.createElement("g",Le({transform:"translate(".concat(t-p.width/2," ").concat(n-p.height/2,")"),className:h,visibility:p.width?"visible":"hidden"},m),i&&r.createElement("rect",{width:p.width+2*l[0],x:-l[0],y:-l[1],height:p.height+2*l[1],className:"react-flow__edge-textbg",style:s,rx:c,ry:c}),r.createElement("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:g,style:o},a),d):null});const Cd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Sd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Ed=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Sd(e.x,t[0][0],t[1][0]),y:Sd(e.y,t[0][1],t[1][1])}},_d=(e,t,n)=>e<t?Sd(Math.abs(e-t),1,50)/50:e>n?-Sd(Math.abs(e-n),1,50)/50:0,Od=(e,t)=>[20*_d(e.x,35,t.width-35),20*_d(e.y,35,t.height-35)],Id=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Md=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Pd=e=>{let{x:t,y:n,width:r,height:a}=e;return{x:t,y:n,x2:t+r,y2:n+a}},Td=e=>{let{x:t,y:n,x2:r,y2:a}=e;return{x:t,y:n,width:r-t,height:a-n}},Ad=e=>Le(Le({},e.positionAbsolute||{x:0,y:0}),{},{width:e.width||0,height:e.height||0}),Rd=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},zd=e=>!isNaN(e)&&isFinite(e),Dd=Symbol.for("internals"),Ld=["Enter"," ","Escape"],Bd=(e,t)=>{0};function Fd(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,r=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===r||void 0===r?void 0:r.nodeName)||(null===r||void 0===r?void 0:r.hasAttribute("contenteditable"))||!(null===r||void 0===r||!r.closest(".nokey"))}const Hd=e=>"clientX"in e,Wd=(e,t)=>{var n,r,a,o;const i=Hd(e),s=i?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=i?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:s-(null!==(a=null===t||void 0===t?void 0:t.left)&&void 0!==a?a:0),y:l-(null!==(o=null===t||void 0===t?void 0:t.top)&&void 0!==o?o:0)}},Vd=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},qd=e=>{let{id:t,path:n,labelX:a,labelY:o,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:p,interactionWidth:f=20}=e;return r.createElement(r.Fragment,null,r.createElement("path",{id:t,style:m,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:g,markerStart:p}),f&&r.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),i&&zd(a)&&zd(o)?r.createElement(Nd,{x:a,y:o,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u}):null)};qd.displayName="BaseEdge";function Ud(e,t,n){return void 0===n?n:r=>{const a=t().edges.find(t=>t.id===e);a&&n(r,Le({},a))}}function Kd(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e;const o=Math.abs(r-t)/2,i=r<t?r+o:r-o,s=Math.abs(a-n)/2;return[i,a<n?a+s:a-s,o,s]}function Gd(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a,sourceControlX:o,sourceControlY:i,targetControlX:s,targetControlY:l}=e;const c=.125*t+.375*o+.375*s+.125*r,d=.125*n+.375*i+.375*l+.125*a;return[c,d,Math.abs(c-t),Math.abs(d-n)]}var Xd,Yd,$d,Jd,Zd,Qd;function eu(e){let{pos:t,x1:n,y1:r,x2:a,y2:o}=e;return t===Qd.Left||t===Qd.Right?[.5*(n+a),r]:[n,.5*(r+o)]}function tu(e){let{sourceX:t,sourceY:n,sourcePosition:r=Qd.Bottom,targetX:a,targetY:o,targetPosition:i=Qd.Top}=e;const[s,l]=eu({pos:r,x1:t,y1:n,x2:a,y2:o}),[c,d]=eu({pos:i,x1:a,y1:o,x2:t,y2:n}),[u,m,g,p]=Gd({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:s,sourceControlY:l,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(s,",").concat(l," ").concat(c,",").concat(d," ").concat(a,",").concat(o),u,m,g,p]}!function(e){e.Strict="strict",e.Loose="loose"}(Xd||(Xd={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(Yd||(Yd={})),function(e){e.Partial="partial",e.Full="full"}($d||($d={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(Jd||(Jd={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(Zd||(Zd={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(Qd||(Qd={}));const nu=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:a,targetY:o,sourcePosition:i=Qd.Bottom,targetPosition:s=Qd.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:g,style:p,markerEnd:f,markerStart:h,interactionWidth:v}=e;const[x,y,b]=tu({sourceX:t,sourceY:n,sourcePosition:i,targetX:a,targetY:o,targetPosition:s});return r.createElement(qd,{path:x,labelX:y,labelY:b,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:g,style:p,markerEnd:f,markerStart:h,interactionWidth:v})});nu.displayName="SimpleBezierEdge";const ru={[Qd.Left]:{x:-1,y:0},[Qd.Right]:{x:1,y:0},[Qd.Top]:{x:0,y:-1},[Qd.Bottom]:{x:0,y:1}},au=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ou(e){let{source:t,sourcePosition:n=Qd.Bottom,target:r,targetPosition:a=Qd.Top,center:o,offset:i}=e;const s=ru[n],l=ru[a],c={x:t.x+s.x*i,y:t.y+s.y*i},d={x:r.x+l.x*i,y:r.y+l.y*i},u=(e=>{let{source:t,sourcePosition:n=Qd.Bottom,target:r}=e;return n===Qd.Left||n===Qd.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:d}),m=0!==u.x?"x":"y",g=u[m];let p,f,h=[];const v={x:0,y:0},x={x:0,y:0},[y,b,k,w]=Kd({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(s[m]*l[m]===-1){var j,N;p=null!==(j=o.x)&&void 0!==j?j:y,f=null!==(N=o.y)&&void 0!==N?N:b;const e=[{x:p,y:c.y},{x:p,y:d.y}],t=[{x:c.x,y:f},{x:d.x,y:f}];h=s[m]===g?"x"===m?e:t:"x"===m?t:e}else{const e=[{x:c.x,y:d.y}],o=[{x:d.x,y:c.y}];if(h="x"===m?s.x===g?o:e:s.y===g?e:o,n===a){const e=Math.abs(t[m]-r[m]);if(e<=i){const n=Math.min(i-1,i-e);s[m]===g?v[m]=(c[m]>t[m]?-1:1)*n:x[m]=(d[m]>r[m]?-1:1)*n}}if(n!==a){const t="x"===m?"y":"x",n=s[m]===l[t],r=c[t]>d[t],a=c[t]<d[t];(1===s[m]&&(!n&&r||n&&a)||1!==s[m]&&(!n&&a||n&&r))&&(h="x"===m?e:o)}const u={x:c.x+v.x,y:c.y+v.y},y={x:d.x+x.x,y:d.y+x.y};Math.max(Math.abs(u.x-h[0].x),Math.abs(y.x-h[0].x))>=Math.max(Math.abs(u.y-h[0].y),Math.abs(y.y-h[0].y))?(p=(u.x+y.x)/2,f=h[0].y):(p=h[0].x,f=(u.y+y.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...h,{x:d.x+x.x,y:d.y+x.y},r],p,f,k,w]}function iu(e){let{sourceX:t,sourceY:n,sourcePosition:r=Qd.Bottom,targetX:a,targetY:o,targetPosition:i=Qd.Top,borderRadius:s=5,centerX:l,centerY:c,offset:d=20}=e;const[u,m,g,p,f]=ou({source:{x:t,y:n},sourcePosition:r,target:{x:a,y:o},targetPosition:i,center:{x:l,y:c},offset:d}),h=u.reduce((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const a=Math.min(au(e,t)/2,au(t,n)/2,r),{x:o,y:i}=t;if(e.x===o&&o===n.x||e.y===i&&i===n.y)return"L".concat(o," ").concat(i);if(e.y===i){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(o+a*t,",").concat(i,"Q ").concat(o,",").concat(i," ").concat(o,",").concat(i+a*r)}const s=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(o,",").concat(i+a*l,"Q ").concat(o,",").concat(i," ").concat(o+a*s,",").concat(i)}(u[n-1],t,u[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r},"");return[h,m,g,p,f]}const su=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:a,targetY:o,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,sourcePosition:g=Qd.Bottom,targetPosition:p=Qd.Top,markerEnd:f,markerStart:h,pathOptions:v,interactionWidth:x}=e;const[y,b,k]=iu({sourceX:t,sourceY:n,sourcePosition:g,targetX:a,targetY:o,targetPosition:p,borderRadius:null===v||void 0===v?void 0:v.borderRadius,offset:null===v||void 0===v?void 0:v.offset});return r.createElement(qd,{path:y,labelX:b,labelY:k,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:f,markerStart:h,interactionWidth:x})});su.displayName="SmoothStepEdge";const lu=(0,r.memo)(e=>{var t;return r.createElement(su,Le(Le({},e),{},{pathOptions:(0,r.useMemo)(()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}},[null===(t=e.pathOptions)||void 0===t?void 0:t.offset])}))});lu.displayName="StepEdge";const cu=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:a,targetY:o,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:p,interactionWidth:f}=e;const[h,v,x]=function(e){let{sourceX:t,sourceY:n,targetX:r,targetY:a}=e;const[o,i,s,l]=Kd({sourceX:t,sourceY:n,targetX:r,targetY:a});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(a),o,i,s,l]}({sourceX:t,sourceY:n,targetX:a,targetY:o});return r.createElement(qd,{path:h,labelX:v,labelY:x,label:i,labelStyle:s,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:m,markerEnd:g,markerStart:p,interactionWidth:f})});function du(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function uu(e){let{pos:t,x1:n,y1:r,x2:a,y2:o,c:i}=e;switch(t){case Qd.Left:return[n-du(n-a,i),r];case Qd.Right:return[n+du(a-n,i),r];case Qd.Top:return[n,r-du(r-o,i)];case Qd.Bottom:return[n,r+du(o-r,i)]}}function mu(e){let{sourceX:t,sourceY:n,sourcePosition:r=Qd.Bottom,targetX:a,targetY:o,targetPosition:i=Qd.Top,curvature:s=.25}=e;const[l,c]=uu({pos:r,x1:t,y1:n,x2:a,y2:o,c:s}),[d,u]=uu({pos:i,x1:a,y1:o,x2:t,y2:n,c:s}),[m,g,p,f]=Gd({sourceX:t,sourceY:n,targetX:a,targetY:o,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(d,",").concat(u," ").concat(a,",").concat(o),m,g,p,f]}cu.displayName="StraightEdge";const gu=(0,r.memo)(e=>{let{sourceX:t,sourceY:n,targetX:a,targetY:o,sourcePosition:i=Qd.Bottom,targetPosition:s=Qd.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:g,style:p,markerEnd:f,markerStart:h,pathOptions:v,interactionWidth:x}=e;const[y,b,k]=mu({sourceX:t,sourceY:n,sourcePosition:i,targetX:a,targetY:o,targetPosition:s,curvature:null===v||void 0===v?void 0:v.curvature});return r.createElement(qd,{path:y,labelX:b,labelY:k,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:m,labelBgBorderRadius:g,style:p,markerEnd:f,markerStart:h,interactionWidth:x})});gu.displayName="BezierEdge";const pu=(0,r.createContext)(null),fu=pu.Provider;pu.Consumer;const hu=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:a}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(r).concat(a||"")},vu=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(t=>"".concat(t,"=").concat(e[t])).join("&"))},xu=(e,t,n,r)=>{let{x:a,y:o}=e,[i,s,l]=t,[c,d]=r;const u={x:(a-i)/l,y:(o-s)/l};return n?{x:c*Math.round(u.x/c),y:d*Math.round(u.y/d)}:u},yu=(e,t)=>{let{x:n,y:r}=e,[a,o,i]=t;return{x:n*i+a,y:r*i+o}},bu=function(e){var t,n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const a=(null!==(t=e.width)&&void 0!==t?t:0)*r[0],o=(null!==(n=e.height)&&void 0!==n?n:0)*r[1],i={x:e.position.x-a,y:e.position.y-o};return Le(Le({},i),{},{positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-a,y:e.positionAbsolute.y-o}:i})},ku=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce((e,n)=>{const{x:r,y:a}=bu(n,t).positionAbsolute;return Md(e,Pd({x:r,y:a,width:n.width||0,height:n.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Td(n)},wu=function(e,t){let[n,r,a]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const l={x:(t.x-n)/a,y:(t.y-r)/a,width:t.width/a,height:t.height/a},c=[];return e.forEach(e=>{const{width:t,height:n,selectable:r=!0,hidden:a=!1}=e;if(i&&!r||a)return!1;const{positionAbsolute:d}=bu(e,s),u={x:d.x,y:d.y,width:t||0,height:n||0},m=Rd(l,u);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||o&&m>0||m>=(t||0)*(n||0)||e.dragging)&&c.push(e)}),c},ju=(e,t)=>{const n=e.map(e=>e.id);return t.filter(e=>n.includes(e.source)||n.includes(e.target))},Nu=function(e,t,n,r,a){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const i=t/(e.width*(1+o)),s=n/(e.height*(1+o)),l=Math.min(i,s),c=Sd(l,r,a);return{x:t/2-(e.x+e.width/2)*c,y:n/2-(e.y+e.height/2)*c,zoom:c}},Cu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Su(e,t,n,r){return(t[n]||[]).reduce((t,a)=>{var o,i,s,l;"".concat(e.id,"-").concat(a.id,"-").concat(n)!==r&&t.push({id:a.id||null,type:n,nodeId:e.id,x:(null!==(o=null===(i=e.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==o?o:0)+a.x+a.width/2,y:(null!==(s=null===(l=e.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+a.y+a.height/2});return t},[])}const Eu={source:null,target:null,sourceHandle:null,targetHandle:null},_u=()=>({handleDomNode:null,isValid:!1,connection:Eu,endHandle:null});function Ou(e,t,n,r,a,o,i){const s="target"===a,l=i.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),c=Le(Le({},_u()),{},{handleDomNode:l});if(l){const e=Iu(void 0,l),a=l.getAttribute("data-nodeid"),i=l.getAttribute("data-handleid"),d=l.classList.contains("connectable"),u=l.classList.contains("connectableend"),m={source:s?a:n,sourceHandle:s?i:r,target:s?n:a,targetHandle:s?r:i};c.connection=m;d&&u&&(t===Xd.Strict?s&&"source"===e||!s&&"target"===e:a!==n||i!==r)&&(c.endHandle={nodeId:a,handleId:i,type:e},c.isValid=o(m))}return c}function Iu(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Mu(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Pu(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Tu(e){let{event:t,handleId:n,nodeId:r,onConnect:a,isTarget:o,getState:i,setState:s,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:d}=e;const u=Id(t.target),{connectionMode:m,domNode:g,autoPanOnConnect:p,connectionRadius:f,onConnectStart:h,panBy:v,getNodes:x,cancelConnection:y}=i();let b,k=0;const{x:w,y:j}=Wd(t),N=null===u||void 0===u?void 0:u.elementFromPoint(w,j),C=Iu(c,N),S=null===g||void 0===g?void 0:g.getBoundingClientRect();if(!S||!C)return;let E,_=Wd(t,S),O=!1,I=null,M=!1,P=null;const T=function(e){let{nodes:t,nodeId:n,handleId:r,handleType:a}=e;return t.reduce((e,t)=>{if(t[Dd]){const{handleBounds:o}=t[Dd];let i=[],s=[];o&&(i=Su(t,o,"source","".concat(n,"-").concat(r,"-").concat(a)),s=Su(t,o,"target","".concat(n,"-").concat(r,"-").concat(a))),e.push(...i,...s)}return e},[])}({nodes:x(),nodeId:r,handleId:n,handleType:C}),A=()=>{if(!p)return;const[e,t]=Od(_,S);v({x:e,y:t}),k=requestAnimationFrame(A)};function R(e){const{transform:t}=i();_=Wd(e,S);const{handle:a,validHandleResult:c}=function(e,t,n,r,a,o){const{x:i,y:s}=Wd(e),l=t.elementsFromPoint(i,s).find(e=>e.classList.contains("react-flow__handle"));if(l){const e=l.getAttribute("data-nodeid");if(e){const t=Iu(void 0,l),r=l.getAttribute("data-handleid"),i=o({nodeId:e,id:r,type:t});if(i){const o=a.find(n=>n.nodeId===e&&n.type===t&&n.id===r);return{handle:{id:r,type:t,nodeId:e,x:(null===o||void 0===o?void 0:o.x)||n.x,y:(null===o||void 0===o?void 0:o.y)||n.y},validHandleResult:i}}}}let c=[],d=1/0;if(a.forEach(e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=r){const n=o(e);t<=d&&(t<d?c=[{handle:e,validHandleResult:n}]:t===d&&c.push({handle:e,validHandleResult:n}),d=t)}}),!c.length)return{handle:null,validHandleResult:_u()};if(1===c.length)return c[0];const u=c.some(e=>{let{validHandleResult:t}=e;return t.isValid}),m=c.some(e=>{let{handle:t}=e;return"target"===t.type});return c.find(e=>{let{handle:t,validHandleResult:n}=e;return m?"target"===t.type:!u||n.isValid})||c[0]}(e,u,xu(_,t,!1,[1,1]),f,T,e=>Ou(e,m,r,n,o?"target":"source",l,u));if(b=a,O||(A(),O=!0),P=c.handleDomNode,I=c.connection,M=c.isValid,s({connectionPosition:b&&M?yu({x:b.x,y:b.y},t):_,connectionStatus:Pu(!!b,M),connectionEndHandle:c.endHandle}),!b&&!M&&!P)return Mu(E);I.source!==I.target&&P&&(Mu(E),E=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",M),P.classList.toggle("react-flow__handle-valid",M))}function z(e){var t,n;(b||P)&&I&&M&&(null===a||void 0===a||a(I)),null===(t=(n=i()).onConnectEnd)||void 0===t||t.call(n,e),c&&(null===d||void 0===d||d(e)),Mu(E),y(),cancelAnimationFrame(k),O=!1,M=!1,I=null,P=null,u.removeEventListener("mousemove",R),u.removeEventListener("mouseup",z),u.removeEventListener("touchmove",R),u.removeEventListener("touchend",z)}s({connectionPosition:_,connectionStatus:null,connectionNodeId:r,connectionHandleId:n,connectionHandleType:C,connectionStartHandle:{nodeId:r,handleId:n,type:C},connectionEndHandle:null}),null===h||void 0===h||h(t,{nodeId:r,handleId:n,handleType:C}),u.addEventListener("mousemove",R),u.addEventListener("mouseup",z),u.addEventListener("touchmove",R),u.addEventListener("touchend",z)}const Au=()=>!0,Ru=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),zu=(0,r.forwardRef)((e,t)=>{let{type:n="source",position:a=Qd.Top,isValidConnection:o,isConnectable:i=!0,isConnectableStart:s=!0,isConnectableEnd:l=!0,id:c,onConnect:d,children:u,className:m,onMouseDown:g,onTouchStart:p}=e,f=Be(e,od);const h=c||null,v="target"===n,x=bd(),y=(0,r.useContext)(pu),{connectOnClick:b,noPanClassName:k}=yd(Ru,$c),{connecting:w,clickConnecting:j}=yd(((e,t,n)=>r=>{const{connectionStartHandle:a,connectionEndHandle:o,connectionClickStartHandle:i}=r;return{connecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n||(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.handleId)===t&&(null===o||void 0===o?void 0:o.type)===n,clickConnecting:(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n}})(y,h,n),$c);var N,C;y||(null===(N=(C=x.getState()).onError)||void 0===N||N.call(C,"010",fd()));const S=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=x.getState(),a=Le(Le({},t),e);if(r){const{edges:e,setEdges:t}=x.getState();t(((e,t)=>{if(!e.source||!e.target)return Bd(0,md()),t;let n;var r;return n="id"in(r=e)&&"source"in r&&"target"in r?Le({},e):Le(Le({},e),{},{id:hu(e)}),((e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)))(n,t)?t:t.concat(n)})(a,e))}null===n||void 0===n||n(a),null===d||void 0===d||d(a)},E=e=>{if(!y)return;const t=Hd(e);s&&(t&&0===e.button||!t)&&Tu({event:e,handleId:h,nodeId:y,onConnect:S,isTarget:v,getState:x.getState,setState:x.setState,isValidConnection:o||x.getState().isValidConnection||Au}),t?null===g||void 0===g||g(e):null===p||void 0===p||p(e)};return r.createElement("div",Le({"data-handleid":h,"data-nodeid":y,"data-handlepos":a,"data-id":"".concat(y,"-").concat(h,"-").concat(n),className:Hc(["react-flow__handle","react-flow__handle-".concat(a),"nodrag",k,m,{source:!v,target:v,connectable:i,connectablestart:s,connectableend:l,connecting:j,connectionindicator:i&&(s&&!w||l&&w)}]),onMouseDown:E,onTouchStart:E,onClick:b?e=>{const{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:a,connectionMode:i,isValidConnection:l}=x.getState();if(!y||!a&&!s)return;if(!a)return null===t||void 0===t||t(e,{nodeId:y,handleId:h,handleType:n}),void x.setState({connectionClickStartHandle:{nodeId:y,type:n,handleId:h}});const c=Id(e.target),d=o||l||Au,{connection:u,isValid:m}=Ou({nodeId:y,id:h,type:n},i,a.nodeId,a.handleId||null,a.type,d,c);m&&S(u),null===r||void 0===r||r(e),x.setState({connectionClickStartHandle:null})}:void 0,ref:t},f),u)});zu.displayName="Handle";var Du=(0,r.memo)(zu);const Lu=e=>{let{data:t,isConnectable:n,targetPosition:a=Qd.Top,sourcePosition:o=Qd.Bottom}=e;return r.createElement(r.Fragment,null,r.createElement(Du,{type:"target",position:a,isConnectable:n}),null===t||void 0===t?void 0:t.label,r.createElement(Du,{type:"source",position:o,isConnectable:n}))};Lu.displayName="DefaultNode";var Bu=(0,r.memo)(Lu);const Fu=e=>{let{data:t,isConnectable:n,sourcePosition:a=Qd.Bottom}=e;return r.createElement(r.Fragment,null,null===t||void 0===t?void 0:t.label,r.createElement(Du,{type:"source",position:a,isConnectable:n}))};Fu.displayName="InputNode";var Hu=(0,r.memo)(Fu);const Wu=e=>{let{data:t,isConnectable:n,targetPosition:a=Qd.Top}=e;return r.createElement(r.Fragment,null,r.createElement(Du,{type:"target",position:a,isConnectable:n}),null===t||void 0===t?void 0:t.label)};Wu.displayName="OutputNode";var Vu=(0,r.memo)(Wu);const qu=()=>null;qu.displayName="GroupNode";const Uu=e=>({selectedNodes:e.getNodes().filter(e=>e.selected),selectedEdges:e.edges.filter(e=>e.selected).map(e=>Le({},e))}),Ku=e=>e.id;function Gu(e,t){return $c(e.selectedNodes.map(Ku),t.selectedNodes.map(Ku))&&$c(e.selectedEdges.map(Ku),t.selectedEdges.map(Ku))}const Xu=(0,r.memo)(e=>{let{onSelectionChange:t}=e;const n=bd(),{selectedNodes:a,selectedEdges:o}=yd(Uu,Gu);return(0,r.useEffect)(()=>{const e={nodes:a,edges:o};null===t||void 0===t||t(e),n.getState().onSelectionChange.forEach(t=>t(e))},[a,o,t]),null});Xu.displayName="SelectionListener";const Yu=e=>!!e.onSelectionChange;function $u(e){let{onSelectionChange:t}=e;const n=yd(Yu);return t||n?r.createElement(Xu,{onSelectionChange:t}):null}const Ju=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Zu(e,t){(0,r.useEffect)(()=>{"undefined"!==typeof e&&t(e)},[e])}function Qu(e,t,n){(0,r.useEffect)(()=>{"undefined"!==typeof t&&n({[e]:t})},[t])}const em=e=>{let{nodes:t,edges:n,defaultNodes:a,defaultEdges:o,onConnect:i,onConnectStart:s,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:d,nodesDraggable:u,nodesConnectable:m,nodesFocusable:g,edgesFocusable:p,edgesUpdatable:f,elevateNodesOnSelect:h,minZoom:v,maxZoom:x,nodeExtent:y,onNodesChange:b,onEdgesChange:k,elementsSelectable:w,connectionMode:j,snapGrid:N,snapToGrid:C,translateExtent:S,connectOnClick:E,defaultEdgeOptions:_,fitView:O,fitViewOptions:I,onNodesDelete:M,onEdgesDelete:P,onNodeDrag:T,onNodeDragStart:A,onNodeDragStop:R,onSelectionDrag:z,onSelectionDragStart:D,onSelectionDragStop:L,noPanClassName:B,nodeOrigin:F,rfId:H,autoPanOnConnect:W,autoPanOnNodeDrag:V,onError:q,connectionRadius:U,isValidConnection:K,nodeDragThreshold:G}=e;const{setNodes:X,setEdges:Y,setDefaultNodesAndEdges:$,setMinZoom:J,setMaxZoom:Z,setTranslateExtent:Q,setNodeExtent:ee,reset:te}=yd(Ju,$c),ne=bd();return(0,r.useEffect)(()=>{const e=null===o||void 0===o?void 0:o.map(e=>Le(Le({},e),_));return $(a,e),()=>{te()}},[]),Qu("defaultEdgeOptions",_,ne.setState),Qu("connectionMode",j,ne.setState),Qu("onConnect",i,ne.setState),Qu("onConnectStart",s,ne.setState),Qu("onConnectEnd",l,ne.setState),Qu("onClickConnectStart",c,ne.setState),Qu("onClickConnectEnd",d,ne.setState),Qu("nodesDraggable",u,ne.setState),Qu("nodesConnectable",m,ne.setState),Qu("nodesFocusable",g,ne.setState),Qu("edgesFocusable",p,ne.setState),Qu("edgesUpdatable",f,ne.setState),Qu("elementsSelectable",w,ne.setState),Qu("elevateNodesOnSelect",h,ne.setState),Qu("snapToGrid",C,ne.setState),Qu("snapGrid",N,ne.setState),Qu("onNodesChange",b,ne.setState),Qu("onEdgesChange",k,ne.setState),Qu("connectOnClick",E,ne.setState),Qu("fitViewOnInit",O,ne.setState),Qu("fitViewOnInitOptions",I,ne.setState),Qu("onNodesDelete",M,ne.setState),Qu("onEdgesDelete",P,ne.setState),Qu("onNodeDrag",T,ne.setState),Qu("onNodeDragStart",A,ne.setState),Qu("onNodeDragStop",R,ne.setState),Qu("onSelectionDrag",z,ne.setState),Qu("onSelectionDragStart",D,ne.setState),Qu("onSelectionDragStop",L,ne.setState),Qu("noPanClassName",B,ne.setState),Qu("nodeOrigin",F,ne.setState),Qu("rfId",H,ne.setState),Qu("autoPanOnConnect",W,ne.setState),Qu("autoPanOnNodeDrag",V,ne.setState),Qu("onError",q,ne.setState),Qu("connectionRadius",U,ne.setState),Qu("isValidConnection",K,ne.setState),Qu("nodeDragThreshold",G,ne.setState),Zu(t,X),Zu(n,Y),Zu(v,J),Zu(x,Z),Zu(S,Q),Zu(y,ee),null},tm={display:"none"},nm={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},rm="react-flow__node-desc",am="react-flow__edge-desc",om=e=>e.ariaLiveMessage;function im(e){let{rfId:t}=e;const n=yd(om);return r.createElement("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:nm},n)}function sm(e){let{rfId:t,disableKeyboardA11y:n}=e;return r.createElement(r.Fragment,null,r.createElement("div",{id:"".concat(rm,"-").concat(t),style:tm},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),r.createElement("div",{id:"".concat(am,"-").concat(t),style:tm},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&r.createElement(im,{rfId:t}))}var lm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[n,a]=(0,r.useState)(!1),o=(0,r.useRef)(!1),i=(0,r.useRef)(new Set([])),[s,l]=(0,r.useMemo)(()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter(e=>"string"===typeof e).map(e=>e.split("+")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,r.useEffect)(()=>{const n="undefined"!==typeof document?document:null,r=(null===t||void 0===t?void 0:t.target)||n;if(null!==e){const e=e=>{o.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Fd(e))return!1;const n=dm(e.code,l);i.current.add(e[n]),cm(s,i.current,!1)&&(e.preventDefault(),a(!0))},n=e=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Fd(e))return!1;const n=dm(e.code,l);cm(s,i.current,!0)?(a(!1),i.current.clear()):i.current.delete(e[n]),"Meta"===e.key&&i.current.clear(),o.current=!1},c=()=>{i.current.clear(),a(!1)};return null===r||void 0===r||r.addEventListener("keydown",e),null===r||void 0===r||r.addEventListener("keyup",n),window.addEventListener("blur",c),()=>{null===r||void 0===r||r.removeEventListener("keydown",e),null===r||void 0===r||r.removeEventListener("keyup",n),window.removeEventListener("blur",c)}}},[e,a]),n};function cm(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function dm(e,t){return t.includes(e)?"code":"key"}function um(e,t,n,r){var a,o,i,s,l,c,d,u;const m=e.parentNode||e.parentId;if(!m)return n;const g=t.get(m),p=bu(g,r);return um(g,t,{x:(null!==(a=n.x)&&void 0!==a?a:0)+p.x,y:(null!==(o=n.y)&&void 0!==o?o:0)+p.y,z:(null!==(i=null===(s=g[Dd])||void 0===s?void 0:s.z)&&void 0!==i?i:0)>(null!==(l=n.z)&&void 0!==l?l:0)?null!==(c=null===(d=g[Dd])||void 0===d?void 0:d.z)&&void 0!==c?c:0:null!==(u=n.z)&&void 0!==u?u:0},r)}function mm(e,t,n){e.forEach(r=>{const a=r.parentNode||r.parentId;if(a&&!e.has(a))throw new Error("Parent node ".concat(a," not found"));if(a||null!==n&&void 0!==n&&n[r.id]){var o,i;const{x:a,y:s,z:l}=um(r,e,Le(Le({},r.position),{},{z:null!==(o=null===(i=r[Dd])||void 0===i?void 0:i.z)&&void 0!==o?o:0}),t);r.positionAbsolute={x:a,y:s},r[Dd].z=l,null!==n&&void 0!==n&&n[r.id]&&(r[Dd].isParent=!0)}})}function gm(e,t,n,r){const a=new Map,o={},i=r?1e3:0;return e.forEach(e=>{var n;const r=(zd(e.zIndex)?e.zIndex:0)+(e.selected?i:0),s=t.get(e.id),l=Le(Le({},e),{},{positionAbsolute:{x:e.position.x,y:e.position.y}}),c=e.parentNode||e.parentId;c&&(o[c]=!0);const d=(null===s||void 0===s?void 0:s.type)&&(null===s||void 0===s?void 0:s.type)!==e.type;Object.defineProperty(l,Dd,{enumerable:!1,value:{handleBounds:d||null===s||void 0===s||null===(n=s[Dd])||void 0===n?void 0:n.handleBounds,z:r}}),a.set(e.id,l)}),mm(a,n,o),a}function pm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:r,height:a,minZoom:o,maxZoom:i,d3Zoom:s,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:d,nodeOrigin:u}=e(),m=t.initial&&!c&&d;if(s&&l&&(m||!t.initial)){const e=n().filter(e=>{var n;const r=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?r&&t.nodes.some(t=>t.id===e.id):r}),c=e.every(e=>e.width&&e.height);if(e.length>0&&c){var g,p,f;const n=ku(e,u),{x:c,y:d,zoom:m}=Nu(n,r,a,null!==(g=t.minZoom)&&void 0!==g?g:o,null!==(p=t.maxZoom)&&void 0!==p?p:i,null!==(f=t.padding)&&void 0!==f?f:.1),h=Oc.translate(c,d).scale(m);return"number"===typeof t.duration&&t.duration>0?s.transform(Cu(l,t.duration),h):s.transform(l,h),!0}}return!1}function fm(e,t){return e.forEach(e=>{const n=t.get(e.id);n&&t.set(n.id,Le(Le({},n),{},{[Dd]:n[Dd],selected:e.selected}))}),new Map(t)}function hm(e,t){return t.map(t=>{const n=e.find(e=>e.id===t.id);return n&&(t.selected=n.selected),t})}function vm(e){let{changedNodes:t,changedEdges:n,get:r,set:a}=e;const{nodeInternals:o,edges:i,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:d}=r();null!==t&&void 0!==t&&t.length&&(c&&a({nodeInternals:fm(t,o)}),null===s||void 0===s||s(t)),null!==n&&void 0!==n&&n.length&&(d&&a({edges:hm(n,i)}),null===l||void 0===l||l(n))}const xm=()=>{},ym={zoomIn:xm,zoomOut:xm,zoomTo:xm,getZoom:()=>1,setViewport:xm,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:xm,fitBounds:xm,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},bm=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection});function km(){const e=(()=>{const e=bd(),{d3Zoom:t,d3Selection:n}=yd(bm,$c),a=(0,r.useMemo)(()=>n&&t?{zoomIn:e=>t.scaleBy(Cu(n,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(Cu(n,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,r)=>t.scaleTo(Cu(n,null===r||void 0===r?void 0:r.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(r,a)=>{var o,i,s;const[l,c,d]=e.getState().transform,u=Oc.translate(null!==(o=r.x)&&void 0!==o?o:l,null!==(i=r.y)&&void 0!==i?i:c).scale(null!==(s=r.zoom)&&void 0!==s?s:d);t.transform(Cu(n,null===a||void 0===a?void 0:a.duration),u)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>pm(e.getState,t),setCenter:(r,a,o)=>{const{width:i,height:s,maxZoom:l}=e.getState(),c="undefined"!==typeof(null===o||void 0===o?void 0:o.zoom)?o.zoom:l,d=i/2-r*c,u=s/2-a*c,m=Oc.translate(d,u).scale(c);t.transform(Cu(n,null===o||void 0===o?void 0:o.duration),m)},fitBounds:(r,a)=>{var o;const{width:i,height:s,minZoom:l,maxZoom:c}=e.getState(),{x:d,y:u,zoom:m}=Nu(r,i,s,l,c,null!==(o=null===a||void 0===a?void 0:a.padding)&&void 0!==o?o:.1),g=Oc.translate(d,u).scale(m);t.transform(Cu(n,null===a||void 0===a?void 0:a.duration),g)},project:t=>{const{transform:n,snapToGrid:r,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),xu(t,n,r,a)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:r,snapGrid:a,domNode:o}=e.getState();if(!o)return t;const{x:i,y:s}=o.getBoundingClientRect(),l={x:t.x-i,y:t.y-s};return xu(l,n,r,a)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:a,y:o}=r.getBoundingClientRect(),i=yu(t,n);return{x:i.x+a,y:i.y+o}},viewportInitialized:!0}:ym,[t,n]);return a})(),t=bd(),n=(0,r.useCallback)(()=>t.getState().getNodes().map(e=>Le({},e)),[]),a=(0,r.useCallback)(e=>t.getState().nodeInternals.get(e),[]),o=(0,r.useCallback)(()=>{const{edges:e=[]}=t.getState();return e.map(e=>Le({},e))},[]),i=(0,r.useCallback)(e=>{const{edges:n=[]}=t.getState();return n.find(t=>t.id===e)},[]),s=(0,r.useCallback)(e=>{const{getNodes:n,setNodes:r,hasDefaultNodes:a,onNodesChange:o}=t.getState(),i=n(),s="function"===typeof e?e(i):e;if(a)r(s);else if(o){const e=0===s.length?i.map(e=>({type:"remove",id:e.id})):s.map(e=>({item:e,type:"reset"}));o(e)}},[]),l=(0,r.useCallback)(e=>{const{edges:n=[],setEdges:r,hasDefaultEdges:a,onEdgesChange:o}=t.getState(),i="function"===typeof e?e(n):e;if(a)r(i);else if(o){o(0===i.length?n.map(e=>({type:"remove",id:e.id})):i.map(e=>({item:e,type:"reset"})))}},[]),c=(0,r.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{getNodes:r,setNodes:a,hasDefaultNodes:o,onNodesChange:i}=t.getState();if(o){a([...r(),...n])}else if(i){const e=n.map(e=>({item:e,type:"add"}));i(e)}},[]),d=(0,r.useCallback)(e=>{const n=Array.isArray(e)?e:[e],{edges:r=[],setEdges:a,hasDefaultEdges:o,onEdgesChange:i}=t.getState();if(o)a([...r,...n]);else if(i){i(n.map(e=>({item:e,type:"add"})))}},[]),u=(0,r.useCallback)(()=>{const{getNodes:e,edges:n=[],transform:r}=t.getState(),[a,o,i]=r;return{nodes:e().map(e=>Le({},e)),edges:n.map(e=>Le({},e)),viewport:{x:a,y:o,zoom:i}}},[]),m=(0,r.useCallback)(e=>{let{nodes:n,edges:r}=e;const{nodeInternals:a,getNodes:o,edges:i,hasDefaultNodes:s,hasDefaultEdges:l,onNodesDelete:c,onEdgesDelete:d,onNodesChange:u,onEdgesChange:m}=t.getState(),g=(n||[]).map(e=>e.id),p=(r||[]).map(e=>e.id),f=o().reduce((e,t)=>{const n=t.parentNode||t.parentId,r=!g.includes(t.id)&&n&&e.find(e=>e.id===n);return("boolean"!==typeof t.deletable||t.deletable)&&(g.includes(t.id)||r)&&e.push(t),e},[]),h=i.filter(e=>"boolean"!==typeof e.deletable||e.deletable),v=h.filter(e=>p.includes(e.id));if(f||v){const e=ju(f,h),n=[...v,...e],r=n.reduce((e,t)=>(e.includes(t.id)||e.push(t.id),e),[]);if((l||s)&&(l&&t.setState({edges:i.filter(e=>!r.includes(e.id))}),s&&(f.forEach(e=>{a.delete(e.id)}),t.setState({nodeInternals:new Map(a)}))),r.length>0&&(null===d||void 0===d||d(n),m&&m(r.map(e=>({id:e,type:"remove"})))),f.length>0&&(null===c||void 0===c||c(f),u)){const e=f.map(e=>({id:e.id,type:"remove"}));u(e)}}},[]),g=(0,r.useCallback)(e=>{const n=zd((r=e).width)&&zd(r.height)&&zd(r.x)&&zd(r.y);var r;const a=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!a)return[null,null,n];return[n?e:Ad(a),a,n]},[]),p=(0,r.useCallback)(function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const[a,o,i]=g(e);return a?(r||t.getState().getNodes()).filter(e=>{if(!i&&(e.id===o.id||!e.positionAbsolute))return!1;const t=Ad(e),r=Rd(t,a);return n&&r>0||r>=a.width*a.height}):[]},[]),f=(0,r.useCallback)(function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[r]=g(e);if(!r)return!1;const a=Rd(r,t);return n&&a>0||a>=r.width*r.height},[]);return(0,r.useMemo)(()=>Le(Le({},e),{},{getNodes:n,getNode:a,getEdges:o,getEdge:i,setNodes:s,setEdges:l,addNodes:c,addEdges:d,toObject:u,deleteElements:m,getIntersectingNodes:p,isNodeIntersecting:f}),[e,n,a,o,i,s,l,c,d,u,m,p,f])}const wm={actInsideInputWithModifier:!1};const jm={position:"absolute",width:"100%",height:"100%",top:0,left:0},Nm=e=>({x:e.x,y:e.y,zoom:e.k}),Cm=(e,t)=>e.target.closest(".".concat(t)),Sm=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Em=e=>{const t=e.ctrlKey&&Vd()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},_m=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Om=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:a,onPaneContextMenu:o,zoomOnScroll:i=!0,zoomOnPinch:s=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:d=Yd.Free,zoomOnDoubleClick:u=!0,elementsSelectable:m,panOnDrag:g=!0,defaultViewport:p,translateExtent:f,minZoom:h,maxZoom:v,zoomActivationKeyCode:x,preventScrolling:y=!0,children:b,noWheelClassName:k,noPanClassName:w}=e;const j=(0,r.useRef)(),N=bd(),C=(0,r.useRef)(!1),S=(0,r.useRef)(!1),E=(0,r.useRef)(null),_=(0,r.useRef)({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:I,d3ZoomHandler:M,userSelectionActive:P}=yd(_m,$c),T=lm(x),A=(0,r.useRef)(0),R=(0,r.useRef)(!1),z=(0,r.useRef)();return function(e){const t=bd();(0,r.useEffect)(()=>{let n;const r=()=>{if(!e.current)return;const n=Cd(e.current);var r,a;0!==n.height&&0!==n.width||null===(r=(a=t.getState()).onError)||void 0===r||r.call(a,"004",dd()),t.setState({width:n.width||500,height:n.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}(E),(0,r.useEffect)(()=>{if(E.current){const e=E.current.getBoundingClientRect(),t=Bc().scaleExtent([h,v]).translateExtent(f),n=Bl(E.current).call(t),r=Oc.translate(p.x,p.y).scale(Sd(p.zoom,h,v)),a=[[0,0],[e.width,e.height]],o=t.constrain()(r,a,f);t.transform(n,o),t.wheelDelta(Em),N.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[o.x,o.y,o.k],domNode:E.current.closest(".react-flow")})}},[]),(0,r.useEffect)(()=>{I&&O&&(!l||T||P?"undefined"!==typeof M&&I.on("wheel.zoom",function(e,t){if(!y&&"wheel"===e.type&&!e.ctrlKey||Cm(e,k))return null;e.preventDefault(),M.call(this,e,t)},{passive:!1}):I.on("wheel.zoom",e=>{if(Cm(e,k))return!1;e.preventDefault(),e.stopImmediatePropagation();const r=I.property("__zoom").k||1;if(e.ctrlKey&&s){const t=Cc(e),n=Em(e),a=r*Math.pow(2,n);return void O.scaleTo(I,a,t,e)}const o=1===e.deltaMode?20:1;let i=d===Yd.Vertical?0:e.deltaX*o,l=d===Yd.Horizontal?0:e.deltaY*o;!Vd()&&e.shiftKey&&d!==Yd.Vertical&&(i=e.deltaY*o,l=0),O.translateBy(I,-i/r*c,-l/r*c,{internal:!0});const u=Nm(I.property("__zoom")),{onViewportChangeStart:m,onViewportChange:g,onViewportChangeEnd:p}=N.getState();clearTimeout(z.current),R.current||(R.current=!0,null===n||void 0===n||n(e,u),null===m||void 0===m||m(u)),R.current&&(null===t||void 0===t||t(e,u),null===g||void 0===g||g(u),z.current=setTimeout(()=>{null===a||void 0===a||a(e,u),null===p||void 0===p||p(u),R.current=!1},150))},{passive:!1}))},[P,l,d,I,O,M,T,s,y,k,n,t,a]),(0,r.useEffect)(()=>{O&&O.on("start",e=>{var t,r;if(!e.sourceEvent||e.sourceEvent.internal)return null;A.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:a}=N.getState(),o=Nm(e.transform);C.current=!0,_.current=o,"mousedown"===(null===(r=e.sourceEvent)||void 0===r?void 0:r.type)&&N.setState({paneDragging:!0}),null===a||void 0===a||a(o),null===n||void 0===n||n(e.sourceEvent,o)})},[O,n]),(0,r.useEffect)(()=>{O&&(P&&!C.current?O.on("zoom",null):P||O.on("zoom",e=>{var n,r;const{onViewportChange:a}=N.getState();if(N.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),S.current=!(!o||!Sm(g,null!==(n=A.current)&&void 0!==n?n:0)),(t||a)&&(null===(r=e.sourceEvent)||void 0===r||!r.internal)){const n=Nm(e.transform);null===a||void 0===a||a(n),null===t||void 0===t||t(e.sourceEvent,n)}}))},[P,O,t,g,o]),(0,r.useEffect)(()=>{O&&O.on("end",e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=N.getState();if(C.current=!1,N.setState({paneDragging:!1}),o&&Sm(g,null!==(t=A.current)&&void 0!==t?t:0)&&!S.current&&o(e.sourceEvent),S.current=!1,(a||n)&&(r=_.current,i=e.transform,r.x!==i.x||r.y!==i.y||r.zoom!==i.k)){const t=Nm(e.transform);_.current=t,clearTimeout(j.current),j.current=setTimeout(()=>{null===n||void 0===n||n(t),null===a||void 0===a||a(e.sourceEvent,t)},l?150:0)}var r,i})},[O,l,g,a,o]),(0,r.useEffect)(()=>{O&&O.filter(e=>{const t=T||i,n=s&&e.ctrlKey;if((!0===g||Array.isArray(g)&&g.includes(1))&&1===e.button&&"mousedown"===e.type&&(Cm(e,"react-flow__node")||Cm(e,"react-flow__edge")))return!0;if(!g&&!t&&!l&&!u&&!s)return!1;if(P)return!1;if(!u&&"dblclick"===e.type)return!1;if(Cm(e,k)&&"wheel"===e.type)return!1;if(Cm(e,w)&&("wheel"!==e.type||l&&"wheel"===e.type&&!T))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!l&&!n&&"wheel"===e.type)return!1;if(!g&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(g)&&!g.includes(e.button)&&"mousedown"===e.type)return!1;const r=Array.isArray(g)&&g.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&r})},[P,O,i,s,l,u,g,m,T]),r.createElement("div",{className:"react-flow__renderer",ref:E,style:jm},b)},Im=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Mm(){const{userSelectionActive:e,userSelectionRect:t}=yd(Im,$c);return e&&t?r.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}function Pm(e,t){const n=t.parentNode||t.parentId,r=e.find(e=>e.id===n);if(r){const e=t.position.x+t.width-r.width,n=t.position.y+t.height-r.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var a,o;if(r.style=Le({},r.style)||{},r.style.width=null!==(a=r.style.width)&&void 0!==a?a:r.width,r.style.height=null!==(o=r.style.height)&&void 0!==o?o:r.height,e>0&&(r.style.width+=e),n>0&&(r.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);r.position.x=r.position.x-e,r.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);r.position.y=r.position.y-e,r.style.height+=e,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Tm(e,t){if(e.some(e=>"reset"===e.type))return e.filter(e=>"reset"===e.type).map(e=>e.item);const n=e.filter(e=>"add"===e.type).map(e=>e.item);return t.reduce((t,n)=>{const r=e.filter(e=>e.id===n.id);if(0===r.length)return t.push(n),t;const a=Le({},n);for(const e of r)if(e)switch(e.type){case"select":a.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(a.position=e.position),"undefined"!==typeof e.positionAbsolute&&(a.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(a.dragging=e.dragging),a.expandParent&&Pm(t,a);break;case"dimensions":"undefined"!==typeof e.dimensions&&(a.width=e.dimensions.width,a.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(a.style=Le(Le({},a.style||{}),e.dimensions)),"boolean"===typeof e.resizing&&(a.resizing=e.resizing),a.expandParent&&Pm(t,a);break;case"remove":return t}return t.push(a),t},n)}function Am(e,t){return Tm(e,t)}const Rm=(e,t)=>({id:e,type:"select",selected:t});function zm(e,t){return e.reduce((e,n)=>{const r=t.includes(n.id);return!n.selected&&r?(n.selected=!0,e.push(Rm(n.id,!0))):n.selected&&!r&&(n.selected=!1,e.push(Rm(n.id,!1))),e},[])}const Dm=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Lm=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Bm=(0,r.memo)(e=>{let{isSelecting:t,selectionMode:n=$d.Full,panOnDrag:a,onSelectionStart:o,onSelectionEnd:i,onPaneClick:s,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:u,onPaneMouseLeave:m,children:g}=e;const p=(0,r.useRef)(null),f=bd(),h=(0,r.useRef)(0),v=(0,r.useRef)(0),x=(0,r.useRef)(),{userSelectionActive:y,elementsSelectable:b,dragging:k}=yd(Lm,$c),w=()=>{f.setState({userSelectionActive:!1,userSelectionRect:null}),h.current=0,v.current=0},j=e=>{null===s||void 0===s||s(e),f.getState().resetSelectedElements(),f.setState({nodesSelectionActive:!1})},N=c?e=>c(e):void 0,C=b&&(t||y);return r.createElement("div",{className:Hc(["react-flow__pane",{dragging:k,selection:t}]),onClick:C?void 0:Dm(j,p),onContextMenu:Dm(e=>{Array.isArray(a)&&null!==a&&void 0!==a&&a.includes(2)?e.preventDefault():null===l||void 0===l||l(e)},p),onWheel:Dm(N,p),onMouseEnter:C?void 0:d,onMouseDown:C?e=>{const{resetSelectedElements:n,domNode:r}=f.getState();if(x.current=null===r||void 0===r?void 0:r.getBoundingClientRect(),!b||!t||0!==e.button||e.target!==p.current||!x.current)return;const{x:a,y:i}=Wd(e,x.current);n(),f.setState({userSelectionRect:{width:0,height:0,startX:a,startY:i,x:a,y:i}}),null===o||void 0===o||o(e)}:void 0,onMouseMove:C?e=>{var r,a;const{userSelectionRect:o,nodeInternals:i,edges:s,transform:l,onNodesChange:c,onEdgesChange:d,nodeOrigin:u,getNodes:m}=f.getState();if(!t||!x.current||!o)return;f.setState({userSelectionActive:!0,nodesSelectionActive:!1});const g=Wd(e,x.current),p=null!==(r=o.startX)&&void 0!==r?r:0,y=null!==(a=o.startY)&&void 0!==a?a:0,b=Le(Le({},o),{},{x:g.x<p?g.x:p,y:g.y<y?g.y:y,width:Math.abs(g.x-p),height:Math.abs(g.y-y)}),k=m(),w=wu(i,b,l,n===$d.Partial,!0,u),j=ju(w,s).map(e=>e.id),N=w.map(e=>e.id);if(h.current!==N.length){h.current=N.length;const e=zm(k,N);e.length&&(null===c||void 0===c||c(e))}if(v.current!==j.length){v.current=j.length;const e=zm(s,j);e.length&&(null===d||void 0===d||d(e))}f.setState({userSelectionRect:b})}:u,onMouseUp:C?e=>{if(0!==e.button)return;const{userSelectionRect:t}=f.getState();!y&&t&&e.target===p.current&&(null===j||void 0===j||j(e)),f.setState({nodesSelectionActive:h.current>0}),w(),null===i||void 0===i||i(e)}:void 0,onMouseLeave:C?e=>{y&&(f.setState({nodesSelectionActive:h.current>0}),null===i||void 0===i||i(e)),w()}:m,ref:p,style:jm},g,r.createElement(Mm,null))});function Fm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return!!r&&(!!r.selected||Fm(r,t))}function Hm(e,t,n){let r=e;do{var a;if(null!==(a=r)&&void 0!==a&&a.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Wm(e,t,n,r){return Array.from(e.values()).filter(n=>(n.selected||n.id===r)&&(!n.parentNode||n.parentId||!Fm(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable)).map(e=>{var t,r,a,o;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)&&void 0!==t?t:0),y:n.y-(null!==(a=null===(o=e.positionAbsolute)||void 0===o?void 0:o.y)&&void 0!==a?a:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}})}function Vm(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],o=arguments.length>5?arguments[5]:void 0;const i=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||r);let s=i;const l=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&l&&"parent"!==e.extent){const t=n.get(l),{x:r,y:o}=bu(t,a).positionAbsolute;s=[[e.extent[0][0]+r,e.extent[0][1]+o],[e.extent[1][0]+r,e.extent[1][1]+o]]}}else if(l&&e.width&&e.height){const t=n.get(l),{x:r,y:o}=bu(t,a).positionAbsolute;s=t&&zd(r)&&zd(o)&&zd(t.width)&&zd(t.height)?[[r+e.width*a[0],o+e.height*a[1]],[r+t.width-e.width+e.width*a[0],o+t.height-e.height+e.height*a[1]]]:s}else null===o||void 0===o||o("005",ud()),s=i;let c={x:0,y:0};if(l){const e=n.get(l);c=bu(e,a).positionAbsolute}const d=s&&"parent"!==s?Ed(t,s):t;return{position:{x:d.x-c.x,y:d.y-c.y},positionAbsolute:d}}function qm(e){let{nodeId:t,dragItems:n,nodeInternals:r}=e;const a=n.map(e=>Le(Le({},r.get(e.id)),{},{position:e.position,positionAbsolute:e.positionAbsolute}));return[t?a.find(e=>e.id===t):a[0],a]}Bm.displayName="Pane";const Um=(e,t,n,r)=>{const a=t.querySelectorAll(e);if(!a||!a.length)return null;const o=Array.from(a),i=t.getBoundingClientRect(),s=i.width*r[0],l=i.height*r[1];return o.map(e=>{const t=e.getBoundingClientRect();return Le({id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-i.left-s)/n,y:(t.top-i.top-l)/n},Cd(e))})};function Km(e,t,n){return void 0===n?n:r=>{const a=t().nodeInternals.get(e);a&&n(r,Le({},a))}}function Gm(e){let{id:t,store:n,unselect:r=!1,nodeRef:a}=e;const{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:s,nodeInternals:l,onError:c}=n.getState(),d=l.get(t);d?(n.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&s)&&(i({nodes:[d],edges:[]}),requestAnimationFrame(()=>{var e;return null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e.blur()})):o([t])):null===c||void 0===c||c("012",vd(t))}function Xm(e){return(t,n,r)=>null===e||void 0===e?void 0:e(t,r)}function Ym(e){let{nodeRef:t,disabled:n=!1,noDragClassName:a,handleSelector:o,nodeId:i,isSelectable:s,selectNodesOnDrag:l}=e;const c=bd(),[d,u]=(0,r.useState)(!1),m=(0,r.useRef)([]),g=(0,r.useRef)({x:null,y:null}),p=(0,r.useRef)(0),f=(0,r.useRef)(null),h=(0,r.useRef)({x:0,y:0}),v=(0,r.useRef)(null),x=(0,r.useRef)(!1),y=(0,r.useRef)(!1),b=(0,r.useRef)(!1),k=function(){const e=bd(),t=(0,r.useCallback)(t=>{let{sourceEvent:n}=t;const{transform:r,snapGrid:a,snapToGrid:o}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,l={x:(i-r[0])/r[2],y:(s-r[1])/r[2]};return Le({xSnapped:o?a[0]*Math.round(l.x/a[0]):l.x,ySnapped:o?a[1]*Math.round(l.y/a[1]):l.y},l)},[]);return t}();return(0,r.useEffect)(()=>{if(null!==t&&void 0!==t&&t.current){const e=Bl(t.current),r=e=>{let{x:t,y:n}=e;const{nodeInternals:r,onNodeDrag:a,onSelectionDrag:o,updateNodePositions:s,nodeExtent:l,snapGrid:d,snapToGrid:p,nodeOrigin:f,onError:h}=c.getState();g.current={x:t,y:n};let x=!1,y={x:0,y:0,x2:0,y2:0};if(m.current.length>1&&l){const e=ku(m.current,f);y=Pd(e)}if(m.current=m.current.map(e=>{const a={x:t-e.distance.x,y:n-e.distance.y};p&&(a.x=d[0]*Math.round(a.x/d[0]),a.y=d[1]*Math.round(a.y/d[1]));const o=[[l[0][0],l[0][1]],[l[1][0],l[1][1]]];var i,s;m.current.length>1&&l&&!e.extent&&(o[0][0]=e.positionAbsolute.x-y.x+l[0][0],o[1][0]=e.positionAbsolute.x+(null!==(i=e.width)&&void 0!==i?i:0)-y.x2+l[1][0],o[0][1]=e.positionAbsolute.y-y.y+l[0][1],o[1][1]=e.positionAbsolute.y+(null!==(s=e.height)&&void 0!==s?s:0)-y.y2+l[1][1]);const c=Vm(e,a,r,o,f,h);return x=x||e.position.x!==c.position.x||e.position.y!==c.position.y,e.position=c.position,e.positionAbsolute=c.positionAbsolute,e}),!x)return;s(m.current,!0,!0),u(!0);const b=i?a:Xm(o);if(b&&v.current){const[e,t]=qm({nodeId:i,dragItems:m.current,nodeInternals:r});b(v.current,e,t)}},d=()=>{if(!f.current)return;const[e,t]=Od(h.current,f.current);if(0!==e||0!==t){var n,a;const{transform:o,panBy:i}=c.getState();g.current.x=(null!==(n=g.current.x)&&void 0!==n?n:0)-e/o[2],g.current.y=(null!==(a=g.current.y)&&void 0!==a?a:0)-t/o[2],i({x:e,y:t})&&r(g.current)}p.current=requestAnimationFrame(d)},w=e=>{const{nodeInternals:n,multiSelectionActive:r,nodesDraggable:a,unselectNodesAndEdges:o,onNodeDragStart:d,onSelectionDragStart:u}=c.getState();y.current=!0;const p=i?d:Xm(u);var f;l&&s||r||!i||(null!==(f=n.get(i))&&void 0!==f&&f.selected||o());i&&s&&l&&Gm({id:i,store:c,nodeRef:t});const h=k(e);if(g.current=h,m.current=Wm(n,a,h,i),p&&m.current){const[t,r]=qm({nodeId:i,dragItems:m.current,nodeInternals:n});p(e.sourceEvent,t,r)}};if(!n){const n=function(){var e,t,n,r,a=Qc,o=ed,i=td,s=nd,l={},c=_i("start","drag","end"),d=0,u=0;function m(e){e.on("mousedown.drag",g).filter(s).on("touchstart.drag",h).on("touchmove.drag",v,vc).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(i,s){if(!r&&a.call(this,i,s)){var l=y(this,o.call(this,i,s),i,s,"mouse");l&&(Bl(i.view).on("mousemove.drag",p,xc).on("mouseup.drag",f,xc),kc(i.view),yc(i),n=!1,e=i.clientX,t=i.clientY,l("start",i))}}function p(r){if(bc(r),!n){var a=r.clientX-e,o=r.clientY-t;n=a*a+o*o>u}l.mouse("drag",r)}function f(e){Bl(e.view).on("mousemove.drag mouseup.drag",null),wc(e.view,n),bc(e),l.mouse("end",e)}function h(e,t){if(a.call(this,e,t)){var n,r,i=e.changedTouches,s=o.call(this,e,t),l=i.length;for(n=0;n<l;++n)(r=y(this,s,e,t,i[n].identifier,i[n]))&&(yc(e),r("start",e,i[n]))}}function v(e){var t,n,r=e.changedTouches,a=r.length;for(t=0;t<a;++t)(n=l[r[t].identifier])&&(bc(e),n("drag",e,r[t]))}function x(e){var t,n,a=e.changedTouches,o=a.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<o;++t)(n=l[a[t].identifier])&&(yc(e),n("end",e,a[t]))}function y(e,t,n,r,a,o){var s,u,g,p=c.copy(),f=Cc(o||n,t);if(null!=(g=i.call(e,new Zc("beforestart",{sourceEvent:n,target:m,identifier:a,active:d,x:f[0],y:f[1],dx:0,dy:0,dispatch:p}),r)))return s=g.x-f[0]||0,u=g.y-f[1]||0,function n(o,i,c){var h,v=f;switch(o){case"start":l[a]=n,h=d++;break;case"end":delete l[a],--d;case"drag":f=Cc(c||i,t),h=d}p.call(o,e,new Zc(o,{sourceEvent:i,subject:g,target:m,identifier:a,active:h,x:f[0]+s,y:f[1]+u,dx:f[0]-v[0],dy:f[1]-v[1],dispatch:p}),r)}}return m.filter=function(e){return arguments.length?(a="function"===typeof e?e:Jc(!!e),m):a},m.container=function(e){return arguments.length?(o="function"===typeof e?e:Jc(e),m):o},m.subject=function(e){return arguments.length?(i="function"===typeof e?e:Jc(e),m):i},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Jc(!!e),m):s},m.on=function(){var e=c.on.apply(c,arguments);return e===c?m:e},m.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,m):Math.sqrt(u)},m}().on("start",e=>{const{domNode:t,nodeDragThreshold:n}=c.getState();0===n&&w(e),b.current=!1;const r=k(e);g.current=r,f.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,h.current=Wd(e.sourceEvent,f.current)}).on("drag",e=>{const t=k(e),{autoPanOnNodeDrag:n,nodeDragThreshold:a}=c.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!x.current&&y.current&&n&&(x.current=!0,d()),!y.current){var o,i,s,l;const n=t.xSnapped-(null!==(o=null===g||void 0===g||null===(i=g.current)||void 0===i?void 0:i.x)&&void 0!==o?o:0),r=t.ySnapped-(null!==(s=null===g||void 0===g||null===(l=g.current)||void 0===l?void 0:l.y)&&void 0!==s?s:0);Math.sqrt(n*n+r*r)>a&&w(e)}(g.current.x!==t.xSnapped||g.current.y!==t.ySnapped)&&m.current&&y.current&&(v.current=e.sourceEvent,h.current=Wd(e.sourceEvent,f.current),r(t))}}).on("end",e=>{if(y.current&&!b.current&&(u(!1),x.current=!1,y.current=!1,cancelAnimationFrame(p.current),m.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:r,onSelectionDragStop:a}=c.getState(),o=i?r:Xm(a);if(t(m.current,!1,!1),o){const[t,r]=qm({nodeId:i,dragItems:m.current,nodeInternals:n});o(e.sourceEvent,t,r)}}}).filter(e=>{const n=e.target;return!e.button&&(!a||!Hm(n,".".concat(a),t))&&(!o||Hm(n,o,t))});return e.call(n),()=>{e.on(".drag",null)}}e.on(".drag",null)}},[t,n,a,o,s,c,i,l,k]),d}function $m(){const e=bd(),t=(0,r.useCallback)(t=>{const{nodeInternals:n,nodeExtent:r,updateNodePositions:a,getNodes:o,snapToGrid:i,snapGrid:s,onError:l,nodesDraggable:c}=e.getState(),d=o().filter(e=>e.selected&&(e.draggable||c&&"undefined"===typeof e.draggable)),u=i?s[0]:5,m=i?s[1]:5,g=t.isShiftPressed?4:1,p=t.x*u*g,f=t.y*m*g,h=d.map(e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+f};i&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:a,position:o}=Vm(e,t,n,r,void 0,l);e.position=o,e.positionAbsolute=a}return e});a(h,!0,!1)},[]);return t}const Jm={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Zm=e=>{const t=t=>{let{id:n,type:a,data:o,xPos:i,yPos:s,xPosOrigin:l,yPosOrigin:c,selected:d,onClick:u,onMouseEnter:m,onMouseMove:g,onMouseLeave:p,onContextMenu:f,onDoubleClick:h,style:v,className:x,isDraggable:y,isSelectable:b,isConnectable:k,isFocusable:w,selectNodesOnDrag:j,sourcePosition:N,targetPosition:C,hidden:S,resizeObserver:E,dragHandle:_,zIndex:O,isParent:I,noDragClassName:M,noPanClassName:P,initialized:T,disableKeyboardA11y:A,ariaLabel:R,rfId:z,hasHandleBounds:D}=t;const L=bd(),B=(0,r.useRef)(null),F=(0,r.useRef)(null),H=(0,r.useRef)(N),W=(0,r.useRef)(C),V=(0,r.useRef)(a),q=b||y||u||m||g||p,U=$m(),K=Km(n,L.getState,m),G=Km(n,L.getState,g),X=Km(n,L.getState,p),Y=Km(n,L.getState,f),$=Km(n,L.getState,h);(0,r.useEffect)(()=>()=>{F.current&&(null===E||void 0===E||E.unobserve(F.current),F.current=null)},[]),(0,r.useEffect)(()=>{if(B.current&&!S){const e=B.current;T&&D&&F.current===e||(F.current&&(null===E||void 0===E||E.unobserve(F.current)),null===E||void 0===E||E.observe(e),F.current=e)}},[S,T,D]),(0,r.useEffect)(()=>{const e=V.current!==a,t=H.current!==N,r=W.current!==C;B.current&&(e||t||r)&&(e&&(V.current=a),t&&(H.current=N),r&&(W.current=C),L.getState().updateNodeDimensions([{id:n,nodeElement:B.current,forceUpdate:!0}]))},[n,a,N,C]);const J=Ym({nodeRef:B,disabled:S||!y,noDragClassName:M,handleSelector:_,nodeId:n,isSelectable:b,selectNodesOnDrag:j});return S?null:r.createElement("div",{className:Hc(["react-flow__node","react-flow__node-".concat(a),{[P]:y},x,{selected:d,selectable:b,parent:I,dragging:J}]),ref:B,style:Le({zIndex:O,transform:"translate(".concat(l,"px,").concat(c,"px)"),pointerEvents:q?"all":"none",visibility:T?"visible":"hidden"},v),"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:K,onMouseMove:G,onMouseLeave:X,onContextMenu:Y,onClick:e=>{const{nodeDragThreshold:t}=L.getState();if(b&&(!j||!y||t>0)&&Gm({id:n,store:L,nodeRef:B}),u){const t=L.getState().nodeInternals.get(n);t&&u(e,Le({},t))}},onDoubleClick:$,onKeyDown:w?e=>{if(!Fd(e)&&!A)if(Ld.includes(e.key)&&b){const t="Escape"===e.key;Gm({id:n,store:L,unselect:t,nodeRef:B})}else y&&d&&Object.prototype.hasOwnProperty.call(Jm,e.key)&&(L.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~i,", y: ").concat(~~s)}),U({x:Jm[e.key].x,y:Jm[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:w?0:void 0,role:w?"button":void 0,"aria-describedby":A?void 0:"".concat(rm,"-").concat(z),"aria-label":R},r.createElement(fu,{value:n},r.createElement(e,{id:n,data:o,type:a,xPos:i,yPos:s,selected:d,isConnectable:k,sourcePosition:N,targetPosition:C,dragging:J,dragHandle:_,zIndex:O})))};return t.displayName="NodeWrapper",(0,r.memo)(t)};const Qm=e=>{const t=e.getNodes().filter(e=>e.selected);return Le(Le({},ku(t,e.nodeOrigin)),{},{transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive})};var eg=(0,r.memo)(function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:a}=e;const o=bd(),{width:i,height:s,x:l,y:c,transformString:d,userSelectionActive:u}=yd(Qm,$c),m=$m(),g=(0,r.useRef)(null);if((0,r.useEffect)(()=>{var e;a||(null===(e=g.current)||void 0===e||e.focus({preventScroll:!0}))},[a]),Ym({nodeRef:g}),u||!i||!s)return null;const p=t?e=>{const n=o.getState().getNodes().filter(e=>e.selected);t(e,n)}:void 0;return r.createElement("div",{className:Hc(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d}},r.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:a?void 0:-1,onKeyDown:a?void 0:e=>{Object.prototype.hasOwnProperty.call(Jm,e.key)&&m({x:Jm[e.key].x,y:Jm[e.key].y,isShiftPressed:e.shiftKey})},style:{width:i,height:s,top:c,left:l}}))});const tg=e=>e.nodesSelectionActive,ng=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:a,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,deleteKeyCode:c,onMove:d,onMoveStart:u,onMoveEnd:m,selectionKeyCode:g,selectionOnDrag:p,selectionMode:f,onSelectionStart:h,onSelectionEnd:v,multiSelectionKeyCode:x,panActivationKeyCode:y,zoomActivationKeyCode:b,elementsSelectable:k,zoomOnScroll:w,zoomOnPinch:j,panOnScroll:N,panOnScrollSpeed:C,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:_,defaultViewport:O,translateExtent:I,minZoom:M,maxZoom:P,preventScrolling:T,onSelectionContextMenu:A,noWheelClassName:R,noPanClassName:z,disableKeyboardA11y:D}=e;const L=yd(tg),B=lm(g),F=lm(y),H=F||_,W=F||N,V=B||p&&!0!==H;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const a=bd(),{deleteElements:o}=km(),i=lm(t,wm),s=lm(n);(0,r.useEffect)(()=>{if(i){const{edges:e,getNodes:t}=a.getState(),n=t().filter(e=>e.selected),r=e.filter(e=>e.selected);o({nodes:n,edges:r}),a.setState({nodesSelectionActive:!1})}},[i]),(0,r.useEffect)(()=>{a.setState({multiSelectionActive:s})},[s])})({deleteKeyCode:c,multiSelectionKeyCode:x}),r.createElement(Om,{onMove:d,onMoveStart:u,onMoveEnd:m,onPaneContextMenu:s,elementsSelectable:k,zoomOnScroll:w,zoomOnPinch:j,panOnScroll:W,panOnScrollSpeed:C,panOnScrollMode:S,zoomOnDoubleClick:E,panOnDrag:!B&&H,defaultViewport:O,translateExtent:I,minZoom:M,maxZoom:P,zoomActivationKeyCode:b,preventScrolling:T,noWheelClassName:R,noPanClassName:z},r.createElement(Bm,{onSelectionStart:h,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:a,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:H,isSelecting:!!V,selectionMode:f},t,L&&r.createElement(eg,{onSelectionContextMenu:A,noPanClassName:z,disableKeyboardA11y:D})))};ng.displayName="FlowRenderer";var rg=(0,r.memo)(ng);function ag(e){const t={input:Zm(e.input||Hu),default:Zm(e.default||Bu),output:Zm(e.output||Vu),group:Zm(e.group||qu)},n=Object.keys(e).filter(e=>!["input","default","output","group"].includes(e)).reduce((t,n)=>(t[n]=Zm(e[n]||Bu),t),{});return Le(Le({},t),n)}const og=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ig=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:a,elementsSelectable:o,updateNodeDimensions:i,onError:s}=yd(og,$c),l=(c=e.onlyRenderVisibleElements,yd((0,r.useCallback)(e=>c?wu(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes(),[c])));var c;const d=(0,r.useRef)(),u=(0,r.useMemo)(()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver(e=>{const t=e.map(e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0}));i(t)});return d.current=e,e},[]);return(0,r.useEffect)(()=>()=>{var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.disconnect()},[]),r.createElement("div",{className:"react-flow__nodes",style:jm},l.map(i=>{var l,c,d,m,g,p,f,h;let v=i.type||"default";e.nodeTypes[v]||(null===s||void 0===s||s("003",cd(v)),v="default");const x=e.nodeTypes[v]||e.nodeTypes.default,y=!!(i.draggable||t&&"undefined"===typeof i.draggable),b=!!(i.selectable||o&&"undefined"===typeof i.selectable),k=!!(i.connectable||n&&"undefined"===typeof i.connectable),w=!!(i.focusable||a&&"undefined"===typeof i.focusable),j=e.nodeExtent?Ed(i.positionAbsolute,e.nodeExtent):i.positionAbsolute,N=null!==(l=null===j||void 0===j?void 0:j.x)&&void 0!==l?l:0,C=null!==(c=null===j||void 0===j?void 0:j.y)&&void 0!==c?c:0,S=(e=>{let{x:t,y:n,width:r,height:a,origin:o}=e;return r&&a?o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:t,y:n}:{x:t-r*o[0],y:n-a*o[1]}:{x:t,y:n}})({x:N,y:C,width:null!==(d=i.width)&&void 0!==d?d:0,height:null!==(m=i.height)&&void 0!==m?m:0,origin:e.nodeOrigin});return r.createElement(x,{key:i.id,id:i.id,className:i.className,style:i.style,type:v,data:i.data,sourcePosition:i.sourcePosition||Qd.Bottom,targetPosition:i.targetPosition||Qd.Top,hidden:i.hidden,xPos:N,yPos:C,xPosOrigin:S.x,yPosOrigin:S.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!i.selected,isDraggable:y,isSelectable:b,isConnectable:k,isFocusable:w,resizeObserver:u,dragHandle:i.dragHandle,zIndex:null!==(g=null===(p=i[Dd])||void 0===p?void 0:p.z)&&void 0!==g?g:0,isParent:!(null===(f=i[Dd])||void 0===f||!f.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!i.width&&!!i.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:i.ariaLabel,hasHandleBounds:!(null===(h=i[Dd])||void 0===h||!h.handleBounds)})}))};ig.displayName="NodeRenderer";var sg=(0,r.memo)(ig);const lg=(e,t,n)=>n===Qd.Left?e-t:n===Qd.Right?e+t:e,cg=(e,t,n)=>n===Qd.Top?e-t:n===Qd.Bottom?e+t:e,dg="react-flow__edgeupdater",ug=e=>{let{position:t,centerX:n,centerY:a,radius:o=10,onMouseDown:i,onMouseEnter:s,onMouseOut:l,type:c}=e;return r.createElement("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:l,className:Hc([dg,"".concat(dg,"-").concat(c)]),cx:lg(n,o,t),cy:cg(a,o,t),r:o,stroke:"transparent",fill:"transparent"})},mg=()=>!0;var gg=e=>{const t=t=>{let{id:n,className:a,type:o,data:i,onClick:s,onEdgeDoubleClick:l,selected:c,animated:d,label:u,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:h,style:v,source:x,target:y,sourceX:b,sourceY:k,targetX:w,targetY:j,sourcePosition:N,targetPosition:C,elementsSelectable:S,hidden:E,sourceHandleId:_,targetHandleId:O,onContextMenu:I,onMouseEnter:M,onMouseMove:P,onMouseLeave:T,reconnectRadius:A,onReconnect:R,onReconnectStart:z,onReconnectEnd:D,markerEnd:L,markerStart:B,rfId:F,ariaLabel:H,isFocusable:W,isReconnectable:V,pathOptions:q,interactionWidth:U,disableKeyboardA11y:K}=t;const G=(0,r.useRef)(null),[X,Y]=(0,r.useState)(!1),[$,J]=(0,r.useState)(!1),Z=bd(),Q=(0,r.useMemo)(()=>"url('#".concat(vu(B,F),"')"),[B,F]),ee=(0,r.useMemo)(()=>"url('#".concat(vu(L,F),"')"),[L,F]);if(E)return null;const te=Ud(n,Z.getState,l),ne=Ud(n,Z.getState,I),re=Ud(n,Z.getState,M),ae=Ud(n,Z.getState,P),oe=Ud(n,Z.getState,T),ie=(e,t)=>{if(0!==e.button)return;const{edges:r,isValidConnection:a}=Z.getState(),o=t?y:x,i=(t?O:_)||null,s=t?"target":"source",l=a||mg,c=t,d=r.find(e=>e.id===n);J(!0),null===z||void 0===z||z(e,d,s);Tu({event:e,handleId:i,nodeId:o,onConnect:e=>null===R||void 0===R?void 0:R(d,e),isTarget:c,getState:Z.getState,setState:Z.setState,isValidConnection:l,edgeUpdaterType:s,onReconnectEnd:e=>{J(!1),null===D||void 0===D||D(e,d,s)}})},se=()=>Y(!0),le=()=>Y(!1),ce=!S&&!s;return r.createElement("g",{className:Hc(["react-flow__edge","react-flow__edge-".concat(o),a,{selected:c,animated:d,inactive:ce,updating:X}]),onClick:e=>{const{edges:t,addSelectedEdges:r,unselectNodesAndEdges:a,multiSelectionActive:o}=Z.getState(),i=t.find(e=>e.id===n);if(i){var l;if(S)if(Z.setState({nodesSelectionActive:!1}),i.selected&&o)a({nodes:[],edges:[i]}),null===(l=G.current)||void 0===l||l.blur();else r([n]);s&&s(e,i)}},onDoubleClick:te,onContextMenu:ne,onMouseEnter:re,onMouseMove:ae,onMouseLeave:oe,onKeyDown:W?e=>{if(!K&&Ld.includes(e.key)&&S){const{unselectNodesAndEdges:r,addSelectedEdges:a,edges:o}=Z.getState();var t;if("Escape"===e.key)null===(t=G.current)||void 0===t||t.blur(),r({edges:[o.find(e=>e.id===n)]});else a([n])}}:void 0,tabIndex:W?0:void 0,role:W?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===H?void 0:H||"Edge from ".concat(x," to ").concat(y),"aria-describedby":W?"".concat(am,"-").concat(F):void 0,ref:G},!$&&r.createElement(e,{id:n,source:x,target:y,selected:c,animated:d,label:u,labelStyle:m,labelShowBg:g,labelBgStyle:p,labelBgPadding:f,labelBgBorderRadius:h,data:i,style:v,sourceX:b,sourceY:k,targetX:w,targetY:j,sourcePosition:N,targetPosition:C,sourceHandleId:_,targetHandleId:O,markerStart:Q,markerEnd:ee,pathOptions:q,interactionWidth:U}),V&&r.createElement(r.Fragment,null,("source"===V||!0===V)&&r.createElement(ug,{position:N,centerX:b,centerY:k,radius:A,onMouseDown:e=>ie(e,!0),onMouseEnter:se,onMouseOut:le,type:"source"}),("target"===V||!0===V)&&r.createElement(ug,{position:C,centerX:w,centerY:j,radius:A,onMouseDown:e=>ie(e,!1),onMouseEnter:se,onMouseOut:le,type:"target"})))};return t.displayName="EdgeWrapper",(0,r.memo)(t)};function pg(e){const t={default:gg(e.default||gu),straight:gg(e.bezier||cu),step:gg(e.step||lu),smoothstep:gg(e.step||su),simplebezier:gg(e.simplebezier||nu)},n=Object.keys(e).filter(e=>!["default","bezier"].includes(e)).reduce((t,n)=>(t[n]=gg(e[n]||gu),t),{});return Le(Le({},t),n)}function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((null===n||void 0===n?void 0:n.x)||0)+t.x,a=((null===n||void 0===n?void 0:n.y)||0)+t.y,o=(null===n||void 0===n?void 0:n.width)||t.width,i=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case Qd.Top:return{x:r+o/2,y:a};case Qd.Right:return{x:r+o,y:a+i/2};case Qd.Bottom:return{x:r+o/2,y:a+i};case Qd.Left:return{x:r,y:a+i/2}}}function hg(e,t){return e?1!==e.length&&t?t&&e.find(e=>e.id===t)||null:e[0]:null}function vg(e){var t,n,r,a,o;const i=(null===e||void 0===e||null===(t=e[Dd])||void 0===t?void 0:t.handleBounds)||null,s=i&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.y);return[{x:(null===e||void 0===e||null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)||0,y:(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},i,!!s]}const xg=[{level:0,isMaxLevel:!0,edges:[]}];function yg(e,t,n){const a=yd((0,r.useCallback)(n=>e?n.edges.filter(e=>{const r=t.get(e.source),a=t.get(e.target);return(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&(null===a||void 0===a?void 0:a.width)&&(null===a||void 0===a?void 0:a.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:r,sourceHeight:a,targetWidth:o,targetHeight:i,width:s,height:l,transform:c}=e;const d={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+r,n.x+o),y2:Math.max(t.y+a,n.y+i)};d.x===d.x2&&(d.x2+=1),d.y===d.y2&&(d.y2+=1);const u=Pd({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:s/c[2],height:l/c[2]}),m=Math.max(0,Math.min(u.x2,d.x2)-Math.max(u.x,d.x)),g=Math.max(0,Math.min(u.y2,d.y2)-Math.max(u.y,d.y));return Math.ceil(m*g)>0}({sourcePos:r.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:r.width,sourceHeight:r.height,targetWidth:a.width,targetHeight:a.height,width:n.width,height:n.height,transform:n.transform})}):n.edges,[e,t]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1;const a=e.reduce((e,a)=>{const o=zd(a.zIndex);let i=o?a.zIndex:0;if(n){var s,l;const e=t.get(a.target),n=t.get(a.source),r=a.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),c=Math.max((null===n||void 0===n||null===(s=n[Dd])||void 0===s?void 0:s.z)||0,(null===e||void 0===e||null===(l=e[Dd])||void 0===l?void 0:l.z)||0,1e3);i=(o?a.zIndex:0)+(r?c:0)}return e[i]?e[i].push(a):e[i]=[a],r=i>r?i:r,e},{}),o=Object.entries(a).map(e=>{let[t,n]=e;const a=+t;return{edges:n,level:a,isMaxLevel:a===r}});return 0===o.length?xg:o}(a,t,n)}const bg={[Zd.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return r.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[Zd.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return r.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const kg=e=>{let{id:t,type:n,color:a,width:o=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const d=function(e){const t=bd();return(0,r.useMemo)(()=>{var n,r;return Object.prototype.hasOwnProperty.call(bg,e)?bg[e]:(null===(n=(r=t.getState()).onError)||void 0===n||n.call(r,"009",gd(e)),null)},[e])}(n);return d?r.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(o),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0"},r.createElement(d,{color:a,strokeWidth:l})):null},wg=e=>{let{defaultColor:t,rfId:n}=e;const a=yd((0,r.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const r=[];return e.edges.reduce((e,a)=>([a.markerStart,a.markerEnd].forEach(a=>{if(a&&"object"===typeof a){const o=vu(a,n);r.includes(o)||(e.push(Le({id:o,color:a.color||t},a)),r.push(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}})({defaultColor:t,rfId:n}),[t,n]),(e,t)=>!(e.length!==t.length||e.some((e,n)=>e.id!==t[n].id)));return r.createElement("defs",null,a.map(e=>r.createElement(kg,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient})))};wg.displayName="MarkerDefinitions";var jg=(0,r.memo)(wg);const Ng=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Cg=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:a,rfId:o,edgeTypes:i,noPanClassName:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:u,onEdgeClick:m,onEdgeDoubleClick:g,onReconnect:p,onReconnectStart:f,onReconnectEnd:h,reconnectRadius:v,children:x,disableKeyboardA11y:y}=e;const{edgesFocusable:b,edgesUpdatable:k,elementsSelectable:w,width:j,height:N,connectionMode:C,nodeInternals:S,onError:E}=yd(Ng,$c),_=yg(n,S,a);return j?r.createElement(r.Fragment,null,_.map(e=>{let{level:n,edges:a,isMaxLevel:x}=e;return r.createElement("svg",{key:n,style:{zIndex:n},width:j,height:N,className:"react-flow__edges react-flow__container"},x&&r.createElement(jg,{defaultColor:t,rfId:o}),r.createElement("g",null,a.map(e=>{var t,n;const[a,x,j]=vg(S.get(e.source)),[N,_,O]=vg(S.get(e.target));if(!j||!O)return null;let I=e.type||"default";i[I]||(null===E||void 0===E||E("011",hd(I)),I="default");const M=i[I]||i.default,P=C===Xd.Strict?_.target:(null!==(t=_.target)&&void 0!==t?t:[]).concat(null!==(n=_.source)&&void 0!==n?n:[]),T=hg(x.source,e.sourceHandle),A=hg(P,e.targetHandle),R=(null===T||void 0===T?void 0:T.position)||Qd.Bottom,z=(null===A||void 0===A?void 0:A.position)||Qd.Top,D=!!(e.focusable||b&&"undefined"===typeof e.focusable),L=e.reconnectable||e.updatable,B="undefined"!==typeof p&&(L||k&&"undefined"===typeof L);if(!T||!A)return null===E||void 0===E||E("008",pd(T,e)),null;const{sourceX:F,sourceY:H,targetX:W,targetY:V}=((e,t,n,r,a,o)=>{const i=fg(n,e,t),s=fg(o,r,a);return{sourceX:i.x,sourceY:i.y,targetX:s.x,targetY:s.y}})(a,T,R,N,A,z);return r.createElement(M,{key:e.id,id:e.id,className:Hc([e.className,s]),type:I,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:F,sourceY:H,targetX:W,targetY:V,sourcePosition:R,targetPosition:z,elementsSelectable:w,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:u,onClick:m,onEdgeDoubleClick:g,onReconnect:p,onReconnectStart:f,onReconnectEnd:h,reconnectRadius:v,rfId:o,ariaLabel:e.ariaLabel,isFocusable:D,isReconnectable:B,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:y})})))}),x):null};Cg.displayName="EdgeRenderer";var Sg=(0,r.memo)(Cg);const Eg=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function _g(e){let{children:t}=e;const n=yd(Eg);return r.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}const Og={[Qd.Left]:Qd.Right,[Qd.Right]:Qd.Left,[Qd.Top]:Qd.Bottom,[Qd.Bottom]:Qd.Top},Ig=e=>{var t,n,a,o,i,s,l;let{nodeId:c,handleType:d,style:u,type:m=Jd.Bezier,CustomComponent:g,connectionStatus:p}=e;const{fromNode:f,handleId:h,toX:v,toY:x,connectionMode:y}=yd((0,r.useCallback)(e=>({fromNode:e.nodeInternals.get(c),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode}),[c]),$c),b=null===f||void 0===f||null===(t=f[Dd])||void 0===t?void 0:t.handleBounds;let k=null===b||void 0===b?void 0:b[d];if(y===Xd.Loose&&(k=k||(null===b||void 0===b?void 0:b["source"===d?"target":"source"])),!f||!k)return null;const w=h?k.find(e=>e.id===h):k[0],j=w?w.x+w.width/2:(null!==(n=f.width)&&void 0!==n?n:0)/2,N=w?w.y+w.height/2:null!==(a=f.height)&&void 0!==a?a:0,C=(null!==(o=null===(i=f.positionAbsolute)||void 0===i?void 0:i.x)&&void 0!==o?o:0)+j,S=(null!==(s=null===(l=f.positionAbsolute)||void 0===l?void 0:l.y)&&void 0!==s?s:0)+N,E=null===w||void 0===w?void 0:w.position,_=E?Og[E]:null;if(!E||!_)return null;if(g)return r.createElement(g,{connectionLineType:m,connectionLineStyle:u,fromNode:f,fromHandle:w,fromX:C,fromY:S,toX:v,toY:x,fromPosition:E,toPosition:_,connectionStatus:p});let O="";const I={sourceX:C,sourceY:S,sourcePosition:E,targetX:v,targetY:x,targetPosition:_};return m===Jd.Bezier?[O]=mu(I):m===Jd.Step?[O]=iu(Le(Le({},I),{},{borderRadius:0})):m===Jd.SmoothStep?[O]=iu(I):m===Jd.SimpleBezier?[O]=tu(I):O="M".concat(C,",").concat(S," ").concat(v,",").concat(x),r.createElement("path",{d:O,fill:"none",className:"react-flow__connection-path",style:u})};Ig.displayName="ConnectionLine";const Mg=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Pg(e){let{containerStyle:t,style:n,type:a,component:o}=e;const{nodeId:i,handleType:s,nodesConnectable:l,width:c,height:d,connectionStatus:u}=yd(Mg,$c);return!!(i&&s&&c&&l)?r.createElement("svg",{style:t,width:c,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},r.createElement("g",{className:Hc(["react-flow__connection",u])},r.createElement(Ig,{nodeId:i,handleType:s,style:n,type:a,CustomComponent:o,connectionStatus:u}))):null}function Tg(e,t){(0,r.useRef)(null),bd();return(0,r.useMemo)(()=>t(e),[e])}const Ag=e=>{let{nodeTypes:t,edgeTypes:n,onMove:a,onMoveStart:o,onMoveEnd:i,onInit:s,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:d,onEdgeDoubleClick:u,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:v,onSelectionEnd:x,connectionLineType:y,connectionLineStyle:b,connectionLineComponent:k,connectionLineContainerStyle:w,selectionKeyCode:j,selectionOnDrag:N,selectionMode:C,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:_,deleteKeyCode:O,onlyRenderVisibleElements:I,elementsSelectable:M,selectNodesOnDrag:P,defaultViewport:T,translateExtent:A,minZoom:R,maxZoom:z,preventScrolling:D,defaultMarkerColor:L,zoomOnScroll:B,zoomOnPinch:F,panOnScroll:H,panOnScrollSpeed:W,panOnScrollMode:V,zoomOnDoubleClick:q,panOnDrag:U,onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:X,onPaneMouseLeave:Y,onPaneScroll:$,onPaneContextMenu:J,onEdgeContextMenu:Z,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ae,reconnectRadius:oe,noDragClassName:ie,noWheelClassName:se,noPanClassName:le,elevateEdgesOnSelect:ce,disableKeyboardA11y:de,nodeOrigin:ue,nodeExtent:me,rfId:ge}=e;const pe=Tg(t,ag),fe=Tg(n,pg);return function(e){const t=km(),n=(0,r.useRef)(!1);(0,r.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(s),r.createElement(rg,{onPaneClick:K,onPaneMouseEnter:G,onPaneMouseMove:X,onPaneMouseLeave:Y,onPaneContextMenu:J,onPaneScroll:$,deleteKeyCode:O,selectionKeyCode:j,selectionOnDrag:N,selectionMode:C,onSelectionStart:v,onSelectionEnd:x,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:_,elementsSelectable:M,onMove:a,onMoveStart:o,onMoveEnd:i,zoomOnScroll:B,zoomOnPinch:F,zoomOnDoubleClick:q,panOnScroll:H,panOnScrollSpeed:W,panOnScrollMode:V,panOnDrag:U,defaultViewport:T,translateExtent:A,minZoom:R,maxZoom:z,onSelectionContextMenu:h,preventScrolling:D,noDragClassName:ie,noWheelClassName:se,noPanClassName:le,disableKeyboardA11y:de},r.createElement(_g,null,r.createElement(Sg,{edgeTypes:fe,onEdgeClick:c,onEdgeDoubleClick:u,onlyRenderVisibleElements:I,onEdgeContextMenu:Z,onEdgeMouseEnter:Q,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:re,onReconnectEnd:ae,reconnectRadius:oe,defaultMarkerColor:L,noPanClassName:le,elevateEdgesOnSelect:!!ce,disableKeyboardA11y:de,rfId:ge},r.createElement(Pg,{style:b,type:y,component:k,containerStyle:w})),r.createElement("div",{className:"react-flow__edgelabel-renderer"}),r.createElement(sg,{nodeTypes:pe,onNodeClick:l,onNodeDoubleClick:d,onNodeMouseEnter:m,onNodeMouseMove:g,onNodeMouseLeave:p,onNodeContextMenu:f,selectNodesOnDrag:P,onlyRenderVisibleElements:I,noPanClassName:le,noDragClassName:ie,disableKeyboardA11y:de,nodeOrigin:ue,nodeExtent:me,rfId:ge})))};Ag.displayName="GraphView";var Rg=(0,r.memo)(Ag);const zg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Dg={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:zg,nodeExtent:zg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Xd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Bd,isValidConnection:void 0},Lg=()=>{return e=(e,t)=>Le(Le({},Dg),{},{setNodes:n=>{const{nodeInternals:r,nodeOrigin:a,elevateNodesOnSelect:o}=t();e({nodeInternals:gm(n,r,a,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(e=>Le(Le({},r),e))})},setDefaultNodesAndEdges:(n,r)=>{const a="undefined"!==typeof n,o="undefined"!==typeof r,i=a?gm(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:o?r:[],hasDefaultNodes:a,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:a,fitViewOnInit:o,fitViewOnInitDone:i,fitViewOnInitOptions:s,domNode:l,nodeOrigin:c}=t(),d=null===l||void 0===l?void 0:l.querySelector(".react-flow__viewport");if(!d)return;const u=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(u.transform),g=n.reduce((e,t)=>{const n=a.get(t.id);if(null!==n&&void 0!==n&&n.hidden)a.set(n.id,Le(Le({},n),{},{[Dd]:Le(Le({},n[Dd]),{},{handleBounds:void 0})}));else if(n){const r=Cd(t.nodeElement);r.width&&r.height&&(n.width!==r.width||n.height!==r.height||t.forceUpdate)&&(a.set(n.id,Le(Le({},n),{},{[Dd]:Le(Le({},n[Dd]),{},{handleBounds:{source:Um(".source",t.nodeElement,m,c),target:Um(".target",t.nodeElement,m,c)}})},r)),e.push({id:n.id,type:"dimensions",dimensions:r}))}return e},[]);mm(a,c);const p=i||o&&!i&&pm(t,Le({initial:!0},s));e({nodeInternals:new Map(a),fitViewOnInitDone:p}),(null===g||void 0===g?void 0:g.length)>0&&(null===r||void 0===r||r(g))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:a}=t(),o=e.map(e=>{const t={id:e.id,type:"position",dragging:r};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t});a(o)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:a,hasDefaultNodes:o,nodeOrigin:i,getNodes:s,elevateNodesOnSelect:l}=t();if(null!==n&&void 0!==n&&n.length){if(o){const t=gm(Am(n,s()),a,i,l);e({nodeInternals:t})}null===r||void 0===r||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let i,s=null;r?i=n.map(e=>Rm(e,!0)):(i=zm(o(),n),s=zm(a,[])),vm({changedNodes:i,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:a,getNodes:o}=t();let i,s=null;r?i=n.map(e=>Rm(e,!0)):(i=zm(a,n),s=zm(o(),[])),vm({changedNodes:s,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:a,getNodes:o}=t(),i=r||a,s=(n||o()).map(e=>(e.selected=!1,Rm(e.id,!1)));vm({changedNodes:s,changedEdges:i.map(e=>Rm(e.id,!1)),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:a}=t();null===r||void 0===r||r.scaleExtent([n,a]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:a}=t();null===r||void 0===r||r.scaleExtent([a,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;null===(r=t().d3Zoom)||void 0===r||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),a=r().filter(e=>e.selected).map(e=>Rm(e.id,!1)),o=n.filter(e=>e.selected).map(e=>Rm(e.id,!1));vm({changedNodes:a,changedEdges:o,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(e=>{e.positionAbsolute=Ed(e.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:e=>{const{transform:n,width:r,height:a,d3Zoom:o,d3Selection:i,translateExtent:s}=t();if(!o||!i||!e.x&&!e.y)return!1;const l=Oc.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),c=[[0,0],[r,a]],d=null===o||void 0===o?void 0:o.constrain()(l,c,s);return o.transform(i,d),n[0]!==d.x||n[1]!==d.y||n[2]!==d.k},cancelConnection:()=>e({connectionNodeId:Dg.connectionNodeId,connectionHandleId:Dg.connectionHandleId,connectionHandleType:Dg.connectionHandleType,connectionStatus:Dg.connectionStatus,connectionStartHandle:Dg.connectionStartHandle,connectionEndHandle:Dg.connectionEndHandle}),reset:()=>e(Le({},Dg))}),t=Object.is,e?Yc(e,t):Yc;var e,t},Bg=e=>{let{children:t}=e;const n=(0,r.useRef)(null);return n.current||(n.current=Lg()),r.createElement(ld,{value:n.current},t)};Bg.displayName="ReactFlowProvider";const Fg=e=>{let{children:t}=e;return(0,r.useContext)(sd)?r.createElement(r.Fragment,null,t):r.createElement(Bg,null,t)};Fg.displayName="ReactFlowWrapper";const Hg={input:Hu,default:Bu,output:Vu,group:qu},Wg={default:gu,straight:cu,step:lu,smoothstep:su,simplebezier:nu},Vg=[0,0],qg=[15,15],Ug={x:0,y:0,zoom:1},Kg={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Gg=(0,r.forwardRef)((e,t)=>{let{nodes:n,edges:a,defaultNodes:o,defaultEdges:i,className:s,nodeTypes:l=Hg,edgeTypes:c=Wg,onNodeClick:d,onEdgeClick:u,onInit:m,onMove:g,onMoveStart:p,onMoveEnd:f,onConnect:h,onConnectStart:v,onConnectEnd:x,onClickConnectStart:y,onClickConnectEnd:b,onNodeMouseEnter:k,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:C,onNodeDragStart:S,onNodeDrag:E,onNodeDragStop:_,onNodesDelete:O,onEdgesDelete:I,onSelectionChange:M,onSelectionDragStart:P,onSelectionDrag:T,onSelectionDragStop:A,onSelectionContextMenu:R,onSelectionStart:z,onSelectionEnd:D,connectionMode:L=Xd.Strict,connectionLineType:B=Jd.Bezier,connectionLineStyle:F,connectionLineComponent:H,connectionLineContainerStyle:W,deleteKeyCode:V="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:U=!1,selectionMode:K=$d.Full,panActivationKeyCode:G="Space",multiSelectionKeyCode:X=(Vd()?"Meta":"Control"),zoomActivationKeyCode:Y=(Vd()?"Meta":"Control"),snapToGrid:$=!1,snapGrid:J=qg,onlyRenderVisibleElements:Z=!1,selectNodesOnDrag:Q=!0,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,nodeOrigin:re=Vg,edgesFocusable:ae,edgesUpdatable:oe,elementsSelectable:ie,defaultViewport:se=Ug,minZoom:le=.5,maxZoom:ce=2,translateExtent:de=zg,preventScrolling:ue=!0,nodeExtent:me,defaultMarkerColor:ge="#b1b1b7",zoomOnScroll:pe=!0,zoomOnPinch:fe=!0,panOnScroll:he=!1,panOnScrollSpeed:ve=.5,panOnScrollMode:xe=Yd.Free,zoomOnDoubleClick:ye=!0,panOnDrag:be=!0,onPaneClick:ke,onPaneMouseEnter:we,onPaneMouseMove:je,onPaneMouseLeave:Ne,onPaneScroll:Ce,onPaneContextMenu:Se,children:Ee,onEdgeContextMenu:_e,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Ie,onEdgeMouseMove:Me,onEdgeMouseLeave:Pe,onEdgeUpdate:Te,onEdgeUpdateStart:Ae,onEdgeUpdateEnd:Re,onReconnect:ze,onReconnectStart:De,onReconnectEnd:Fe,reconnectRadius:He=10,edgeUpdaterRadius:We=10,onNodesChange:Ve,onEdgesChange:qe,noDragClassName:Ue="nodrag",noWheelClassName:Ke="nowheel",noPanClassName:Ge="nopan",fitView:Xe=!1,fitViewOptions:Ye,connectOnClick:$e=!0,attributionPosition:Je,proOptions:Ze,defaultEdgeOptions:Qe,elevateNodesOnSelect:et=!0,elevateEdgesOnSelect:tt=!1,disableKeyboardA11y:nt=!1,autoPanOnConnect:rt=!0,autoPanOnNodeDrag:at=!0,connectionRadius:ot=20,isValidConnection:it,onError:st,style:lt,id:ct,nodeDragThreshold:dt}=e,ut=Be(e,id);const mt=ct||"1";return r.createElement("div",Le(Le({},ut),{},{style:Le(Le({},lt),Kg),ref:t,className:Hc(["react-flow",s]),"data-testid":"rf__wrapper",id:ct}),r.createElement(Fg,null,r.createElement(Rg,{onInit:m,onMove:g,onMoveStart:p,onMoveEnd:f,onNodeClick:d,onEdgeClick:u,onNodeMouseEnter:k,onNodeMouseMove:w,onNodeMouseLeave:j,onNodeContextMenu:N,onNodeDoubleClick:C,nodeTypes:l,edgeTypes:c,connectionLineType:B,connectionLineStyle:F,connectionLineComponent:H,connectionLineContainerStyle:W,selectionKeyCode:q,selectionOnDrag:U,selectionMode:K,deleteKeyCode:V,multiSelectionKeyCode:X,panActivationKeyCode:G,zoomActivationKeyCode:Y,onlyRenderVisibleElements:Z,selectNodesOnDrag:Q,defaultViewport:se,translateExtent:de,minZoom:le,maxZoom:ce,preventScrolling:ue,zoomOnScroll:pe,zoomOnPinch:fe,zoomOnDoubleClick:ye,panOnScroll:he,panOnScrollSpeed:ve,panOnScrollMode:xe,panOnDrag:be,onPaneClick:ke,onPaneMouseEnter:we,onPaneMouseMove:je,onPaneMouseLeave:Ne,onPaneScroll:Ce,onPaneContextMenu:Se,onSelectionContextMenu:R,onSelectionStart:z,onSelectionEnd:D,onEdgeContextMenu:_e,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Ie,onEdgeMouseMove:Me,onEdgeMouseLeave:Pe,onReconnect:null!==ze&&void 0!==ze?ze:Te,onReconnectStart:null!==De&&void 0!==De?De:Ae,onReconnectEnd:null!==Fe&&void 0!==Fe?Fe:Re,reconnectRadius:null!==He&&void 0!==He?He:We,defaultMarkerColor:ge,noDragClassName:Ue,noWheelClassName:Ke,noPanClassName:Ge,elevateEdgesOnSelect:tt,rfId:mt,disableKeyboardA11y:nt,nodeOrigin:re,nodeExtent:me}),r.createElement(em,{nodes:n,edges:a,defaultNodes:o,defaultEdges:i,onConnect:h,onConnectStart:v,onConnectEnd:x,onClickConnectStart:y,onClickConnectEnd:b,nodesDraggable:ee,nodesConnectable:te,nodesFocusable:ne,edgesFocusable:ae,edgesUpdatable:oe,elementsSelectable:ie,elevateNodesOnSelect:et,minZoom:le,maxZoom:ce,nodeExtent:me,onNodesChange:Ve,onEdgesChange:qe,snapToGrid:$,snapGrid:J,connectionMode:L,translateExtent:de,connectOnClick:$e,defaultEdgeOptions:Qe,fitView:Xe,fitViewOptions:Ye,onNodesDelete:O,onEdgesDelete:I,onNodeDragStart:S,onNodeDrag:E,onNodeDragStop:_,onSelectionDrag:T,onSelectionDragStart:P,onSelectionDragStop:A,noPanClassName:Ge,nodeOrigin:re,rfId:mt,autoPanOnConnect:rt,autoPanOnNodeDrag:at,onError:st,connectionRadius:ot,isValidConnection:it,nodeDragThreshold:dt}),r.createElement($u,{onSelectionChange:M}),Ee,r.createElement(jd,{proOptions:Ze,position:Je}),r.createElement(sm,{rfId:mt,disableKeyboardA11y:nt})))});Gg.displayName="ReactFlow";function Xg(e){return t=>{const[n,a]=(0,r.useState)(t),o=(0,r.useCallback)(t=>a(n=>e(t,n)),[]);return[n,a,o]}}const Yg=Xg(Am),$g=Xg(function(e,t){return Tm(e,t)});var Jg;function Zg(e){let{color:t,dimensions:n,lineWidth:a}=e;return r.createElement("path",{stroke:t,strokeWidth:a,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function Qg(e){let{color:t,radius:n}=e;return r.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(Jg||(Jg={}));const ep={[Jg.Dots]:"#91919a",[Jg.Lines]:"#eee",[Jg.Cross]:"#e2e2e2"},tp={[Jg.Dots]:1,[Jg.Lines]:1,[Jg.Cross]:6},np=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function rp(e){let{id:t,variant:n=Jg.Dots,gap:a=20,size:o,lineWidth:i=1,offset:s=2,color:l,style:c,className:d}=e;const u=(0,r.useRef)(null),{transform:m,patternId:g}=yd(np,$c),p=l||ep[n],f=o||tp[n],h=n===Jg.Dots,v=n===Jg.Cross,x=Array.isArray(a)?a:[a,a],y=[x[0]*m[2]||1,x[1]*m[2]||1],b=f*m[2],k=v?[b,b]:y,w=h?[b/s,b/s]:[k[0]/s,k[1]/s];return r.createElement("svg",{className:Hc(["react-flow__background",d]),style:Le(Le({},c),{},{position:"absolute",width:"100%",height:"100%",top:0,left:0}),ref:u,"data-testid":"rf__background"},r.createElement("pattern",{id:g+t,x:m[0]%y[0],y:m[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(w[0],",-").concat(w[1],")")},h?r.createElement(Qg,{color:p,radius:b/s}):r.createElement(Zg,{dimensions:k,color:p,lineWidth:i})),r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(g+t,")")}))}rp.displayName="Background";var ap=(0,r.memo)(rp);const op=["children","className"];function ip(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},r.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function sp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},r.createElement("path",{d:"M0 0h32v4.2H0z"}))}function lp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},r.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function cp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function dp(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},r.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const up=e=>{let{children:t,className:n}=e,a=Be(e,op);return r.createElement("button",Le({type:"button",className:Hc(["react-flow__controls-button",n])},a),t)};up.displayName="ControlButton";const mp=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),gp=e=>{let{style:t,showZoom:n=!0,showFitView:a=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:l,onFitView:c,onInteractiveChange:d,className:u,children:m,position:g="bottom-left"}=e;const p=bd(),[f,h]=(0,r.useState)(!1),{isInteractive:v,minZoomReached:x,maxZoomReached:y}=yd(mp,$c),{zoomIn:b,zoomOut:k,fitView:w}=km();if((0,r.useEffect)(()=>{h(!0)},[]),!f)return null;return r.createElement(wd,{className:Hc(["react-flow__controls",u]),position:g,style:t,"data-testid":"rf__controls"},n&&r.createElement(r.Fragment,null,r.createElement(up,{onClick:()=>{b(),null===s||void 0===s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y},r.createElement(ip,null)),r.createElement(up,{onClick:()=>{k(),null===l||void 0===l||l()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:x},r.createElement(sp,null))),a&&r.createElement(up,{className:"react-flow__controls-fitview",onClick:()=>{w(i),null===c||void 0===c||c()},title:"fit view","aria-label":"fit view"},r.createElement(lp,null)),o&&r.createElement(up,{className:"react-flow__controls-interactive",onClick:()=>{p.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),null===d||void 0===d||d(!v)},title:"toggle interactivity","aria-label":"toggle interactivity"},v?r.createElement(dp,null):r.createElement(cp,null)),m)};gp.displayName="Controls";var pp=(0,r.memo)(gp);const fp=e=>{let{id:t,x:n,y:a,width:o,height:i,style:s,color:l,strokeColor:c,strokeWidth:d,className:u,borderRadius:m,shapeRendering:g,onClick:p,selected:f}=e;const{background:h,backgroundColor:v}=s||{},x=l||h||v;return r.createElement("rect",{className:Hc(["react-flow__minimap-node",{selected:f},u]),x:n,y:a,rx:m,ry:m,width:o,height:i,fill:x,stroke:c,strokeWidth:d,shapeRendering:g,onClick:p?e=>p(e,t):void 0})};fp.displayName="MiniMapNode";var hp=(0,r.memo)(fp);const vp=e=>e.nodeOrigin,xp=e=>e.getNodes().filter(e=>!e.hidden&&e.width&&e.height),yp=e=>e instanceof Function?e:()=>e;var bp=(0,r.memo)(function(e){let{nodeStrokeColor:t="transparent",nodeColor:n="#e2e2e2",nodeClassName:a="",nodeBorderRadius:o=5,nodeStrokeWidth:i=2,nodeComponent:s=hp,onClick:l}=e;const c=yd(xp,$c),d=yd(vp),u=yp(n),m=yp(t),g=yp(a),p="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return r.createElement(r.Fragment,null,c.map(e=>{const{x:t,y:n}=bu(e,d).positionAbsolute;return r.createElement(s,{key:e.id,x:t,y:n,width:e.width,height:e.height,style:e.style,selected:e.selected,className:g(e),color:u(e),borderRadius:o,strokeColor:m(e),strokeWidth:i,shapeRendering:p,onClick:l,id:e.id})}))});const kp=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?(r=ku(t,e.nodeOrigin),a=n,Td(Md(Pd(r),Pd(a)))):n,rfId:e.rfId};var r,a};function wp(e){var t,n;let{style:a,className:o,nodeStrokeColor:i="transparent",nodeColor:s="#e2e2e2",nodeClassName:l="",nodeBorderRadius:c=5,nodeStrokeWidth:d=2,nodeComponent:u,maskColor:m="rgb(240, 240, 240, 0.6)",maskStrokeColor:g="none",maskStrokeWidth:p=1,position:f="bottom-right",onClick:h,onNodeClick:v,pannable:x=!1,zoomable:y=!1,ariaLabel:b="React Flow mini map",inversePan:k=!1,zoomStep:w=10,offsetScale:j=5}=e;const N=bd(),C=(0,r.useRef)(null),{boundingRect:S,viewBB:E,rfId:_}=yd(kp,$c),O=null!==(t=null===a||void 0===a?void 0:a.width)&&void 0!==t?t:200,I=null!==(n=null===a||void 0===a?void 0:a.height)&&void 0!==n?n:150,M=S.width/O,P=S.height/I,T=Math.max(M,P),A=T*O,R=T*I,z=j*T,D=S.x-(A-S.width)/2-z,L=S.y-(R-S.height)/2-z,B=A+2*z,F=R+2*z,H="".concat("react-flow__minimap-desc","-").concat(_),W=(0,r.useRef)(0);W.current=T,(0,r.useEffect)(()=>{if(C.current){const e=Bl(C.current),t=e=>{const{transform:t,d3Selection:n,d3Zoom:r}=N.getState();if("wheel"!==e.sourceEvent.type||!n||!r)return;const a=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*w,o=t[2]*Math.pow(2,a);r.scaleTo(n,o)},n=e=>{const{transform:t,d3Selection:n,d3Zoom:r,translateExtent:a,width:o,height:i}=N.getState();if("mousemove"!==e.sourceEvent.type||!n||!r)return;const s=W.current*Math.max(1,t[2])*(k?-1:1),l={x:t[0]-e.sourceEvent.movementX*s,y:t[1]-e.sourceEvent.movementY*s},c=[[0,0],[o,i]],d=Oc.translate(l.x,l.y).scale(t[2]),u=r.constrain()(d,c,a);r.transform(n,u)},r=Bc().on("zoom",x?n:null).on("zoom.wheel",y?t:null);return e.call(r),()=>{e.on("zoom",null)}}},[x,y,k,w]);const V=h?e=>{const t=Cc(e);h(e,{x:t[0],y:t[1]})}:void 0,q=v?(e,t)=>{const n=N.getState().nodeInternals.get(t);v(e,n)}:void 0;return r.createElement(wd,{position:f,style:a,className:Hc(["react-flow__minimap",o]),"data-testid":"rf__minimap"},r.createElement("svg",{width:O,height:I,viewBox:"".concat(D," ").concat(L," ").concat(B," ").concat(F),role:"img","aria-labelledby":H,ref:C,onClick:V},b&&r.createElement("title",{id:H},b),r.createElement(bp,{onClick:q,nodeColor:s,nodeStrokeColor:i,nodeBorderRadius:c,nodeClassName:l,nodeStrokeWidth:d,nodeComponent:u}),r.createElement("path",{className:"react-flow__minimap-mask",d:"M".concat(D-z,",").concat(L-z,"h").concat(B+2*z,"v").concat(F+2*z,"h").concat(-B-2*z,"z\n        M").concat(E.x,",").concat(E.y,"h").concat(E.width,"v").concat(E.height,"h").concat(-E.width,"z"),fill:m,fillRule:"evenodd",stroke:g,strokeWidth:p,pointerEvents:"none"})))}wp.displayName="MiniMap";var jp=(0,r.memo)(wp);const Np="00000000-0000-0000-0000-000000000001",Cp=[{id:"1",name:"Banking Regulatory Compliance",description:"Comprehensive taxonomy for banking regulatory requirements",industry:"banking",category:"compliance",businessDomains:["risk_management","compliance","audit"],useCases:["regulatory_compliance","risk_assessment"]},{id:"2",name:"Banking Business Processes",description:"Taxonomy for core banking business processes",industry:"banking",category:"business_process",businessDomains:["retail_banking","commercial_banking"],useCases:["process_documentation","knowledge_management"]}],Sp=()=>{var e,t,n,a,o;const{user:i}=(0,r.useContext)(Sr),{taxonomyNodes:s}=(()=>{const e=(0,r.useContext)(ka);if(!e)throw new Error("useTaxonomy must be used within a TaxonomyProvider");return e})(),[l,c]=(0,r.useState)("tree"),[d,u]=(0,r.useState)(""),[m,g]=(0,r.useState)("all"),[p,f]=(0,r.useState)("all"),[h,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(null),[b,k]=(0,r.useState)(!1),[w,j]=(0,r.useState)(null),[N,C]=(0,r.useState)([]),[S,E,_]=Yg([]),[O,I,M]=$g([]),[P,T]=(0,r.useState)(new Set),[A,R]=(0,r.useState)(null),[z,D]=(0,r.useState)({}),[L,B]=(0,r.useState)(null),[F,H]=(0,r.useState)(!1),[W,V]=(0,r.useState)(null),[q,U]=(0,r.useState)(null),[K,G]=(0,r.useState)(!0),[X,Y]=(0,r.useState)([]),[$,J]=(0,r.useState)(!1),[Z,Q]=(0,r.useState)(null),[te,ne]=(0,r.useState)(null),[re,ae]=(0,r.useState)(null),[oe,ie]=(0,r.useState)(null),[se,le]=(0,r.useState)(!1),[ce,de]=(0,r.useState)({name:"",description:"",industry:"",category:""}),[ue,me]=(0,r.useState)(!1),[ge,pe]=(0,r.useState)({name:"",description:"",sensitivity:"NON_SENSITIVE",businessDomain:"",weight:1,insertionType:"child",copyChildren:!1}),fe=async()=>{try{v(!0);const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/templates/"),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw console.error("Direct response failed:",e.status,e.statusText),new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const t=await e.json();console.log("Raw API response:",t);const n=t.map(e=>({id:e.id,name:e.name,description:e.description,industry:e.industry,category:e.category,businessDomains:e.business_domains||[],useCases:e.use_cases||[]}));C(n),console.log("Templates loaded successfully:",n)}catch(e){console.error("Direct API call failed:",e),console.log("Using mock templates as fallback"),C(Cp)}finally{v(!1)}};(0,r.useEffect)(()=>{null!==i&&void 0!==i&&i.authenticated&&ve()},[i]);const he=(0,r.useCallback)(async e=>{if((null===w||void 0===w?void 0:w.id)===e.id)return j(null),B(null),void(K||D({}));j(e);try{let t;K?(console.log("Loading user taxonomy:",e.id),t="".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(e.id)):(console.log("Making direct preview request for template:",e.id),t="".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/templates/").concat(e.id,"/preview/"));const n=await fetch(t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!n.ok)return void console.error("Preview request failed:",n.status,n.statusText);const r=await n.json();B(r)}catch(t){console.error("Error fetching preview:",t)}},[K,w]),ve=async()=>{J(!0);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/org/").concat(Np),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.ok){const t=await e.json();console.log("Fetched taxonomies:",t),Y(Array.isArray(t)?t:[])}else console.error("Failed to fetch taxonomies:",e.status),Y([])}catch(e){console.error("Error fetching taxonomies:",e),Y([])}finally{J(!1)}},xe=(0,r.useCallback)(async(e,t,n,r)=>{try{const a={name:e.name,description:e.description,sensitivity:e.sensitivity,business_domain:e.businessDomain,weight:e.weight,parent_id:t,level:n};console.log("Creating node with payload:",a);const o=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(r,"/nodes"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw new Error("Failed to create node: ".concat(o.status," ").concat(o.statusText));const i=await o.json();if(console.log("Node created successfully:",i),e.children&&e.children.length>0)for(const t of e.children)await xe(t,i.id,n+1,r);return i}catch(a){throw console.error("Error copying node:",a),a}},[]),ye=(0,r.useCallback)(async()=>{if(null!==L&&void 0!==L&&L.id)try{if(null!==te&&void 0!==te&&te.isCopy&&ge.copyChildren){const{node:e,insertionType:t}=te;let n=null,r=1;if("sibling"===t)n=e.parentId,r=e.level;else n=e.id,r=e.level+1;const a={name:ge.name,description:ge.description,sensitivity:ge.sensitivity,businessDomain:ge.businessDomain,weight:ge.weight,children:e.children};await xe(a,n,r,L.id)}else{const{node:e,insertionType:t}=te||{};let n=null,r=1;switch(t){case"child":n=e.id,r=e.level+1;break;case"sibling":case"between":n=e.parentId,r=e.level;break;case"root":n=null,r=1;break;default:n=(null===e||void 0===e?void 0:e.id)||null,r=e?e.level+1:1}const a={name:ge.name,description:ge.description,sensitivity:ge.sensitivity,business_domain:ge.businessDomain,weight:ge.weight,parent_id:n,level:r};console.log("Creating node with payload:",a);const o=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(L.id,"/nodes"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)});if(!o.ok)throw new Error("Failed to add node: ".concat(o.status," ").concat(o.statusText));const i=await o.json();if(console.log("Node created successfully:",i),"between"===t){const t=Le(Le({},e),{},{parent_id:i.id,level:e.level+1});(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(L.id,"/nodes"),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})).ok||console.error("Failed to update context node parent")}}await be(),k(!1),ne(null),pe({name:"",description:"",sensitivity:"NON_SENSITIVE",businessDomain:"",weight:1,insertionType:"child",copyChildren:!1})}catch(e){console.error("Error adding node:",e)}else console.error("Missing context for adding node")},[te,ge,L,xe]),be=(0,r.useCallback)(async()=>{if(null!==L&&void 0!==L&&L.id)try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(L.id),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.ok){const t=await e.json();B(t)}}catch(e){console.error("Error refreshing taxonomy data:",e)}},[null===L||void 0===L?void 0:L.id]),ke=(0,r.useCallback)(async(e,t)=>{if(null!==L&&void 0!==L&&L.id)try{const e={id:t.id,name:t.name,description:t.description,sensitivity:t.sensitivity,business_domain:t.businessDomain,weight:t.weight,level:t.level,parent_id:t.parentId},n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(L.id,"/nodes"),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to update node: ".concat(n.status," ").concat(n.statusText));const r=await n.json();console.log("Updated node from API:",r),B(e=>Le(Le({},e),{},{nodes:e.nodes.map(e=>e.id===r.id?r:e)}))}catch(n){console.error("Error updating node:",n)}else console.error("Missing taxonomy context for updating node")},[L]),we=(0,r.useCallback)(async(e,t)=>{if(null===L||void 0===L||!L.nodes)return;const n=L.nodes.filter(t=>t.parent_id===e);for(const a of n){const e=t+1;try{const t={id:a.id,name:a.name,description:a.description,sensitivity:a.sensitivity,business_domain:a.business_domain,weight:a.weight,level:e,parent_id:a.parent_id},n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/").concat(L.id,"/nodes"),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){console.error("Failed to update child node ".concat(a.id,":"),n.status,n.statusText);continue}console.log("Updated child node ".concat(a.name," to level ").concat(e)),await we(a.id,e)}catch(r){console.error("Error updating child node ".concat(a.id,":"),r)}}},[L]),je=(0,r.useCallback)((e,t,n)=>{if(!e||!t)return!1;if(e.id===t.id)return!1;const r=(e,t)=>{var n;if(!e.parentId)return!1;if(e.parentId===t)return!0;const a=null===L||void 0===L||null===(n=L.nodes)||void 0===n?void 0:n.find(t=>t.id===e.parentId);return!!a&&r(a,t)};return!r(t,e.id)},[null===L||void 0===L?void 0:L.nodes]),Ne=(0,r.useCallback)(async(e,t,n)=>{if(je(e,t,n)){if(null!==L&&void 0!==L&&L.id)try{const n=t.id,r=t.level+1,a=Le(Le({},e),{},{parentId:n,parent_id:n,level:r});await ke(e.id,a),await we(e.id,r),await be()}catch(r){console.error("Drop failed:",r)}finally{ae(null),ie(null)}}else console.log("Invalid drop")},[je,L,ke,we,be]),Ce=(0,r.useMemo)(()=>{if(null===L||void 0===L||!L.nodes)return[];const e=new Set;return L.nodes.forEach(t=>{t.business_domain&&e.add(t.business_domain)}),Array.from(e)},[L]),Se=(0,r.useMemo)(()=>{const e={};return N.forEach(t=>{e[t.industry]||(e[t.industry]=[]),e[t.industry].push(t)}),e},[N]),Ee=((0,r.useCallback)(e=>{const t=Se[e]||[],n=z[e];return n?t.find(e=>e.category===n):null},[Se,z]),(0,r.useCallback)((e,t)=>{D(n=>n[e]===t?(B(null),j(null),{}):{[e]:t})},[])),_e=(0,r.useMemo)(()=>{const e=(e=>{const t=new Map,n=[];return e.forEach(e=>{t.set(e.id,{id:e.id,name:e.name,description:e.description,level:e.level,parentId:e.parent_id,sensitivity:e.sensitivity,businessDomain:e.business_domain,weight:e.weight,children:[]})}),e.forEach(e=>{const r=t.get(e.id);e.parent_id&&t.has(e.parent_id)?t.get(e.parent_id).children.push(r):n.push(r)}),n})((null===L||void 0===L?void 0:L.nodes)||[]),t=e=>{const n=!d||e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase()),r="all"===m||e.sensitivity===m,a="all"===p||e.businessDomain===p,o=e.children?e.children.map(t).filter(Boolean):[];return n&&r&&a||o.length>0?Le(Le({},e),{},{children:o}):null};return e.map(t).filter(Boolean)},[null===L||void 0===L?void 0:L.nodes,d,m,p]),Oe=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"child";const n="sibling"===t;let r=e;if(n){const t=(e,n)=>{for(const r of e){if(r.id===n)return r;if(r.children&&r.children.length>0){const e=t(r.children,n);if(e)return e}}return null},n=t(_e,e.id);n&&(r=n)}ne({node:e,insertionType:t,isCopy:n}),pe({name:n?"".concat(e.name," (Copy)"):"",description:n?e.description:"",sensitivity:n?e.sensitivity:"NON_SENSITIVE",businessDomain:n?e.businessDomain:e.businessDomain||"",weight:n?e.weight:1,insertionType:t,copyChildren:!1}),k(!0)},[_e]),Ie=(0,r.useCallback)(()=>{null!==L&&void 0!==L&&L.id?(ne({node:null,insertionType:"root",isCopy:!1}),pe({name:"",description:"",sensitivity:"NON_SENSITIVE",businessDomain:"",weight:1,level:1,tags:"",insertionType:"root",copyChildren:!1}),k(!0)):U("Please select a taxonomy first to add nodes")},[L]),Me=(0,r.useCallback)(e=>{T(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),Pe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||!e.id)return console.error("Invalid node passed to renderTreeNode:",e),null;const n=t>0?"".concat(20*t,"px"):"0px",r="SENSITIVE"===e.sensitivity?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400",a=e.children&&e.children.length>0,o=P.has(e.id),i=1===e.level,s=(null===re||void 0===re?void 0:re.id)===e.id,l=oe==="".concat(e.id,":child");return(0,Ue.jsxs)("div",{className:"w-full",children:[(0,Ue.jsxs)("div",{className:"flex items-center p-3 border rounded-lg mb-2 transition-all cursor-move ".concat(s?"opacity-40 border-blue-400 scale-95":l?"bg-green-50 dark:bg-green-900/20 border-green-400 border-2 shadow-lg":"hover:bg-gray-50 dark:hover:bg-gray-700 border-gray-300 dark:border-gray-600"),style:{marginLeft:n},draggable:K,onDragStart:t=>{if(!K)return;if("BUTTON"===t.target.tagName||t.target.closest("button"))return void t.preventDefault();ae(e),t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text/plain",e.id);const n=t.currentTarget.cloneNode(!0);n.style.position="absolute",n.style.top="-1000px",n.style.opacity="0.8",document.body.appendChild(n),t.dataTransfer.setDragImage(n,0,0),requestAnimationFrame(()=>{document.body.removeChild(n)})},onDragEnd:()=>{ae(null),ie(null)},onDragOver:t=>{K&&re&&re.id!==e.id&&(t.preventDefault(),t.stopPropagation(),je(re,e,"child")&&ie("".concat(e.id,":child")))},onDragLeave:e=>{const t=e.currentTarget.getBoundingClientRect(),n=e.clientX,r=e.clientY;(n<t.left||n>=t.right||r<t.top||r>=t.bottom)&&ie(null)},onDrop:t=>{K&&re&&(t.preventDefault(),t.stopPropagation(),Ne(re,e,"child"))},children:[(0,Ue.jsxs)("div",{className:"flex-1 pointer-events-none",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[K&&(0,Ue.jsx)("div",{className:"text-gray-400 select-none",children:"\u22ee\u22ee"}),a&&(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),Me(e.id)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded pointer-events-auto",children:o?(0,Ue.jsx)(ja,{className:"w-4 h-4 text-gray-500"}):(0,Ue.jsx)(Na,{className:"w-4 h-4 text-gray-500"})}),(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(r," bg-gray-100 dark:bg-gray-600"),children:e.sensitivity}),e.businessDomain&&(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300",children:e.businessDomain})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description}),(0,Ue.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[(0,Ue.jsxs)("span",{children:["Level: ",e.level]}),(0,Ue.jsxs)("span",{children:["Weight: ",e.weight]}),a&&(0,Ue.jsxs)("span",{className:"text-blue-600 dark:text-blue-400",children:[e.children.length," ",1===e.children.length?"child":"children"]})]})]}),K&&(0,Ue.jsxs)("div",{className:"flex gap-1 pointer-events-auto",children:[(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),Oe(e,"child")},className:"p-1 hover:bg-green-200 dark:hover:bg-green-600 rounded",title:"Add child node",children:(0,Ue.jsx)(Ca,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),!i&&(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),Oe(e,"sibling")},className:"p-1 hover:bg-blue-200 dark:hover:bg-blue-600 rounded",title:"Copy Node",children:(0,Ue.jsx)(Sa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),y(e)},className:"p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded",title:"Edit node",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]})]}),a&&o&&(0,Ue.jsx)("div",{className:"mt-1",children:e.children.map(e=>Pe(e,t+1))})]},e.id)},Te=(0,r.useCallback)(e=>{if(null===e||void 0===e||!e.nodes)return{nodes:[],edges:[]};const t=[],n=[],r=600,a=400,o={id:"template-center",type:"templateNode",position:{x:425,y:300},data:{label:e.name,description:e.description,isTemplate:!0,nodeCount:e.nodes.length}};t.push(o);const i=new Map,s={};e.nodes.forEach(e=>{i.set(e.id,Le(Le({},e),{},{children:[]})),s[e.level]||(s[e.level]=[]),s[e.level].push(e)}),e.nodes.forEach(e=>{e.parent_id&&i.has(e.parent_id)&&i.get(e.parent_id).children.push(i.get(e.id))});const l=e.nodes.filter(e=>!e.parent_id&&1===e.level),c={1:350,2:600,3:900,4:1200},d=function(e,o,i,s){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;const m=c[s];let g,p;if(1===s){const t=2*Math.PI*l/u;g=r+m*Math.cos(t),p=a+m*Math.sin(t),n.push({id:"e-center-".concat(e.id),source:"template-center",target:e.id,type:"smoothstep",animated:!1,style:{stroke:"#3b82f6",strokeWidth:3}})}else{const t=m-c[s-1];if(1===u){const e=Math.atan2(i-a,o-r);g=o+t*Math.cos(e),p=i+t*Math.sin(e)}else{const e=Math.atan2(i-a,o-r),n=.8*Math.PI,s=e-n/2+n*l/(u-1);g=o+t*Math.cos(s),p=i+t*Math.sin(s)}n.push({id:"e-".concat(e.parent_id,"-").concat(e.id),source:e.parent_id,target:e.id,type:"smoothstep",animated:!1,style:{stroke:"SENSITIVE"===e.sensitivity?"#ef4444":"#6b7280",strokeWidth:2}})}const f={id:e.id,type:"taxonomyNode",position:{x:g-150,y:p-60},data:{label:e.name,description:e.description,sensitivity:e.sensitivity,businessDomain:e.business_domain,weight:e.weight,level:e.level,hasChildren:e.children&&e.children.length>0}};t.push(f),e.children&&e.children.length>0&&e.children.forEach((t,n)=>{d(t,g,p,t.level,n,e.children.length)})};return l.forEach((e,t)=>{d(i.get(e.id),r,a,1,t,l.length)}),{nodes:t,edges:n}},[]);(0,r.useEffect)(()=>{if("flow"===l&&L)try{const{nodes:e,edges:t}=Te(L);E(e),I(t)}catch(e){}},[l,L,Te,E,I]);const Ae=ee();(0,r.useEffect)(()=>{const e=Ae.state;null!==e&&void 0!==e&&e.showTemplates?(G(!1),0===N.length&&fe(),D({}),B(null),j(null)):G(!0)},[Ae.state]);const Re={taxonomyNode:e=>{let{data:t}=e;const n="SENSITIVE"===t.sensitivity?"text-red-600":"text-green-600",r="SENSITIVE"===t.sensitivity?"bg-red-50 border-red-200":"bg-green-50 border-green-200";return(0,Ue.jsxs)("div",{className:"px-4 py-3 shadow-lg rounded-lg ".concat(r," border-2 min-w-[250px] max-w-[300px]"),children:[(0,Ue.jsx)(Du,{type:"target",position:Qd.Left,style:{background:"#6b7280",width:8,height:8}}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,Ue.jsxs)("div",{className:"rounded-full w-6 h-6 flex items-center justify-center bg-white text-xs font-bold text-gray-700",children:["L",t.level]}),(0,Ue.jsx)("div",{className:"text-sm font-bold text-gray-900",children:t.label})]}),t.businessDomain&&(0,Ue.jsx)("div",{className:"text-xs text-gray-600 mb-1 capitalize",children:t.businessDomain.replace("_"," ")}),(0,Ue.jsx)("div",{className:"text-xs font-medium ".concat(n," mb-1"),children:t.sensitivity}),t.description&&(0,Ue.jsxs)("div",{className:"text-xs text-gray-600 line-clamp-2",children:[t.description.substring(0,80),"..."]})]}),t.hasChildren&&(0,Ue.jsx)(Du,{type:"source",position:Qd.Right,style:{background:"#6b7280",width:8,height:8}})]})},templateNode:e=>{let{data:t}=e;return(0,Ue.jsxs)("div",{className:"px-6 py-4 shadow-lg rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 text-white border-4 border-blue-300 min-w-[300px]",children:[(0,Ue.jsx)(Du,{type:"source",position:Qd.Top,style:{background:"#ffffff",width:12,height:12,top:-6}}),(0,Ue.jsx)(Du,{type:"source",position:Qd.Right,style:{background:"#ffffff",width:12,height:12,right:-6}}),(0,Ue.jsx)(Du,{type:"source",position:Qd.Bottom,style:{background:"#ffffff",width:12,height:12,bottom:-6}}),(0,Ue.jsx)(Du,{type:"source",position:Qd.Left,style:{background:"#ffffff",width:12,height:12,left:-6}}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"text-lg font-bold mb-2",children:t.label}),(0,Ue.jsx)("div",{className:"text-sm opacity-90 mb-2",children:t.description}),(0,Ue.jsxs)("div",{className:"text-xs opacity-75",children:[t.nodeCount," nodes"]})]})]})}};return(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,Ue.jsxs)("div",{className:"mb-8",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ue.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Taxonomy Management"}),(0,Ue.jsxs)("div",{className:"flex gap-2",children:[(0,Ue.jsxs)("button",{onClick:()=>me(!0),className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors flex items-center gap-2",children:[(0,Ue.jsx)(_a,{className:"w-4 h-4"}),"Generate"]}),(0,Ue.jsxs)("button",{onClick:()=>{k(!0),ne(null)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center gap-2",children:[(0,Ue.jsx)(Ca,{className:"w-4 h-4"}),"Create"]}),(0,Ue.jsx)("button",{onClick:()=>{K&&0===N.length?fe():K||ve(),G(!K),D({}),B(null),j(null)},className:"px-4 py-2 rounded-lg transition-colors ".concat(K?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:K?"Templates":"My Taxonomies"})]})]}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and organize your document taxonomy structure"})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border shadow-sm p-6 mb-6",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:K?"My Taxonomies":"Industry Templates"})}),W&&(0,Ue.jsxs)("div",{className:"mb-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[(0,Ue.jsx)("p",{className:"text-green-600 dark:text-green-400 text-sm",children:W}),(0,Ue.jsx)("button",{onClick:()=>V(null),className:"mt-2 text-green-500 hover:text-green-700 text-xs underline",children:"Dismiss"})]}),(0,Ue.jsx)(lo,{isOpen:ue,onClose:()=>me(!1),onSuccess:e=>{V("Successfully generated taxonomy: ".concat(e.name)),me(!1),ve()}}),q&&(0,Ue.jsxs)("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:[(0,Ue.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:q}),(0,Ue.jsx)("button",{onClick:()=>U(null),className:"mt-2 text-red-500 hover:text-red-700 text-xs underline",children:"Dismiss"})]}),K?(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$?(0,Ue.jsxs)("div",{className:"col-span-full text-center py-8",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),(0,Ue.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading your taxonomies..."})]}):0===X.length?(0,Ue.jsx)("div",{className:"col-span-full text-center py-8",children:(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No taxonomies found. Create your first taxonomy from templates!"})}):X.map(e=>(0,Ue.jsxs)("div",{className:"p-4 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 flex flex-col h-full ".concat((null===w||void 0===w?void 0:w.id)===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-500":""),onClick:()=>he(e),children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white text-lg",children:e.name}),"template"===e.type?(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-medium border border-slate-200 dark:border-slate-700",children:"Template"}):(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 font-medium border border-emerald-200 dark:border-emerald-700",children:"Custom"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 min-h-[3rem] flex-grow",children:e.description||"No description available"}),(0,Ue.jsxs)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.template&&(0,Ue.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 border border-indigo-200 dark:border-indigo-700",children:[e.template.industry," - ",e.template.category]}),!e.template&&(e.industry||e.category)&&(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-400 border border-indigo-200 dark:border-indigo-700",children:[e.industry,e.category].filter(Boolean).join(" - ")})]}),(0,Ue.jsxs)("div",{className:"flex flex-col gap-1 mt-auto",children:[e.created_at&&(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-600 self-start",children:new Date(e.created_at).toLocaleDateString()}),e.creator&&(0,Ue.jsxs)("span",{className:"px-2 py-1 text-xs rounded-full bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-600 self-start",children:["By: ",e.creator.first_name," ",e.creator.last_name]})]})]},e.id))}):(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[Object.entries(Se).map(e=>{let[t,n]=e;const r=z[t],a=r?n.find(e=>e.category===r):null;return(0,Ue.jsxs)("div",{className:"p-4 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors ".concat(a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 ring-2 ring-blue-500":"hover:bg-gray-50 dark:hover:bg-gray-700"),children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2 capitalize text-lg",children:t}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 min-h-[3rem]",children:(null===a||void 0===a?void 0:a.description)||"Select a category to see ".concat(t," template options")}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1",children:n.map(e=>(0,Ue.jsx)("button",{onClick:()=>{Ee(t,e.category),he(e)},className:"px-3 py-1.5 text-xs rounded-md transition-all duration-200 border ".concat(r===e.category?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500"),children:e.category.replace("-"," ")},e.id))})]},t)}),(0,Ue.jsx)("div",{className:"p-4 border-2 border-dashed rounded-lg transition-all ".concat(Object.keys(z).length>0?"border-emerald-300 dark:border-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 hover:bg-emerald-100 dark:hover:bg-emerald-900/30 cursor-pointer":"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 cursor-not-allowed opacity-60"),children:(0,Ue.jsxs)("button",{onClick:async()=>{const e=Object.entries(z).reduce((e,t)=>{let[n,r]=t;if(e)return e;return(Se[n]||[]).find(e=>e.category===r)},null);if(e){H(!0),U(null);try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({org_id:Np,template_id:e.id})});if(!t.ok)throw new Error("Failed to create taxonomy: ".concat(t.status," ").concat(t.statusText));const n=await t.json();console.log("Taxonomy created successfully:",n),V('Custom Taxonomy "'.concat(n.name,'" created successfully!')),D({}),B(null)}catch(t){console.error("Error creating taxonomy:",t),U(t.message)}finally{H(!1)}}else U("Please select a template first")},disabled:0===Object.keys(z).length||F,className:"w-full h-full text-left",children:[(0,Ue.jsx)("div",{className:"flex items-center justify-center mb-3",children:F?(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}):(0,Ue.jsx)(Ca,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-500"})}),(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2 text-lg text-center",children:F?"Creating...":"Create Taxonomy"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center min-h-[3rem] flex items-center justify-center",children:0===Object.keys(z).length?"Select a template first to create your taxonomy":"Create taxonomy from selected template"})]})})]})]}),A&&(0,Ue.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-6",children:(0,Ue.jsx)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:A})}),(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border shadow-sm p-6 mb-6",children:(0,Ue.jsxs)("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)(Rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Ue.jsx)("input",{type:"text",placeholder:"Search nodes...",className:"pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:d,onChange:e=>u(e.target.value)})]}),(0,Ue.jsxs)("select",{className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:m,onChange:e=>g(e.target.value),children:[(0,Ue.jsx)("option",{value:"all",children:"All Sensitivity"}),(0,Ue.jsx)("option",{value:"SENSITIVE",children:"Sensitive"}),(0,Ue.jsx)("option",{value:"NON_SENSITIVE",children:"Non-Sensitive"})]}),(0,Ue.jsxs)("select",{className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:p,onChange:e=>f(e.target.value),children:[(0,Ue.jsx)("option",{value:"all",children:"All Domains"}),Ce.map(e=>(0,Ue.jsx)("option",{value:e,children:e.replace("_"," ")},e))]})]}),(0,Ue.jsxs)("div",{className:"flex gap-2",children:[(0,Ue.jsxs)("button",{className:"px-4 py-2 rounded-lg transition-colors ".concat("tree"===l?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),onClick:()=>c("tree"),children:[(0,Ue.jsx)(aa,{className:"w-4 h-4 inline mr-1"}),"Tree View"]}),(0,Ue.jsxs)("button",{className:"px-4 py-2 rounded-lg transition-colors ".concat("flow"===l?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),onClick:()=>c("flow"),children:[(0,Ue.jsx)(Oa,{className:"w-4 h-4 inline mr-1"}),"Flow View"]}),(0,Ue.jsxs)("button",{className:"px-4 py-2 rounded-lg transition-colors ".concat("dendrogram"===l?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),onClick:()=>c("dendrogram"),children:[(0,Ue.jsx)(Ia,{className:"w-4 h-4 inline mr-1"}),"Dendrogram"]}),(0,Ue.jsxs)("button",{className:"px-4 py-2 rounded-lg transition-colors ".concat("stats"===l?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),onClick:()=>c("stats"),children:[(0,Ue.jsx)(Ma,{className:"w-4 h-4 inline mr-1"}),"Statistics"]}),(0,Ue.jsxs)("button",{onClick:Ie,disabled:!(null!==L&&void 0!==L&&L.id),className:"px-4 py-2 rounded-lg transition-colors ".concat(null!==L&&void 0!==L&&L.id?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:[(0,Ue.jsx)(Ca,{className:"w-4 h-4 inline mr-1"}),"Add Root Node"]})]})]})}),(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border shadow-sm",children:h?(0,Ue.jsx)("div",{className:"p-8 text-center",children:(0,Ue.jsx)("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading taxonomy data..."})}):"stats"===l?(0,Ue.jsx)("div",{className:"p-6",children:(()=>{if(null===L||void 0===L||!L.nodes)return null;const e={totalNodes:0,sensitiveNodes:0,maxDepth:0,domainCounts:{}};return L.nodes.forEach(t=>{e.totalNodes++,"SENSITIVE"===t.sensitivity&&e.sensitiveNodes++,t.level>e.maxDepth&&(e.maxDepth=t.level),t.business_domain&&(e.domainCounts[t.business_domain]=(e.domainCounts[t.business_domain]||0)+1)}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border shadow-sm",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Overview"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex justify-between",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Nodes:"}),(0,Ue.jsx)("span",{className:"font-medium",children:e.totalNodes})]}),(0,Ue.jsxs)("div",{className:"flex justify-between",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Sensitive Nodes:"}),(0,Ue.jsx)("span",{className:"font-medium text-red-600 dark:text-red-400",children:e.sensitiveNodes})]}),(0,Ue.jsxs)("div",{className:"flex justify-between",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Max Depth:"}),(0,Ue.jsx)("span",{className:"font-medium",children:e.maxDepth})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border shadow-sm",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Business Domains"}),(0,Ue.jsx)("div",{className:"space-y-2",children:Object.entries(e.domainCounts).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"flex justify-between",children:[(0,Ue.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[t.replace("_"," "),":"]}),(0,Ue.jsx)("span",{className:"font-medium",children:n})]},t)})})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border shadow-sm",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Sensitivity Distribution"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex justify-between",children:[(0,Ue.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"Non-Sensitive:"}),(0,Ue.jsx)("span",{className:"font-medium",children:e.totalNodes-e.sensitiveNodes})]}),(0,Ue.jsxs)("div",{className:"flex justify-between",children:[(0,Ue.jsx)("span",{className:"text-red-600 dark:text-red-400",children:"Sensitive:"}),(0,Ue.jsx)("span",{className:"font-medium",children:e.sensitiveNodes})]})]})]})]})})()}):"flow"===l?(0,Ue.jsx)("div",{className:"h-[700px] w-full",children:(0,Ue.jsxs)(Gg,{nodes:S,edges:O,onNodesChange:_,onEdgesChange:M,nodeTypes:Re,fitView:!0,fitViewOptions:{padding:.3,includeHiddenNodes:!1,minZoom:.2,maxZoom:1},defaultViewport:{x:-200,y:-100,zoom:.5},minZoom:.3,maxZoom:1.5,attributionPosition:"bottom-right",className:"bg-gray-50",children:[(0,Ue.jsx)(ap,{color:"#e5e7eb",gap:20,size:1,variant:"dots"}),(0,Ue.jsx)(pp,{position:"top-left",showFitView:!0,showZoom:!0,showInteractive:!0}),(0,Ue.jsx)(jp,{nodeColor:e=>"templateNode"===e.type?"#3b82f6":"SENSITIVE"===e.data.sensitivity?"#fca5a5":"#86efac",nodeStrokeWidth:2,nodeBorderRadius:8,position:"bottom-right",pannable:!0,zoomable:!0})]})}):"dendrogram"===l?(0,Ue.jsxs)("div",{className:"p-6",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:(null===L||void 0===L?void 0:L.name)||(null===w||void 0===w?void 0:w.name)||"Taxonomy Dendrogram"}),(0,Ue.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(null===L||void 0===L||null===(e=L.nodes)||void 0===e?void 0:e.length)||0," nodes"]})]}),L&&L.nodes&&0!==L.nodes.length?(0,Ue.jsx)(Fc,{nodes:L.nodes,onNodeClick:y,className:"h-[600px]"}):(0,Ue.jsx)("div",{className:"text-center py-8",children:(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:L?"No nodes available to display.":"Select a template or taxonomy to view its dendrogram structure."})})]}):(0,Ue.jsxs)("div",{className:"p-6",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:(null===L||void 0===L?void 0:L.name)||(null===w||void 0===w?void 0:w.name)||"Taxonomy Structure"}),(0,Ue.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_e.length," nodes found"]})]}),L&&0!==_e.length?(0,Ue.jsx)("div",{className:"space-y-2",children:_e.map(e=>Pe(e))}):(0,Ue.jsxs)("div",{className:"text-center py-8",children:[(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:L?"No nodes match your current filters.":"Select a template or taxonomy to view its structure."}),L&&(0,Ue.jsx)("button",{className:"mt-2 text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",onClick:()=>{u(""),g("all"),f("all")},children:"Clear all filters"})]})]})}),(b&&!te||b&&te)&&(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Ue.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[te?"root"===(null===te||void 0===te?void 0:te.insertionType)?"Add Root Node":null!==te&&void 0!==te&&te.isCopy?"Copy Node":"Add New Node":"Create Custom Taxonomy",te&&"root"!==te.insertionType&&(0,Ue.jsxs)("span",{className:"text-sm font-normal text-gray-600 dark:text-gray-400 block",children:[te.isCopy&&'Creating a copy of "'.concat(te.node.name,'"'),!te.isCopy&&"child"===te.insertionType&&'As child of "'.concat(te.node.name,'"'),!te.isCopy&&"sibling"===te.insertionType&&'As sibling of "'.concat(te.node.name,'"'),!te.isCopy&&"between"===te.insertionType&&'Between "'.concat(te.node.name,'" and its parent')]}),te&&"root"===te.insertionType&&(0,Ue.jsxs)("span",{className:"text-sm font-normal text-gray-600 dark:text-gray-400 block",children:['Adding a new root-level node to "',null===L||void 0===L?void 0:L.name,'"']})]})}),(0,Ue.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,Ue.jsx)("div",{className:"space-y-4",children:te?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name *"}),(0,Ue.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ge.name,onChange:e=>pe(Le(Le({},ge),{},{name:e.target.value})),placeholder:"Enter node name"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ue.jsx)("textarea",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ge.description,onChange:e=>pe(Le(Le({},ge),{},{description:e.target.value})),rows:3,placeholder:"Enter node description"})]}),te&&"root"!==te.insertionType&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Level *",(0,Ue.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"child"===(null===te||void 0===te?void 0:te.insertionType)?"(Child of level ".concat(null===(t=te.node)||void 0===t?void 0:t.level," = ").concat(((null===(n=te.node)||void 0===n?void 0:n.level)||0)+1,")"):"sibling"===(null===te||void 0===te?void 0:te.insertionType)?"(Sibling of level ".concat(null===(a=te.node)||void 0===a?void 0:a.level," = ").concat(null===(o=te.node)||void 0===o?void 0:o.level,")"):"(1 = Root, 2 = Child of root, etc.)"})]}),(0,Ue.jsx)("input",{type:"text",min:"1",max:"10",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ge.level,onChange:e=>pe(Le(Le({},ge),{},{level:parseInt(e.target.value)||1})),placeholder:"Node level (1-10)"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Data Sensitivity *",(0,Ue.jsx)("span",{className:"text-xs text-gray-500 block",children:"Choose based on the type of data this node will classify"})]}),(0,Ue.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ge.sensitivity,onChange:e=>pe(Le(Le({},ge),{},{sensitivity:e.target.value})),children:[(0,Ue.jsx)("option",{value:"NON_SENSITIVE",children:"Non-Sensitive"}),(0,Ue.jsx)("option",{value:"SENSITIVE",children:"Sensitive"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Classification Weight",(0,Ue.jsx)("span",{className:"text-xs text-gray-500 block",children:"Importance/confidence score"})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",className:"flex-1",value:ge.weight,onChange:e=>pe(Le(Le({},ge),{},{weight:parseFloat(e.target.value)}))}),(0,Ue.jsx)("input",{type:"number",step:"0.1",min:"0.1",max:"1.0",className:"w-20 px-2 py-1 border rounded text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ge.weight,onChange:e=>pe(Le(Le({},ge),{},{weight:parseFloat(e.target.value)||.1}))})]})]}),(null===te||void 0===te?void 0:te.isCopy)&&te.node.children&&te.node.children.length>0&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600",checked:ge.copyChildren,onChange:e=>pe(Le(Le({},ge),{},{copyChildren:e.target.checked}))}),(0,Ue.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Copy all children and descendants (",te.node.children.length," direct children)"]})]}),(0,Ue.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"This will create copies of all child nodes and their descendants"})]})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taxonomy Name *"}),(0,Ue.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ce.name,onChange:e=>de(Le(Le({},ce),{},{name:e.target.value})),placeholder:"Enter taxonomy name"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ue.jsx)("textarea",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ce.description,onChange:e=>de(Le(Le({},ce),{},{description:e.target.value})),rows:3,placeholder:"Enter taxonomy description"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Industry"}),(0,Ue.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ce.industry,onChange:e=>de(Le(Le({},ce),{},{industry:e.target.value})),placeholder:"Enter industry (e.g., healthcare, banking)"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,Ue.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:ce.category,onChange:e=>de(Le(Le({},ce),{},{category:e.target.value})),placeholder:"Enter category (e.g., compliance, operations)"})]})]})})}),(0,Ue.jsx)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ue.jsx)("button",{onClick:()=>{k(!1),ne(null),de({name:"",description:"",industry:"",category:""})},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:te?ye:async()=>{if(ce.name.trim()){le(!0),U(null);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/taxonomy/custom"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({org_id:Np,name:ce.name,description:ce.description,industry:ce.industry,category:ce.category})});if(!e.ok)throw new Error("Failed to create custom taxonomy: ".concat(e.status," ").concat(e.statusText));const t=await e.json();console.log("Custom taxonomy created successfully:",t),V('Custom taxonomy "'.concat(t.name,'" created successfully!')),de({name:"",description:"",industry:"",category:""}),k(!1),ne(null),K&&await ve()}catch(e){console.error("Error creating custom taxonomy:",e),U(e.message)}finally{le(!1)}}else U("Taxonomy name is required")},disabled:te?!ge.name.trim():!ce.name.trim()||se,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:te?null!==te&&void 0!==te&&te.isCopy?"Copy Node":"Add Node":se?"Creating...":"Create Taxonomy"})]})})]})}),x&&(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black/50 dark:bg-black/70 flex items-center justify-center z-50",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full p-6",children:[(0,Ue.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Edit Node"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),(0,Ue.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:x.name,onChange:e=>y(Le(Le({},x),{},{name:e.target.value}))})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Ue.jsx)("textarea",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:x.description,onChange:e=>y(Le(Le({},x),{},{description:e.target.value})),rows:3})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sensitivity"}),(0,Ue.jsxs)("select",{className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:x.sensitivity,onChange:e=>y(Le(Le({},x),{},{sensitivity:e.target.value})),children:[(0,Ue.jsx)("option",{value:"NON_SENSITIVE",children:"Non-Sensitive"}),(0,Ue.jsx)("option",{value:"SENSITIVE",children:"Sensitive"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Domain"}),(0,Ue.jsx)("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:x.businessDomain||"",onChange:e=>y(Le(Le({},x),{},{businessDomain:e.target.value})),placeholder:"Enter business domain"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weight"}),(0,Ue.jsx)("input",{type:"number",step:"0.1",min:"0",max:"1",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:x.weight,onChange:e=>y(Le(Le({},x),{},{weight:parseFloat(e.target.value)}))})]})]}),(0,Ue.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,Ue.jsx)("button",{onClick:()=>y(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:()=>{ke(x.id,x),y(null)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Save Changes"})]})]})})]})})},Ep=()=>(0,Ue.jsx)(wa,{children:(0,Ue.jsx)(Sp,{})}),_p=e=>{let{children:t,value:n,index:r}=e;return(0,Ue.jsx)("div",{hidden:n!==r,className:"mt-4",children:n===r&&(0,Ue.jsx)("div",{children:t})})},Op=e=>{let{open:t,onClose:n}=e;const[a,o]=(0,r.useState)(0),[i,s]=(0,r.useState)({fieldName:"",description:"",type:"",required:!1,searchable:!1,displayInList:!1}),l=e=>{const{name:t,value:n,checked:r,type:a}=e.target;s(e=>Le(Le({},e),{},{[t]:"checkbox"===a?r:n}))};return t?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-gray-500/75 dark:bg-gray-900/80 z-50 flex items-center justify-center p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-full max-w-3xl max-h-[90vh] overflow-hidden",children:[(0,Ue.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Metadata Field"}),(0,Ue.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors",children:(0,Ue.jsx)(Cr,{className:"w-5 h-5"})})]}),(0,Ue.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("div",{className:"flex",children:["Basic Information","Mapping","Validation"].map((e,t)=>(0,Ue.jsx)("button",{className:"px-6 py-3 text-sm font-medium transition-colors ".concat(a===t?"border-b-2 border-blue-600 text-blue-600 dark:border-blue-500 dark:text-blue-500":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),onClick:()=>{o(t)},children:e},e))})}),(0,Ue.jsxs)("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(90vh - 200px)"},children:[(0,Ue.jsx)(_p,{value:a,index:0,children:(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Field Type"}),(0,Ue.jsxs)("select",{name:"type",value:i.type,onChange:l,className:"w-full h-10 px-3 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400",children:[(0,Ue.jsx)("option",{value:"",children:"Select a type"}),(0,Ue.jsx)("option",{value:"text",children:"Text"}),(0,Ue.jsx)("option",{value:"number",children:"Number"}),(0,Ue.jsx)("option",{value:"date",children:"Date"}),(0,Ue.jsx)("option",{value:"array",children:"Array"}),(0,Ue.jsx)("option",{value:"boolean",children:"Boolean"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Field Name"}),(0,Ue.jsx)("input",{type:"text",name:"fieldName",value:i.fieldName,onChange:l,className:"w-full h-10 px-3 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400",placeholder:"Enter field name"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),(0,Ue.jsx)("textarea",{name:"description",value:i.description,onChange:l,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400",placeholder:"Enter field description"})]}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("input",{type:"checkbox",id:"required",name:"required",checked:i.required,onChange:l,className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded  dark:bg-gray-700 dark:checked:bg-indigo-500"}),(0,Ue.jsx)("label",{htmlFor:"required",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Required Field"})]}),(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("input",{type:"checkbox",id:"searchable",name:"searchable",checked:i.searchable,onChange:l,className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded  dark:bg-gray-700 dark:checked:bg-indigo-500"}),(0,Ue.jsx)("label",{htmlFor:"searchable",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Searchable"})]}),(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("input",{type:"checkbox",id:"displayInList",name:"displayInList",checked:i.displayInList,onChange:l,className:"h-5 w-5 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded  dark:bg-gray-700 dark:checked:bg-indigo-500"}),(0,Ue.jsx)("label",{htmlFor:"displayInList",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Display in List View"})]})]})]})}),(0,Ue.jsx)(_p,{value:a,index:1,children:(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"API Field Mapping"}),(0,Ue.jsx)("input",{type:"text",name:"apiMapping",placeholder:"e.g., data.attributes.title",className:"w-full h-10 px-3 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400"})]})})}),(0,Ue.jsx)(_p,{value:a,index:2,children:(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Validation Type"}),(0,Ue.jsxs)("select",{name:"validationType",className:"w-full h-10 px-3 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400",children:[(0,Ue.jsx)("option",{value:"none",children:"None"}),(0,Ue.jsx)("option",{value:"regex",children:"Regular Expression"}),(0,Ue.jsx)("option",{value:"custom",children:"Custom Function"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Validation Rules"}),(0,Ue.jsx)("textarea",{name:"validationRules",rows:3,placeholder:"Enter validation rules or regex pattern",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400"})]})]})})]}),(0,Ue.jsxs)("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3",children:[(0,Ue.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300  bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg  hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:()=>{console.log(i),n()},className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500  rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600",children:"Save Changes"})]})]})}):null},Ip=Ve("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Mp=Ve("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),Pp=3e4,Tp=100,Ap=e=>{const t=(null===e||void 0===e?void 0:e.toLowerCase())||"";return"failed"===t||"error"===t?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800":"completed"===t?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800":"processing"===t||"in_progress"===t||"queued"===t||"chunks_ready"===t||"embedding_in_progress"===t?"bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 border border-amber-200 dark:border-amber-800":"initiated"===t||"scanned"===t||"pending"===t?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-400 border border-gray-300 dark:border-gray-600"},Rp=e=>{const t={high:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300",low:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300"};return t[e]||t.low},zp=e=>({not_started:"Not Started","not started":"Not Started",initiated:"Scanned",scanned:"Scanned",pending:"Scanned",queued:"Processing",processing:"Processing",in_progress:"Processing",chunks_ready:"Finalizing",embedding_in_progress:"Processing",completed:"Completed",failed:"Failed",error:"Error"}[(null===e||void 0===e?void 0:e.toLowerCase())||""]||e),Dp=e=>{let{value:t,onChange:n,options:a,placeholder:o,onFocus:i}=e;const[s,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(t||""),u=(0,r.useRef)(null),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{u.current&&!u.current.contains(e.target)&&l(!1)};return s&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[s]),(0,r.useEffect)(()=>{d(t||"")},[t]);const g=a.filter(e=>e.toLowerCase().includes(c.toLowerCase()));return(0,Ue.jsxs)("div",{className:"relative w-full",ref:u,children:[(0,Ue.jsx)("input",{ref:m,type:"text",placeholder:o,value:c,onChange:e=>{const t=e.target.value;d(t),l(!0)},onKeyDown:e=>{"Enter"===e.key&&(n(c),l(!1),e.target.blur())},onFocus:()=>{s||c||i(),l(!0)},className:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 transition-colors"}),s&&g.length>0&&(0,Ue.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-md shadow-lg z-50 max-h-48 overflow-y-auto",children:g.map((e,t)=>(0,Ue.jsx)("button",{onClick:()=>(e=>{d(e),n(e),l(!1)})(e),className:"w-full px-3 py-2 text-left text-xs text-gray-700 dark:text-gray-300 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors first:rounded-t-md last:rounded-b-md",children:e},t))})]})},Lp=e=>{var t;let{onDocumentsUpdate:n}=e;const[a,o]=(0,r.useState)([]),[i,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(1),[d,u]=(0,r.useState)(10),[m,g]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[h,v]=(0,r.useState)(null),[x,y]=(0,r.useState)({key:null,direction:"asc"}),[b,k]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),N=(0,r.useRef)(null),[C,S]=(0,r.useState)(!1),[E,_]=(0,r.useState)(0),O=(0,r.useRef)(null),I=(0,r.useRef)(0),M=(0,r.useRef)(null),[P,T]=(0,r.useState)(0),[A,R]=(0,r.useState)(!1),[z,D]=(0,r.useState)(!0),[L,B]=(0,r.useState)([]),[F,H]=(0,r.useState)(!1),[W,V]=(0,r.useState)({fileName:"",fileType:"",provider:"",userId:"",sensitivity:"",status:""}),[q,U]=(0,r.useState)(W.fileName),[K,G]=(0,r.useState)({fileName:280,fileType:120,provider:120,userId:120,sensitivity:120,status:180,lastUpdated:160}),X=[{key:"document_name",label:"File Name",filterKey:"fileName"},{key:"file_type",label:"File Type",filterKey:"fileType"},{key:"provider",label:"Provider",filterKey:"provider"},{key:"owner",label:"User ID",filterKey:"userId"},{key:"sensitivity",label:"Sensitivity",filterKey:"sensitivity"},{key:"status",label:"Processing Status",filterKey:"status"},{key:"updated_at",label:"Last Updated",filterKey:null}],{user:Y}=r.useContext(Sr),$=(null===Y||void 0===Y||null===(t=Y.userInfo)||void 0===t?void 0:t.email)||"",J={fileType:Object.keys({pdf:["pdf"],docx:["docx"],doc:["doc"],pptx:["pptx"],ppt:["ppt"],xlsx:["xlsx"],xls:["xls"],csv:["csv"],text:["txt"],html:["html","htm"],json:["json"],go:["go"],python:["py","ipynb","python"],jsx:["jsx"],yaml:["yaml","yml"],javascript:["js","javascript"],markdown:["md","markdown"],others:[""]}),provider:["Slack","MSTeams","OneDrive","Google-Drive","Confluence","Elasticsearch","AmazonRDS","AlloyDB","PgVector","bigquery","OpenSearch"],sensitivity:["High","Low","Processing"],status:["not_started","processing","chunks_ready","completed","error"]},Z=async function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!(L.length>0||F)){H(!0);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/indices/provider/user"),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch owners");const t=await e.json(),n=Array.isArray(t)?t.map(e=>e.user).filter(e=>e).sort():[];B(n)}catch(e){console.error("Error fetching all owners:",e)}finally{H(!1)}}},Q=""!==i||Object.values(W).some(e=>""!==e),ee=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];r&&R(!0);try{var a,s;const r=((e,t)=>{const n=(e-1)*t,r=new URLSearchParams({limit:t.toString(),offset:n.toString()});if(i.trim()&&r.append("search",i.trim()),W.fileName&&r.append("fileName",W.fileName),W.fileType&&r.append("fileType",W.fileType),W.provider&&r.append("provider",W.provider),W.userId&&r.append("userId",W.userId),W.sensitivity&&r.append("sensitivity",W.sensitivity),W.status&&r.append("status",W.status),x.key){const e=x.key.charAt(0).toUpperCase()+x.key.slice(1),t="sortBy".concat(e);r.append(t,x.direction)}return r.toString()})(e,t),l=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/notification/documents/status?").concat(r),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch documents");const c=await l.json();console.log("Page: ".concat(e,", Limit: ").concat(t,", Got: ").concat(c.data.documents.length,", Total: ").concat(c.data.total));const d=(null===c||void 0===c||null===(a=c.data)||void 0===a?void 0:a.documents)||[],u=(null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s.total)||0,m=Array.isArray(d)?d.map(e=>({document_id:e.file_id,document_name:e.document_name,file_type:e.file_type,provider:e.provider,sensitivity:e.document_sensitivity||"Processing",status:e.status,updated_at:e.updated_at,owner:e.owner,document_summary:e.document_summary||""})):[],g=c.data.documents.filter(e=>"Document is empty or too short to summarize."===e.document_summary).length,p=c.data.documents.filter(e=>""===e.document_sensitivity&&"Document is empty or too short to summarize."!==e.document_summary).length;o(m),T(u),D(!1),n&&n(g,p),D(!1)}catch(c){console.error("Error fetching documents:",c),o([]),T(0)}finally{r&&R(!1)}},te=()=>{ne(),N.current&&N.current.readyState===WebSocket.OPEN?(console.log("Starting WebSocket status polling"),S(!0),_(0),I.current=0,O.current=setInterval(()=>{console.log("Sending status check");(()=>{if(!N.current||N.current.readyState!==WebSocket.OPEN)return console.log("WebSocket not connected, cannot send status check"),!1;const e={type:"status_check",timestamp:(new Date).toISOString()};return console.log("Sending status check:",e),N.current.send(JSON.stringify(e)),!0})()||(console.log("Failed to send status check, stopping polling"),ne())},Pp)):console.log("Cannot start polling - WebSocket not ready")},ne=()=>{O.current&&(clearInterval(O.current),O.current=null),M.current&&(clearTimeout(M.current),M.current=null),C&&console.log("Stopping WebSocket status polling"),S(!1),_(0),I.current=0};(0,r.useEffect)(()=>{ee(l,d)},[l,d,W,x]),(0,r.useEffect)(()=>{const e=new WebSocket("".concat("wss://dev-services.produktiv.ai","/ws?page=dashboard"));return e.onopen=()=>{console.log("Connected to dashboard WebSocket"),k(!0)},e.onmessage=e=>{try{const t=JSON.parse(e.data);if(console.log("Dashboard WS message:",t),"dashboard_trigger"===t.message)console.log("Dashboard update triggered, refreshing table"),ee(l,d,!1),M.current=setTimeout(()=>{te()},Tp);else if("status_update_response"===t.type)if("yes"===t.message)console.log("Status update available, fetching documents and resetting poll count"),ee(l,d,!1),_(0),I.current=0;else if("no"===t.message){const e=void 0!==t.count?t.count:I.current+1;_(e),I.current=e,console.log("No status update available. Count: ".concat(e,"/").concat(5)),e>=5&&(console.log("Maximum no-update responses reached, stopping polling"),ne())}}catch(t){console.error("WS parsing error:",t)}},e.onclose=()=>{console.log("Dashboard WebSocket closed"),k(!1),ne()},e.onerror=e=>{console.error("Dashboard WebSocket error:",e),k(!1),ne()},N.current=e,()=>{ne(),N.current&&N.current.close()}},[]),(0,r.useEffect)(()=>()=>{O.current&&clearInterval(O.current),M.current&&clearTimeout(M.current)},[]);const re=(e,t)=>{V(n=>Le(Le({},n),{},{[e]:t})),c(1)},ae=Math.ceil(P/d),oe=(l-1)*d+1,ie=Math.min(l*d,P),se=e=>{e>=1&&e<=ae&&e!==l&&c(e)};return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-750 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:(0,Ue.jsx)("svg",{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Document Processing Status"}),A&&(0,Ue.jsxs)("div",{className:"flex items-center gap-1 text-xs text-indigo-600 dark:text-indigo-400 mt-0.5",children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-3 w-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Ue.jsx)("span",{children:"Loading..."})]})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ue.jsx)("button",{onClick:async()=>{await Z(!0),await ee(l,d)},disabled:A,title:"Refresh",className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700  hover:text-indigo-600 dark:hover:text-indigo-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Ue.jsx)("svg",{className:"w-5 h-5 ".concat(A?"animate-spin":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),(0,Ue.jsxs)("button",{onClick:()=>j(!w),title:w?"Hide Filters":"Show Filters",className:"p-2 rounded-lg transition-all relative ".concat(w||Q?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-indigo-600 dark:hover:text-indigo-400"),children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),Q&&(0,Ue.jsx)("span",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-indigo-500 rounded-full"})]}),(0,Ue.jsx)("button",{onClick:()=>{V({fileName:"",fileType:"",provider:"",userId:"",sensitivity:"",status:""}),s(""),U(""),y({key:null,direction:null}),c(1)},disabled:!Q,title:"Clear All Filters",className:"p-2 rounded-lg transition-all ".concat(Q?"text-indigo-600 dark:text-indigo-400 bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":"text-gray-400 dark:text-gray-600 cursor-not-allowed opacity-50"),children:(0,Ue.jsx)(Mp,{className:"w-5 h-5"})})]})]})}),(0,Ue.jsxs)("div",{className:"p-5",children:[(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"w-full border-collapse",style:{tableLayout:"fixed",minWidth:"1200px"},children:[(0,Ue.jsxs)("thead",{children:[(0,Ue.jsx)("tr",{className:"bg-gradient-to-r from-gray-100 to-gray-50 dark:from-gray-700/50 dark:to-gray-800/50",children:X.map((e,t)=>{const n=Object.keys(K)[t],r=e.filterKey&&""!==W[e.filterKey];return(0,Ue.jsxs)("th",{className:"py-3 font-semibold text-gray-700 dark:text-gray-300 relative text-left first:rounded-tl-lg last:rounded-tr-lg",style:{width:"".concat(K[n],"px"),maxWidth:"".concat(K[n],"px"),minWidth:"100px"},children:[(0,Ue.jsx)("div",{className:"flex items-center justify-between px-3",children:(0,Ue.jsxs)("div",{className:"flex items-center gap-1 cursor-pointer hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors group",onClick:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;c(1),y(t?{key:e,direction:t}:t=>t.key===e?"asc"===t.direction?{key:e,direction:"desc"}:"desc"===t.direction?{key:null,direction:null}:{key:e,direction:"asc"}:{key:e,direction:"asc"})}(e.key),children:[(0,Ue.jsx)("span",{className:"truncate text-xs font-semibold uppercase tracking-wide",children:e.label}),(a=e.key,x.key!==a?(0,Ue.jsxs)("div",{className:"flex flex-col ml-1",children:[(0,Ue.jsx)(Ip,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),(0,Ue.jsx)(ja,{className:"w-3 h-3 -mt-1 text-gray-400 dark:text-gray-500"})]}):"asc"===x.direction?(0,Ue.jsx)(Ip,{className:"w-4 h-4 ml-1 text-blue-500"}):"desc"===x.direction?(0,Ue.jsx)(ja,{className:"w-4 h-4 ml-1 text-blue-500"}):null),r&&(0,Ue.jsx)("span",{className:"ml-1 w-1.5 h-1.5 bg-indigo-500 rounded-full flex-shrink-0"})]})}),t<X.length-1&&(0,Ue.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-1 bg-transparent cursor-col-resize hover:bg-indigo-500 dark:hover:bg-indigo-400 transition-all duration-150 z-10",style:{height:"100%"},onMouseDown:e=>((e,t)=>{e.preventDefault(),f(!0),v(t);const n=e.clientX,r=K[t],a=e=>{const a=Math.max(80,r+(e.clientX-n));G(e=>Le(Le({},e),{},{[t]:a}))},o=()=>{f(!1),v(null),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)};document.addEventListener("mousemove",a),document.addEventListener("mouseup",o)})(e,n),children:(0,Ue.jsx)("div",{className:"w-px h-full bg-gray-300 dark:bg-gray-600 hover:bg-indigo-500 dark:hover:bg-indigo-400 transition-colors duration-150 mx-auto"})})]},e.key);var a})}),w&&(0,Ue.jsxs)("tr",{className:"border-t-2 border-b-2 border-indigo-200 dark:border-indigo-800 bg-gray-50 dark:bg-gray-800/50",children:[(0,Ue.jsx)("th",{className:"py-2 relative",style:{width:"".concat(K.fileName,"px"),maxWidth:"".concat(K.fileName,"px")},children:(0,Ue.jsx)("div",{className:"px-3",children:(0,Ue.jsx)("input",{type:"text",placeholder:"Filter name...",value:q,onChange:e=>U(e.target.value),onKeyDown:e=>{"Enter"===e.key&&re("fileName",q)},className:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 transition-colors",onClick:e=>e.stopPropagation()})})}),(0,Ue.jsx)("th",{className:"py-2 relative",style:{width:"".concat(K.fileType,"px"),maxWidth:"".concat(K.fileType,"px")},children:(0,Ue.jsx)("div",{className:"px-3",children:(0,Ue.jsxs)("select",{value:W.fileType,onChange:e=>re("fileType",e.target.value),onClick:e=>e.stopPropagation(),className:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:text-gray-200 transition-colors cursor-pointer",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),J.fileType.map(e=>(0,Ue.jsx)("option",{value:e,children:e.toUpperCase()},e))]})})}),(0,Ue.jsx)("th",{className:"py-2",style:{width:"".concat(K.provider,"px"),maxWidth:"".concat(K.provider,"px")},children:(0,Ue.jsx)("div",{className:"px-3",children:(0,Ue.jsxs)("select",{value:W.provider,onChange:e=>re("provider",e.target.value),className:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:text-gray-200 transition-colors cursor-pointer",onClick:e=>e.stopPropagation(),children:[(0,Ue.jsx)("option",{value:"",children:"All"}),J.provider.map(e=>(0,Ue.jsx)("option",{value:e,children:e},e))]})})}),(0,Ue.jsx)("th",{className:"py-2",style:{width:"".concat(K.userId,"px"),maxWidth:"".concat(K.userId,"px")},children:(0,Ue.jsx)("div",{className:"px-3",children:(0,Ue.jsx)(Dp,{value:W.userId,onChange:e=>re("userId",e),options:L,placeholder:F?"Loading...":"Filter user...",onFocus:()=>{""===W.userId&&Z(!0)}})})}),(0,Ue.jsx)("th",{className:"py-2",style:{width:"".concat(K.sensitivity,"px"),maxWidth:"".concat(K.sensitivity,"px")},children:(0,Ue.jsx)("div",{className:"px-3",children:(0,Ue.jsxs)("select",{value:W.sensitivity,onChange:e=>re("sensitivity",e.target.value),className:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:text-gray-200 transition-colors cursor-pointer",onClick:e=>e.stopPropagation(),children:[(0,Ue.jsx)("option",{value:"",children:"All"}),J.sensitivity.map(e=>(0,Ue.jsx)("option",{value:e,children:e},e))]})})}),(0,Ue.jsx)("th",{className:"py-2",style:{width:"".concat(K.status,"px"),maxWidth:"".concat(K.status,"px")},children:(0,Ue.jsx)("div",{className:"px-3",children:(0,Ue.jsxs)("select",{value:W.status,onChange:e=>re("status",e.target.value),className:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-1 focus:ring-indigo-500 dark:focus:ring-indigo-400  dark:text-gray-200 transition-colors cursor-pointer",onClick:e=>e.stopPropagation(),children:[(0,Ue.jsx)("option",{value:"",children:"All"}),J.status.map(e=>(0,Ue.jsx)("option",{value:e,children:zp(e)},e))]})})}),(0,Ue.jsx)("th",{className:"py-2",style:{width:"".concat(K.lastUpdated,"px"),maxWidth:"".concat(K.lastUpdated,"px")},children:(0,Ue.jsx)("div",{className:"px-3"})})]})]}),(0,Ue.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0!==a.length||A?a.map(e=>(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.fileName,"px")},children:(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.document_name})}),(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.fileType,"px")},children:(0,Ue.jsx)("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-sm uppercase",children:e.file_type})}),(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.provider,"px")},children:(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:e.provider})}),(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.userId,"px")},children:(0,Ue.jsx)("div",{className:"text-gray-500 dark:text-gray-400 truncate",children:["elasticsearch","alloydb","amazonrds","pgvector","bigquery","opensearch"].includes(e.provider.toLowerCase())&&!e.owner?$:e.owner})}),(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.sensitivity,"px")},children:"Document is empty or too short to summarize."===e.document_summary?(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"-"}):(0,Ue.jsx)("span",{className:"px-3 py-1 ".concat(Rp(e.sensitivity.toLowerCase())," rounded-full text-sm"),children:e.sensitivity})}),(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.status,"px")},children:"Document is empty or too short to summarize."===e.document_summary?(0,Ue.jsxs)("div",{className:"relative group inline-block",children:[(0,Ue.jsx)(Qr,{className:"w-5 h-5 text-yellow-500"}),(0,Ue.jsx)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:"Document is empty or too short to summarize."})]}):(0,Ue.jsx)("span",{className:"inline-flex items-center gap-1 px-2 py-1 ".concat(Ap(e.status)," rounded-full text-xs font-medium"),children:zp(e.status)})}),(0,Ue.jsx)("td",{className:"py-4 text-center",style:{width:"".concat(K.lastUpdated,"px")},children:(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e.updated_at?new Date(e.updated_at).toLocaleString():"-"})})]},e.document_id)):(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:7,className:"py-10 text-center text-gray-500 dark:text-gray-400 italic",children:0!==P||Q?"No items found matching your filters":"No documents being processed yet"})})})]})}),P>0&&(0,Ue.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ue.jsxs)("div",{className:"text-gray-500 dark:text-gray-400 text-sm",children:["Showing ",oe," to ",ie," of ",P," documents"]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Records per page:"}),(0,Ue.jsxs)("select",{value:d,onChange:e=>{return t=Number(e.target.value),u(t),void c(1);var t},className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",disabled:A,children:[(0,Ue.jsx)("option",{value:10,children:"10"}),(0,Ue.jsx)("option",{value:20,children:"20"}),(0,Ue.jsx)("option",{value:50,children:"50"}),(0,Ue.jsx)("option",{value:100,children:"100"}),(0,Ue.jsx)("option",{value:200,children:"200"}),(0,Ue.jsx)("option",{value:300,children:"300"}),(0,Ue.jsx)("option",{value:500,children:"500"})]})]})]}),(0,Ue.jsxs)("div",{className:"flex gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>se(l-1),disabled:1===l||A,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Ue.jsxs)("span",{className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400",children:["Page ",l," of ",ae]}),(0,Ue.jsx)("button",{onClick:()=>se(l+1),disabled:l>=ae||A,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})},Bp=e=>{let{title:t,value:n,subtitle:r,subtitleColor:a="text-gray-500 dark:text-gray-400",colorScheme:o="indigo"}=e;const i={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",value:"text-blue-600 dark:text-blue-400",icon:"bg-blue-100 dark:bg-blue-900/40"},green:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",value:"text-green-600 dark:text-green-400",icon:"bg-green-100 dark:bg-green-900/40"},amber:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",value:"text-amber-600 dark:text-amber-400",icon:"bg-amber-100 dark:bg-amber-900/40"},indigo:{bg:"bg-white dark:bg-gray-800",border:"border-gray-200 dark:border-gray-700",value:"text-indigo-600 dark:text-indigo-400",icon:"bg-indigo-100 dark:bg-indigo-900/40"}},s=i[o]||i.indigo;return(0,Ue.jsxs)("div",{className:"".concat(s.bg," p-6 rounded-xl shadow-sm border ").concat(s.border," transition-all duration-200 hover:shadow-md"),children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:t}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold ".concat(s.value),children:n}),(0,Ue.jsx)("span",{className:"".concat(a," text-sm"),children:r})]})]})},Fp=e=>{var t;let{stats:n,emptyDocumentsCount:a=0,noSensitivityCount:o=0,showOnlyStatsCards:i=!1,showOnlyUserStats:s=!1}=e;const[l,c]=(0,r.useState)([{title:"Files Scanned",value:"0",subtitle:"Files",subtitleColor:"text-blue-600 dark:text-blue-400",colorScheme:"blue"},{title:"Semantics Extracted",value:"0",subtitle:"Files processed",subtitleColor:"text-green-600 dark:text-green-400",colorScheme:"green"},{title:"PII Detected",value:"0",subtitle:"Files with PII",subtitleColor:"text-amber-600 dark:text-amber-400",colorScheme:"amber"}]),[d,u]=(0,r.useState)(!1),[m,g]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[h,v]=(0,r.useState)(null),[x,y]=(0,r.useState)([]),{user:b}=r.useContext(Sr),k=(null===b||void 0===b||null===(t=b.userInfo)||void 0===t?void 0:t.email)||"";(0,r.useEffect)(()=>{w()},[]);const w=async()=>{try{var e,t,n,r;u(!0);const o=async e=>{try{const t=await fetch("".concat("https://dev-services.produktiv.ai").concat(e),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}),n=await t.text();if(n.startsWith("*mget error:"))return console.warn("No documents found for ".concat(e)),{hits:[]};if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));return n?JSON.parse(n):{hits:[]}}catch(t){return console.error("Error calling ".concat(e,":"),t),e.includes("sensitivity")?{hits:[]}:{}}},[i,s,l]=await Promise.all([o("/api/v1/metadata/indices"),o("/api/v1/metadata/sensitivity/files"),o("/api/v1/metadata/indices/provider/user")]),d={};l.forEach(e=>{d[e.user]||(d[e.user]={user:e.user,total:0,providers:[]}),d[e.user].total+=e.total,e.providers.forEach(t=>{const n=d[e.user].providers.find(e=>e.provider===t.provider);n?n.stats+=t.stats:d[e.user].providers.push(Le({},t))})}),Object.keys(d).forEach(e=>{""===e&&k&&(d[k]?(d[k].total+=d[e].total,d[e].providers.forEach(e=>{const t=d[k].providers.find(t=>t.provider===e.provider);t?t.stats+=e.stats:d[k].providers.push(Le({},e))})):d[k]=Le(Le({},d[e]),{},{user:k}),delete d[e])});const m=Object.values(d),p={};m.forEach(e=>{e.providers.forEach(e=>{p[e.provider]=(p[e.provider]||0)+e.stats})});const h=["onedrive","google-drive","confluence","slack","msteams","elasticsearch","amazonrds","alloydb","pgvector","bigquery","opensearch"].map(e=>({name:"google-drive"===e?"GDrive":"msteams"===e?"Teams":"elasticsearch"===e?"Elasticsearch":"amazonrds"===e?"Amazon RDS":"alloydb"===e?"AlloyDB":"pgvector"===e?"PGVector":"bigquery"===e?"BigQuery":"opensearch"===e?"OpenSearch":e.charAt(0).toUpperCase()+e.slice(1),count:p[e]||0}));g(h),f(m||[]);const v=((null===(e=s.high)||void 0===e?void 0:e.pii_count)||0)+((null===(t=s.low)||void 0===t?void 0:t.pii_count)||0);c([{title:"Files Scanned",value:((null===(n=i.metadata_status)||void 0===n?void 0:n.docs_count)||0).toString(),subtitle:"Files",subtitleColor:"text-blue-600 dark:text-blue-400",colorScheme:"blue"},{title:"Semantics Extracted",value:Math.max(0,((null===(r=i.semantic_metadata)||void 0===r?void 0:r.docs_count)||0)-a).toString(),subtitle:"Files processed",subtitleColor:"text-green-600 dark:text-green-400",colorScheme:"green"},{title:"PII Detected",value:v.toString(),subtitle:"Files with PII",subtitleColor:"text-amber-600 dark:text-amber-400",colorScheme:"amber"}])}catch(o){console.error("Error fetching stats:",o)}finally{u(!1)}};(0,r.useEffect)(()=>{(a>0||o>0)&&w()},[]);return(0,Ue.jsxs)(Ue.Fragment,{children:[!s&&(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:l.map((e,t)=>(0,Ue.jsx)(Bp,{title:e.title,value:d?"...":e.value,subtitle:e.subtitle,subtitleColor:e.subtitleColor,colorScheme:e.colorScheme},t))}),!i&&(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-900/50 p-6",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Files Scanned by Users"}),(0,Ue.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:p.map((e,t)=>(0,Ue.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700 last:border-b-0 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 rounded px-2",onClick:()=>(e=>{v(e);const t=p.find(t=>t.user===e.user);if(t){const e=["onedrive","google-drive","confluence","slack","msteams","elasticsearch"].map(e=>{const n=t.providers.find(t=>t.provider===e);return{name:"google-drive"===e?"GDrive":e.charAt(0).toUpperCase()+e.slice(1),count:n?n.stats:0}});y(e)}})(e),children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400 truncate pr-2",children:e.user}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:d?"...":e.total})]},t))})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-900/50 p-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:h?"".concat(h.user.split("@")[0]," - Provider Breakdown"):"Provider Statistics"}),h&&(0,Ue.jsx)("button",{onClick:()=>v(null),className:"text-sm text-blue-500 hover:underline focus:outline-none",children:"Clear"})]}),(0,Ue.jsx)("div",{className:"space-y-3",children:(h?x:m).map((e,t)=>(0,Ue.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.name}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:e.count})]},t))})]})]})]})},Hp=()=>{const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)([]),[o,i]=(0,r.useState)(0),[s,l]=(0,r.useState)(0);return(0,Ue.jsxs)(Wr,{children:[(0,Ue.jsxs)("div",{className:"flex-1 p-8",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Metadata Management"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure and manage document metadata and view metadata statistics"})]}),(0,Ue.jsx)("div",{className:"flex gap-4",children:(0,Ue.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-400 dark:text-gray-500  bg-gray-200 dark:bg-gray-700 rounded-lg cursor-not-allowed opacity-60",disabled:!0,children:[(0,Ue.jsx)(Ca,{className:"w-4 h-4"}),"Add Metadata Field"]})})]}),(0,Ue.jsx)("div",{className:"mb-8",children:(0,Ue.jsx)(Fp,{emptyDocumentsCount:o,noSensitivityCount:s,showOnlyStatsCards:!0})}),(0,Ue.jsx)("div",{className:"mb-8 flex-1 bg-white dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-900/50 ",children:(0,Ue.jsx)(Lp,{files:n,onDocumentsUpdate:(e,t)=>{i(e),l(t)}})}),(0,Ue.jsx)("div",{className:"mb-8",children:(0,Ue.jsx)(Fp,{emptyDocumentsCount:o,noSensitivityCount:s,showOnlyUserStats:!0})})]}),(0,Ue.jsx)(Op,{open:e,onClose:()=>t(!1)})]})},Wp=e=>{let{connector:t,onNext:n,onClose:r}=e;const a={s3:{requirements:["AWS Account with S3 access","Access Key ID and Secret Access Key","Bucket name and region","Appropriate IAM permissions"],steps:[{title:"Create IAM User",description:"Go to AWS IAM Console and create a new user with programmatic access",details:["Navigate to IAM > Users > Add User",'Select "Programmatic access"',"Attach policy: AmazonS3ReadOnlyAccess (or custom policy)"]},{title:"Generate Access Keys",description:"Create and securely store your access credentials",details:["After creating user, save Access Key ID","Save Secret Access Key (shown only once)","Store credentials securely"]},{title:"Configure Bucket",description:"Prepare your S3 bucket for connection",details:["Note your bucket name","Note the AWS region (e.g., us-east-1)","Ensure bucket has appropriate permissions"]}],permissions:["s3:ListBucket","s3:GetObject","s3:GetObjectMetadata"],documentation:"https://docs.aws.amazon.com/s3/"},elasticsearch:{requirements:["Elasticsearch cluster URL","Authentication credentials","Network access to cluster","Index or indices to access"],steps:[{title:"Gather Cluster Information",description:"Collect your Elasticsearch connection details",details:["Cluster URL (e.g., https://cluster.es.io:9200)","Authentication method (Basic Auth, API Key)","SSL/TLS certificate if required"]},{title:"Prepare Credentials",description:"Set up authentication for secure access",details:["For Basic Auth: username and password","For API Key: generate from Kibana or API","Ensure credentials have read permissions"]},{title:"Configure Index Access",description:"Define which indices to connect",details:["List accessible index patterns","Verify index mappings","Check for any index aliases"]}],permissions:["read","view_index_metadata","monitor"],documentation:"https://www.elastic.co/guide/en/elasticsearch/reference/"},pinecone:{requirements:["Pinecone account","API key","Environment name","Index name"],steps:[{title:"Get API Key",description:"Retrieve your Pinecone API credentials",details:["Log in to Pinecone console","Navigate to API Keys section","Copy your API key"]},{title:"Identify Environment",description:"Find your Pinecone environment details",details:["Note your environment name (e.g., us-west1-gcp)","Copy your project ID","Verify environment region"]},{title:"Configure Index",description:"Specify the index to connect",details:["List available indexes","Note index dimensions","Verify index metric type"]}],permissions:["Read access to indexes","Query vectors","Fetch metadata"],documentation:"https://docs.pinecone.io/"},sftp:{requirements:["SFTP server hostname or IP","Port number (default: 22)","Username and password or SSH key","Directory path to access"],steps:[{title:"Gather Server Details",description:"Collect connection information",details:["Server hostname or IP address","Port number (typically 22)","Server fingerprint for verification"]},{title:"Prepare Authentication",description:"Set up secure access method",details:["Username and password, or","SSH private key file","Passphrase for key if required"]},{title:"Define Access Path",description:"Specify directories to access",details:["Root directory path","Subdirectories to include","Any access restrictions"]}],permissions:["Read access to directories","List directory contents","Download files"],documentation:"https://www.ssh.com/academy/ssh/sftp"},ftp:{requirements:["FTP server hostname or IP","Port number (default: 21)","Username and password","FTP mode (Active/Passive)"],steps:[{title:"Server Information",description:"Gather FTP connection details",details:["Server hostname or IP","Port (21 for FTP, 990 for FTPS)","SSL/TLS support if available"]},{title:"Authentication",description:"Provide login credentials",details:["FTP username","FTP password","Anonymous access if applicable"]},{title:"Connection Mode",description:"Configure FTP connection mode",details:["Passive mode (recommended)","Active mode if required","Firewall considerations"]}],permissions:["Read access","List directory","Download files"],documentation:"https://www.ietf.org/rfc/rfc959.txt"},box:{requirements:["Box account (Business or Enterprise)","Admin access for OAuth app creation","Box Developer Console access"],steps:[{title:"Create Box App",description:"Set up OAuth 2.0 application",details:["Go to Box Developer Console","Create New App > Custom App","Select OAuth 2.0 authentication","Configure redirect URI"]},{title:"Configure Permissions",description:"Set application scopes",details:['Enable "Read all files" scope','Enable "Read all folders" scope',"Save Client ID and Client Secret"]},{title:"Authorize Access",description:"Grant application permissions",details:["Admin must authorize the app","Set folder access permissions","Test connection with sample folder"]}],permissions:["Read files and folders","Access file metadata","View collaboration details"],documentation:"https://developer.box.com/guides/"},dropbox:{requirements:["Dropbox account","App Console access","OAuth 2.0 credentials"],steps:[{title:"Create Dropbox App",description:"Register your application",details:["Go to Dropbox App Console","Create a new app",'Choose "Full Dropbox" access',"Note App key and App secret"]},{title:"Configure OAuth",description:"Set up authentication flow",details:["Add redirect URI","Enable required permissions","Configure app settings"]},{title:"Grant Access",description:"Authorize the connection",details:["Users will authorize via OAuth","Specify folder access","Set file type restrictions if needed"]}],permissions:["files.metadata.read","files.content.read","sharing.read"],documentation:"https://www.dropbox.com/developers/documentation"}}[t.id]||{requirements:["Account access","Appropriate permissions"],steps:[{title:"Prepare Connection",description:"Gather necessary credentials",details:["Ensure you have access to the service","Prepare authentication credentials"]}],permissions:["Read access"],documentation:"#"};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Connection Setup Guide"}),(0,Ue.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Follow these steps to prepare your ",t.name," connection"]})]}),(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-3 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Requirements"]}),(0,Ue.jsx)("ul",{className:"space-y-2",children:a.requirements.map((e,t)=>(0,Ue.jsxs)("li",{className:"flex items-start gap-2 text-sm text-blue-800 dark:text-blue-200",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e]},t))})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Setup Steps"}),(0,Ue.jsx)("div",{className:"space-y-4",children:a.steps.map((e,t)=>(0,Ue.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-semibold flex-shrink-0",children:t+1}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("h5",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,Ue.jsx)("ul",{className:"space-y-1",children:e.details.map((e,t)=>(0,Ue.jsxs)("li",{className:"text-sm text-gray-700 dark:text-gray-300 flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"text-indigo-600 dark:text-indigo-400",children:"\u2022"}),(0,Ue.jsx)("span",{children:e})]},t))})]})]})},t))})]}),(0,Ue.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-yellow-900 dark:text-yellow-300 mb-3 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),"Required Permissions"]}),(0,Ue.jsx)("ul",{className:"space-y-1",children:a.permissions.map((e,t)=>(0,Ue.jsxs)("li",{className:"text-sm text-yellow-800 dark:text-yellow-200 flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-yellow-600 dark:bg-yellow-400"}),(0,Ue.jsx)("code",{className:"bg-yellow-100 dark:bg-yellow-900/40 px-2 py-0.5 rounded text-xs",children:e})]},t))})]}),(0,Ue.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white",children:"Official Documentation"}),(0,Ue.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Learn more about ",t.name]})]})]}),(0,Ue.jsxs)("a",{href:a.documentation,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm font-medium text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-2",children:["Open Docs",(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:r,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Ue.jsxs)("button",{onClick:n,className:"flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue to Authentication",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})},Vp=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const{user:i}=(0,r.useContext)(Sr),s=ee(),[l,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=new URLSearchParams(s.search),t=e.get("code"),n=e.get("state"),r=e.get("provider");t&&n&&r&&null!==i&&void 0!==i&&i.authenticated&&d(t,n,r)},[s,null===i||void 0===i?void 0:i.authenticated]);const d=async(e,t,r)=>{try{c(!0),o(null);if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(r,"/callback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:e,state:t})})).ok)throw new Error("Failed to complete connection");n&&n()}catch(a){console.error("OAuth callback error:",a),o("Failed to complete connection")}finally{c(!1)}};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2h10a2 2 0 002-2v-1a2 2 0 012-2h1.945M7.721 16.542A9.023 9.023 0 0112 15c1.605 0 3.09.438 4.279 1.542M12 12a4 4 0 100-8 4 4 0 000 8z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Google Drive Authentication"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Securely connect your Google Drive account"})]}),(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"How OAuth Works"]}),(0,Ue.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"1."}),(0,Ue.jsx)("span",{children:"You'll be redirected to the Google login page"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"2."}),(0,Ue.jsx)("span",{children:"Sign in with your Google account"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"3."}),(0,Ue.jsx)("span",{children:"Authorize access to your files and folders"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"4."}),(0,Ue.jsx)("span",{children:"You'll be redirected back to complete setup"})]})]})]}),(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Secure Authentication"}),(0,Ue.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your credentials are never stored. We only receive a secure access token from Google."})]})]})}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Permissions Required"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Read Files"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access and read your files"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Browse Folders"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Navigate your folder structure"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"View Metadata"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access file properties and details"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:a,disabled:l,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{onClick:async()=>{c(!0),o(null);try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/google-drive"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!t.ok){let n="Failed to initiate OAuth flow";if(412===t.status)try{const e=await t.json();"OAUTH_CONFIG_NOT_FOUND"===e.code&&e.details&&(n=e.details)}catch(e){console.error("Failed to parse error response:",e)}throw new Error(n)}const n=await t.json(),r=n.auth_url||n.AuthorizationURL;if(!r)throw new Error("No authorization URL received");window.location.href=r}catch(t){console.error("OAuth error:",t),o(t.message||"Failed to start authentication"),c(!1)}},disabled:l,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:l?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:["Connect with Google Drive",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})},qp=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const i=ee(),[s,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{const e=new URLSearchParams(i.search),t=e.get("connection_id"),r=e.get("status"),a=e.get("error");return t&&"active"===r?(window.history.replaceState({},document.title,window.location.pathname),void(n&&n())):a?(window.history.replaceState({},document.title,window.location.pathname),void o(a)):void 0},[i,n,o]),(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Microsoft OneDrive Authentication"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Securely connect your OneDrive account"})]}),(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"How OAuth Works"]}),(0,Ue.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"1."}),(0,Ue.jsx)("span",{children:"You'll be redirected to the Microsoft login page"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"2."}),(0,Ue.jsx)("span",{children:"Sign in with your Microsoft account"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"3."}),(0,Ue.jsx)("span",{children:"Authorize access to your files and folders"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"4."}),(0,Ue.jsx)("span",{children:"You'll be redirected back to complete setup"})]})]})]}),(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Secure Authentication"}),(0,Ue.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your credentials are never stored. We only receive a secure access token from Microsoft."})]})]})}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Permissions Required"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Read Files"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access and read your files"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Browse Folders"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Navigate your folder structure"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"View Metadata"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access file properties and details"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:a,disabled:s,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{onClick:async()=>{l(!0),o(null);const e=window.location.origin+window.location.pathname;try{const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/onedrive"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({success_redirect_url:e,error_redirect_url:e})});if(!n.ok){let e="Failed to initiate OAuth flow";if(412===n.status)try{const t=await n.json();"OAUTH_CONFIG_NOT_FOUND"===t.code&&t.details&&(e=t.details)}catch(t){console.error("Failed to parse error response:",t)}throw new Error(e)}const r=await n.json(),a=r.auth_url||r.AuthorizationURL;if(!a)throw new Error("No authorization URL received");window.location.href=a}catch(n){console.error("OAuth error:",n),o(n.message||"Failed to start authentication"),l(!1)}},disabled:s,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:s?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:["Connect with OneDrive",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})},Up=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const{user:i}=(0,r.useContext)(Sr),s=ee(),[l,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=new URLSearchParams(s.search),t=e.get("code"),n=e.get("state"),r=e.get("provider");t&&n&&r&&null!==i&&void 0!==i&&i.authenticated&&d(t,n,r)},[s,null===i||void 0===i?void 0:i.authenticated]);const d=async(e,t,r)=>{try{c(!0),o(null);if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(r,"/callback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:e,state:t})})).ok)throw new Error("Failed to complete connection");n&&n()}catch(a){console.error("OAuth callback error:",a),o("Failed to complete connection")}finally{c(!1)}};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"OAuth Authentication"}),(0,Ue.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Securely connect your ",t.name," account"]})]}),(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"How OAuth Works"]}),(0,Ue.jsxs)("ul",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"1."}),(0,Ue.jsxs)("span",{children:["You'll be redirected to ",t.name," login page"]})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"2."}),(0,Ue.jsxs)("span",{children:["Sign in with your ",t.name," account"]})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"3."}),(0,Ue.jsx)("span",{children:"Authorize access to your files and folders"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"4."}),(0,Ue.jsx)("span",{children:"You'll be redirected back to complete setup"})]})]})]}),(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Secure Authentication"}),(0,Ue.jsxs)("p",{className:"text-sm text-green-800 dark:text-green-200",children:["Your credentials are never stored. We only receive a secure access token from ",t.name,"."]})]})]})}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Permissions Required"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Read Files"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access and read your files"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Browse Folders"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Navigate your folder structure"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"View Metadata"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access file properties and details"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:a,disabled:l,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{onClick:async()=>{c(!0),o(null);try{const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!n.ok){let t="Failed to initiate OAuth flow";if(412===n.status)try{const e=await n.json();"OAUTH_CONFIG_NOT_FOUND"===e.code&&e.details&&(t=e.details)}catch(e){console.error("Failed to parse error response:",e)}throw new Error(t)}const r=await n.json(),a=r.auth_url||r.AuthorizationURL;if(!a)throw new Error("No authorization URL received");window.location.href=a}catch(n){console.error("OAuth error:",n),o(n.message||"Failed to start authentication"),c(!1)}},disabled:l,className:"flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:l?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:["Connect with ",t.name,(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})},Kp=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const[i,s]=(0,r.useState)({host:"",port:"sftp"===t.id?"22":"ftp"===t.id?"21":"",username:"",password:"",sshKey:"",useSSH:!1,region:"",accessKeyId:"",secretAccessKey:"",bucketName:"",endpoint:"",indexName:"",authType:"basic",schema:"public",sslMode:"require",projectId:"",datasetId:"",serviceAccountJson:""}),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),h=e=>{const{name:t,value:n,type:r,checked:a}=e.target;s(e=>Le(Le({},e),{},{[t]:"checkbox"===r?a:n}))};return(0,Ue.jsxs)("form",{onSubmit:e=>{var r,a,s,l,c,d,u,m,g,p,f,h,v,x;if(e.preventDefault(),["alloydb","amazonrds","pgvector"].includes(t.id)&&(!i.host||!i.port||!i.database||!i.username||!i.password||!i.schema))return void o("All fields are required");if("bigquery"===t.id&&(!i.projectId||!i.serviceAccountJson))return void o("Project ID and Service Account JSON are required");if("sftp"===t.id||"ftp"===t.id){if(!i.host||!i.username)return void o("Host and username are required");if(!i.useSSH&&!i.password)return void o("Password is required when not using SSH key")}else if("s3"===t.id){if(!i.accessKeyId||!i.secretAccessKey||!i.bucketName||!i.region)return void o("All S3 fields are required")}else if("opensearch"===t.id){if(!i.endpoint||!i.username||!i.password)return void o("Endpoint, username, and password are required")}else if("elasticsearch"===t.id){if(!i.endpoint)return void o("Endpoint is required");if("apikey"===i.authType&&!i.apiKey)return void o("API Key is required");if("basic"===i.authType&&(!i.username||!i.password))return void o("Username and password are required")}else if("weaviate"===t.id&&!i.endpoint)return void o("Weaviate URL is required");const y=Le(Le({},i),{},{endpoint:(null===(r=i.endpoint)||void 0===r?void 0:r.trim())||"",username:(null===(a=i.username)||void 0===a?void 0:a.trim())||"",password:(null===(s=i.password)||void 0===s?void 0:s.trim())||"",apiKey:(null===(l=i.apiKey)||void 0===l?void 0:l.trim())||"",host:(null===(c=i.host)||void 0===c?void 0:c.trim())||"",port:i.port?parseInt(i.port,10):null,database:(null===(d=i.database)||void 0===d?void 0:d.trim())||"",schemaName:(null===(u=i.schema)||void 0===u?void 0:u.trim())||"public",sslMode:i.sslMode,accessKeyId:(null===(m=i.accessKeyId)||void 0===m?void 0:m.trim())||"",secretAccessKey:(null===(g=i.secretAccessKey)||void 0===g?void 0:g.trim())||"",bucketName:(null===(p=i.bucketName)||void 0===p?void 0:p.trim())||"",region:(null===(f=i.region)||void 0===f?void 0:f.trim())||"",useAWS:"opensearch"===t.id?!0===i.useAWS||"true"===i.useAWS:void 0,projectId:(null===(h=i.projectId)||void 0===h?void 0:h.trim())||"",datasetId:(null===(v=i.datasetId)||void 0===v?void 0:v.trim())||"",serviceAccountJson:(null===(x=i.serviceAccountJson)||void 0===x?void 0:x.trim())||""});n(y)},className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center mb-6",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Enter Connection Details"}),(0,Ue.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Provide your ",t.name," credentials"]})]}),(0,Ue.jsx)("div",{className:"space-y-4",children:(()=>{switch(t.id){case"sftp":case"ftp":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Host *"}),(0,Ue.jsx)("input",{type:"text",name:"host",value:i.host,onChange:h,placeholder:"ftp.example.com or 192.168.1.100",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Port *"}),(0,Ue.jsx)("input",{type:"number",name:"port",value:i.port,onChange:h,placeholder:"sftp"===t.id?"22":"21",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username *"}),(0,Ue.jsx)("input",{type:"text",name:"username",value:i.username,onChange:h,placeholder:"username",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),"sftp"===t.id&&(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("input",{type:"checkbox",id:"useSSH",name:"useSSH",checked:i.useSSH,onChange:h,className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsx)("label",{htmlFor:"useSSH",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Use SSH Key Authentication"})]}),i.useSSH?(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SSH Private Key *"}),(0,Ue.jsx)("textarea",{name:"sshKey",value:i.sshKey,onChange:h,placeholder:"-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----",rows:"6",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm",required:!0})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"password",value:i.password,onChange:h,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Root Directory (Optional)"}),(0,Ue.jsx)("input",{type:"text",name:"rootPath",value:i.rootPath||"",onChange:h,placeholder:"/home/user/files",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]});case"s3":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Access Key ID *"}),(0,Ue.jsx)("input",{type:"text",name:"accessKeyId",value:i.accessKeyId,onChange:h,placeholder:"AKIAIOSFODNN7EXAMPLE",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Secret Access Key *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:d?"text":"password",name:"secretAccessKey",value:i.secretAccessKey,onChange:h,placeholder:"wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>u(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:d?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region *"}),(0,Ue.jsxs)("select",{name:"region",value:i.region,onChange:h,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[(0,Ue.jsx)("option",{value:"",children:"Select Region"}),(0,Ue.jsx)("option",{value:"us-east-1",children:"US East (N. Virginia)"}),(0,Ue.jsx)("option",{value:"us-east-2",children:"US East (Ohio)"}),(0,Ue.jsx)("option",{value:"us-west-1",children:"US West (N. California)"}),(0,Ue.jsx)("option",{value:"us-west-2",children:"US West (Oregon)"}),(0,Ue.jsx)("option",{value:"eu-west-1",children:"EU (Ireland)"}),(0,Ue.jsx)("option",{value:"eu-central-1",children:"EU (Frankfurt)"}),(0,Ue.jsx)("option",{value:"ap-southeast-1",children:"Asia Pacific (Singapore)"}),(0,Ue.jsx)("option",{value:"ap-southeast-2",children:"Asia Pacific (Sydney)"}),(0,Ue.jsx)("option",{value:"ap-northeast-1",children:"Asia Pacific (Tokyo)"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bucket Name *"}),(0,Ue.jsx)("input",{type:"text",name:"bucketName",value:i.bucketName,onChange:h,placeholder:"my-bucket-name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prefix (Optional)"}),(0,Ue.jsx)("input",{type:"text",name:"prefix",value:i.prefix||"",onChange:h,placeholder:"folder/subfolder/",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]});case"alloydb":case"amazonrds":case"pgvector":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"flex space-x-4",children:[(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Host *"}),(0,Ue.jsx)("input",{type:"text",name:"host",value:i.host,onChange:h,placeholder:"10.0.0.1",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{className:"w-32",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Port *"}),(0,Ue.jsx)("input",{type:"number",name:"port",value:i.port,onChange:h,placeholder:"5432",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Database Name *"}),(0,Ue.jsx)("input",{type:"text",name:"database",value:i.database,onChange:h,placeholder:"produktivai",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username *"}),(0,Ue.jsx)("input",{type:"text",name:"username",value:i.username,onChange:h,placeholder:"postgres",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"password",value:i.password,onChange:h,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Schema"}),(0,Ue.jsx)("input",{type:"text",name:"schema",value:i.schema,onChange:h,placeholder:"public",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"SSL Mode"}),(0,Ue.jsxs)("select",{name:"sslMode",value:i.sslMode,onChange:h,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,Ue.jsx)("option",{value:"require",children:"Require (Recommended)"}),(0,Ue.jsx)("option",{value:"disable",children:"Disable"})]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"SSL connection security level. Use 'Require' for secure connections or 'Disable' if your database doesn't support SSL."})]})]})]});case"bigquery":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project ID *"}),(0,Ue.jsx)("input",{type:"text",name:"projectId",value:i.projectId,onChange:h,placeholder:"my-project-id",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Service Account JSON *"}),(0,Ue.jsx)("textarea",{name:"serviceAccountJson",value:i.serviceAccountJson,onChange:h,placeholder:'{"type": "service_account", "project_id": "...", ...}',rows:"8",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm",required:!0}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Paste your complete service account JSON key file contents"})]})]});case"opensearch":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cluster Endpoint *"}),(0,Ue.jsx)("input",{type:"url",name:"endpoint",value:i.endpoint,onChange:h,placeholder:"https://opensearch.local:9200",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Deployment Type"}),(0,Ue.jsxs)("select",{name:"useAWS",value:i.useAWS,onChange:h,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,Ue.jsx)("option",{value:!1,children:"Self-Hosted"}),(0,Ue.jsx)("option",{value:!0,children:"AWS OpenSearch Service"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username *"}),(0,Ue.jsx)("input",{type:"text",name:"username",value:i.username,onChange:h,placeholder:"admin",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"password",value:i.password,onChange:h,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]});case"elasticsearch":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cluster Endpoint *"}),(0,Ue.jsx)("input",{type:"url",name:"endpoint",value:i.endpoint,onChange:h,placeholder:"https://cluster.es.io:9200",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Authentication Type"}),(0,Ue.jsxs)("select",{name:"authType",value:i.authType,onChange:h,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[(0,Ue.jsx)("option",{value:"basic",children:"Basic Authentication"}),(0,Ue.jsx)("option",{value:"apikey",children:"API Key"})]})]}),"basic"===i.authType?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Username *"}),(0,Ue.jsx)("input",{type:"text",name:"username",value:i.username,onChange:h,placeholder:"elastic",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"password",value:i.password,onChange:h,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key *"}),(0,Ue.jsx)("input",{type:"text",name:"apiKey",value:i.apiKey||"",onChange:h,placeholder:"API key",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]})]});case"weaviate":return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weaviate URL *"}),(0,Ue.jsx)("input",{type:"url",name:"endpoint",value:i.endpoint,onChange:h,placeholder:"https://your-weaviate-cluster.weaviate.network",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"The URL of your Weaviate cluster"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"apiKey",value:i.apiKey||"",onChange:h,placeholder:"Optional: Enter your Weaviate API key",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Leave empty for clusters without authentication"})]})]});default:return null}})()}),p&&(0,Ue.jsx)("div",{className:"p-4 rounded-lg border ".concat(p.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[p.success?(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,Ue.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Ue.jsx)("span",{className:"text-sm font-medium ".concat(p.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:p.message})]})}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{type:"button",onClick:a,disabled:m,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{type:"button",onClick:async()=>{g(!0),f(null),o(null);try{let e;["alloydb","amazonrds","pgvector"].includes(t.id)?e={host:i.host.trim(),port:parseInt(i.port),database:i.database.trim(),username:i.username.trim(),password:i.password.trim(),ssl_mode:i.sslMode}:"bigquery"===t.id?e={project_id:i.projectId.trim(),service_account_json:i.serviceAccountJson.trim()}:"opensearch"===t.id?e={url:i.endpoint.trim(),username:i.username.trim(),password:i.password.trim(),use_aws:!0===i.useAWS||"true"===i.useAWS}:"elasticsearch"===t.id?(e={url:i.endpoint.trim()},"apikey"===i.authType?e.api_key=i.apiKey.trim():(e.username=i.username.trim(),e.password=i.password.trim())):"weaviate"===t.id&&(e={url:i.endpoint.trim()},i.apiKey&&i.apiKey.trim()&&(e.api_key=i.apiKey.trim()));const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id,"/test"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({connection:e})});if(!n.ok)throw new Error("Connection test failed");const r=await n.json();f({success:!0,message:r.message||"Connection successful"})}catch(e){console.error("Test connection error:",e),f({success:!1,message:e.message||"Connection failed"})}finally{g(!1)}},disabled:m,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:m?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Testing..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:["Test Connection",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),(0,Ue.jsxs)("button",{type:"submit",disabled:m,className:"flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})},Gp=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const[i,s]=(0,r.useState)({apiKey:"",environment:"",projectId:"",indexName:"",additionalConfig:{}}),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),p=e=>{const{name:t,value:n}=e.target;s(e=>Le(Le({},e),{},{[t]:n}))};return(0,Ue.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),"pinecone"===t.id){if(!i.apiKey||!i.environment||!i.projectId)return void o("API Key, Environment, and Project ID are required")}else if(!i.apiKey)return void o("API Key is required");n(i)},className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center mb-6",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"API Key Authentication"}),(0,Ue.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Enter your ",t.name," API credentials"]})]}),(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Secure Storage"}),(0,Ue.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your API key is encrypted and stored securely. We never log or expose your credentials."})]})]})}),(0,Ue.jsx)("div",{className:"space-y-4",children:"pinecone"===t.id?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"apiKey",value:i.apiKey,onChange:p,placeholder:"pcsk_...",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Find your API key in the Pinecone console"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Environment *"}),(0,Ue.jsx)("input",{type:"text",name:"environment",value:i.environment,onChange:p,placeholder:"us-west1-gcp",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Your Pinecone environment (e.g., us-west1-gcp, eu-west1-gcp)"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Project ID *"}),(0,Ue.jsx)("input",{type:"text",name:"projectId",value:i.projectId,onChange:p,placeholder:"12345678-1234-1234-1234-123456789012",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Found in your Pinecone console project settings"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Index Name (Optional)"}),(0,Ue.jsx)("input",{type:"text",name:"indexName",value:i.indexName,onChange:p,placeholder:"my-index",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Leave blank to access all indexes"})]})]}):(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:l?"text":"password",name:"apiKey",value:i.apiKey,onChange:p,placeholder:"Enter your API key",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent font-mono text-sm",required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:l?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})}),m&&(0,Ue.jsx)("div",{className:"p-4 rounded-lg border ".concat(m.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[m.success?(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,Ue.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("span",{className:"text-sm font-medium block ".concat(m.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:m.message}),m.details&&(0,Ue.jsx)("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400",children:Object.entries(m.details).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"flex justify-between py-1",children:[(0,Ue.jsxs)("span",{className:"capitalize",children:[t,":"]}),(0,Ue.jsx)("span",{className:"font-mono",children:n})]},t)})})]})]})}),(0,Ue.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Need an API Key?"}),(0,Ue.jsxs)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["You can generate an API key from your ",t.name," console. Check the connection guide for detailed instructions."]})]})]})}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{type:"button",onClick:a,disabled:d,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{type:"button",onClick:async()=>{u(!0),g(null),o(null);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id,"/test"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!e.ok)throw new Error("Connection test failed");const n=await e.json();g({success:!0,message:n.message||"Connection successful",details:n.details})}catch(e){console.error("Test connection error:",e),g({success:!1,message:e.message||"Connection failed"})}finally{u(!1)}},disabled:d,className:"flex-1 px-6 py-3 bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:d?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Testing..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:["Test Connection",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]})}),(0,Ue.jsxs)("button",{type:"submit",disabled:d,className:"flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})},Xp=e=>{let{connector:t,connectionData:n,onComplete:a,onBack:o,setError:i}=e;const[s,l]=(0,r.useState)(!0),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)([]),[f,h]=(0,r.useState)([]),[v,x]=(0,r.useState)({}),[y,b]=(0,r.useState)(null),[k,w]=(0,r.useState)("datasets");(0,r.useEffect)(()=>{"bigquery"===t.id?j():(w("tables"),N())},[]);const j=async()=>{l(!0),i(null);try{var e,t;const r={project_id:null===(e=n.projectId)||void 0===e?void 0:e.trim(),service_account_json:null===(t=n.serviceAccountJson)||void 0===t?void 0:t.trim()},a=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/bigquery/discover/datasets"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({connection:r})});if(!a.ok)throw new Error("Failed to fetch datasets");const o=await a.json();d(o.available_datasets||[])}catch(r){console.error("Dataset fetch error:",r),i(r.message||"Failed to fetch datasets")}finally{l(!1)}},N=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l(!0),i(null);try{const o=Object.keys(n).reduce((e,t)=>{var r,a,o,i,s,l,c;return["step","loading","error","datasets","id","name","connectorId"].includes(t)||("projectId"===t?e.project_id=null===(r=n[t])||void 0===r?void 0:r.trim():"serviceAccountJson"===t?e.service_account_json=null===(a=n[t])||void 0===a?void 0:a.trim():"schemaName"===t?e.schema=null===(o=n[t])||void 0===o?void 0:o.trim():"sslMode"===t?e.ssl_mode=null===(i=n[t])||void 0===i?void 0:i.trim():"authType"===t||("apiKey"===t?e.api_key=null===(s=n[t])||void 0===s?void 0:s.trim():"useAWS"===t?e.use_aws=n[t]:"endpoint"===t?e.url=null===(l=n[t])||void 0===l?void 0:l.trim():"string"===typeof n[t]?e[t]=null===(c=n[t])||void 0===c?void 0:c.trim():e[t]=n[t])),e},{});if("bigquery"===t.id){const t=e||u;if(!t)return i("Dataset ID is required to fetch tables"),void l(!1);o.dataset_id=t}const s=["alloydb","amazonrds","pgvector","bigquery","postgres","mysql","mssql","snowflake","redshift"].includes(t.id)?"tables":"indices";let c="".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id,"/discover/").concat(s);n.id&&(c+="?connectionId=".concat(n.id));const d=await fetch(c,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({connection:o})});if(!d.ok)throw new Error("Failed to fetch schemas");const m=await d.json();var r,a;if(["alloydb","amazonrds","pgvector","bigquery"].includes(t.id))p((null===(r=m.available_tables)||void 0===r?void 0:r.map(e=>({name:e,type:"table"})))||[]);else p((null===(a=m.items)||void 0===a?void 0:a.map(e=>({name:e.name,type:e.type||"index",metadata:e.metadata})))||[])}catch(o){console.error("Schema fetch error:",o),i(o.message||"Failed to fetch schemas")}finally{l(!1)}},C=e=>{switch(e){case"index":return(0,Ue.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})});case"collection":return(0,Ue.jsx)("svg",{className:"w-5 h-5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})});default:return(0,Ue.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})}};return s?(0,Ue.jsxs)("div",{className:"text-center py-12",children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-12 w-12 mx-auto mb-4 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"datasets"===k?"Discovering datasets...":"Discovering tables..."})]}):"bigquery"===t.id&&"datasets"===k?(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Select Dataset"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a dataset from your BigQuery project"})]}),0===c.length?(0,Ue.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No datasets found"}),(0,Ue.jsx)("button",{onClick:j,className:"mt-4 px-4 py-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300",children:"Retry"})]}):(0,Ue.jsx)("div",{className:"space-y-3",children:c.map(e=>(0,Ue.jsx)("div",{onClick:()=>(async e=>{m(e),w("tables"),l(!0),await N(e)})(e),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 cursor-pointer transition-colors",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),(0,Ue.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e})]}),(0,Ue.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})},e))}),(0,Ue.jsx)("div",{className:"flex gap-3 pt-4",children:(0,Ue.jsx)("button",{type:"button",onClick:o,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"})})]}):(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Schema Configuration"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Select the schemas or indexes you want to access"})]}),0===g.length?(0,Ue.jsxs)("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No schemas found"}),(0,Ue.jsx)("button",{onClick:N,className:"mt-4 px-4 py-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300",children:"Retry"})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("input",{type:"checkbox",id:"select-all",checked:f.length===g.length,onChange:()=>{f.length===g.length?h([]):h([...g])},className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("label",{htmlFor:"select-all",className:"font-medium text-gray-900 dark:text-white",children:["Select All Schemas (",g.length,")"]})]}),(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[f.length," selected"]})]}),(0,Ue.jsx)("div",{className:"space-y-3",children:g.map(e=>(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[(0,Ue.jsx)("div",{className:"p-4 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:f.some(t=>t.name===e.name),onChange:()=>(e=>{h(t=>t.find(t=>t.name===e.name)?t.filter(t=>t.name!==e.name):[...t,e])})(e),className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),C(e.type),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:e.type})]}),e.description&&(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description}),e.stats&&(0,Ue.jsxs)("div",{className:"flex gap-4 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[void 0!==e.stats.documentCount&&(0,Ue.jsxs)("span",{children:["Documents: ",e.stats.documentCount.toLocaleString()]}),void 0!==e.stats.vectorCount&&(0,Ue.jsxs)("span",{children:["Vectors: ",e.stats.vectorCount.toLocaleString()]}),void 0!==e.stats.dimensions&&(0,Ue.jsxs)("span",{children:["Dimensions: ",e.stats.dimensions]})]})]})]}),(0,Ue.jsxs)("button",{onClick:()=>(async e=>{if(v[e])b(y===e?null:e);else try{const r=Object.keys(n).reduce((e,t)=>{var r,a,o,i,s,l,c;return["step","loading","error","datasets","id","name","connectorId"].includes(t)||("projectId"===t?e.project_id=null===(r=n[t])||void 0===r?void 0:r.trim():"serviceAccountJson"===t?e.service_account_json=null===(a=n[t])||void 0===a?void 0:a.trim():"schemaName"===t?e.schema=null===(o=n[t])||void 0===o?void 0:o.trim():"sslMode"===t?e.ssl_mode=null===(i=n[t])||void 0===i?void 0:i.trim():"authType"===t||("apiKey"===t?e.api_key=null===(s=n[t])||void 0===s?void 0:s.trim():"useAWS"===t?e.use_aws=n[t]:"endpoint"===t?e.url=null===(l=n[t])||void 0===l?void 0:l.trim():"string"===typeof n[t]?e[t]=null===(c=n[t])||void 0===c?void 0:c.trim():e[t]=n[t])),e},{});"bigquery"===t.id&&(r.dataset_id=u,r.table_id=e);const a="bigquery"===t.id?"schema":["alloydb","amazonrds","pgvector","postgres","mysql","mssql","snowflake","redshift"].includes(t.id)?"columns":"fields";let o="".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id,"/discover/").concat(a);n.id&&(o+="?connectionId=".concat(n.id));const i=await fetch(o,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le({connection:r},["alloydb","amazonrds","pgvector","postgres","mysql","mssql","snowflake","redshift","bigquery"].includes(t.id)?{table:e}:{params:{index:e}}))});if(!i.ok)throw new Error("Failed to fetch schema details");const s=await i.json();let l;l="bigquery"===t.id?Object.entries(s.fields_in_table||{}).map(e=>{let[t,n]=e;return{name:t,type:n}}):["alloydb","amazonrds","pgvector"].includes(t.id)?Object.entries(s.columns_in_table||{}).map(e=>{let[t,n]=e;return{name:t,type:"object"===typeof n?n.data_type||n.type||"unknown":n}}):(s.items||[]).map(e=>({name:e.name,type:e.type,metadata:e.metadata})),x(t=>Le(Le({},t),{},{[e]:{fields:l}})),b(e)}catch(r){console.error("Schema details error:",r),i(r.message||"Failed to fetch schema details")}})(e.name),className:"ml-4 px-3 py-1 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[y===e.name?"Hide":"View"," Details",(0,Ue.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(y===e.name?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]})}),y===e.name&&v[e.name]&&(0,Ue.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h5",{className:"font-medium text-gray-900 dark:text-white mb-3",children:"Schema Details"}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[v[e.name].fields&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h6",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Fields (",v[e.name].fields.length,")"]}),(0,Ue.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:v[e.name].fields.map((e,t)=>(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("code",{className:"text-indigo-600 dark:text-indigo-400",children:e.name}),(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:":"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-white",children:e.type})]}),e.dimension&&(0,Ue.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["dim: ",e.dimension]})]},t))})]}),v[e.name].metadata&&(0,Ue.jsx)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:Object.entries(v[e.name].metadata).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"flex justify-between p-2 bg-white dark:bg-gray-800 rounded",children:[(0,Ue.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:[t,":"]}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:n})]},t)})})]})]})]},e.name))})]}),(0,Ue.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Schema Selection"}),(0,Ue.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Select the schemas you want to access. You can modify this selection later in your connection settings."})]})]})}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{type:"button",onClick:o,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsxs)("button",{type:"button",onClick:async()=>{var e;if(0===f.length)return void i("Please select at least one schema");const r=f[0].name;if(null!==(e=v[r])&&void 0!==e&&e.fields){const e=v[r].fields;a({selectedDataset:u,selectedSchemas:f.map(e=>({name:e.name,type:e.type,details:v[e.name]})),fields:e})}else{i(null);try{let e;var o,s;if("bigquery"===t.id)e={project_id:null===(o=n.projectId)||void 0===o?void 0:o.trim(),dataset_id:u,table_id:r,service_account_json:null===(s=n.serviceAccountJson)||void 0===s?void 0:s.trim()};else if(["alloydb","amazonrds","pgvector"].includes(t.id)){var l,c,d,m,g,p;e={host:null===(l=n.host)||void 0===l?void 0:l.trim(),port:n.port,database:null===(c=n.database)||void 0===c?void 0:c.trim(),username:null===(d=n.username)||void 0===d?void 0:d.trim(),password:null===(m=n.password)||void 0===m?void 0:m.trim(),schema:(null===(g=n.schemaName)||void 0===g?void 0:g.trim())||"public",ssl_mode:(null===(p=n.sslMode)||void 0===p?void 0:p.trim())||"require"}}else"opensearch"===t.id?e={url:n.endpoint.trim(),username:n.username.trim(),password:n.password.trim(),use_aws:!0===n.useAWS||"true"===n.useAWS}:"elasticsearch"===t.id&&(e={url:n.endpoint},"apikey"===n.authType?e.api_key=n.apiKey:(e.username=n.username,e.password=n.password));const i="bigquery"===t.id?"schema":["alloydb","amazonrds","pgvector"].includes(t.id)?"columns":"fields",h=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id,"/discover/").concat(i),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le({connection:e},"bigquery"===t.id?{table_id:r}:["alloydb","amazonrds","pgvector"].includes(t.id)?{table:r}:{params:{index:r}}))});if(!h.ok)throw new Error("Failed to fetch schema fields");const x=await h.json();let y;y="bigquery"===t.id?Object.entries(x.fields_in_table||{}).map(e=>{let[t,n]=e;return{name:t,type:n}}):["alloydb","amazonrds","pgvector"].includes(t.id)?Object.entries(x.columns_in_table||{}).map(e=>{let[t,n]=e;return{name:t,type:"object"===typeof n?n.data_type||n.type||"unknown":n}}):(x.items||[]).map(e=>({name:e.name,type:e.type,metadata:e.metadata})),a({selectedDataset:u,selectedSchemas:f.map(e=>({name:e.name,type:e.type,details:v[e.name]})),fields:y})}catch(h){console.error("Failed to fetch fields:",h),i("Failed to fetch schema fields. Please try again.")}}},disabled:0===f.length,className:"flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue with ",f.length," Schema",1!==f.length?"s":"",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})},Yp=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const{user:i}=(0,r.useContext)(Sr),s=ee(),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)("app"),[m,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1),[h,v]=(0,r.useState)(!0),[x,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=new URLSearchParams(s.search),t=e.get("code"),n=e.get("state"),r=e.get("provider");t&&n&&"slack"===r&&null!==i&&void 0!==i&&i.authenticated&&b(t,n)},[s,null===i||void 0===i?void 0:i.authenticated]);const b=async(e,t)=>{try{c(!0),o(null);if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/slack/callback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:e,state:t})})).ok)throw new Error("Failed to complete Slack connection");n&&n()}catch(r){console.error("Slack callback error:",r),o("Failed to complete Slack connection")}finally{c(!1)}};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-purple-600 dark:text-purple-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M6 8a3 3 0 000 6h8a3 3 0 100-6H6zm8 12a3 3 0 100-6 3 3 0 000 6z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Connect to Slack"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose connection type and configure access permissions"})]}),(0,Ue.jsx)("div",{className:"space-y-3",children:Object.entries({app:{name:"Slack App Installation",description:"Install as a Slack App with bot capabilities (Recommended)",recommended:!0},user:{name:"User Token",description:"Connect with your user account permissions",recommended:!1}}).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("label",{className:"relative flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(d===t?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:[(0,Ue.jsx)("input",{type:"radio",name:"connectionType",value:t,checked:d===t,onChange:e=>u(e.target.value),className:"sr-only"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:n.name}),n.recommended&&(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded",children:"Recommended"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:n.description})]})]},t)})}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Access Settings"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked),className:"w-5 h-5 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Include Private Channels"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access messages from private channels you are a member of"})]})]}),(0,Ue.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:p,onChange:e=>f(e.target.checked),className:"w-5 h-5 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Include Direct Messages"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access your direct messages and group conversations"})]})]}),(0,Ue.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:h,onChange:e=>v(e.target.checked),className:"w-5 h-5 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Include Shared Files"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access files and attachments shared in channels"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:a,disabled:l,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{onClick:async()=>{c(!0),o(null);try{const t="app"===d?["channels:read","channels:history","users:read","files:read","search:read"]:["channels:read","channels:history","users:read","files:read"];m&&t.push("groups:read","groups:history"),p&&t.push("im:read","im:history","mpim:read","mpim:history");const n=new URLSearchParams({scopes:t.join(","),type:d,includePrivateChannels:m.toString(),includeDMs:p.toString(),includeFiles:h.toString()}),r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/slack?").concat(n.toString()),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!r.ok){let t="Failed to initiate Slack connection";if(412===r.status)try{const e=await r.json();"OAUTH_CONFIG_NOT_FOUND"===e.code&&e.details&&(t=e.details)}catch(e){console.error("Failed to parse error response:",e)}throw new Error(t)}const a=await r.json(),o=a.auth_url||a.AuthorizationURL;if(!o)throw new Error("No authorization URL received");window.location.href=o}catch(t){console.error("Slack connection error:",t),o(t.message||"Failed to start Slack authentication"),c(!1)}},disabled:l,className:"flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:l?"Connecting...":"Connect to Slack"})]})]})},$p=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const{user:i}=(0,r.useContext)(Sr),s=ee(),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)("cloud"),[m,g]=(0,r.useState)(""),[p,f]=(0,r.useState)(""),[h,v]=(0,r.useState)(!0),[x,y]=(0,r.useState)(!0),[b,k]=(0,r.useState)(!0),[w,j]=(0,r.useState)(!1),[N,C]=(0,r.useState)(""),[S,E]=(0,r.useState)(null);(0,r.useEffect)(()=>{const e=new URLSearchParams(s.search),t=e.get("code"),n=e.get("state"),r=e.get("provider");t&&n&&"confluence"===r&&null!==i&&void 0!==i&&i.authenticated&&_(t,n)},[s,null===i||void 0===i?void 0:i.authenticated]);const _=async(e,t)=>{try{c(!0),o(null);const r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/confluence/callback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:e,state:t})});if(!r.ok){const e=await r.json().catch(()=>({}));if(e.error&&e.error.includes("not found in your accessible")){const e="The Confluence site you entered was not found in your accessible Atlassian sites. Please verify the URL and ensure your account has access to this site.";E(e),null===o||void 0===o||o(e)}else if(e.error&&e.error.includes("account")){const e="Your account does not have access to the specified Confluence site. Please check your permissions or contact your administrator.";E(e),null===o||void 0===o||o(e)}else{const t=e.error||"Failed to complete Confluence connection";E(t),null===o||void 0===o||o(t)}return c(!1),void window.history.replaceState({},document.title,window.location.pathname)}n&&n(),window.history.replaceState({},document.title,window.location.pathname)}catch(r){console.error("Confluence callback error:",r);const e="Failed to complete Confluence connection. Please try again.";E(e),null===o||void 0===o||o(e),c(!1),window.history.replaceState({},document.title,window.location.pathname)}};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[S&&(0,Ue.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("h5",{className:"font-medium text-red-900 dark:text-red-300 mb-1",children:"Connection Failed"}),(0,Ue.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:S})]}),(0,Ue.jsx)("button",{onClick:()=>E(null),className:"text-red-600 dark:text-red-400 hover:text-red-800",children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Connect to Confluence"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect to your Confluence spaces and documentation"})]}),(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-blue-900 dark:text-blue-300 mb-2 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Confluence Site Type"]}),(0,Ue.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Choose whether you are connecting to Confluence Cloud (hosted by Atlassian) or a self-hosted Confluence Server/Data Center instance."})]}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsxs)("label",{className:"relative flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ".concat("cloud"===d?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:[(0,Ue.jsx)("input",{type:"radio",name:"siteType",value:"cloud",checked:"cloud"===d,onChange:e=>u(e.target.value),className:"sr-only"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Confluence Cloud"}),(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded",children:"Recommended"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For sites hosted at *.atlassian.net"}),(0,Ue.jsxs)("div",{className:"mb-6",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Connection Name"}),(0,Ue.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"e.g., Work Confluence, Personal Confluence",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Give this connection a unique name to identify it later"})]}),"cloud"===d&&(0,Ue.jsxs)("div",{className:"mt-3",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confluence Site URL*"}),(0,Ue.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"your-domain.atlassian.net",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-blue-600 dark:text-blue-400",children:"Example: mycompany.atlassian.net"})]})]})]}),(0,Ue.jsxs)("label",{className:"relative flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ".concat("server"===d?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"),children:[(0,Ue.jsx)("input",{type:"radio",name:"siteType",value:"server",checked:"server"===d,onChange:e=>u(e.target.value),className:"sr-only"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Confluence Server / Data Center"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"For self-hosted Confluence installations"}),"server"===d&&(0,Ue.jsxs)("div",{className:"mt-3",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Server URL"}),(0,Ue.jsx)("input",{type:"url",value:p,onChange:e=>f(e.target.value),placeholder:"https://confluence.yourcompany.com",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter the full URL including https://"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Content Settings"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:h,onChange:e=>v(e.target.checked),className:"w-5 h-5 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Include Attachments"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access files and documents attached to pages"})]})]}),(0,Ue.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:x,onChange:e=>y(e.target.checked),className:"w-5 h-5 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Include Comments"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access comments and inline feedback on pages"})]})]}),(0,Ue.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:b,onChange:e=>k(e.target.checked),className:"w-5 h-5 mt-0.5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Include Blog Posts"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Access blog posts from all spaces"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsxs)("button",{onClick:()=>j(!w),className:"w-full flex items-center justify-between text-left",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:"What Data Will Be Accessed?"}),(0,Ue.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform ".concat(w?"transform rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),w&&(0,Ue.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,Ue.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Pages & Content"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Page content, titles, metadata, and version history from accessible spaces"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Spaces"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Space names, descriptions, and permissions you have access to"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-start gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center flex-shrink-0",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"User Information"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Names and profile information of content authors and contributors"})]})]})]})]}),(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Secure Connection"}),(0,Ue.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your credentials are never stored. We use secure OAuth tokens that respect your Confluence permissions."})]})]})}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:a,disabled:l,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{onClick:async()=>{c(!0),o(null);try{if("cloud"===d&&m){const e=(e=>{if(!e||""===e.trim())return{valid:!1,error:"Confluence Site URL is required"};let t=e.trim().toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").trim();return/[@#$%^&*()+=\[\]{}|\\<>]/.test(t)?{valid:!1,error:"Invalid characters in URL. Please enter a valid Atlassian site URL (e.g., yoursite.atlassian.net)"}:/^[a-z0-9-]+(\.[a-z0-9-]+)*\.[a-z]{2,}$/i.test(t)?t.includes("atlassian.net")?{valid:!0,url:t}:{valid:!1,error:"Please enter a valid Atlassian Confluence URL (format: yoursite.atlassian.net)"}:{valid:!1,error:"Please enter a valid URL format (e.g., yoursite.atlassian.net)"}})(m.trim());if(!e.valid)return E(e.error),null===o||void 0===o||o(e.error),void c(!1);g(e.url)}const e=new URLSearchParams({sourceName:N||"Confluence",siteType:d,includeAttachments:h.toString(),includeComments:x.toString(),includeBlogPosts:b.toString()});"cloud"===d&&m?e.append("site",m):"server"===d&&p&&e.append("url",p);const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/confluence?").concat(e.toString()),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.error||"Failed to initiate Confluence connection")}const n=await t.json(),r=n.auth_url||n.AuthorizationURL;if(!r)throw new Error("No authorization URL received");window.location.href=r}catch(e){console.error("Confluence connection error:",e),E(e.message||"Failed to start Confluence authentication"),null===o||void 0===o||o(e.message||"Failed to start Confluence authentication"),c(!1)}},disabled:l||!("cloud"===d?m.trim().length>0:"server"===d&&p.trim().length>0&&p.startsWith("http")),className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:l?"Connecting...":"Connect to Confluence"})]})]})},Jp=e=>{let{connector:t,onComplete:n,onBack:a,setError:o}=e;const{user:i}=(0,r.useContext)(Sr),s=ee(),[l,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=new URLSearchParams(s.search),t=e.get("code"),n=e.get("state"),r=e.get("provider");t&&n&&r&&null!==i&&void 0!==i&&i.authenticated&&d(t,n,r)},[s,null===i||void 0===i?void 0:i.authenticated]);const d=async(e,t,r)=>{try{c(!0),o(null);if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(r,"/callback"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:e,state:t})})).ok)throw new Error("Failed to complete connection");n&&n()}catch(a){console.error("OAuth callback error:",a),o("Failed to complete connection")}finally{c(!1)}};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-2.121M17 20v-2m0 2H5.372a2 2 0 01-1.99-1.803l-.7-3.496a2 2 0 011.99-2.197H17M17 20h-2m2-2h-2m2-2.121a3 3 0 00-5.356-2.121M17 11.879V9m-8 2.879V9m3 2.879V9m-4 2.879V9m8 2.879V9M9 9a3 3 0 100-6 3 3 0 000 6zM2 9h5m3 0h5m-3-6v.01M5 3v.01"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Microsoft Teams Authentication"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Securely connect your Teams account"})]}),(0,Ue.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[(0,Ue.jsxs)("h4",{className:"font-semibold text-purple-900 dark:text-purple-300 mb-2 flex items-center gap-2",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"How OAuth Works"]}),(0,Ue.jsxs)("ul",{className:"space-y-2 text-sm text-purple-800 dark:text-purple-200",children:[(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"1."}),(0,Ue.jsx)("span",{children:"You'll be redirected to the Microsoft login page"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"2."}),(0,Ue.jsx)("span",{children:"Sign in with your Microsoft account"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"3."}),(0,Ue.jsx)("span",{children:"Authorize access to your Teams channels and messages"})]}),(0,Ue.jsxs)("li",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("span",{className:"font-medium min-w-[20px]",children:"4."}),(0,Ue.jsx)("span",{children:"You'll be redirected back to complete setup"})]})]})]}),(0,Ue.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-green-900 dark:text-green-300 mb-1",children:"Secure Authentication"}),(0,Ue.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Your credentials are never stored. We only receive a secure access token from Microsoft."})]})]})}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Permissions Required"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Read Messages"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access messages from your channels"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Browse Channels"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Navigate your team and channel structure"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"View Team Members"}),(0,Ue.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Access basic profile information"})]})]})]})]}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{onClick:a,disabled:l,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsx)("button",{onClick:async()=>{c(!0),o(null);try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/msteams"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({})});if(!t.ok){let n="Failed to initiate OAuth flow";if(412===t.status)try{const e=await t.json();"OAUTH_CONFIG_NOT_FOUND"===e.code&&e.details&&(n=e.details)}catch(e){console.error("Failed to parse error response:",e)}throw new Error(n)}const n=await t.json(),r=n.auth_url||n.AuthorizationURL;if(!r)throw new Error("No authorization URL received");window.location.href=r}catch(t){console.error("OAuth error:",t),o(t.message||"Failed to start authentication"),c(!1)}},disabled:l,className:"flex-1 px-6 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:l?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:["Connect with Teams",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})]})},Zp=e=>{let{error:t,onClose:n}=e;return t?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[60] flex items-center justify-center p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",children:[(0,Ue.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-6 h-6 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,Ue.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Connection Error"})]}),(0,Ue.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,Ue.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ue.jsx)("div",{className:"p-6",children:(0,Ue.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 max-w-full",children:(0,Ue.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200 break-words whitespace-normal",style:{overflowWrap:"break-word"},children:t})})}),(0,Ue.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:(0,Ue.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors",children:"Got it"})})]})}):null},Qp=e=>{let{connector:t,onClose:n,onComplete:a}=e;const{user:o}=(0,r.useContext)(Sr),[i,s]=(0,r.useState)("guide"),[l,c]=(0,r.useState)({}),[d,u]=(0,r.useState)(""),[m,g]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[h,v]=(0,r.useState)([]),[x,y]=(0,r.useState)(null),[b,k]=(0,r.useState)(!0),[w,j]=(0,r.useState)({id_field:"",content_field:"",embedding_field:"",file_id_field:""}),N=t.requiresSchema?["guide","auth","schema","naming","complete"]:["guide","auth","naming","complete"],C={guide:"Connection Guide",auth:"Authentication",schema:"Schema Configuration",naming:"Connection Details",complete:"Complete"},S=()=>{const e=N.indexOf(i);e<N.length-1&&s(N[e+1])},E=()=>{const e=N.indexOf(i);e>0&&s(N[e-1])},_=e=>{c(Le(Le({},l),e)),S()},O=e=>{c(Le(Le({},l),{},{schema:e,datasetId:e.selectedDataset||l.datasetId})),v(e.fields||[]),S()},I=async()=>{f(!0),g(null);try{var e,n,r;const s=Object.keys(l).reduce((e,t)=>{var n,r,a,o,i,s,c;return["step","loading","error","datasets","id","name","connectorId","schema","metadata"].includes(t)||("projectId"===t?e.project_id=null===(n=l[t])||void 0===n?void 0:n.trim():"serviceAccountJson"===t?e.service_account_json=null===(r=l[t])||void 0===r?void 0:r.trim():"schemaName"===t?e.schema=null===(a=l[t])||void 0===a?void 0:a.trim():"sslMode"===t?e.ssl_mode=null===(o=l[t])||void 0===o?void 0:o.trim():"authType"===t||("apiKey"===t?e.api_key=null===(i=l[t])||void 0===i?void 0:i.trim():"useAWS"===t?e.use_aws=l[t]:"endpoint"===t?e.url=null===(s=l[t])||void 0===s?void 0:s.trim():"string"===typeof l[t]?e[t]=null===(c=l[t])||void 0===c?void 0:c.trim():e[t]=l[t])),e},{}),c=(null===(e=l.schema)||void 0===e||null===(n=e.selectedSchemas)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.name)||"";var o;if(c)if("bigquery"===t.id)s.dataset_id=l.datasetId||(null===(o=l.schema)||void 0===o?void 0:o.selectedDataset),s.table_id=c;else["alloydb","amazonrds","pgvector","postgres","mysql","mssql","snowflake","redshift"].includes(t.id)?s.table=c:s.index=c;else if("bigquery"===t.id){var i;s.dataset_id=l.datasetId||(null===(i=l.schema)||void 0===i?void 0:i.selectedDataset)}const u=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t.id,"/connect"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({connection:s,field_mapping:"bigquery"===t.id?Le({id_field:w.id_field,content_field:w.content_field,embedding_field:w.embedding_field},w.file_id_field&&{file_id_field:w.file_id_field}):Le(Le(Le({},w.id_field&&{id_field:w.id_field}),{},{content_field:w.content_field},w.embedding_field&&{embedding_field:w.embedding_field}),w.file_id_field&&{file_id_field:w.file_id_field}),connection_name:d})}),m=await u.json();if(!u.ok)return k(!1),void y(m.error||"Failed to complete connection");a()}catch(s){console.error("Connection error:",s),g(s.message||"Failed to complete connection")}finally{f(!1)}},M=()=>{k(!1),x||n()};return(0,Ue.jsxs)(Ue.Fragment,{children:[b&&(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Ue.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[t.icon,(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Connect ",t.name]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:C[i]})]})]}),(0,Ue.jsx)("button",{onClick:M,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,Ue.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ue.jsx)("div",{className:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50",children:(0,Ue.jsx)("div",{className:"flex items-center justify-between",children:N.map((e,t)=>(0,Ue.jsxs)(r.Fragment,{children:[(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(N.indexOf(i)>t?"bg-green-600 text-white":N.indexOf(i)===t?"bg-indigo-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),children:N.indexOf(i)>t?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):t+1}),(0,Ue.jsx)("span",{className:"ml-2 text-sm font-medium hidden md:inline ".concat(N.indexOf(i)>=t?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"),children:C[e]})]}),t<N.length-1&&(0,Ue.jsx)("div",{className:"flex-1 h-0.5 mx-4 ".concat(N.indexOf(i)>t?"bg-green-600":"bg-gray-200 dark:bg-gray-700")})]},e))})}),m&&(0,Ue.jsx)("div",{className:"mx-6 mt-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("h4",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Connection Error"}),(0,Ue.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:m})]}),(0,Ue.jsx)("button",{onClick:()=>g(null),className:"text-red-400 hover:text-red-600 dark:hover:text-red-200",children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,Ue.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(()=>{switch(i){case"guide":return(0,Ue.jsx)(Wp,{connector:t,onNext:S,onClose:M});case"auth":if("oauth"===t.authType){if("slack"===t.id)return(0,Ue.jsx)(Yp,{connector:t,onComplete:_,onBack:E,setError:g});if("confluence"===t.id)return(0,Ue.jsx)($p,{connector:t,onComplete:_,onBack:E,setError:g});if("msteams"===t.id)return(0,Ue.jsx)(Jp,{connector:t,onComplete:_,onBack:E,setError:g});if("google-drive"===t.id)return(0,Ue.jsx)(Vp,{connector:t,onComplete:_,onBack:E,setError:g});if("onedrive"===t.id)return(0,Ue.jsx)(qp,{connector:t,onComplete:_,onBack:E,setError:g});if("cloud-storage"===t.category)return(0,Ue.jsx)(Up,{connector:t,onComplete:_,onBack:E,setError:g})}else{if("credentials"===t.authType)return(0,Ue.jsx)(Kp,{connector:t,onComplete:_,onBack:E,setError:g});if("api-key"===t.authType)return(0,Ue.jsx)(Gp,{connector:t,onComplete:_,onBack:E,setError:g})}break;case"schema":return(0,Ue.jsx)(Xp,{connector:t,connectionData:l,onComplete:O,onBack:E,setError:g});case"naming":return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"text-center mb-6",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})}),(0,Ue.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Connection Details"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Name your connection and configure field mappings"})]}),(0,Ue.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Ue.jsx)("svg",{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h5",{className:"font-medium text-blue-900 dark:text-blue-300 mb-1",children:"Why name your connection?"}),(0,Ue.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"alloydb"===t.id?'If you have multiple AlloyDB instances, a descriptive name helps you identify them quickly. For example: "Production AlloyDB", "Dev AlloyDB", or "Analytics Database".':'If you have multiple Elasticsearch accounts or instances, a descriptive name helps you identify them quickly. For example: "Marketing Drive", "Sales OneDrive", or "Dev Database".'})]})]})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Connection Name *"}),(0,Ue.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"e.g., Production Elasticsearch",maxLength:50,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0}),(0,Ue.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[d.length,"/50 characters"]})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,Ue.jsx)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Field Mapping Configuration"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Select which fields in your Elasticsearch index correspond to content, embeddings, and file IDs."}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(["alloydb","amazonrds","pgvector"].includes(t.id)||"bigquery"===t.id)&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["ID Field ",["alloydb","amazonrds","pgvector"].includes(t.id)?"*":"(Optional)"]}),(0,Ue.jsxs)("select",{value:w.id_field,onChange:e=>j(Le(Le({},w),{},{id_field:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:["alloydb","amazonrds","pgvector"].includes(t.id),children:[(0,Ue.jsx)("option",{value:"",children:["alloydb","amazonrds","pgvector"].includes(t.id)?"Select ID field":"Select ID field (optional)"}),h.map(e=>(0,Ue.jsxs)("option",{value:e.name,children:[e.name," (",e.type,")"]},e.name))]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"The field containing the unique document identifier"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content Field *"}),(0,Ue.jsxs)("select",{value:w.content_field,onChange:e=>j(Le(Le({},w),{},{content_field:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,children:[(0,Ue.jsx)("option",{value:"",children:"Select content field"}),h.map(e=>(0,Ue.jsxs)("option",{value:e.name,children:[e.name," (",e.type,")"]},e.name))]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"The field containing the main text content"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Embedding Field ",["alloydb","amazonrds","pgvector"].includes(t.id)?"*":"(Optional)"]}),(0,Ue.jsxs)("select",{value:w.embedding_field,onChange:e=>j(Le(Le({},w),{},{embedding_field:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:["alloydb","amazonrds","pgvector"].includes(t.id),children:[(0,Ue.jsx)("option",{value:"",children:["alloydb","amazonrds","pgvector"].includes(t.id)?"Select embedding field":"Select embedding field (optional)"}),h.filter(e=>e.type.includes("dense_vector")||e.type.includes("vector")||"USER-DEFINED"===e.type).map(e=>(0,Ue.jsxs)("option",{value:e.name,children:[e.name," (",e.type,")"]},e.name))]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"The field containing the vector embeddings"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["File ID Field ",["alloydb","amazonrds","pgvector"].includes(t.id)?"*":"(Optional)"]}),(0,Ue.jsxs)("select",{value:w.file_id_field,onChange:e=>j(Le(Le({},w),{},{file_id_field:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:["alloydb","amazonrds","pgvector"].includes(t.id),children:[(0,Ue.jsx)("option",{value:"",children:["alloydb","amazonrds","pgvector"].includes(t.id)?"Select file ID field":"Select file ID field (optional)"}),h.map(e=>(0,Ue.jsxs)("option",{value:e.name,children:[e.name," (",e.type,")"]},e.name))]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["alloydb","amazonrds","pgvector"].includes(t.id)?"The field containing file or document identifiers":"Optional: The field containing file or document identifiers"})]})]})]}),(0,Ue.jsx)("div",{className:"pt-4",children:(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mb-4",children:[(0,Ue.jsx)("h5",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Naming Suggestions"}),(0,Ue.jsxs)("ul",{className:"space-y-2",children:[(0,Ue.jsxs)("li",{className:"text-sm text-indigo-600 dark:text-indigo-400 cursor-pointer hover:underline",onClick:()=>u("alloydb"===t.id?"Production AlloyDB":"Personal Elasticsearch"),children:["\u2022 (['alloydb', 'amazonrds', 'pgvector'].includes(connector.id) ? `Production $",t.name,"` : 'Personal Elasticsearch')"]}),(0,Ue.jsxs)("li",{className:"text-sm text-indigo-600 dark:text-indigo-400 cursor-pointer hover:underline",onClick:()=>u("alloydb"===t.id?"Development AlloyDB":"Work Elasticsearch"),children:["\u2022 ","alloydb"===t.id?"Development AlloyDB":"Work Elasticsearch"]}),(0,Ue.jsxs)("li",{className:"text-sm text-indigo-600 dark:text-indigo-400 cursor-pointer hover:underline",onClick:()=>u("".concat("alloydb"===t.id?"AlloyDB":"Elasticsearch"," - ").concat((new Date).getFullYear())),children:["\u2022 ","alloydb"===t.id?"AlloyDB":"Elasticsearch"," - ",(new Date).getFullYear()]})]})]})}),(0,Ue.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ue.jsx)("button",{type:"button",onClick:E,className:"flex-1 px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"}),(0,Ue.jsxs)("button",{type:"button",onClick:()=>(()=>{if(d.trim())if(!["alloydb","amazonrds","pgvector"].includes(t.id)||w.id_field.trim())if(w.content_field.trim()){if(["alloydb","amazonrds","pgvector"].includes(t.id)){if(!w.embedding_field.trim())return void g("Please provide embedding field");if(!w.file_id_field.trim())return void g("Please provide file ID field")}c(Le(Le({},l),{},{metadata:Le(Le({},l.metadata),{},{sourceName:d.trim()})})),S()}else g("Please provide content field");else g("Please provide ID field");else g("Please provide a name for this connection")})(),disabled:!d.trim()||!w.content_field.trim()||["alloydb","amazonrds","pgvector"].includes(t.id)&&(!w.id_field.trim()||!w.embedding_field.trim()||!w.file_id_field.trim()),className:"flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:["Continue",(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]});case"complete":return(0,Ue.jsxs)("div",{className:"text-center py-8",children:[(0,Ue.jsx)("div",{className:"w-20 h-20 mx-auto mb-6 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("svg",{className:"w-10 h-10 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Ue.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Connection Ready"}),(0,Ue.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:['Your "',d,'" connection is configured and ready to use']}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mb-8",children:"You can manage this connection from the Data Sources page"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsx)("button",{onClick:I,disabled:p,className:"w-full px-6 py-3 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg font-medium transition-colors",children:p?"Connecting...":"Complete Connection"}),(0,Ue.jsx)("button",{onClick:E,disabled:p,className:"w-full px-6 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Back"})]})]});default:return null}})()})]})}),(0,Ue.jsx)(Zp,{error:x,onClose:()=>{y(null),n()}})]})},ef=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),tf={GOOGLE_DRIVE:"google-drive",ONEDRIVE:"onedrive",CONFLUENCE:"confluence",ELASTICSEARCH:"elasticsearch",ALLOYDB:"alloydb",AMAZONRDS:"amazonrds",PGVECTOR:"pgvector",QDRANT:"qdrant",PINECONE:"pinecone",VERTEXAI:"vertexai",MSTEAMS:"msteams",SLACK:"slack"},nf=1,rf=2,af=e=>{let{label:t,value:n,onChange:r,name:a,type:o="text",required:i=!1}=e;return(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[t,(0,Ue.jsx)("input",Le({type:o,className:"mb-3 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:n,onChange:e=>r(a,e.target.value)},i?{required:!0}:{}))]})},of=e=>{let{isOpen:t,onClose:n,onSourceAdded:a,selectedProvider:o}=e;const{user:i}=(0,r.useContext)(Sr),s=ee(),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),h=()=>({step:nf,authType:"basic",url:"",username:"",password:"",apiKey:"",index:"",contentField:"",embeddingField:"",fileIdField:""}),[v,x]=(0,r.useState)(h),[y,b]=(0,r.useState)([]),[k,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[E,_]=(0,r.useState)(!1),O=()=>({step:nf,host:"",port:null,database:"",username:"",password:"",table:"",schema:"",sslMode:"require",idField:"",contentField:"",embeddingField:"",fileIdField:""}),[I,M]=(0,r.useState)(O),[P,T]=(0,r.useState)([]),[A,R]=(0,r.useState)(!1),[z,D]=(0,r.useState)([]),[L,B]=(0,r.useState)({}),[F,H]=(0,r.useState)({}),W=()=>({step:nf,url:"",api_key:"",collection:"",vector_field:"",content_field:"",file_id_field:"",id_field:"",title_field:"",dimension:null,distance:""}),[V,q]=(0,r.useState)(W),U=()=>({step:nf,api_key:"",environment:"",index_name:"",embedding_field:"",content_field:"",title_field:"",file_id_field:"",dimension:null,distance:""}),[K,G]=(0,r.useState)(U),X=()=>({step:nf,project_id:"",region:"",service_account_key:"",index_endpoint_id:"",deployed_index_id:"",vector_field:"",content_field:"",file_id_field:"",title_field:"",dimension:null,distance:""}),[Y,$]=(0,r.useState)(X);(0,r.useEffect)(()=>{o&&c(o===tf.ONEDRIVE?"Microsoft SharePoint":o===tf.CONFLUENCE?"Confluence":o===tf.GOOGLE_DRIVE?"Google Drive":o===tf.MSTEAMS?"Microsoft Teams":o===tf.ALLOYDB?"AlloyDB":o===tf.AMAZONRDS?"amazonrds":o===tf.PGVECTOR?"pgvector":o===tf.SLACK?"Slack":o)},[o]);const J=e=>{const t={"no such host":"Incorrect host. Please check the hostname.","connect: connection refused":"Incorrect port or the database server is not reachable.","Collection.*not found":"The specified collection does not exist or the URL is incorrect.","Failed to connect to database.*does not exist":"Database name is incorrect.","password authentication failed":"Username or password is incorrect or does not exist.","Invalid API Key":"Authentication failed: Invalid API key.","Index.*not found":"The specified index does not exist or cannot be accessed.","Deployed index.*not found":"The Deployed index id does not exist or cannot be accessed.","table.*does not exist":"The required table is missing in the database. Please ensure the table exists.","invalid distance metric":"Invalid distance metric."};for(const[n,r]of Object.entries(t))if(new RegExp(n,"i").test(e))return r;return"Validation failed. Please check your credentials."},Z=()=>{if(o===tf.ELASTICSEARCH){const{url:e,authType:t,username:n,password:r,apiKey:a}=v;return"apikey"===t?{connection:{url:e,api_key:a}}:{connection:{url:e,username:n,password:r}}}if([tf.ALLOYDB,tf.AMAZONRDS,tf.PGVECTOR].includes(o)){const{host:e,port:t,database:n,username:r,password:a,sslMode:o}=I;return{connection:{host:e,port:t,database:n,username:r,password:a,ssl_mode:o}}}if(o===tf.QDRANT){const{url:e,api_key:t,collection:n}=V;return{connection:{url:e,api_key:t,collection:n}}}if(o===tf.PINECONE){const{api_key:e,environment:t,index_name:n}=K;return{connection:{api_key:e,environment:t,index_name:n}}}if(o===tf.VERTEXAI){const{project_id:e,region:t,service_account_key:n,index_endpoint_id:r,deployed_index_id:a}=Y;return{connection:{project_id:e,region:t,service_account_key:n,index_endpoint_id:r,deployed_index_id:a}}}return{connection:{}}},Q=()=>{if(o===tf.ELASTICSEARCH){const{url:e,username:t,password:n,index:r,authType:a,apiKey:o,contentField:i,embeddingField:s,fileIdField:l}=v,c={url:e,index:r};return"apikey"===a?c.api_key=o:(c.username=t,c.password=n),{connection:c,field_mapping:{content_field:i,embedding_field:s,file_id_field:l||""},vector_config:null}}if([tf.ALLOYDB,tf.AMAZONRDS,tf.PGVECTOR].includes(o)){const{host:e,port:t,database:n,username:r,password:a,table:o,schema:i,sslMode:s,idField:l,contentField:c,embeddingField:d,fileIdField:u}=I;return{connection:{host:e,port:t,database:n,username:r,password:a,table:o,schema:i,ssl_mode:s},field_mapping:{id_field:l,content_field:c,embedding_field:d,file_id_field:u||""},vector_config:null}}if(o===tf.QDRANT){const{url:e,api_key:t,collection:n,vector_field:r,content_field:a,fileIdField:o,id_field:i,title_field:s,dimension:l,distance:c}=V;return{connection:{url:e,api_key:t,collection:n},field_mapping:{vector_field:r,content_field:a,file_id_field:o||"",id_field:i,title_field:s},vector_config:{dimension:l,distance:c}}}if(o===tf.PINECONE){const{api_key:e,environment:t,index_name:n,embedding_field:r,content_field:a,title_field:o,fileIdField:i,dimension:s,distance:l}=K;return{connection:{api_key:e,environment:t,index_name:n},field_mapping:{embedding_field:r,content_field:a,title_field:o,file_id_field:i||""},vector_config:{dimension:s,distance:l}}}if(o===tf.VERTEXAI){const{project_id:e,region:t,service_account_key:n,index_endpoint_id:r,deployed_index_id:a,vector_field:o,content_field:i,fileIdField:s,title_field:l,dimension:c,distance:d}=Y;return{connection:{project_id:e,region:t,service_account_key:n,index_endpoint_id:r,deployed_index_id:a},field_mapping:{vector_field:o,content_field:i,file_id_field:s||"",title_field:l},vector_config:{dimension:c,distance:d}}}return{connection:{},field_mapping:{},vector_config:{}}},[te,ne]=(0,r.useState)({[tf.ELASTICSEARCH]:nf,[tf.ALLOYDB]:nf,[tf.AMAZONRDS]:nf,[tf.PGVECTOR]:nf,[tf.QDRANT]:nf,[tf.PINECONE]:nf,[tf.VERTEXAI]:nf}),re=()=>te[o]||nf,ae=()=>[tf.ELASTICSEARCH,tf.ALLOYDB,tf.AMAZONRDS,tf.PGVECTOR,tf.QDRANT,tf.PINECONE,tf.VERTEXAI].includes(o);if(!t)return null;const oe=(e,t)=>{x(n=>Le(Le({},n),{},{[e]:t})),m&&g(null)},ie=(e,t)=>{M(n=>Le(Le({},n),{},{[e]:t})),m&&g(null)},se=(e,t)=>{q(n=>Le(Le({},n),{},{[e]:t})),m&&g(null)},le=(e,t)=>{G(n=>Le(Le({},n),{},{[e]:t})),m&&g(null)},ce=(e,t)=>{$(n=>Le(Le({},n),{},{[e]:t})),m&&g(null)},de=()=>{g(""),f(!1),M(O),T([]),D([]),B({}),H({}),q(W),x(h),G(U),$(X),ne({[tf.ELASTICSEARCH]:nf,[tf.ALLOYDB]:nf,[tf.AMAZONRDS]:nf,[tf.PGVECTOR]:nf,[tf.QDRANT]:nf,[tf.PINECONE]:nf,[tf.VERTEXAI]:nf})},ue=re();return(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ue.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Connect ",o===tf.ONEDRIVE?"Microsoft SharePoint":o===tf.CONFLUENCE?"Confluence":o===tf.GOOGLE_DRIVE?"Google Drive":o===tf.MSTEAMS?"Microsoft Teams":o===tf.SLACK?"Slack":o===tf.ELASTICSEARCH?"Elasticsearch":o===tf.ALLOYDB?"Alloy DB":o===tf.AMAZONRDS?"Amazon RDS":o===tf.PGVECTOR?"PGVector":o===tf.QDRANT?"Qdrant":o===tf.PINECONE?"Pinecone":o===tf.VERTEXAI?"VertexAI":o]}),(0,Ue.jsx)("button",{onClick:()=>{de(),n()},className:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300",children:(0,Ue.jsx)(Cr,{className:"w-5 h-5"})})]}),m&&(0,Ue.jsx)("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:m})}),(0,Ue.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==i&&void 0!==i&&i.authenticated){g(null),u(!0);try{if(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(o),{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}),ae()){const e=re();try{if(e===nf){const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(o,"/test"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Z())}),t=await e.json();if(console.log("Connection test result:",t),!t.success){const e=J(t.error||"");throw new Error(e)}g(null),((e,t)=>{ne(n=>Le(Le({},n),{},{[e]:t}))})(o,rf),o===tf.ELASTICSEARCH?await(async()=>{try{w(!0),g(null);const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/elasticsearch/discover/indices"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({connection:"apikey"===v.authType?{url:v.url,api_key:v.apiKey}:{url:v.url,username:v.username,password:v.password}})});if(!e.ok)throw new Error("Failed to fetch indices");const t=await e.json();b(t.available_indices||[])}catch(e){console.error("Error fetching indices:",e),g("Failed to fetch available indices"),b([])}finally{w(!1)}})():[tf.ALLOYDB,tf.AMAZONRDS,tf.PGVECTOR].includes(o)&&await(async()=>{try{R(!0),g(null);const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/alloydb/discover/tables"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({connection:{host:I.host,port:I.port,database:I.database,username:I.username,password:I.password,schema:I.schema,ssl_mode:I.sslMode}})});if(!e.ok)throw new Error("Failed to fetch tables");const t=await e.json();T(t.tables||[])}catch(e){console.error("Error fetching tables:",e),g("Failed to fetch available tables"),T([])}finally{R(!1)}})()}else{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(o,"/connect"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Q())}),t=await e.json();if(!t.success){const e=J(t.error||"");throw new Error(e)}g(null),console.log("Successfully connected:",t),a(t.connection),n()}}catch(t){g(t.message||"Error connecting to database")}finally{u(!1)}return}console.log("Initiating ".concat(o," connection..."));const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(o,"?sourceName=").concat(encodeURIComponent(l)),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok){if(401===e.status)throw new Error("Disconnected");const t=await e.json().catch(()=>null);throw new Error((null===t||void 0===t?void 0:t.error)||"Failed to connect to ".concat(o))}const r=await e.json();if(console.log("".concat(o," connection data:"),r),r.AuthorizationURL){const e=new URL(r.AuthorizationURL);return void(o===tf.GOOGLE_DRIVE?(sessionStorage.setItem("connectingProvider",tf.GOOGLE_DRIVE),window.location.href=e.toString()):"slack"===o?(sessionStorage.setItem("connectingProvider","slack"),window.location.href=e.toString()):"msteams"===o?(sessionStorage.setItem("connectingProvider","msteams"),window.location.href=e.toString()):(e.searchParams.set("state",s.pathname),window.location.href=e.toString()))}a(),n()}catch(m){console.error("Connection failed:",m),g(m.message||"Failed to connect to ".concat(o))}finally{u(!1)}}else g("Please log in to connect a data source")},children:[o===tf.ELASTICSEARCH?(0,Ue.jsx)(Ue.Fragment,{children:ue===nf?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Authentication Method *",(0,Ue.jsxs)("select",{className:"mt-1 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:v.authType,onChange:e=>oe("authType",e.target.value),required:!0,children:[(0,Ue.jsx)("option",{value:"basic",children:"Username & Password"}),(0,Ue.jsx)("option",{value:"apikey",children:"API Key"})]})]}),(0,Ue.jsx)(af,{label:"Elasticsearch URL *",value:v.url,onChange:oe,name:"url",required:!0}),"basic"===v.authType?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"Username *",value:v.username,onChange:oe,name:"username",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Password *",(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:p?"text":"password",className:"w-full px-3 pr-10 py-2 border rounded dark:bg-gray-700 dark:text-white",value:v.password,onChange:e=>oe("password",e.target.value),required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 dark:text-gray-300","aria-label":p?"Hide password":"Show password",children:p?(0,Ue.jsx)(ef,{className:"w-5 h-5 text-current"}):(0,Ue.jsx)(aa,{className:"w-5 h-5 text-current"})})]})]})]}):(0,Ue.jsx)(af,{label:"API Key *",value:v.apiKey,onChange:oe,name:"apiKey",type:"text",required:!0})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:["Index Name *",(0,Ue.jsxs)("select",{className:"mb-3 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:v.index,onChange:e=>{oe("index",e.target.value),N(!1),S(null)},required:!0,disabled:k,children:[(0,Ue.jsx)("option",{value:"",children:k?"Loading indices...":"Select an index"}),y.map(e=>(0,Ue.jsx)("option",{value:e,children:e},e))]})]}),v.index&&(0,Ue.jsx)("button",{type:"button",onClick:async()=>{if(v.index){_(!0),g(null);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/elasticsearch/discover/fields"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({connection:"apikey"===v.authType?{url:v.url,api_key:v.apiKey}:{url:v.url,username:v.username,password:v.password},index:v.index})});if(!e.ok)throw new Error("Failed to fetch field preview");const t=await e.json();t.fields_in_index&&(S(t.fields_in_index),N(!0))}catch(e){console.error("Error fetching field preview:",e),g("Failed to fetch field preview")}finally{_(!1)}}else g("Please select an index first")},disabled:E,className:"mb-3 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md border border-blue-200 transition-colors disabled:opacity-50",children:E?"Loading...":"\ud83d\udd0d Preview Fields"}),j&&C&&(0,Ue.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Field Types in Index"}),(0,Ue.jsx)("button",{type:"button",onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,Ue.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:Object.entries(C).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-white dark:bg-gray-700 rounded border border-gray-100 dark:border-gray-600",children:[(0,Ue.jsx)("span",{className:"font-mono text-sm text-gray-700 dark:text-gray-300",children:t}),(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-200 rounded",children:n})]},t)})})]}),(0,Ue.jsx)(af,{label:"Content Field Name *",value:v.contentField,onChange:oe,name:"contentField",required:!0}),(0,Ue.jsx)(af,{label:"Embedding Field Name ",value:v.embeddingField,onChange:oe,name:"embeddingField"}),(0,Ue.jsx)(af,{label:"File Id ",value:v.fileIdField,onChange:oe,name:"fileIdField"})]})}):o===tf.QDRANT?(0,Ue.jsx)(Ue.Fragment,{children:ue===nf?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"URL *",value:V.url,onChange:se,name:"url",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","API Key *",(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:p?"text":"password",className:" w-full px-3 pr-10 py-2 border rounded dark:bg-gray-700 dark:text-white",value:V.api_key,onChange:e=>se("api_key",e.target.value),required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 dark:text-gray-300","aria-label":p?"Hide password":"Show password",children:p?(0,Ue.jsx)(ef,{className:"w-5 h-5 text-current"}):(0,Ue.jsx)(aa,{className:"w-5 h-5 text-current"})})]})]}),(0,Ue.jsx)(af,{label:"Collection Name *",value:V.collection,onChange:se,name:"collection",required:!0})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"ID *",value:V.id_field,onChange:se,name:"id_field",required:!0}),(0,Ue.jsx)(af,{label:"Vector Field Name*",value:V.vector_field,onChange:se,name:"vector_field",required:!0}),(0,Ue.jsx)(af,{label:"Content Field Name*",value:V.content_field,onChange:se,name:"content_field",required:!0}),(0,Ue.jsx)(af,{label:"Title Field*",value:V.title_field,onChange:se,name:"title_field",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","Vector Dimension *",(0,Ue.jsx)("input",{className:"mb-3 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:V.dimension,onChange:e=>se("dimension",parseInt(e.target.value)||""),required:!0})]}),(0,Ue.jsx)(af,{label:"Distance Metric*",value:V.distance,onChange:se,name:"distance",required:!0}),(0,Ue.jsx)(af,{label:"File Id",value:V.file_id_field,onChange:se,name:"file_id_field"})]})}):o===tf.PINECONE?(0,Ue.jsx)(Ue.Fragment,{children:ue===nf?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","API Key *",(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:p?"text":"password",className:" w-full px-3 pr-10 py-2 border rounded dark:bg-gray-700 dark:text-white",value:K.api_key,onChange:e=>le("api_key",e.target.value),required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 dark:text-gray-300","aria-label":p?"Hide password":"Show password",children:p?(0,Ue.jsx)(ef,{className:"w-5 h-5 text-current"}):(0,Ue.jsx)(aa,{className:"w-5 h-5 text-current"})})]})]}),(0,Ue.jsx)(af,{label:"Environment *",value:K.environment,onChange:le,name:"environment",required:!0}),(0,Ue.jsx)(af,{label:"Index Name *",value:K.index_name,onChange:le,name:"index_name",required:!0})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"Embedding Field *",value:K.embedding_field,onChange:le,name:"embedding_field",required:!0}),(0,Ue.jsx)(af,{label:"Content Field *",value:K.content_field,onChange:le,name:"content_field",required:!0}),(0,Ue.jsx)(af,{label:"Title Field *",value:K.title_field,onChange:le,name:"title_field",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","Vector Dimension *",(0,Ue.jsx)("input",{className:"mb-3 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:K.dimension,onChange:e=>le("dimension",parseInt(e.target.value)||""),required:!0})]}),(0,Ue.jsx)(af,{label:"Distance Metric *",value:K.distance,onChange:le,name:"distance",required:!0}),(0,Ue.jsx)(af,{label:"File ID Field",value:K.file_id_field,onChange:le,name:"file_id_field"})]})}):o===tf.VERTEXAI?(0,Ue.jsx)(Ue.Fragment,{children:ue===nf?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"Project ID *",value:Y.project_id,onChange:ce,name:"project_id",required:!0}),(0,Ue.jsx)(af,{label:"Region *",value:Y.region,onChange:ce,name:"region",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-4 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","Service Account Key *",(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:p?"text":"password",className:" w-full px-3 pr-10 py-2 border rounded dark:bg-gray-700 dark:text-white",value:Y.service_account_key,onChange:e=>ce("service_account_key",e.target.value),required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 dark:text-gray-300","aria-label":p?"Hide password":"Show password",children:p?(0,Ue.jsx)(ef,{className:"w-5 h-5 text-current"}):(0,Ue.jsx)(aa,{className:"w-5 h-5 text-current"})})]})]}),(0,Ue.jsx)(af,{label:"Index Endpoint ID *",value:Y.index_endpoint_id,onChange:ce,name:"index_endpoint_id",required:!0}),(0,Ue.jsx)(af,{label:"Deployed Index ID *",value:Y.deployed_index_id,onChange:ce,name:"deployed_index_id",required:!0})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"Vector Field *",value:Y.vector_field,onChange:ce,name:"vector_field",required:!0}),(0,Ue.jsx)(af,{label:"Content Field *",value:Y.content_field,onChange:ce,name:"content_field",required:!0}),(0,Ue.jsx)(af,{label:"Title Field *",value:Y.title_field,onChange:ce,name:"title_field",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","Vector Dimension *",(0,Ue.jsx)("input",{className:"mb-3 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:Y.dimension,onChange:e=>ce("dimension",parseInt(e.target.value)||""),required:!0})]}),(0,Ue.jsx)(af,{label:"Distance Metric *",value:Y.distance,onChange:ce,name:"distance",required:!0}),(0,Ue.jsx)(af,{label:"File ID Field",value:Y.file_id_field,onChange:ce,name:"file_id_field"})]})}):[tf.ALLOYDB,tf.AMAZONRDS,tf.PGVECTOR].includes(o)?(0,Ue.jsx)(Ue.Fragment,{children:ue===nf?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"flex space-x-4",children:[(0,Ue.jsx)("div",{className:"w-1/2",children:(0,Ue.jsx)(af,{label:"Host Name *",value:I.host,onChange:ie,name:"host",required:!0})}),(0,Ue.jsx)("div",{className:"w-1/2",children:(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","Port *",(0,Ue.jsx)("input",{className:"mb-3 w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:I.port,onChange:e=>ie("port",parseInt(e.target.value)||""),required:!0})]})})]}),(0,Ue.jsx)(af,{label:"Database Name *",value:I.database,onChange:ie,name:"database",required:!0}),(0,Ue.jsx)(af,{label:"Username *",value:I.username,onChange:ie,name:"username",required:!0}),(0,Ue.jsxs)("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[" ","Password *",(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:p?"text":"password",className:" w-full px-3 py-2 border rounded dark:bg-gray-700 dark:text-white",value:I.password,onChange:e=>ie("password",e.target.value),required:!0}),(0,Ue.jsx)("button",{type:"button",onClick:()=>f(e=>!e),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 dark:text-gray-300","aria-label":p?"Hide password":"Show password",children:p?(0,Ue.jsx)(ef,{className:"w-5 h-5 text-current"}):(0,Ue.jsx)(aa,{className:"w-5 h-5 text-current"})})]})]})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(af,{label:"ID Field *",value:I.id_field,onChange:ie,name:"idField",required:!0}),(0,Ue.jsx)(af,{label:"Schema *",value:I.schema,onChange:ie,name:"schema",required:!0}),(0,Ue.jsx)(af,{label:"Table Name*",value:I.table,onChange:ie,name:"table",required:!0}),(0,Ue.jsx)(af,{label:"Content Field *",value:I.contentField,onChange:ie,name:"contentField",required:!0}),(0,Ue.jsx)(af,{label:"Embedding Field *",value:I.embeddingField,onChange:ie,name:"embeddingField",required:!0}),(0,Ue.jsx)(af,{label:"File Id Field",value:I.fileIdField,onChange:ie,name:"fileIdField"})]})}):(0,Ue.jsxs)("div",{className:"mb-4",children:[(0,Ue.jsx)("label",{htmlFor:"sourceName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Source Name"}),(0,Ue.jsx)("input",{type:"text",id:"sourceName",value:l,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter a name for this connection",required:!0})]}),(0,Ue.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ue.jsx)("button",{type:"button",onClick:()=>{de(),n()},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancel"}),(0,Ue.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:d?ae()&&ue===nf?"Validating...":"Connecting...":ae()&&ue===nf?"Validate":"Connect"})]})]})]})})},sf=(0,r.forwardRef)((e,t)=>{const{user:n}=(0,r.useContext)(Sr),a=ne(),[o,i]=(ee(),(0,r.useState)(!1)),[s,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)(null),[f,h]=(0,r.useState)(""),[v,x]=(0,r.useState)(null);(0,r.useImperativeHandle)(t,()=>({handleConnect:t=>{const n=s.filter(e=>e.Provider.toLowerCase()===t.toLowerCase());1===n.length||n.length>1?a("/explorer/".concat(n[0].UserID,"?provider=").concat(t,"&connectionId=").concat(n[0].ConnectionID)):(i(!0),e.onProviderSelect&&e.onProviderSelect(t))},refreshConnections:b}));const y=(0,r.useCallback)(()=>({Accept:"application/json","Content-Type":"application/json"}),[]),b=(0,r.useCallback)(async()=>{if(null===n||void 0===n||!n.authenticated)return m("Authentication required"),void d(!1);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections"),{method:"GET",credentials:"include",headers:y()});if(!e.ok){if(401===e.status)return void m("Authentication expired");throw new Error("HTTP error! status: ".concat(e.status))}const t=((await e.json()).connections||[]).map(e=>Le(Le({},e),{},{ConnectionID:e.ConnectionID||e.ID||"".concat(e.Provider,"-").concat(e.UserID),Provider:e.Provider.toLowerCase(),DisplayName:e.Metadata&&e.Metadata.sourceName?e.Metadata.sourceName:k(e.Provider),AccountIdentifier:e.Metadata&&e.Metadata.account_identifier?e.Metadata.account_identifier:""}));l(t),m(null)}catch(e){console.error("Error fetching data sources:",e),m(e.message||"Failed to fetch data sources")}finally{d(!1)}},[null===n||void 0===n?void 0:n.authenticated,y]);(0,r.useEffect)(()=>{b()},[b]);const k=e=>({onedrive:"Microsoft OneDrive",sharepoint:"Microsoft SharePoint",confluence:"Confluence","google-drive":"Google Drive",slack:"Slack",msteams:"Microsoft Teams",elasticsearch:"Elasticsearch",pinecone:"Pinecone",s3:"Amazon S3",sftp:"SFTP",ftp:"FTP",pgvector:"pgVector",amazonrds:"Amazon RDS",alloydb:"AlloyDB ",opensearch:"OpenSearch",bigquery:"BigQuery",weaviate:"Weaviate"}[e.toLowerCase()]||e),w=e=>{switch(e.toLowerCase()){case"onedrive":case"sharepoint":return(0,Ue.jsx)(Qa,{className:"w-6 h-6 text-[#0078D4]"});case"confluence":return(0,Ue.jsx)($a,{className:"w-6 h-6 text-[#172B4D]"});case"google-drive":return(0,Ue.jsx)(Za,{className:"w-6 h-6 text-[#4285F4]"});case"slack":return(0,Ue.jsx)(eo,{className:"w-6 h-6 text-[#4A154B]"});case"msteams":return(0,Ue.jsx)(to,{className:"w-6 h-6 text-[#6264A7]"});case"elasticsearch":case"pinecone":case"weaviate":case"pgvector":case"amazonrds":case"alloydb":case"opensearch":return(0,Ue.jsx)(ro,{className:"w-6 h-6 text-indigo-600"});case"s3":case"sftp":case"ftp":return(0,Ue.jsx)(oo,{className:"w-6 h-6 text-gray-600"});default:return(0,Ue.jsx)(ro,{className:"w-6 h-6 text-gray-600"})}},j=e=>{switch(e.toLowerCase()){case"onedrive":case"sharepoint":case"confluence":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 hover:bg-blue-100 dark:hover:bg-blue-800/30";case"google-drive":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-800/30";case"slack":case"elasticsearch":case"pinecone":case"weaviate":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800 hover:bg-purple-100 dark:hover:bg-purple-800/30";case"msteams":case"pgvector":case"amazonrds":case"alloydb":case"bigquery":case"opensearch":return"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800 hover:bg-indigo-100 dark:hover:bg-indigo-800/30";default:return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800 hover:bg-gray-100 dark:hover:bg-gray-800/30"}},N=async e=>{try{if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/by-id/").concat(e.ConnectionID),{method:"DELETE",credentials:"include",headers:y()})).ok)throw new Error("Failed to disconnect");await b()}catch(t){console.error("Error disconnecting:",t),m("Failed to disconnect source")}},C=()=>{p(null),h("")};return c?(0,Ue.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):(0,Ue.jsxs)("div",{children:[u&&(0,Ue.jsx)("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:u})}),0===s.length?(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-8 text-center",children:[(0,Ue.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 mb-4",children:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"No connections yet"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connect your first data source from the available connectors below"})]}):(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,Ue.jsxs)("div",{onClick:()=>{g!==e.ConnectionID&&(e=>{const t=e.Provider.toLowerCase(),n=e.ConnectionID;a("/explorer/".concat(e.UserID,"?provider=").concat(t,"&connectionId=").concat(n))})(e)},className:"relative group rounded-xl border ".concat(j(e.Provider)," transition-all duration-200 ").concat(g===e.ConnectionID?"cursor-default":"cursor-pointer"," overflow-hidden"),children:[(0,Ue.jsxs)("div",{className:"p-4",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0",children:w(e.Provider)}),(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[g===e.ConnectionID?(0,Ue.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,Ue.jsx)("input",{type:"text",value:f,onChange:e=>h(e.target.value),onClick:e=>e.stopPropagation(),onBlur:()=>{!v&&f.trim()&&f!==e.DisplayName?(async e=>{if(!f.trim()||v)return void(f.trim()||p(null));const t=s.find(t=>t.ConnectionID===e);if(t){x(e);try{const n={metadata:Le(Le({},t.Metadata||{}),{},{sourceName:f})},r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/by-id/").concat(e),{method:"PATCH",credentials:"include",headers:y(),body:JSON.stringify(n)});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.error||"Failed to update name")}await b(),p(null),h(""),m(null)}catch(n){console.error("Error updating name:",n),m(n.message||"Failed to update connection name")}finally{x(null)}}})(e.ConnectionID):v||C()},onKeyDown:e=>{"Enter"!==e.key||v?"Escape"===e.key&&C():e.target.blur()},disabled:v===e.ConnectionID,className:"flex-1 font-semibold text-gray-900 dark:text-white text-sm bg-transparent border-none focus:outline-none p-0 disabled:opacity-50",autoFocus:!0}),v===e.ConnectionID&&(0,Ue.jsx)("div",{className:"w-4 h-4 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"})]}):(0,Ue.jsxs)("div",{className:"flex items-center gap-2 group",children:[(0,Ue.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white truncate text-sm",children:e.DisplayName}),(0,Ue.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation(),p(t.ConnectionID),h(t.DisplayName)})(t,e),className:"flex-shrink-0 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 opacity-0 group-hover:opacity-100 transition-opacity",title:"Edit name",children:(0,Ue.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),(0,Ue.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate",children:e.AccountIdentifier||k(e.Provider)})]})]}),(0,Ue.jsx)("button",{onClick:t=>(async(e,t)=>{e.stopPropagation(),window.confirm("Are you sure you want to disconnect ".concat(t.DisplayName,"?"))&&await N(t)})(t,e),className:"flex-shrink-0 text-gray-400 hover:text-red-600 dark:hover:text-red-400 transition-colors p-1 rounded hover:bg-white/50 dark:hover:bg-gray-800/50",title:"Disconnect",children:(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Connected:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-white font-medium",children:new Date(e.ConnectedAt).toLocaleString()})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Status:"}),(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full font-medium ".concat(e.Connected?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:e.Connected?"Active":"Disconnected"})]})]})]}),(0,Ue.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/10 dark:to-gray-800/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none"})]},e.ConnectionID))}),(0,Ue.jsx)(of,{isOpen:o,onClose:()=>i(!1),onSourceAdded:()=>{i(!1),b()},selectedProvider:e.selectedProvider})]})}),lf=sf;function cf(e){return Ga({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M13.394 0C8.683 0 4.609 2.716 2.644 6.667h15.641a4.77 4.77 0 0 0 3.073-1.11c.446-.375.864-.785 1.247-1.243l.001-.002A11.974 11.974 0 0 0 13.394 0zM1.804 8.889a12.009 12.009 0 0 0 0 6.222h14.7a3.111 3.111 0 1 0 0-6.222zm.84 8.444C4.61 21.283 8.684 24 13.395 24c3.701 0 7.011-1.677 9.212-4.312l-.001-.002a9.958 9.958 0 0 0-1.247-1.243 4.77 4.77 0 0 0-3.073-1.11z"}}]})(e)}function df(e){return Ga({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.571 11.513H0a5.218 5.218 0 0 0 5.232 5.215h2.13v2.057A5.215 5.215 0 0 0 12.575 24V12.518a1.005 1.005 0 0 0-1.005-1.005zm5.723-5.756H5.736a5.215 5.215 0 0 0 5.215 5.214h2.129v2.058a5.218 5.218 0 0 0 5.215 5.214V6.758a1.001 1.001 0 0 0-1.001-1.001zM23.013 0H11.455a5.215 5.215 0 0 0 5.215 5.215h2.129v2.057A5.215 5.215 0 0 0 24 12.483V1.005A1.001 1.001 0 0 0 23.013 0Z"}}]})(e)}function uf(e){return Ga({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M4.459 4.208c.746.606 1.026.56 2.428.466l13.215-.793c.28 0 .047-.28-.046-.326L17.86 1.968c-.42-.326-.981-.7-2.055-.607L3.01 2.295c-.466.046-.56.28-.374.466zm.793 3.08v13.904c0 .747.373 1.027 1.214.98l14.523-.84c.841-.046.935-.56.935-1.167V6.354c0-.606-.233-.933-.748-.887l-15.177.887c-.56.047-.747.327-.747.933zm14.337.745c.093.42 0 .84-.42.888l-.7.14v10.264c-.608.327-1.168.514-1.635.514-.748 0-.935-.234-1.495-.933l-4.577-7.186v6.952L12.21 19s0 .84-1.168.84l-3.222.186c-.093-.186 0-.653.327-.746l.84-.233V9.854L7.822 9.76c-.094-.42.14-1.026.793-1.073l3.456-.233 4.764 7.279v-6.44l-1.215-.139c-.093-.514.28-.887.747-.933zM1.936 1.035l13.31-.98c1.634-.14 2.055-.047 3.082.7l4.249 2.986c.7.513.934.653.934 1.213v16.378c0 1.026-.373 1.634-1.68 1.726l-15.458.934c-.98.047-1.448-.093-1.962-.747l-3.129-4.06c-.56-.747-.793-1.306-.793-1.96V2.667c0-.839.374-1.54 1.447-1.632z"}}]})(e)}const mf=()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)("all"),[c,d]=(0,r.useState)(""),u=(0,r.useRef)(null),m={"cloud-storage":{label:"Cloud Storage",icon:(0,Ue.jsx)(Za,{className:"w-5 h-5"}),description:"File storage and sharing platforms"},collaboration:{label:"Collaboration",icon:(0,Ue.jsx)(eo,{className:"w-5 h-5"}),description:"Team communication and documentation"},"vector-database":{label:"Vector Databases",icon:(0,Ue.jsx)(ro,{className:"w-5 h-5"}),description:"Vector storage and similarity search"},"transfer-protocol":{label:"Transfer Protocols",icon:(0,Ue.jsx)(ao,{className:"w-5 h-5"}),description:"Direct file transfer protocols"}},g=[{id:"onedrive",name:"Microsoft OneDrive",icon:(0,Ue.jsx)(Qa,{className:"w-12 h-12 text-[#0078D4]"}),description:"Connect to your OneDrive files and folders",category:"cloud-storage",authType:"oauth",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"google-drive",name:"Google Drive",icon:(0,Ue.jsx)(Za,{className:"w-12 h-12 text-[#4285F4]"}),description:"Connect to your Google Drive files and folders",category:"cloud-storage",authType:"oauth",color:"bg-red-50 dark:bg-red-900/20",borderColor:"border-red-200 dark:border-red-800",hoverColor:"hover:bg-red-100 dark:hover:bg-red-800/30",comingSoon:!1},{id:"box",name:"Box",icon:(0,Ue.jsx)(no,{className:"w-12 h-12 text-[#0061D5]"}),description:"Access your Box content and folders",category:"cloud-storage",authType:"oauth",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"dropbox",name:"Dropbox",icon:(0,Ue.jsx)(Ja,{className:"w-12 h-12 text-[#0061FF]"}),description:"Connect to your Dropbox files and folders",category:"cloud-storage",authType:"oauth",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"s3",name:"Amazon S3",icon:(0,Ue.jsx)(Ya,{className:"w-12 h-12 text-[#FF9900]"}),description:"Connect to your S3 buckets and objects",category:"cloud-storage",authType:"credentials",color:"bg-orange-50 dark:bg-orange-900/20",borderColor:"border-orange-200 dark:border-orange-800",hoverColor:"hover:bg-orange-100 dark:hover:bg-orange-800/30",comingSoon:!1},{id:"confluence",name:"Confluence",icon:(0,Ue.jsx)($a,{className:"w-12 h-12 text-[#172B4D]"}),description:"Access your Confluence spaces and pages",category:"collaboration",authType:"oauth",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"slack",name:"Slack",icon:(0,Ue.jsx)(eo,{className:"w-12 h-12 text-[#4A154B]"}),description:"Access your Slack workspaces and channels",category:"collaboration",authType:"oauth",color:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800",hoverColor:"hover:bg-purple-100 dark:hover:bg-purple-800/30",comingSoon:!1},{id:"msteams",name:"Microsoft Teams",icon:(0,Ue.jsx)(to,{className:"w-12 h-12 text-[#6264A7]"}),description:"Connect to your Teams channels and files",category:"collaboration",authType:"oauth",color:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800",hoverColor:"hover:bg-indigo-100 dark:hover:bg-indigo-800/30",comingSoon:!1},{id:"elasticsearch",name:"Elasticsearch",icon:(0,Ue.jsx)(cf,{className:"w-12 h-12 text-[#005571]"}),description:"Connect to Elasticsearch indices and documents",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-teal-50 dark:bg-teal-900/20",borderColor:"border-teal-200 dark:border-teal-800",hoverColor:"hover:bg-teal-100 dark:hover:bg-teal-800/30",comingSoon:!1},{id:"opensearch",name:"OpenSearch",icon:(0,Ue.jsx)("svg",{className:"w-12 h-12 text-[#005EB8]",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),description:"Connect to OpenSearch indices and documents",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"alloydb",name:"AlloyDB",icon:(0,Ue.jsx)(ro,{className:"w-12 h-12 text-[#4285F4]"}),description:"Connect to AlloyDB for PostgreSQL with vector search",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"bigquery",name:"BigQuery",icon:(0,Ue.jsx)(ro,{className:"w-12 h-12 text-[#4285F4]"}),description:"Connect to Google BigQuery with vector search",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",hoverColor:"hover:bg-blue-100 dark:hover:bg-blue-800/30",comingSoon:!1},{id:"amazonrds",name:"Amazon RDS ",icon:(0,Ue.jsx)(ro,{className:"w-12 h-12 text-[#FF9900]"}),description:"Connect to Amazon RDS for PostgreSQL",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-yellow-50 dark:bg-yellow-900/20",borderColor:"border-yellow-200 dark:border-yellow-800",hoverColor:"hover:bg-yellow-100 dark:hover:bg-yellow-800/30",comingSoon:!1},{id:"pgvector",name:"pgVector",icon:(0,Ue.jsx)(ro,{className:"w-12 h-12 text-[#4B5563]"}),description:"Connect to PostgreSQL with pgvector extension",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-gray-50 dark:bg-gray-900/20",borderColor:"border-gray-200 dark:border-gray-800",hoverColor:"hover:bg-gray-100 dark:hover:bg-gray-800/30",comingSoon:!1},{id:"pinecone",name:"Pinecone",icon:(0,Ue.jsx)("svg",{className:"w-12 h-12 text-[#000000] dark:text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),description:"Connect to Pinecone vector database",category:"vector-database",authType:"api-key",requiresSchema:!0,color:"bg-gray-50 dark:bg-gray-900/20",borderColor:"border-gray-200 dark:border-gray-800",hoverColor:"hover:bg-gray-100 dark:hover:bg-gray-800/30",comingSoon:!1},{id:"weaviate",name:"Weaviate",icon:(0,Ue.jsx)("svg",{className:"w-12 h-12 text-[#00C853]",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),description:"Connect to Weaviate vector database",category:"vector-database",authType:"credentials",requiresSchema:!0,color:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",hoverColor:"hover:bg-green-100 dark:hover:bg-green-800/30",comingSoon:!1},{id:"sftp",name:"SFTP",icon:(0,Ue.jsx)(oo,{className:"w-12 h-12 text-[#4B5563]"}),description:"Secure file transfer protocol connection",category:"transfer-protocol",authType:"credentials",color:"bg-gray-50 dark:bg-gray-900/20",borderColor:"border-gray-200 dark:border-gray-800",hoverColor:"hover:bg-gray-100 dark:hover:bg-gray-800/30",comingSoon:!1},{id:"ftp",name:"FTP",icon:(0,Ue.jsx)(oo,{className:"w-12 h-12 text-[#6B7280]"}),description:"File transfer protocol connection",category:"transfer-protocol",authType:"credentials",color:"bg-gray-50 dark:bg-gray-900/20",borderColor:"border-gray-200 dark:border-gray-800",hoverColor:"hover:bg-gray-100 dark:hover:bg-gray-800/30",comingSoon:!1}].filter(e=>{const t="all"===s||e.category===s,n=e.name.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase());return t&&n});return(0,Ue.jsxs)("div",{className:"flex-1 p-8",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Data Sources"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect and manage your data sources"})]})}),e&&(0,Ue.jsx)("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400",children:e})}),(0,Ue.jsxs)("div",{className:"mb-8",children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Connected Sources"}),(0,Ue.jsx)(lf,{ref:u,selectedProvider:null===n||void 0===n?void 0:n.id})]}),(0,Ue.jsx)("div",{className:"mb-8 border-t border-gray-200 dark:border-gray-700"}),(0,Ue.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[(0,Ue.jsxs)("div",{className:"flex-1 relative",children:[(0,Ue.jsx)("input",{type:"text",placeholder:"Search connectors...",value:c,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent"}),(0,Ue.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,Ue.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 sm:pb-0",children:[(0,Ue.jsx)("button",{onClick:()=>l("all"),className:"px-4 py-2 rounded-lg whitespace-nowrap transition-colors ".concat("all"===s?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"All Sources"}),Object.entries(m).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("button",{onClick:()=>l(t),className:"px-4 py-2 rounded-lg whitespace-nowrap transition-colors flex items-center gap-2 ".concat(s===t?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[n.icon,(0,Ue.jsx)("span",{children:n.label})]},t)})]})]}),"all"!==s&&(0,Ue.jsx)("div",{className:"mb-6 p-4 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-indigo-800 dark:text-indigo-300",children:m[s].description})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Available Connectors (",g.length,")"]}),0===g.length?(0,Ue.jsxs)("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ue.jsx)("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"No connectors found matching your criteria"})]}):(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(e=>(0,Ue.jsxs)("div",{className:"relative group rounded-xl border ".concat(e.borderColor," ").concat(e.color," ").concat(e.hoverColor," transition-all duration-200 cursor-pointer overflow-hidden ").concat(e.comingSoon?"opacity-60 cursor-not-allowed":""),onClick:()=>!e.comingSoon&&(e=>{a(e),i(!0)})(e),children:[(0,Ue.jsxs)("div",{className:"p-6",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),e.requiresSchema&&(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded",children:"Schema"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description}),(0,Ue.jsx)("div",{className:"flex items-center gap-2",children:(0,Ue.jsxs)("span",{className:"px-2 py-1 text-xs bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded border border-gray-200 dark:border-gray-600",children:["oauth"===e.authType&&"\ud83d\udd10 OAuth","api-key"===e.authType&&"\ud83d\udd11 API Key","credentials"===e.authType&&"\ud83d\udc64 Credentials"]})})]}),(0,Ue.jsx)("div",{className:"flex-shrink-0",children:e.icon})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e.comingSoon?"Coming Soon":"Connect"}),(0,Ue.jsx)("div",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-white dark:bg-gray-800 shadow-sm",children:(0,Ue.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})]}),!e.comingSoon&&(0,Ue.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-white/10 dark:to-gray-800/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]},e.id))})]}),o&&n&&(0,Ue.jsx)(Qp,{connector:n,onClose:()=>{i(!1),a(null)},onComplete:()=>{var e;i(!1),a(null),null!==(e=u.current)&&void 0!==e&&e.refreshConnections&&u.current.refreshConnections()}})]})},gf=()=>{const[e,t]=(0,r.useState)({maxThreads:4,batchSize:100,retryAttempts:3,processingMode:"sequential",enableCache:!0,cacheDuration:24}),n=(e,n)=>{t(t=>Le(Le({},t),{},{[e]:n}))};return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Processing Settings"}),(0,Ue.jsx)("button",{className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium",children:"Save Changes"})]}),(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"maxThreads",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Processing Threads"}),(0,Ue.jsx)("input",{type:"number",id:"maxThreads",min:"1",max:"16",value:e.maxThreads,onChange:e=>n("maxThreads",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100"}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Number of concurrent processing threads (1-16)"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"batchSize",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Batch Processing Size"}),(0,Ue.jsx)("input",{type:"number",id:"batchSize",min:"10",max:"1000",step:"10",value:e.batchSize,onChange:e=>n("batchSize",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100"}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Number of items to process in each batch (10-1000)"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"retryAttempts",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Retry Attempts"}),(0,Ue.jsx)("input",{type:"number",id:"retryAttempts",min:"0",max:"10",value:e.retryAttempts,onChange:e=>n("retryAttempts",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100"}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Number of retry attempts for failed operations"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"processingMode",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Processing Mode"}),(0,Ue.jsxs)("select",{id:"processingMode",value:e.processingMode,onChange:e=>n("processingMode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100",children:[(0,Ue.jsx)("option",{value:"sequential",children:"Sequential"}),(0,Ue.jsx)("option",{value:"parallel",children:"Parallel"}),(0,Ue.jsx)("option",{value:"hybrid",children:"Hybrid"})]}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Choose how documents are processed"})]}),(0,Ue.jsxs)("div",{className:"border-t pt-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Enable Cache"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Cache processed results for faster retrieval"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>n("enableCache",!e.enableCache),className:"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(e.enableCache?"bg-indigo-600":"bg-gray-200 dark:bg-gray-600"),role:"switch","aria-checked":e.enableCache,children:(0,Ue.jsx)("span",{"aria-hidden":"true",className:"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ".concat(e.enableCache?"translate-x-5":"translate-x-0")})})]}),e.enableCache&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"cacheDuration",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cache Duration (hours)"}),(0,Ue.jsx)("input",{type:"number",id:"cacheDuration",min:"1",max:"72",value:e.cacheDuration,onChange:e=>n("cacheDuration",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100"}),(0,Ue.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"How long to keep cached results (1-72 hours)"})]})]})]})]})},pf=()=>{const[e,t]=(0,r.useState)({documentTypes:{financial:7,legal:10,general:5},backupFrequency:"daily",storageLocation:"cloud",compressionEnabled:!0}),[n,a]=(0,r.useState)({frequency:"daily",retention:30,encryption:!0,compressionLevel:"high"}),o=(e,t)=>{a(n=>Le(Le({},n),{},{[e]:t}))};return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"System Policies"}),(0,Ue.jsx)("button",{className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium",children:"Save Changes"})]}),(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Data Retention Policy"}),(0,Ue.jsx)("div",{className:"space-y-4",children:Object.entries(e.documentTypes).map(e=>{let[n,r]=e;return(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 capitalize",children:[n," Documents (Years)"]}),(0,Ue.jsx)("input",{type:"number",value:r,onChange:e=>((e,n)=>{t(t=>Le(Le({},t),{},{documentTypes:Le(Le({},t.documentTypes),{},{[e]:parseInt(n)})}))})(n,e.target.value),min:"1",max:"50",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100"})]},n)})})]}),(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Backup Configuration"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Backup Frequency"}),(0,Ue.jsxs)("select",{value:n.frequency,onChange:e=>o("frequency",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100",children:[(0,Ue.jsx)("option",{value:"hourly",children:"Hourly"}),(0,Ue.jsx)("option",{value:"daily",children:"Daily"}),(0,Ue.jsx)("option",{value:"weekly",children:"Weekly"}),(0,Ue.jsx)("option",{value:"monthly",children:"Monthly"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Retention Period (Days)"}),(0,Ue.jsx)("input",{type:"number",value:n.retention,onChange:e=>o("retention",parseInt(e.target.value)),min:"1",max:"365",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Enable Encryption"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Secure backups with encryption"})]}),(0,Ue.jsx)("div",{className:"flex items-center",children:(0,Ue.jsx)("input",{type:"checkbox",checked:n.encryption,onChange:e=>o("encryption",e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700"})})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Compression Level"}),(0,Ue.jsxs)("select",{value:n.compressionLevel,onChange:e=>o("compressionLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-gray-100",children:[(0,Ue.jsx)("option",{value:"none",children:"None"}),(0,Ue.jsx)("option",{value:"low",children:"Low"}),(0,Ue.jsx)("option",{value:"medium",children:"Medium"}),(0,Ue.jsx)("option",{value:"high",children:"High"})]})]})]})]})]})]})},ff=e=>{let{isOpen:t,onClose:n,onSave:a,editingRule:o=null}=e;const[i,s]=(0,r.useState)(o||{name:"",pattern:"",priority:"Medium",status:"Active"});if(!t)return null;const l=e=>{e.preventDefault(),a(i),n()};return(0,Ue.jsx)("div",{className:"fixed inset-0 bg-gray-500/75 dark:bg-gray-900/80 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,Ue.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:o?"Edit Classification Rule":"Add New Classification Rule"}),(0,Ue.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 transition-colors",children:(0,Ue.jsx)(Cr,{className:"w-5 h-5"})})]}),(0,Ue.jsx)("div",{className:"p-4 overflow-y-auto",children:(0,Ue.jsxs)("form",{onSubmit:l,className:"space-y-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rule Name"}),(0,Ue.jsx)("input",{type:"text",value:i.name,onChange:e=>s(Le(Le({},i),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Enter rule name",required:!0})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pattern"}),(0,Ue.jsx)("textarea",{value:i.pattern,onChange:e=>s(Le(Le({},i),{},{pattern:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent placeholder-gray-400 dark:placeholder-gray-500",placeholder:"Enter classification pattern or keywords",rows:3,required:!0})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),(0,Ue.jsxs)("select",{value:i.priority,onChange:e=>s(Le(Le({},i),{},{priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent",children:[(0,Ue.jsx)("option",{value:"High",children:"High"}),(0,Ue.jsx)("option",{value:"Medium",children:"Medium"}),(0,Ue.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),(0,Ue.jsxs)("select",{value:i.status,onChange:e=>s(Le(Le({},i),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg  bg-white dark:bg-gray-700 text-gray-900 dark:text-white  focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent",children:[(0,Ue.jsx)("option",{value:"Active",children:"Active"}),(0,Ue.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})]})]})}),(0,Ue.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800/50",children:(0,Ue.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ue.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300  hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:l,type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500  rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500  dark:focus:ring-offset-gray-800 transition-colors",children:o?"Save Changes":"Add Rule"})]})})]})})},hf=()=>{const[e,t]=(0,r.useState)([{id:1,name:"Financial Documents",pattern:"invoice|receipt|statement",sensitivity:"high",type:"financial"},{id:2,name:"Legal Documents",pattern:"contract|agreement|nda",sensitivity:"high",type:"legal"}]),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null);return(0,Ue.jsxs)("div",{className:"p-6",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Classification Rules"}),(0,Ue.jsx)("button",{onClick:()=>{i(null),a(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Add Rule"})]}),(0,Ue.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Ue.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Pattern: ",e.pattern]})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("high"===e.sensitivity?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"),children:e.sensitivity}),(0,Ue.jsx)("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:()=>{i(e),a(!0)},children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),(0,Ue.jsx)("div",{className:"mt-2",children:(0,Ue.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200",children:e.type})})]},e.id))}),(0,Ue.jsx)(ff,{isOpen:n,onClose:()=>{a(!1),i(null)},onSave:n=>{t(o?e.map(e=>e.id===o.id?Le(Le({},e),n):e):[...e,Le(Le({},n),{},{id:e.length+1})])},editingRule:o})]})},vf=()=>(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 p-8",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"System Configuration"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure the connectors and processing parameters"})]})}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Ue.jsxs)("div",{className:"space-y-8",children:[(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 h-[350px] overflow-y-auto",children:(0,Ue.jsx)(mf,{})}),(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)(gf,{})})]}),(0,Ue.jsxs)("div",{className:"space-y-8",children:[(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 h-[350px] overflow-y-auto",children:(0,Ue.jsx)(hf,{})}),(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)(pf,{})})]})]})]})}),xf=e=>{let{value:t,color:n}=e;return(0,Ue.jsx)("div",{className:"w-24 h-2 bg-gray-200 dark:bg-gray-700 rounded-full",children:(0,Ue.jsx)("div",{className:"h-2 ".concat(n," dark:opacity-90 rounded-full"),style:{width:"".concat(t,"%")}})})},yf=e=>{let{metrics:t}=e;return(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:t.map(e=>(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:e.name}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold ".concat("warning"===e.status?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"),children:"number"===typeof e.value?"".concat(e.value,"%"):e.value}),e.color?(0,Ue.jsx)(xf,{value:e.value,color:e.color}):(0,Ue.jsx)("span",{className:"text-green-500 dark:text-green-400 text-sm",children:"Healthy"})]})]},e.name))})},bf=e=>{let{title:t,children:n}=e;return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t})}),(0,Ue.jsx)("div",{className:"p-4",children:n})]})},kf=e=>{let{type:t}=e;const[n,r]=(()=>{switch(t){case"success":return"bg-green-100 bg-green-500";case"info":return"bg-blue-100 bg-blue-500";case"warning":return"bg-yellow-100 bg-yellow-500";default:return"bg-gray-100 bg-gray-500"}})().split(" ");return(0,Ue.jsx)("div",{className:"".concat(n," p-2 rounded-full"),children:(0,Ue.jsx)("div",{className:"w-2 h-2 ".concat(r," rounded-full")})})},wf=e=>{let{systems:t}=e;return(0,Ue.jsx)(bf,{title:"System Status",children:(0,Ue.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ue.jsx)(kf,{status:e.status}),(0,Ue.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]}),(0,Ue.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(0,Ue.jsxs)("div",{children:["Uptime: ",e.uptime]}),(0,Ue.jsxs)("div",{children:["Last incident: ",e.lastIncident]})]})]},e.name))})})},jf=e=>{let{alerts:t}=e;return(0,Ue.jsx)(bf,{title:"Recent Alerts",children:(0,Ue.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Ue.jsxs)("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsx)("div",{className:"p-2 rounded-full ".concat("warning"===e.type?"bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300":"error"===e.type?"bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-300":"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300"),children:(0,Ue.jsx)(qe,{className:"w-5 h-5"})}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.title}),(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.time})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:e.message})]})]},e.id))})})},Nf=()=>{const[e,t]=(0,r.useState)("24h"),[n]=(0,r.useState)([{name:"CPU Usage",value:32,status:"healthy",color:"bg-green-500"},{name:"Memory",value:78,status:"warning",color:"bg-yellow-500"},{name:"Storage",value:45,status:"healthy",color:"bg-green-500"},{name:"API Response",value:"230ms",status:"healthy"}]),[a]=(0,r.useState)([{name:"Document Processing",status:"healthy",uptime:"99.9%",lastIncident:"2 days ago"},{name:"Classification Engine",status:"warning",uptime:"98.5%",lastIncident:"1 hour ago"},{name:"Database",status:"healthy",uptime:"99.99%",lastIncident:"5 days ago"},{name:"API Gateway",status:"healthy",uptime:"99.8%",lastIncident:"1 day ago"}]),[o]=(0,r.useState)([{id:1,type:"warning",title:"High Memory Usage",message:"Memory usage has reached 78%",time:"5 minutes ago"},{id:2,type:"error",title:"API Latency Spike",message:"Response time increased to 450ms",time:"15 minutes ago"},{id:3,type:"info",title:"System Update",message:"New security patches available",time:"1 hour ago"}]);return(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 p-8 overflow-y-auto",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"System Monitoring"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor system performance and health metrics"})]}),(0,Ue.jsxs)("div",{className:"flex gap-4",children:[(0,Ue.jsxs)("select",{className:"px-4 py-2 border rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 focus:outline-none",value:e,onChange:e=>{return n=e.target.value,void t(n);var n},children:[(0,Ue.jsx)("option",{value:"24h",children:"Last 24 Hours"}),(0,Ue.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,Ue.jsx)("option",{value:"30d",children:"Last 30 Days"})]}),(0,Ue.jsx)("button",{onClick:()=>{console.log("Exporting report for time range:",e)},className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Export Report"})]})]}),(0,Ue.jsx)(yf,{metrics:n}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Ue.jsx)(wf,{systems:a}),(0,Ue.jsx)(jf,{alerts:o})]})]})})},Cf=()=>(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"System Name"}),(0,Ue.jsx)("input",{type:"text",className:"mt-1 block w-full px-3 py-2 h-10 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400  dark:placeholder-gray-400",placeholder:"Enter system name"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Default Language"}),(0,Ue.jsxs)("select",{className:"mt-1 block w-full px-3 py-2 h-10 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400",children:[(0,Ue.jsx)("option",{children:"English"}),(0,Ue.jsx)("option",{children:"Spanish"}),(0,Ue.jsx)("option",{children:"French"})]})]}),(0,Ue.jsxs)("div",{className:"col-span-2",children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"System Description"}),(0,Ue.jsx)("textarea",{rows:3,className:"mt-1 block w-full px-3 py-2 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400  dark:placeholder-gray-400",placeholder:"Enter system description"})]})]}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Email Notifications"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Receive email notifications for system alerts"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"System Alerts"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Show system alerts in the dashboard"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]})]})]})]}),Sf=()=>(0,Ue.jsx)("div",{className:"space-y-6",children:(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Authentication"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Two-Factor Authentication"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Require 2FA for all user accounts"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Single Sign-On (SSO)"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enable SSO authentication"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]})]})]}),(0,Ue.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Session Management"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Session Timeout (minutes)"}),(0,Ue.jsx)("input",{type:"number",min:"5",max:"1440",placeholder:"Enter timeout duration",className:"mt-1 block w-1/3 px-3 py-2 h-10 rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm focus:border-indigo-500 dark:focus:border-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:placeholder-gray-400"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Force Single Session"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Limit users to one active session"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]})]})]})]})}),Ef=e=>{let{connector:t,isOpen:n,onClose:a,onSave:o}=e;const{user:i}=(0,r.useContext)(Sr),[s,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)({display_name:"",client_id:"",client_secret:"",tenant_id:"",redirect_uri:"",scopes:"",validate_on_save:!0}),[v,x]=(0,r.useState)(null),[y,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)({client_id:!1,tenant_id:!1,redirect_uri:!1,scopes:!1});(0,r.useEffect)(()=>{n&&t&&j()},[n,t]);const j=async()=>{const e=(null===i||void 0===i?void 0:i.organizationId)||(null===i||void 0===i?void 0:i.organization_id)||(null===i||void 0===i?void 0:i.orgId)||"00000000-0000-0000-0000-000000000001";l(!0),m(null);try{const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/admin/organizations/").concat(e,"/oauth/").concat(t.id),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(n.ok){const e=await n.json();x(e);const r=e.configuration||e.credentials||{},a=r.client_id||e.client_id||"",o=r.tenant_id||e.tenant_id||"",i=r.redirect_uri||r.redirectUri||e.redirect_uri||e.redirectUri||"",s=r.scopes||e.scopes||[];!a&&e&&console.log("OAuth config response structure:",e),h({display_name:e.display_name||t.name,client_id:a,client_secret:"",tenant_id:o,redirect_uri:i||window.location.origin+"/callback",scopes:Array.isArray(s)?s.join(", "):s||"",validate_on_save:!0}),w({client_id:!1,tenant_id:!1,redirect_uri:!1,scopes:!1})}else if(404===n.status)x(null),h({display_name:t.name,client_id:"",client_secret:"",tenant_id:"",redirect_uri:window.location.origin+"/callback",scopes:"",validate_on_save:!0});else{const e=await n.json().catch(()=>({}));console.warn("Error fetching OAuth config:",e.message||"HTTP ".concat(n.status)),x(null),h({display_name:t.name,client_id:"",client_secret:"",tenant_id:"",redirect_uri:window.location.origin+"/callback",scopes:"",validate_on_save:!0})}}catch(n){console.warn("Error fetching OAuth config (treating as no existing config):",n),x(null),h({display_name:t.name,client_id:"",client_secret:"",tenant_id:"",redirect_uri:window.location.origin+"/callback",scopes:"",validate_on_save:!0})}finally{l(!1)}},N=e=>{const{name:t,value:n,type:r,checked:a}=e.target;h(e=>Le(Le({},e),{},{[t]:"checkbox"===r?a:n}))},C=e=>{w(t=>Le(Le({},t),{},{[e]:!t[e]}))},S=e=>f[e]&&f[e].trim().length>0,E=e=>k[e]||!S(e);if(!n)return null;const _=null!==v,O=((null===v||void 0===v?void 0:v.configuration)||(null===v||void 0===v?void 0:v.credentials)||{}).has_client_secret||(null===v||void 0===v?void 0:v.has_client_secret)||!1,I=_&&(O||!f.client_secret);return(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,Ue.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[t.icon,(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Configure ",t.name]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Organization-level OAuth credentials"})]})]}),(0,Ue.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,Ue.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ue.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:s?(0,Ue.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ue.jsxs)("svg",{className:"animate-spin h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ue.jsxs)("form",{id:"oauth-config-form",onSubmit:async e=>{e.preventDefault(),m(null),p(!1);const n=((null===v||void 0===v?void 0:v.configuration)||(null===v||void 0===v?void 0:v.credentials)||{}).has_client_secret||(null===v||void 0===v?void 0:v.has_client_secret)||!1,r=null!==v&&(n||!f.client_secret.trim());if(!f.display_name.trim())return void m("Display name is required");if(!f.client_id.trim())return void m("Client ID is required");if(!f.redirect_uri.trim())return void m("Redirect URI is required");if(!r&&!f.client_secret.trim())return void m("Client secret is required");d(!0);const a=(null===i||void 0===i?void 0:i.organizationId)||(null===i||void 0===i?void 0:i.organization_id)||(null===i||void 0===i?void 0:i.orgId)||"00000000-0000-0000-0000-000000000001";try{const e=f.scopes.split(",").map(e=>e.trim()).filter(e=>e.length>0),n=Le(Le(Le({client_id:f.client_id.trim()},f.client_secret.trim()&&{client_secret:f.client_secret.trim()}),f.tenant_id.trim()&&{tenant_id:f.tenant_id.trim()}),{},{redirect_uri:f.redirect_uri.trim()}),r={display_name:f.display_name,credentials:n,scopes:e,metadata:{configured_by:i.userId||i.user_id||"admin"},validate_on_save:f.validate_on_save},s=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/admin/organizations/").concat(a,"/oauth/").concat(t.id),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)});if(s.ok)p(!0),h(e=>Le(Le({},e),{},{client_secret:""})),b(!1),o&&o(),setTimeout(()=>{j()},500);else{const e=await s.json().catch(()=>({}));m(e.message||e.error||"Failed to save OAuth configuration")}}catch(s){console.error("Error saving OAuth config:",s),m("Failed to save OAuth configuration")}finally{d(!1)}},className:"space-y-6",noValidate:!0,children:[g&&(0,Ue.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"OAuth configuration saved successfully!"})}),u&&(0,Ue.jsx)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-red-800 dark:text-red-200",children:u})}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Display Name *"}),(0,Ue.jsx)("input",{type:"text",name:"display_name",value:f.display_name,onChange:N,required:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Client ID *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:"text",name:"client_id",value:f.client_id,onChange:N,readOnly:!E("client_id"),required:!0,className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(E("client_id")?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed")}),S("client_id")&&!k.client_id&&(0,Ue.jsx)("button",{type:"button",onClick:()=>C("client_id"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Edit Client ID",children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Client Secret ",I?"(Saved)":"*"]}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:y?"text":"password",name:"client_secret",value:f.client_secret,onChange:N,required:!I,placeholder:I?"Enter new secret to update (leave blank to keep existing)":"Enter client secret",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),I&&(0,Ue.jsx)("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:y?(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),I&&(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Secret is saved and hidden for security. Enter a new secret to update it, or leave blank to keep the existing secret (if API supports partial updates)."})]}),("onedrive"===t.id||"msteams"===t.id)&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tenant ID"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:"text",name:"tenant_id",value:f.tenant_id,onChange:N,readOnly:!E("tenant_id"),placeholder:"common, organizations, or specific tenant ID",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(E("tenant_id")?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed")}),S("tenant_id")&&!k.tenant_id&&(0,Ue.jsx)("button",{type:"button",onClick:()=>C("tenant_id"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Edit Tenant ID",children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Use 'common' for multi-tenant, 'organizations' for work/school accounts, or a specific tenant ID"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Redirect URI *"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:"url",name:"redirect_uri",value:f.redirect_uri,onChange:N,readOnly:!E("redirect_uri"),required:!0,className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent ".concat(E("redirect_uri")?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed")}),S("redirect_uri")&&!k.redirect_uri&&(0,Ue.jsx)("button",{type:"button",onClick:()=>C("redirect_uri"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Edit Redirect URI",children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"This URI ending with /callback must be registered with the OAuth provider"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Scopes (comma-separated)"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("textarea",{name:"scopes",value:f.scopes,onChange:N,readOnly:!E("scopes"),rows:3,placeholder:"e.g., Files.Read, Files.ReadWrite, Sites.Read.All",className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none ".concat(E("scopes")?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed")}),S("scopes")&&!k.scopes&&(0,Ue.jsx)("button",{type:"button",onClick:()=>C("scopes"),className:"absolute right-3 top-3 text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Edit Scopes",children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]}),(0,Ue.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Enter OAuth scopes separated by commas"})]}),(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("input",{type:"checkbox",name:"validate_on_save",id:"validate_on_save",checked:f.validate_on_save,onChange:N,className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),(0,Ue.jsx)("label",{htmlFor:"validate_on_save",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Validate credentials on save"})]})]})}),!s&&(0,Ue.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[(0,Ue.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg font-medium transition-colors",children:"Cancel"}),(0,Ue.jsx)("button",{type:"submit",form:"oauth-config-form",disabled:c,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:c?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Configuration"})]})]})})},_f=()=>{const{user:e}=(0,r.useContext)(Sr),[t,n]=(0,r.useState)(null),[a,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)({}),[l,c]=(0,r.useState)(!1),d=((null===e||void 0===e?void 0:e.roles)||(null!==e&&void 0!==e&&e.role?[e.role]:[])||[]).some(e=>"ADMIN"===e||"SYS_ADMIN"===e||"admin"===e||"sys_admin"===e||"SYS-ADMIN"===e||"sys-admin"===e),u=[{id:"google-drive",name:"Google Drive",icon:(0,Ue.jsx)(Za,{className:"w-8 h-8 text-[#0F9D58]"}),description:"Configure OAuth credentials for Google Drive",color:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800"},{id:"onedrive",name:"Microsoft OneDrive",icon:(0,Ue.jsx)(Qa,{className:"w-8 h-8 text-[#0078D4]"}),description:"Configure OAuth credentials for OneDrive",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800"},{id:"confluence",name:"Confluence",icon:(0,Ue.jsx)($a,{className:"w-8 h-8 text-[#172B4D]"}),description:"Configure OAuth credentials for Confluence",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800"},{id:"slack",name:"Slack",icon:(0,Ue.jsx)(eo,{className:"w-8 h-8 text-[#4A154B]"}),description:"Configure OAuth credentials for Slack",color:"bg-purple-50 dark:bg-purple-900/20",borderColor:"border-purple-200 dark:border-purple-800"},{id:"msteams",name:"Microsoft Teams",icon:(0,Ue.jsx)(to,{className:"w-8 h-8 text-[#6264A7]"}),description:"Configure OAuth credentials for Microsoft Teams",color:"bg-indigo-50 dark:bg-indigo-900/20",borderColor:"border-indigo-200 dark:border-indigo-800"},{id:"jira",name:"Jira",icon:(0,Ue.jsx)(df,{className:"w-8 h-8 text-[#0052CC]"}),description:"Configure OAuth credentials for Jira",color:"bg-blue-50 dark:bg-blue-900/20",borderColor:"border-blue-200 dark:border-blue-800",comingSoon:!0},{id:"notion",name:"Notion",icon:(0,Ue.jsx)(uf,{className:"w-8 h-8 text-[#000000] dark:text-white"}),description:"Configure OAuth credentials for Notion",color:"bg-gray-50 dark:bg-gray-900/20",borderColor:"border-gray-200 dark:border-gray-800",comingSoon:!0},{id:"servicenow",name:"ServiceNow",icon:(0,Ue.jsx)("svg",{className:"w-8 h-8 text-[#81B5A1]",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"})}),description:"Configure OAuth credentials for ServiceNow",color:"bg-green-50 dark:bg-green-900/20",borderColor:"border-green-200 dark:border-green-800",comingSoon:!0}];(0,r.useEffect)(()=>{d&&m()},[d,null===e||void 0===e?void 0:e.organizationId,null===e||void 0===e?void 0:e.organization_id,null===e||void 0===e?void 0:e.orgId]);const m=async()=>{const t=(null===e||void 0===e?void 0:e.organizationId)||(null===e||void 0===e?void 0:e.organization_id)||(null===e||void 0===e?void 0:e.orgId)||"00000000-0000-0000-0000-000000000001";c(!0);const n={};for(const e of u)try{const a=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/admin/organizations/").concat(t,"/oauth/").concat(e.id),{credentials:"include",headers:{Accept:"application/json"}});if(a.ok){var r;const t=await a.json();n[e.id]={configured:!0,display_name:t.display_name,configured_at:(null===(r=t.metadata)||void 0===r?void 0:r.configured_at)||t.created_at}}else n[e.id]={configured:!1}}catch(a){console.warn("Error fetching config for ".concat(e.id," (treating as not configured):"),a),n[e.id]={configured:!1}}s(n),c(!1)};return d?(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"API Integration"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your API keys and access tokens"})]}),(0,Ue.jsx)("button",{className:"inline-flex items-center justify-center min-w-[100px] px-4 py-2 text-sm font-medium bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Configure"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"External Services"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Connect to third-party services and tools"})]}),(0,Ue.jsx)("button",{className:"inline-flex items-center justify-center min-w-[100px] px-4 py-2 text-sm font-medium bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Manage"})]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Webhooks"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Set up webhooks for automated notifications"})]}),(0,Ue.jsx)("button",{className:"inline-flex items-center justify-center min-w-[100px] px-4 py-2 text-sm font-medium bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors",children:"Configure"})]})]}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"OAuth Connector Configuration"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configure organization-level OAuth credentials for connectors. These settings allow users to connect to these services."})]}),l?(0,Ue.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ue.jsxs)("svg",{className:"animate-spin h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(e=>{const t=i[e.id],r=null===t||void 0===t?void 0:t.configured,a=e.comingSoon;return(0,Ue.jsx)("div",{className:"p-4 border ".concat(e.borderColor," ").concat(e.color," rounded-lg bg-white dark:bg-gray-800/50 ").concat(a?"opacity-60":""),children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0 mt-1",children:e.icon}),(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),r&&(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded",children:"Configured"}),a&&(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:"Coming Soon"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:e.description}),r&&t.display_name&&(0,Ue.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Display: ",t.display_name]})]})]}),(0,Ue.jsx)("button",{onClick:()=>!a&&(e=>{n(e),o(!0)})(e),disabled:a,className:"ml-4 inline-flex items-center justify-center min-w-[100px] px-4 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors flex-shrink-0 ".concat(a?"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-indigo-600 dark:bg-indigo-500 text-white hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-400"),children:r?"Edit":"Configure"})]})},e.id)})})]}),a&&t&&(0,Ue.jsx)(Ef,{connector:t,isOpen:a,onClose:()=>{o(!1),n(null)},onSave:()=>{m()}})]}):(0,Ue.jsx)("div",{className:"space-y-6",children:(0,Ue.jsx)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"You need administrator privileges to configure organization-level OAuth credentials."})})})},Of=()=>(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Automated Backups"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Enable Daily Backups"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Automatically backup system data every day"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Backup Time"}),(0,Ue.jsx)("input",{type:"time",className:"mt-1 block w-full px-3 py-2 h-10 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Retention Period (days)"}),(0,Ue.jsx)("input",{type:"number",min:"1",max:"365",className:"mt-1 block w-full px-3 py-2 h-10 rounded-md border border-gray-300 dark:border-gray-600  bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 shadow-sm  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-indigo-500 dark:focus:border-indigo-400"})]})]})]}),(0,Ue.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Manual Backup"}),(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsx)("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 text-sm font-medium bg-indigo-600 dark:bg-indigo-500 text-white rounded-md hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800 transition-colors",children:"Backup Now"})})})]}),(0,Ue.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800/50",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"System Maintenance"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Maintenance Mode"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Put system in maintenance mode during updates"})]}),(0,Ue.jsx)("input",{type:"checkbox",className:"h-5 w-5 rounded border border-gray-300 dark:border-gray-600 text-indigo-600 dark:text-indigo-400  hover:border-gray-400 dark:hover:border-gray-500 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:ring-offset-gray-800"})]}),(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsx)("button",{onClick:()=>{},className:"inline-flex items-center px-4 py-2 text-sm font-medium bg-red-600 dark:bg-red-500 text-white rounded-md hover:bg-red-700 dark:hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:focus:ring-red-400 dark:ring-offset-gray-800 transition-colors",children:"Clear Cache"})})]})]})]}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Backups"}),(0,Ue.jsx)("div",{className:"space-y-2",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:"Backup_20240101_120000"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Size: 256MB"})]}),(0,Ue.jsx)("button",{className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300",children:"Download"})]})})]})]}),If=()=>{const[e,t]=(0,r.useState)("general");return(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 p-8 overflow-y-auto",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Settings"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Configure application settings and preferences"})]}),(0,Ue.jsx)("button",{type:"button",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Save Settings"})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm dark:shadow-gray-900/50",children:[(0,Ue.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[{id:"general",name:"General Settings"},{id:"security",name:"Security Settings"},{id:"integration",name:"Integration Settings"},{id:"backup",name:"Backup & Maintenance"}].map(n=>(0,Ue.jsx)("button",{onClick:()=>t(n.id),className:"".concat(e===n.id?"border-indigo-500 text-indigo-600 dark:text-indigo-300":"border-transparent text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200 hover:border-gray-300 dark:hover:border-gray-600"," whitespace-nowrap py-4 px-1 border-b-2 font-medium transition-colors"),children:n.name},n.id))})}),(0,Ue.jsx)("div",{className:"p-6",children:(()=>{switch(e){case"general":default:return(0,Ue.jsx)(Cf,{});case"security":return(0,Ue.jsx)(Sf,{});case"integration":return(0,Ue.jsx)(_f,{});case"backup":return(0,Ue.jsx)(Of,{})}})()})]})]})})},Mf=Ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Pf=Ve("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Tf=e=>{let{visible:t,onClose:n,onStatsUpdate:a}=e;const[o,i]=(0,r.useState)({email:"",role:""}),[s,l]=(0,r.useState)(""),[c,d]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/dashboard"),{credentials:"include"}),t=await e.json();t.userInfo&&t.userInfo.email&&l(t.userInfo.email)}catch(e){console.error("Error fetching user data:",e)}})()},[]);const u=async e=>{e.preventDefault();try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/invite"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:o.email,role_name:o.role,invited_by:s})});if(!e.ok)return void(409===e.status?d("User already exists."):403===e.status?d("User is unauthorised to invite. Please contact system administrator"):d("Failed to invite user"));a(),n(o),i({email:"",role:""}),d("")}catch(t){console.error("Error inviting user:",t),d("Network error. Please try again.")}};return t?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add New User"}),(0,Ue.jsx)("button",{onClick:()=>{d(""),n()},className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:(0,Ue.jsx)(Cr,{className:"h-5 w-5"})})]}),(0,Ue.jsxs)("div",{className:"overflow-y-auto flex-1 p-4",children:[(0,Ue.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg mb-6",children:[(0,Ue.jsx)(ea,{className:"h-5 w-5 text-blue-400 dark:text-blue-300 mt-0.5"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"User Information"}),(0,Ue.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Fill in the user details below. The user will receive an email invitation to set up their account."})]})]}),(0,Ue.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Basic Information"}),(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),(0,Ue.jsx)("input",{type:"email",id:"email",value:o.email,onChange:e=>i(Le(Le({},o),{},{email:e.target.value})),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent",required:!0}),c&&(0,Ue.jsx)("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:c})]})})]}),(0,Ue.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"System Access"}),(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),(0,Ue.jsxs)("select",{id:"role",value:o.role,onChange:e=>i(Le(Le({},o),{},{role:e.target.value})),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent",required:!0,children:[(0,Ue.jsx)("option",{value:"",children:"Select role"}),(0,Ue.jsx)("option",{value:"GEN_USER",children:"General User"}),(0,Ue.jsx)("option",{value:"GUEST",children:"Guest"}),(0,Ue.jsx)("option",{value:"DATA_STEWARD",children:"Data Steward"}),(0,Ue.jsx)("option",{value:"DATA_ENGINEER",children:"Data Engineer"}),(0,Ue.jsx)("option",{value:"ADMIN",children:"Admin"})]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"accessLevel",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Access Level"}),(0,Ue.jsxs)("select",{id:"accessLevel",value:o.accessLevel,onChange:e=>i(Le(Le({},o),{},{accessLevel:e.target.value})),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent",required:!0,children:[(0,Ue.jsx)("option",{value:"",children:"Select access level"}),(0,Ue.jsx)("option",{value:"full",children:"Full Access"}),(0,Ue.jsx)("option",{value:"restricted",children:"Restricted Access"}),(0,Ue.jsx)("option",{value:"readonly",children:"Read Only"})]})]})]})]})]})]}),(0,Ue.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800/50",children:(0,Ue.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ue.jsx)("button",{type:"button",onClick:()=>{d(""),n()},className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:u,type:"button",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",children:"Invite User"})]})})]})}):null},Af=e=>{let{visible:t,onClose:n,user:a}=e;const[o,i]=(0,r.useState)({email:"",role:"",active:!0});(0,r.useEffect)(()=>{a&&i({email:a.email,role:a.role,active:"Active"===a.status})},[a]);const s=async e=>{e.preventDefault();try{if(!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/invited-user/update"),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:o.email,role:o.role})})).ok)throw new Error("Failed to update user");n(o)}catch(t){console.error("Error updating user:",t)}};return t?(0,Ue.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Edit User"}),(0,Ue.jsx)("button",{onClick:()=>n(),className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:(0,Ue.jsx)(Cr,{className:"h-5 w-5"})})]}),(0,Ue.jsxs)("div",{className:"overflow-y-auto flex-1 p-4",children:[(0,Ue.jsxs)("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg mb-6",children:[(0,Ue.jsx)(ea,{className:"h-5 w-5 text-blue-400 dark:text-blue-300 mt-0.5"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Edit User Role"}),(0,Ue.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Update the user's role below. The user will receive an email notification about the role change."})]})]}),(0,Ue.jsxs)("form",{onSubmit:s,className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"User Information"}),(0,Ue.jsx)("div",{className:"space-y-4",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),(0,Ue.jsx)("input",{type:"email",value:o.email,disabled:!0,className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-gray-100 dark:bg-gray-600 text-gray-900 dark:text-white"})]})})]}),(0,Ue.jsxs)("div",{className:"border dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-4",children:"Change Role"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),(0,Ue.jsxs)("select",{id:"role",value:o.role,onChange:e=>i(Le(Le({},o),{},{role:e.target.value})),className:"mt-1 block w-full border border-gray-300 dark:border-gray-600 rounded-md shadow-sm py-2 px-3 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent",required:!0,children:[(0,Ue.jsx)("option",{value:"",children:"Select role"}),(0,Ue.jsx)("option",{value:"GEN_USER",children:"General User"}),(0,Ue.jsx)("option",{value:"GUEST",children:"Guest"}),(0,Ue.jsx)("option",{value:"DATA_STEWARD",children:"Data Steward"}),(0,Ue.jsx)("option",{value:"DATA_ENGINEER",children:"Data Engineer"}),(0,Ue.jsx)("option",{value:"ADMIN",children:"Admin"})]})]})]})]})]}),(0,Ue.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800/50",children:(0,Ue.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Ue.jsx)("button",{type:"button",onClick:()=>n(),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:s,type:"button",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-offset-gray-800",children:"Update User"})]})})]})}):null},Rf=e=>{let{onStatsUpdate:t,statusFilter:n}=e;const[a,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)("All Roles"),[m,g]=(0,r.useState)([]),[p,f]=(0,r.useState)(0),[h,v]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!0),[b,k]=(0,r.useState)("asc"),[w,j]=(0,r.useState)(""),[N,C]=(0,r.useState)({column:null,direction:"asc"}),S=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{v(!0);const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/invitedusers?offset=").concat(e,"&limit=100&timestamp=").concat(Date.now()),{credentials:"include"});if(!t.ok)throw new Error("Failed to fetch users");const n=await t.json();n.length<100&&y(!1),g(0===e?n:e=>[...e,...n]),f(e+n.length)}catch(t){console.error("Error fetching users:",t)}finally{v(!1)}};(0,r.useEffect)(()=>{S(0)},[]),(0,r.useEffect)(()=>{const e=()=>{window.innerHeight+window.scrollY>=document.documentElement.scrollHeight-1e3&&x&&!h&&S(p)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[p,x,h]);const E=e=>{switch(e){case"ADMIN":return"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300";case"GEN_USER":return"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300";case"GUEST":return"bg-orange-100 dark:bg-orange-900 text-orange-700 dark:text-orange-300";case"DATA_STEWARD":return"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300";case"DATA_ENGINEER":return"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300";default:return"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}},_=e=>{e===N.column&&N.direction;const t=[...m].sort((t,n)=>"status"===e?"asc"===b?"Active"===t.status?-1:1:"Active"===t.status?1:-1:"lastActive"===e?"Never"===t.lastActive?1:"Never"===n.lastActive?-1:"asc"===b?new Date(n.lastActive)-new Date(t.lastActive):new Date(t.lastActive)-new Date(n.lastActive):"asc"===b?t[e].localeCompare(n[e]):n[e].localeCompare(t[e]));g(t),k("asc"===b?"desc":"asc")},O=m.filter(e=>{const t=e.email.toLowerCase().startsWith(w.toLowerCase()),r="All Roles"===d||e.role===d,a=!n||e.status===n;return t&&r&&a});return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"p-6 border-b",children:(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"User List"}),(0,Ue.jsxs)("div",{className:"flex gap-4",children:[(0,Ue.jsx)("input",{type:"text",placeholder:"Search users...",value:w,onChange:e=>j(e.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-100"}),(0,Ue.jsxs)("select",{className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700 dark:text-gray-100",value:d,onChange:e=>u(e.target.value),children:[(0,Ue.jsx)("option",{value:"All Roles",children:"All Roles"}),(0,Ue.jsx)("option",{value:"GEN_USER",children:"General User"}),(0,Ue.jsx)("option",{value:"GUEST",children:"Guest"}),(0,Ue.jsx)("option",{value:"DATA_STEWARD",children:"Data Steward"}),(0,Ue.jsx)("option",{value:"DATA_ENGINEER",children:"Data Engineer"}),(0,Ue.jsx)("option",{value:"ADMIN",children:"Admin"})]}),(0,Ue.jsxs)("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600",children:[(0,Ue.jsx)(Ca,{className:"h-5 w-5 mr-2"}),"Add User"]})]})]})}),(0,Ue.jsx)("div",{className:"p-6",children:(0,Ue.jsxs)("table",{className:"w-full",children:[(0,Ue.jsx)("thead",{children:(0,Ue.jsxs)("tr",{className:"text-left text-gray-500 dark:text-gray-300 border-b",children:[(0,Ue.jsx)("th",{children:(0,Ue.jsxs)("button",{onClick:()=>_("email"),children:["User ","email"===N.column&&("asc"===N.direction?"\u2191":"\u2193")]})}),(0,Ue.jsx)("th",{children:(0,Ue.jsxs)("button",{onClick:()=>_("role"),children:["Role ","role"===N.column&&("asc"===N.direction?"\u2191":"\u2193")]})}),(0,Ue.jsx)("th",{children:(0,Ue.jsxs)("button",{onClick:()=>_("status"),children:["Status ","status"===N.column&&("asc"===N.direction?"\u2191":"\u2193")]})}),(0,Ue.jsx)("th",{children:(0,Ue.jsxs)("button",{onClick:()=>_("lastActive"),children:["Last Active ","lastActive"===N.column&&("asc"===N.direction?"\u2191":"\u2193")]})}),(0,Ue.jsx)("th",{className:"pb-4 font-medium",children:"Actions"})]})}),(0,Ue.jsx)("tbody",{className:"divide-y",children:O.map(e=>{return(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ue.jsx)("td",{className:"py-4",children:(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center",children:(0,Ue.jsx)("span",{className:"text-indigo-600 dark:text-indigo-300 font-medium",children:e.email[0].toUpperCase()})}),(0,Ue.jsx)("div",{children:(0,Ue.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-300",children:e.email})})]})}),(0,Ue.jsx)("td",{className:"py-4",children:(0,Ue.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(E(e.role)),children:(r=e.role,r?r.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "):"")})}),(0,Ue.jsx)("td",{className:"py-4",children:(0,Ue.jsx)("span",{className:"ACCEPTED"===e.status?"text-green-600 dark:text-green-300":"PENDING"===e.status?"text-amber-600 dark:text-amber-300":"text-gray-500 dark:text-gray-300",children:(n=e.status,n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"")})}),(0,Ue.jsx)("td",{className:"py-4 text-gray-500 dark:text-gray-300",children:e.lastActive}),(0,Ue.jsx)("td",{className:"py-4",children:(0,Ue.jsxs)("div",{className:"flex gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>{c(e),s(!0)},className:"text-indigo-600 dark:text-indigo-300 hover:text-indigo-800 dark:hover:text-indigo-500 inline-flex items-center gap-1",children:(0,Ue.jsx)(Mf,{size:16})}),("ACCEPTED"===e.status||"DEACTIVATED"===e.status)&&(0,Ue.jsx)("button",{onClick:()=>(async e=>{const n=m.find(t=>t.email===e);if(!n)return;const r=n.status,a="DEACTIVATED"===n.status?"ACCEPTED":"DEACTIVATED";try{if(g(m.map(t=>t.email===e?Le(Le({},t),{},{status:a}):t)),!(await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/update-status"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})).ok)throw new Error("Failed to change user status");await S(0),t()}catch(o){console.error("Error updating user status:",o),g(m.map(t=>t.email===e?Le(Le({},t),{},{status:r}):t))}})(e.email),className:"ACCEPTED"===e.status?"text-red-600 dark:text-red-300 hover:text-red-800 dark:hover:text-red-500":"text-green-600 dark:text-green-300 hover:text-green-800 dark:hover:text-green-500",title:"ACCEPTED"===e.status?"Deactivate User":"Activate User",children:"ACCEPTED"===e.status?(0,Ue.jsx)(Pf,{className:"h-5 w-5"}):(0,Ue.jsx)(Ur,{className:"h-5 w-5"})})]})})]},e.id);var n,r})}),h&&(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:"5",className:"text-center py-4",children:(0,Ue.jsx)("div",{className:"flex justify-center",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})})})})]})}),(0,Ue.jsx)(Tf,{visible:a,onClose:e=>{e&&e.email&&e.role&&S(),o(!1)},onStatsUpdate:t}),(0,Ue.jsx)(Af,{visible:i,onClose:e=>{s(!1),c(null),e&&S(0)},user:l})]})},zf=()=>{const[e,t]=(0,r.useState)({accepted_users:0,pending_users:0,total_invited_users:0,deactivated_users:0}),[n,a]=(0,r.useState)(null),o=async()=>{try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/UserInfo"),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}}),n=await e.json();t(n)}catch(e){console.error("Error fetching user data:",e)}};return(0,r.useEffect)(()=>{o()},[]),(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"p-8",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"User Management"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage user access and permissions"})]})}),(0,Ue.jsxs)("div",{className:"grid grid-cols-4 gap-6 mb-6",children:[(0,Ue.jsxs)("div",{onClick:()=>a(null),className:"bg-blue-50 dark:bg-blue-900/20 p-6 rounded-xl shadow-sm border border-blue-200 dark:border-blue-800 cursor-pointer transition-all duration-200 hover:shadow-md",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"All"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:e.total_invited_users}),(0,Ue.jsx)("span",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Users"})]})]}),(0,Ue.jsxs)("div",{onClick:()=>a("ACCEPTED"),className:"bg-green-50 dark:bg-green-900/20 p-6 rounded-xl shadow-sm border border-green-200 dark:border-green-800 cursor-pointer transition-all duration-200 hover:shadow-md",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Active"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:e.accepted_users}),(0,Ue.jsx)("span",{className:"text-green-600 dark:text-green-400 text-sm",children:"Users"})]})]}),(0,Ue.jsxs)("div",{onClick:()=>a("PENDING"),className:"bg-amber-50 dark:bg-amber-900/20 p-6 rounded-xl shadow-sm border border-amber-200 dark:border-amber-800 cursor-pointer transition-all duration-200 hover:shadow-md",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invited"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:e.pending_users}),(0,Ue.jsx)("span",{className:"text-amber-600 dark:text-amber-400 text-sm",children:"Users"})]})]}),(0,Ue.jsxs)("div",{onClick:()=>a("DEACTIVATED"),className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-xl shadow-sm border border-red-200 dark:border-red-800 cursor-pointer transition-all duration-200 hover:shadow-md",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Inactive"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold text-red-600 dark:text-red-400",children:e.deactivated_users}),(0,Ue.jsx)("span",{className:"text-red-600 dark:text-red-400 text-sm",children:"Users"})]})]})]}),(0,Ue.jsx)(Rf,{onStatsUpdate:o,statusFilter:n})]})})},Df=()=>(0,Ue.jsx)(Wr,{children:(0,Ue.jsx)(mf,{})}),Lf=(e,t)=>({name:t,itemTypes:["document"],endpoint:"/api/v1/storage/".concat(e,"/list"),buildFetchUrl:function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o=a?"&connectionId=".concat(a):"",i=r||".";return"".concat("https://dev-services.produktiv.ai","/api/v1/storage/").concat(e,"/list/").concat(i,"?userId=").concat(n).concat(o)},normalizeItem:e=>({ID:e.id||e.ID,Name:e.name||e.Name,ItemType:e.itemType||e.ItemType||"document",Size:e.size||e.Size||"-",ModifiedAt:e.modifiedAt||e.ModifiedAt||e.modified_at,OwnerName:e.ownerName||e.OwnerName||"System",Path:e.path||e.Path||"/"}),canNavigate:e=>!1,isSelectableFile:e=>"document"===e.ItemType}),Bf={onedrive:{name:"OneDrive",itemTypes:["file","folder"],endpoint:"/api/v1/storage/onedrive/files",buildFetchUrl:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o=a?"&connectionId=".concat(a):"";return 1===r?e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/onedrive/shared/").concat(e,"?userId=").concat(t).concat(o):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/onedrive/shared?userId=").concat(t).concat(o):e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/onedrive/folder/").concat(e,"?userId=").concat(t).concat(o):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/onedrive/list/").concat(encodeURIComponent(n),"?userId=").concat(t).concat(o)},normalizeItem:e=>{var t,n;return{ID:e.ID,Name:e.Name,ItemType:e.ItemType,Size:e.Size||"-",ModifiedAt:e.ModifiedAt,OwnerName:(null===(t=e.Metadata)||void 0===t?void 0:t.OwnerName)||"Unknown",Path:e.Path||"/",WebURL:null===(n=e.Metadata)||void 0===n?void 0:n.WebURL}},canNavigate:e=>"folder"===e.ItemType,isSelectableFile:e=>"file"===e.ItemType},confluence:{name:"Confluence",itemTypes:["file","folder","page","space"],endpoint:"/api/v1/storage/confluence/content",buildFetchUrl:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const a=r?"&connectionId=".concat(r):"";return e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/confluence/folder/").concat(e,"?userId=").concat(t).concat(a):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/confluence/list/").concat(encodeURIComponent(n),"?userId=").concat(t).concat(a)},normalizeItem:e=>{var t;return{ID:e.id,Name:e.title||e.name,ItemType:e.type||"page",Size:e.size||"-",ModifiedAt:e.lastModifiedDate||e.createdDate,OwnerName:(null===(t=e.createdBy)||void 0===t?void 0:t.displayName)||"Unknown",Path:e.path||"/"}},canNavigate:e=>["folder","space"].includes(e.ItemType),isSelectableFile:e=>["file","page"].includes(e.ItemType)},"google-drive":{name:"Google Drive",itemTypes:["file","folder"],endpoint:"/api/v1/storage/google-drive/files",buildFetchUrl:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o=a?"&connectionId=".concat(a):"";return 1===r?e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/google-drive/shared/").concat(e,"?userId=").concat(t).concat(o):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/google-drive/shared?userId=").concat(t).concat(o):e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/google-drive/folder/").concat(e,"?userId=").concat(t).concat(o):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/google-drive/list/").concat(encodeURIComponent(n),"?userId=").concat(t).concat(o)},normalizeItem:e=>{var t,n;return{ID:e.id,Name:e.name,ItemType:"application/vnd.google-apps.folder"===e.mimeType?"folder":"file",Size:e.size||"-",ModifiedAt:e.modifiedTime,OwnerName:(null===(t=e.owners)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.displayName)||"Unknown",Path:e.path||"/"}},canNavigate:e=>"folder"===e.ItemType,isSelectableFile:e=>"file"===e.ItemType},elasticsearch:Lf("elasticsearch","Elasticsearch"),opensearch:Lf("opensearch","OpenSearch"),alloydb:Lf("alloydb","AlloyDB"),amazonrds:Lf("amazonrds","Amazon RDS"),pgvector:Lf("pgvector","pgVector"),bigquery:Lf("bigquery","BigQuery"),weaviate:Lf("weaviate","Weaviate"),slack:{name:"Slack",itemTypes:["file","folder","channel","Direct Message"],endpoint:"/api/v1/storage/slack/files",buildFetchUrl:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const o=a?"&connectionId=".concat(a):"";return e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/slack/folder/").concat(e,"?userId=").concat(t).concat(o):0===r?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/slack/list/").concat(encodeURIComponent(n),"?userId=").concat(t).concat(o):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/slack/directmessage/").concat(encodeURIComponent(n),"?userId=").concat(t).concat(o)},normalizeItem:e=>{var t,n;return{ID:e.id||e.ID,Name:e.name||e.Name,ItemType:e.type||e.ItemType||"file",Size:e.size||e.Size||0,CreatedAt:e.created||e.CreatedAt,ModifiedAt:e.timestamp||e.ModifiedAt||e.created||e.CreatedAt,OwnerName:(null===(t=e.user)||void 0===t?void 0:t.name)||e.OwnerName||"Unknown",Path:(null===(n=e.channel)||void 0===n?void 0:n.name)||e.Path||"/",Provider:"slack",Properties:e.Properties||e}},canNavigate:e=>["channel","Direct Message","folder"].includes(e.ItemType),isSelectableFile:e=>"file"===e.ItemType},msteams:{name:"Microsoft Teams",itemTypes:["file","folder","team","channel","Direct Message","link"],endpoint:"/api/v1/storage/msteams/files",buildFetchUrl:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const i=a?"&connectionId=".concat(a):"";return 1!==r||e?1===r&&e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/msteams/shared?chatId=").concat(e).concat(i):o?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/msteams/folder/").concat(e,"?userId=").concat(t,"&channelId=").concat(o,"&fetchMessages=true").concat(i):e?"".concat("https://dev-services.produktiv.ai","/api/v1/storage/msteams/folder/").concat(e,"?userId=").concat(t).concat(i):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/msteams/list/").concat(encodeURIComponent(n),"?userId=").concat(t).concat(i):"".concat("https://dev-services.produktiv.ai","/api/v1/storage/msteams/item/chats?userId=").concat(t).concat(i)},normalizeItem:e=>{var t,n,r;return{ID:e.id||e.ID,Name:e.name||e.Name,ItemType:e.type||e.ItemType||"file",Size:e.size||e.Size||0,CreatedAt:e.createdDateTime||e.CreatedAt,ModifiedAt:e.lastModifiedDateTime||e.ModifiedAt||e.createdDateTime||e.CreatedAt,OwnerName:(null===(t=e.createdBy)||void 0===t||null===(n=t.user)||void 0===n?void 0:n.displayName)||e.OwnerName||"Unknown",Path:(null===(r=e.parentReference)||void 0===r?void 0:r.path)||e.Path||"/",Provider:"msteams",WebURL:e.webUrl||e.WebURL,Properties:e.Properties||Le({team_id:e.team_id,channel_id:e.channel_id},e)}},canNavigate:e=>["folder","team","channel","Direct Message"].includes(e.ItemType),isSelectableFile:e=>["file","link"].includes(e.ItemType)}},Ff=e=>{const t=Bf[null===e||void 0===e?void 0:e.toLowerCase()];if(!t)throw new Error("Unknown provider: ".concat(e));return t};class Hf{constructor(e,t){this.provider=e,this.connectionId=t,this.config=Ff(e)}async fetchItems(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{const o=this.config.buildFetchUrl(t,n,e,r,this.connectionId,a),i=await fetch(o,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"});if(!i.ok){const t=await i.json();if(401===i.status&&"authentication_required"===t.error)return sessionStorage.setItem("lastPath",e),void(window.location.href=t.auth_url);if(t.error&&t.error.includes("empty"))throw new Error("The folder is empty");throw new Error(t.error||"Failed to fetch items")}return await i.json()}catch(o){throw console.error("Error fetching ".concat(this.provider," items:"),o),o}}async fetchMetadata(e){try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/").concat(e),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch metadata");return await t.json()}catch(t){return console.error("Error fetching metadata:",t),null}}async extractMetadata(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;try{let i,s={};"confluence"===t?(i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/confluence/scan"),s.includePages=!0):"google-drive"===t?(i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/google-drive/scan"),n&&(s.folderId=n)):"elasticsearch"===t?i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/elasticsearch/scan"):"alloydb"===t?(i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/postgresql/scan"),s.provider="alloydb"):"amazonrds"===t?(i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/postgresql/scan"),s.provider="amazonrds"):"pgvector"===t?(i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/postgresql/scan"),s.provider="pgvector"):"msteams"===t?(i=await this._buildMSTeamsMetadataEndpoint(e,r,a,n,o),s=await this._buildMSTeamsMetadataPayload(e,r,a,n,o)):"slack"===t?(i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/slack/scan"),s=await this._buildSlackMetadataPayload(e,r,n,o)):i="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/onedrive/scan"),"msteams"!==t&&"slack"!==t&&e&&e.length>0&&(s.selectedFiles=e,s.processType="both",s.recursive=!0),s.connectionId=this.connectionId;const l=await fetch(i,Le({method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}},Object.keys(s).length>0&&{body:JSON.stringify(s)}));if(!l.ok){const e=await l.json().catch(()=>({}));throw new Error(e.error||"Failed to extract metadata")}return await l.json()}catch(i){throw console.error("Error extracting metadata:",i),i}}async addToTaxonomy(e,t){try{return console.log("Add to taxonomy not implemented:",{fileIds:e,taxonomyNodeId:t}),{success:!0,message:"Add to taxonomy feature not yet implemented"}}catch(n){throw console.error("Error adding to taxonomy:",n),n}}async fetchBatchMetadataStatus(e){if(0===e.length)return{};try{const t=e.join(","),n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/notification/documents/status?fileIds=").concat(encodeURIComponent(t),"&limit=").concat(e.length),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Encoding":"gzip"}});if(!n.ok)return console.error("Failed to fetch batch status:",n.status),{};const r=await n.json();if(!r.success||!r.data)return console.error("Invalid batch response format:",r),{};const a=r.data.documents||(Array.isArray(r.data)?r.data:[]),o={};return a.forEach(e=>{o[e.file_id]={file_id:e.file_id,status:e.status,error_message:e.error_message,created_at:e.created_at,updated_at:e.updated_at}}),o}catch(t){return console.error("Error fetching batch metadata status:",t),{}}}async fetchMetadataStatus(e){try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/notification/documents/").concat(e),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!t.ok){if(404===t.status)return{notFound:!0,fileId:e};throw new Error("Failed to fetch metadata status")}return await t.json()}catch(t){return console.error("Error fetching metadata status:",t),{notFound:!0,fileId:e}}}getItemTypeOptions(){return this.config.itemTypes}canNavigate(e){return this.config.canNavigate(e)}isSelectableFile(e){return this.config.isSelectableFile(e)}getName(){return this.config.name}}const Wf=e=>{if(!e||"-"===e||0===e)return"-";const t="string"===typeof e?parseInt(e):e;if(isNaN(t))return"-";const n=["B","KB","MB","GB","TB"];let r=0,a=t;for(;a>=1024&&r<n.length-1;)a/=1024,r++;return"".concat(a.toFixed(2)," ").concat(n[r])},Vf=107374182400,qf=50,Uf=()=>"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),Kf={initiated:864e5,processing:864e5,completed:1728e5,failed:2592e5,progress:864e5},Gf=e=>{const t=Date.now();return e.filter(e=>!e.timestamp||!e.ttl||t-e.timestamp<e.ttl)},Xf=e=>e.filter(e=>!e.read).length,Yf=(e,t,n)=>{const{user:a}=(0,r.useContext)(Sr),o=(0,r.useMemo)(()=>((e,t)=>new Hf(e,t))(t,n),[t,n]),i=(0,r.useRef)(n);(0,r.useEffect)(()=>{i.current=n},[n]);const[s,l]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)(0),[f,h]=(0,r.useState)([]),[v,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[k,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(Vf),E=(0,r.useRef)(new Map),_=((0,r.useRef)(!0),(0,r.useRef)(!1)),O=(0,r.useRef)(!1),I=(0,r.useRef)(!1),[M,P]=(0,r.useState)([]),[T,A]=(0,r.useState)(!1),[R,z]=(0,r.useState)(!1),D=(0,r.useRef)(null),L=(0,r.useRef)({}),B=(0,r.useRef)(new Set),F=(0,r.useRef)(!1),H=(0,r.useRef)(null),W=(0,r.useRef)(!1),[V,q]=((0,r.useRef)(null),(0,r.useRef)(null),(0,r.useState)({})),[U,K]=(0,r.useState)([]),[G,X]=(0,r.useState)(null),[Y,$]=(0,r.useState)(1),[J,Z]=(0,r.useState)(qf);(0,r.useEffect)(()=>{if(e&&t&&!_.current){_.current=!0;const r=setTimeout(()=>{const r=n?"fileExplorerState_".concat(e,"_").concat(t,"_").concat(n):"fileExplorerState_".concat(e,"_").concat(t),a=localStorage.getItem(r);if(a)try{const e=JSON.parse(a),n=Date.now()-(e.timestamp||0);if(n>864e5)console.log("Saved navigation state is too old, clearing it"),localStorage.removeItem(r);else if(e.currentPath&&e.currentPath.length>0){console.log("Restoring navigation state:",{currentPath:e.currentPath,folderId:e.folderId,folderHierarchy:e.folderHierarchy,currentPage:e.currentPage,recordsPerPage:e.recordsPerPage,provider:t}),O.current=!0,l(e.currentPath),m(e.folderId),d(e.folderHierarchy||[]);const n=void 0!==e.fileclick?e.fileclick:0;p(n);const r=e.currentPage||1;$(r);const a=e.recordsPerPage||qf;if(Z(a),e.folderId&&"onedrive"!==t&&"google-drive"!==t)if("msteams"===t&&e.folderHierarchy&&e.folderHierarchy.length>=2){const t=e.folderHierarchy[e.folderHierarchy.length-1],r=e.folderHierarchy[e.folderHierarchy.length-2];if(t.id&&t.id.includes("@thread.tacv2")){const a=r.id,o=t.id;ee(e.currentPath.join("/"),a,n,o)}else ee(e.currentPath.join("/"),e.folderId,n)}else ee(e.currentPath.join("/"),e.folderId,n);else("onedrive"===t||"google-drive"===t)&&e.currentPath&&e.currentPath.length>0?(console.log("Restoring ".concat(t," path:"),e.currentPath),te(e.currentPath,t)):ee("","",n);return void(_.current=!1)}}catch(y){console.error("Error parsing saved navigation state:",y),localStorage.removeItem(r)}if("confluence"===t)ee("","",0);else{const e=sessionStorage.getItem("lastPath");e?(l(e.split("/").filter(Boolean)),sessionStorage.removeItem("lastPath"),ee(e,"",g)):(l([]),d([]),m(null),ee("","",g))}_.current=!1},100);return()=>clearTimeout(r)}},[e,t,n]),(0,r.useEffect)(()=>{h([]),b(null),_.current=!1,O.current=!1,l([]),d([]),m(null)},[n]),(0,r.useEffect)(()=>{if(e&&t&&s.length>0){const r={currentPath:s,folderId:u,folderHierarchy:c,fileclick:g,currentPage:Y,recordsPerPage:J,timestamp:Date.now()},a=n?"fileExplorerState_".concat(e,"_").concat(t,"_").concat(n):"fileExplorerState_".concat(e,"_").concat(t);localStorage.setItem(a,JSON.stringify(r))}},[e,t,n,s,c,u,g,Y,J]);const Q=(0,r.useCallback)(async()=>{if("confluence"===t||"google-drive"===t||"msteams"===t||"slack"===t)return!0;N(!0);try{const e=n?"?connectionId=".concat(n):"",r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t,"/status").concat(e),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(404===r.status){const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/").concat(t),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to initiate OneDrive connection");const n=await e.json();if(n.AuthorizationURL)return sessionStorage.setItem("lastPath",s.join("/")),window.location.href=n.AuthorizationURL,!1}else if(!r.ok)throw new Error("Failed to check connection status");const a=await r.json(),o=void 0!==a.connected?a.connected:a.Connected;return w(!!o),N(!1),!!o}catch(y){return console.error("Connection status check failed:",y),b("Connection check failed: ".concat(y.message)),w(!1),N(!1),!1}},[t,s,n]),ee=(0,r.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;x(!0),b(null);try{if("confluence"!==t&&"google-drive"!==t&&"msteams"!==t&&"slack"!==t){if(!await Q())return void b(e=>e||"Connection check failed. Please try reconnecting.")}const d=await o.fetchItems(r,a,e,s,l);if("msteams"===t&&l&&!d.messages&&!d.items){const e=Object.keys(d);e.length>0&&e.every(e=>!isNaN(parseInt(e)))&&(console.log("[fetchItems] Converting numeric object keys to messages array"),d.messages=Object.values(d),d.items=[],console.log("[fetchItems] Converted messages count:",d.messages.length))}if(i.current!==n)return void console.log("[fetchItems] Skipping stale data - connectionId changed from ".concat(n," to ").concat(i.current));if("confluence"===t&&(!d.items||0===d.items.length))return void b("This page cannot be navigated further");let u=d.items||[];if(u=u.map(e=>{var t,n;const r=e.OwnerName||(null===(t=e.Metadata)||void 0===t?void 0:t.OwnerName)||(null===(n=e.Properties)||void 0===n?void 0:n.OwnerName)||"Unknown";return console.log("[fetchItems] Item: ".concat(e.Name,", Owner: ").concat(r)),Le(Le({},e),{},{OwnerName:r})}),console.log("[fetchItems] Initial displayedItems count:",u.length),"slack"===t&&(u=u.map(e=>{var t;return"Direct Message"!==e.ItemType&&"channel"!==e.ItemType||"0001-01-01T00:00:00Z"!==e.ModifiedAt?e:Le(Le({},e),{},{ModifiedAt:(null===(t=e.Properties)||void 0===t?void 0:t.lastActivity)||e.CreatedAt})})),"msteams"===t)if(u=u.map(e=>"channel"===e.ItemType||"team"===e.ItemType&&"0001-01-01T00:00:00Z"===e.ModifiedAt?Le(Le({},e),{},{ModifiedAt:e.CreatedAt}):e),1!==s||a){if(1===s&&a&&d.items){if(console.log("[FetchItems] Extracting links from chat messages"),u=(e=>{const t=[];return e.forEach(e=>{e.Links&&Array.isArray(e.Links)&&e.Links.forEach(n=>{var r,a;t.push({ID:"link-".concat(n.url),Name:n.title||n.name||n.url,ItemType:"link",Size:0,CreatedAt:(null===(r=e.Properties)||void 0===r?void 0:r.created_at)||e.CreatedAt,ModifiedAt:(null===(a=e.Properties)||void 0===a?void 0:a.created_at)||e.CreatedAt,OwnerName:e.OwnerName||"Unknown",MimeType:n.mime_type,Provider:n.provider,WebURL:n.url,Properties:{synthetic:!0,item_type:"link"}})})}),t})(d.items),console.log("[FetchItems] Extracted chat links:",u),0===u.length)return b("This page cannot be navigated further"),h([]),void x(!1)}else if(l&&d.messages){console.log("[FetchItems] Processing MS Teams channel with messages");let e="",t="";c.length>=2&&(e=c[c.length-2].id,t=c[c.length-1].name);const n={ID:"conversation-".concat(l),Name:"Conversation",ItemType:"file",Size:0,CreatedAt:(new Date).toISOString(),ModifiedAt:(new Date).toISOString(),OwnerName:"-",MimeType:"text/plain",Provider:"msteams",Path:"/".concat(r),Properties:{synthetic:!0,item_type:"channel_conversation",team_id:e,channel_id:l,channel_name:t}},a=((e,t)=>{const n=[];return e&&Array.isArray(e)?(console.log("[extractLinksFromMessages] Processing ".concat(e.length," messages")),e.forEach((e,r)=>{e.links&&Array.isArray(e.links)&&e.links.length>0&&(console.log("[extractLinksFromMessages] Message ".concat(r," has ").concat(e.links.length," links")),e.links.forEach(r=>{var a;n.push({ID:"link-".concat(r.url),Name:r.title||r.name||r.url,ItemType:"link",Size:0,CreatedAt:e.created_at,ModifiedAt:e.created_at,OwnerName:(null===(a=e.from)||void 0===a?void 0:a.display_name)||"Unknown",MimeType:r.mime_type||"text/html",Provider:"msteams",WebURL:r.url,Properties:{synthetic:!0,item_type:"link",message_id:e.id,channel_id:t}})}))}),console.log("[extractLinksFromMessages] Extracted ".concat(n.length," total links")),n):(console.log("[extractLinksFromMessages] No messages array provided"),n)})(d.messages,l);u=[n,...a,...u]}}else{const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return t;const n=e.filter(e=>"oneOnOne"===e.type);if(0===n.length)return null;const r=n[0].members.map(e=>e.user_id).find(e=>n.every(t=>t.members.some(t=>t.user_id===e)));return r}(d,G);e&&!G&&X(e);let t="Unknown";if(e){const n=d.filter(e=>"oneOnOne"===e.type&&e.members);if(n.length>0){const r=n[0].members.find(t=>t.user_id===e);r&&(t=r.display_name)}}u=d.filter(e=>["oneOnOne"].includes(e.type)&&e.members&&e.members.length>1).map(n=>{let r="Unknown",a="";if("oneOnOne"===n.type){const t=n.members.find(t=>t.user_id!==e);r=t?t.display_name:"Unknown User",a="Direct Message"}else"group"!==n.type&&"meeting"!==n.type||(r=n.topic||"Group Chat (".concat(n.members.length," members)"),a="group"===n.type?"Group Chat":"Meeting Chat");return{ID:n.id,Name:r,ItemType:a,Size:0,CreatedAt:n.last_updated_date_time||"",ModifiedAt:n.last_updated_date_time||"",OwnerName:t,MimeType:"folder",Provider:"msteams",Path:"/".concat(n.type),WebURL:n.web_url,Properties:{synthetic:!0,item_type:a,members:n.members}}}),u.sort((e,t)=>e.Name.localeCompare(t.Name))}if("slack"===t&&a){let e=null;0===s&&(e={ID:"conversation-".concat(a),Name:"Conversation",ItemType:"file",Size:0,CreatedAt:(new Date).toISOString(),ModifiedAt:(new Date).toISOString(),OwnerName:"Slack",MimeType:"text/plain",Provider:"slack",Path:"/channel",Properties:{synthetic:!0,item_type:"channel_conversation"}});const t=(d.items||[]).filter(e=>{var t;return Array.isArray(null===(t=e.Properties)||void 0===t?void 0:t.files)}).flatMap(e=>e.Properties.files.map(t=>({ID:t.id,Name:t.name,Size:t.size,CreatedAt:e.CreatedAt,WebURL:t.permalink,DownloadURL:t.url_private_download,MimeType:t.mimetype,Provider:"slack",ItemType:"file",Path:e.Path||"/channel",OwnerName:e.OwnerName||"",ModifiedAt:e.CreatedAt,Properties:t})));if(1===s&&0===t.length)return b("This page cannot be navigated further"),h([]),void x(!1);u=0===s?[e,...t]:t}console.log("[FetchItems] Final displayed items:",u.length,"items"),h(u);let m=0;if("slack"===t){const e=(d.items||[]).filter(e=>e.Properties&&Array.isArray(e.Properties.files)).flatMap(e=>e.Properties.files.map(e=>e.size||0));m=Math.max(...e,0)}else m=Math.max(...(u||[]).map(e=>e.Size||0));S(m>0?m:Vf),w(!0),b(null)}catch(d){console.error("Error fetching items:",d),d.message&&d.message.includes("empty")?b("The folder is empty"):b(d.message||"Failed to fetch items"),h([])}finally{x(!1)}},[o,Q,t,n,e,c,G]),te=(0,r.useCallback)(async(t,n)=>{try{console.log("Starting ".concat(n," path rebuild for:"),t),l([]),d([]),m(null);const r=await o.fetchItems("",null,e,0),a=(null===r||void 0===r?void 0:r.items)||[];if(console.log("Root response:",r),console.log("Root items:",a),!a||0===a.length)return void console.log("No root items found, cannot rebuild path");let i=null,s=[];for(let c=0;c<t.length;c++){const r=t[c];console.log("Looking for folder: ".concat(r," in current items")),console.log("Available items:",a.map(e=>({name:e.Name,type:e.ItemType})));const u=a.find(e=>e.Name===r&&("folder"===e.ItemType||"space"===e.ItemType));if(!u){console.log("Folder ".concat(r," not found, stopping path rebuild"));break}if(console.log("Found folder: ".concat(r," with ID: ").concat(u.ID)),s.push(r),i=u.ID,l([...s]),m(i),d(e=>[...e,{id:i,name:r,provider:n}]),c<t.length-1){const t=await o.fetchItems(s.join("/"),i,e,0),n=(null===t||void 0===t?void 0:t.items)||[];if(!n||0===n.length){console.log("No items found in folder ".concat(r,", stopping path rebuild"));break}a.splice(0,a.length,...n)}}console.log("".concat(n," path rebuild completed:"),{currentPath:s,folderId:i}),await new Promise(e=>setTimeout(e,100)),i&&s.length>0?(console.log("Using folderId for final fetch:",i),await ee(s.join("/"),i,0)):s.length>0?(console.log("Using path-based fetch for:",s.join("/")),await ee(s.join("/"),"",0)):(console.log("No path found, fetching root"),await ee("","",0))}catch(y){console.error("Error rebuilding ".concat(n," path:"),y),console.log("Falling back to direct path fetch for:",t.join("/"));try{await ee(t.join("/"),"",0)}catch(r){console.error("Fallback fetch also failed:",r),await ee("","",0)}}},[o,ee,e]),ne=(0,r.useCallback)(async e=>{const n=[...s,e.Name],r=[...c,{name:e.Name,id:e.ID}];if(l(n),d(r),m(e.ID),Z(qf),"channel"===e.ItemType&&"msteams"===t){const t=e.ID,r=c[c.length-1],a=r?r.id:null;if(!a)return console.error("Missing team ID for channel navigation:",e),b("Cannot fetch channel content: Missing Team ID."),void x(!1);await ee(n.join("/"),a,g,t)}else await ee(n.join("/"),e.ID,g)},[s,c,ee,t,g]),re=(0,r.useCallback)(async r=>{if(0===s.length){I.current=!0;const a=n?"fileExplorerState_".concat(e,"_").concat(t,"_").concat(n):"fileExplorerState_".concat(e,"_").concat(t);return localStorage.removeItem(a),void r("/connect")}const a=s.slice(0,-1),o=c.slice(0,-1);if(l(a),d(o),$(1),Z(qf),o.length>0){const e=o[o.length-1];if(m(e.id),"msteams"===t&&e.id&&e.id.includes("@thread.tacv2")&&o.length>=2){const t=o[o.length-2];await ee(a.join("/"),t.id,g,e.id)}else await ee(a.join("/"),e.id,g)}else{m(null),await ee("","",g);const r=n?"fileExplorerState_".concat(e,"_").concat(t,"_").concat(n):"fileExplorerState_".concat(e,"_").concat(t);localStorage.removeItem(r)}},[s,c,ee,e,t,n,g,$]),ae=(0,r.useCallback)(async e=>{h([]),x(!0);const n=c.slice(0,e+1).map(e=>e.name),r=c.slice(0,e+1);if(l(n),d(r),Z(qf),r.length>0){const e=r[r.length-1];m(e.id);let a=e.id,o=null;if("msteams"===t&&e.id&&e.id.includes("@thread.tacv2")&&r.length>=2){a=r[r.length-2].id,o=e.id}await ee(n.join("/"),a,g,o)}else m(null),await ee("","",g)},[c,ee,t,g]),oe=(0,r.useCallback)(async()=>{const e=c.length>0?c[c.length-1].id:null;let n=e,r=null;if("msteams"===t&&e&&e.includes("@thread.tacv2")&&c.length>=2){n=c[c.length-2].id,r=e}await ee(s.join("/"),n,g,r)},[s,c,ee,t,g]),ie=(0,r.useCallback)(async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const a=null!==r?r:g;console.log("[navigateToRoot] Called with fileclick:",a),h([]),x(!0),m(null),l([]),d([]),Z(qf);const o=n?"fileExplorerState_".concat(e,"_").concat(t,"_").concat(n):"fileExplorerState_".concat(e,"_").concat(t);localStorage.removeItem(o),await ee("","",a)},[ee,e,t,n,g]),se=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;const r=Date.now(),a={id:r,message:e,type:t};K(e=>[...e,a]),n>0&&setTimeout(()=>{K(e=>e.filter(e=>e.id!==r))},n)},[]),le=(0,r.useCallback)(e=>{K(t=>t.filter(t=>t.id!==e))},[]),ce=(0,r.useCallback)(async e=>{if(0===e.length)return{};if(F.current)return console.log("[Batch Fetch] Already in progress, skipping duplicate call"),{};F.current=!0;try{const t=100,n=[];for(let i=0;i<e.length;i+=t)n.push(e.slice(i,i+t));console.log("[Batch Fetch] Splitting ".concat(e.length," files into ").concat(n.length," batches"));const r=n.map(async(e,t)=>{console.log("[Batch Fetch ".concat(t+1,"/").concat(n.length,"] Fetching status for ").concat(e.length," files"));const r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/notification/documents/batch-status"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Accept-Encoding":"gzip"},body:JSON.stringify({file_ids:e})});if(!r.ok)return console.error("[Batch Fetch ".concat(t+1,"] Failed:"),r.status),{};const a=await r.json();if(!a.success||!a.data)return console.error("[Batch Fetch ".concat(t+1,"] Invalid response format:"),a),{};const o=a.data.documents||(Array.isArray(a.data)?a.data:[]);console.log("[Batch Fetch ".concat(t+1,"] Received ").concat(o.length," documents"));const i={};o.forEach(e=>{var t,n;i[e.file_id]={file_id:e.file_id,status:e.status,error_message:e.error_message,updated_at:e.updated_at,provider:e.provider,document_name:e.document_name,has_metadata:"completed"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase()),is_scanned:e.status&&"not_started"!==e.status.toLowerCase()};const r=null===(n=e.status)||void 0===n?void 0:n.toLowerCase();"completed"!==r&&"failed"!==r||B.current.delete(e.file_id)});const s=e.filter(e=>!i[e]);return s.forEach(e=>{i[e]={notFound:!0,fileId:e}}),i}),a=await Promise.all(r),o=Object.assign({},...a);return console.log("[Batch Fetch] Completed: Updated ".concat(Object.keys(o).length," entries from ").concat(n.length," batches")),q(e=>Le(Le({},e),o)),o}catch(y){return console.error("Error fetching batch metadata status:",y),{}}finally{F.current=!1}},[V]),de=(0,r.useCallback)(async(e,t)=>{const n=Array.from(e).map(e=>e.ID);try{return await o.addToTaxonomy(n,t),await oe(),se("\u2713 Successfully added ".concat(n.length," file").concat(n.length>1?"s":""," to taxonomy"),"success",5e3),{success:!0}}catch(y){return console.error("Error adding to taxonomy:",y),se("\u2717 Failed to add files to taxonomy: ".concat(y.message),"error",6e3),{success:!1,error:y.message}}},[o,oe,se]),ue=(0,r.useCallback)(e=>{e&&0!==e.length&&(console.log("[Immediate Poll] Triggered for ".concat(e.length," files.")),e.forEach(e=>B.current.add(e)),setTimeout(()=>{e.forEach(e=>B.current.delete(e))},6e4),q(t=>{const n=Le({},t);return e.forEach(e=>delete n[e]),n}),setTimeout(()=>{console.log("[Manual Refetch] Fetching status for ".concat(e.length," newly queued files.")),ce(e)},1e3))},[ce]),me=(0,r.useCallback)(async e=>{let n=[];if(e instanceof Set){n=[...e].map(e=>e.ID)}else{if(!Array.isArray(e))return console.error("Invalid selectedItems type:",typeof e),se("Failed to extract metadata: Invalid selection","error",6e3),{success:!1,error:"Invalid selection"};n=e.map(e=>e.ID)}console.log("Extracted file IDs for metadata:",n);try{const e=await o.extractMetadata(n,t,u,f,c,g);if(n.length>0){var r,a;const t="\u2713 Metadata generation started for ".concat(e.total_files_queued||n.length," file").concat(n.length>1?"s":"",". ")+"Successfully queued: ".concat((null===(r=e.processed_items)||void 0===r?void 0:r.length)||0,", ")+"Failed: ".concat((null===(a=e.failed_items)||void 0===a?void 0:a.length)||0,". Track progress in notifications.");if(se(t,"success",8e3),e.processed_items&&e.processed_items.length>0){const t=e.processed_items.map(e=>e.file_id||e.id).filter(Boolean);t.forEach(e=>B.current.add(e)),setTimeout(()=>{t.forEach(e=>B.current.delete(e))},6e4),q(e=>{const n=Le({},e);return t.forEach(e=>delete n[e]),n}),setTimeout(()=>{console.log("[Initial Refetch] Fetching status for ".concat(t.length," newly queued files")),ce(t).then(()=>{console.log("[Initial Refetch] Completed")})},1e3)}e.failed_items&&e.failed_items.length>0&&(console.warn("Some items failed:",e.failed_items),se("\u26a0 ".concat(e.failed_items.length," item").concat(e.failed_items.length>1?"s":""," failed to queue"),"warning",6e3))}else se("\u2713 Metadata generation initiated successfully. Track progress in notifications.","success",6e3),q({}),setTimeout(()=>{const e=f.filter(e=>"file"===e.ItemType||"page"===e.ItemType||"link"===e.ItemType).map(e=>e.ID);e.length>0&&(console.log("[Folder Refetch] Fetching status for ".concat(e.length," files")),ce(e).then(()=>{console.log("[Folder Refetch] Completed")}))},1e3);return await oe(),{success:!0,data:e}}catch(y){return console.error("Error extracting metadata:",y),se("\u2717 Failed to generate metadata: ".concat(y.message),"error",8e3),{success:!1,error:y.message}}},[o,oe,t,u,se,ce,f,c,g]),ge=(0,r.useCallback)(()=>{if(D.current||!a)return;const e="".concat("wss://dev-services.produktiv.ai","/ws?page=default");console.log("Attempting WebSocket connection to:",e);const t=new WebSocket(e);t.onopen=()=>{console.log("[WebSocket] Connection SUCCESSFUL to:",e),z(!0)},t.onerror=e=>{console.error("[WebSocket] Connection error:",e)},t.onmessage=e=>{try{console.log("[WebSocket] ===== RAW MESSAGE RECEIVED =====",e.data),console.log("[WebSocket] Message type:",typeof e.data),console.log("[WebSocket] Message length:",e.data.length);const t=e.data.replace(/}{/g,"}|{").split("|");console.log("[WebSocket] Split into",t.length,"JSON strings"),t.forEach((e,n)=>{try{console.log("[WebSocket] Parsing JSON ".concat(n+1,"/").concat(t.length,":"),e.substring(0,100));const r=JSON.parse(e);console.log("[WebSocket] \u2713 Parsed notification data:",r);const a=r.document_id||r.file_id||r.id,o=r.type||r.status;console.log("[WebSocket] \u2713 Normalized - docId:",a,"type:",o),P(e=>{const t=e.findIndex(e=>e.document_id===a&&e.type===o);if(-1!==t){const n=[...e];return n[t]=Le(Le({},n[t]),{},{message:r.message,timestamp:Date.now(),read:!1,metadata:r.metadata||{}}),n}const n={id:Uf(),document_id:a,document_name:r.document_name||"Unknown",type:o,message:r.message,timestamp:Date.now(),read:!1,dismissable:!0,priority:"failed"===o?"high":"normal",ttl:Kf[o]||Kf.completed,metadata:r.metadata||{}};if(a&&("completed"===o||"failed"===o||"progress"===o)){const e=Date.now();e-(L.current[a]||0)>3e3?(L.current[a]=e,console.log("[WebSocket] Notification received for ".concat(String(a).substring(0,12),"...: ").concat(o))):console.log("[WebSocket] Skipping refetch for ".concat(String(a).substring(0,12),"... (throttled)"))}const i=[n,...e],s=Gf(i).slice(0,100);return"high"===n.priority?setTimeout(()=>{const e=Date.now(),t={id:e,message:n.message,type:"error"};K(e=>[...e,t]),setTimeout(()=>{K(t=>t.filter(t=>t.id!==e))},8e3)},100):"completed"===o&&setTimeout(()=>{const e=Date.now(),t={id:e,message:n.message,type:"success"};K(e=>[...e,t]),setTimeout(()=>{K(t=>t.filter(t=>t.id!==e))},5e3)},100),s})}catch(r){console.error("Error parsing individual JSON message:",r,e)}})}catch(t){console.error("Error processing WebSocket message:",t)}},t.onclose=e=>{console.log("[WebSocket] Connection closed with code:",e.code,"reason:",e.reason),z(!1),D.current=null,setTimeout(ge,3e3)},D.current=t},[a]);(0,r.useEffect)(()=>(ge(),()=>{D.current&&(D.current.close(),D.current=null)}),[ge]),(0,r.useEffect)(()=>{const e=localStorage.getItem("notifications");if(e)try{const t=JSON.parse(e).map(e=>e.id?e:Le(Le({},e),{},{id:Uf(),timestamp:e.timestamp||Date.now(),read:void 0===e.read||e.read,dismissable:void 0===e.dismissable||e.dismissable,priority:e.priority||"normal",ttl:e.ttl||Kf.completed,document_name:e.document_name||"Unknown"})),n=Gf(t).slice(0,100);P(n)}catch(t){console.error("Failed to parse stored notifications:",t),localStorage.removeItem("notifications")}},[]),(0,r.useEffect)(()=>{localStorage.setItem("notifications",JSON.stringify(M))},[M]),(0,r.useEffect)(()=>{const e=setInterval(()=>{P(e=>{const t=Gf(e);return t.length!==e.length&&console.log("Cleaned ".concat(e.length-t.length," expired notifications")),t})},36e5);return()=>clearInterval(e)},[]);(0,r.useCallback)(async e=>{try{const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/notification/documents/").concat(e),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});let r;if(n.ok){const a=await n.json();if(a.success&&a.data){var t;const n=null===(t=V[e])||void 0===t?void 0:t.status,o=a.data.status;n&&n!==o&&console.log("[Individual Fetch] Status changed for ".concat(e.substring(0,12),"...: ").concat(n," \u2192 ").concat(o)),r={file_id:a.data.file_id,status:o,error_message:a.data.error_message,updated_at:a.data.updated_at,provider:a.data.provider,document_name:a.data.document_name,has_metadata:"completed"===(null===o||void 0===o?void 0:o.toLowerCase()),is_scanned:o&&"not_started"!==o.toLowerCase()};const i=null===o||void 0===o?void 0:o.toLowerCase();"completed"!==i&&"failed"!==i||B.current.delete(e)}else r={notFound:!0,fileId:e}}else r=404===n.status?{notFound:!0,fileId:e}:{error:!0,fileId:e};return q(t=>Le(Le({},t),{},{[e]:r})),r}catch(y){console.error("Error fetching metadata status:",y);const n={error:!0,fileId:e};return q(t=>Le(Le({},t),{},{[e]:n})),n}},[V]);const pe=(0,r.useCallback)(e=>{var t;const n=V[e];if(!n||n.notFound||n.error)return!1;const r=(null===(t=n.status)||void 0===t?void 0:t.toLowerCase())||"";return["processing","in_progress","queued","initiated","scanned","pending","chunks_ready","embedding_in_progress"].includes(r)},[V]),fe=(0,r.useMemo)(()=>f.filter(e=>"file"===e.ItemType||"page"===e.ItemType||"link"===e.ItemType).map(e=>e.ID).join(","),[f]),he=(0,r.useRef)(V);(0,r.useEffect)(()=>{he.current=V},[V]),(0,r.useEffect)(()=>{if(!fe)return;const e=fe.split(",").filter(Boolean);(()=>{const t=he.current,n=e.filter(e=>!t.hasOwnProperty(e));n.length>0&&(console.log("[Initial Fetch] Fetching status for ".concat(n.length," uncached files.")),ce(n))})();const t=setInterval(()=>{if(!W.current){W.current=!0;try{const t=he.current,n=e.filter(e=>{var n;if(B.current.has(e))return!0;const r=t[e];if(!r)return!1;const a=null===(n=r.status)||void 0===n?void 0:n.toLowerCase();return!("completed"===a||"failed"===a||"error"===a||"not_started"===a)&&void 0!==a&&!r.notFound&&!r.error});n.length>0&&ce(n)}finally{W.current=!1}}},5e3);return H.current=t,()=>{clearInterval(t),H.current=null}},[fe,ce]),(0,r.useEffect)(()=>()=>{E.current.forEach(e=>clearInterval(e)),E.current.clear(),H.current&&clearInterval(H.current)},[]);const ve=(0,r.useCallback)(e=>{P(t=>t.map(t=>t.id===e?Le(Le({},t),{},{read:!0}):t))},[]),xe=(0,r.useCallback)(()=>{P(e=>e.map(e=>Le(Le({},e),{},{read:!0})))},[]),ye=(0,r.useCallback)(e=>{P(t=>t.filter(t=>t.id!==e))},[]),be=(0,r.useCallback)(()=>{P([]),localStorage.removeItem("notifications")},[]),ke=(0,r.useCallback)(()=>{P(e=>e.filter(e=>!e.read))},[]);return{items:f,loading:v,error:y,fileclick:g,setFileclick:p,isConnected:k,connectionChecking:j,apiMaxSize:C,currentPath:s,folderHierarchy:c,folderId:u,navigateToFolder:ne,navigateBack:re,navigateToBreadcrumb:ae,navigateToRoot:ie,refreshItems:oe,extractMetadata:me,addToTaxonomy:de,triggerImmediateStatusPoll:ue,providerInstance:o,isFileBeingProcessed:pe,setCurrentPath:l,setFolderHierarchy:d,setFolderId:m,metadataStatusCache:V,notifications:M,unreadCount:Xf(M),showNotifications:T,setShowNotifications:A,wsConnected:R,toasts:U,showToast:se,removeToast:le,markNotificationAsRead:ve,markAllNotificationsAsRead:xe,dismissNotification:ye,clearAllNotifications:be,clearReadNotifications:ke,currentUserId:G,setCurrentUserId:X,savedCurrentPage:Y,setSavedCurrentPage:$,savedRecordsPerPage:J,setSavedRecordsPerPage:Z}},$f={Name:"",type:"",sizeMin:0,sizeMax:Vf,modifiedAfter:"",modifiedBefore:"",ownerName:""},Jf=(e,t)=>""!==e.Name||""!==e.type||0!==e.sizeMin||e.sizeMax!==t||""!==e.modifiedAfter||""!==e.modifiedBefore||""!==e.ownerName,Zf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vf,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qf;const[o,i]=(0,r.useState)(new Set),[s,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)("file"),[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)(Le(Le({},$f),{},{sizeMax:t})),[f,h]=(0,r.useState)({key:"Name",direction:"asc"}),[v,x]=(0,r.useState)(""),[y,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)(n||1),[j,N]=(0,r.useState)(a||qf);(0,r.useEffect)(()=>{n!==k&&w(n)},[n]),(0,r.useEffect)(()=>{a!==j&&N(a)},[a]),(0,r.useMemo)(()=>{p(e=>Le(Le({},e),{},{sizeMax:t}))},[t]);const C=(0,r.useMemo)(()=>((e,t,n)=>e.filter(e=>{if(t.Name&&!e.Name.toLowerCase().includes(t.Name.toLowerCase()))return!1;if(t.type&&e.ItemType!==t.type)return!1;if("-"!==e.Size){const n=parseInt(e.Size);if(n<t.sizeMin||n>t.sizeMax)return!1}return!(t.modifiedAfter&&new Date(e.ModifiedAt)<new Date(t.modifiedAfter))&&!(t.modifiedBefore&&new Date(e.ModifiedAt)>new Date(t.modifiedBefore))&&!(t.ownerName&&!e.OwnerName.toLowerCase().includes(t.ownerName.toLowerCase()))&&!(n&&!e.Name.toLowerCase().includes(n.toLowerCase()))}))(e,g,v),[e,g,v]),S=(0,r.useMemo)(()=>((e,t)=>t.key?[...e].sort((e,n)=>{let r=e[t.key],a=n[t.key];return"Size"===t.key?(r="-"===r?0:parseInt(r),a="-"===a?0:parseInt(a)):"ModifiedAt"===t.key?(r=new Date(r),a=new Date(a)):"string"===typeof r&&(r=r.toLowerCase(),a=a.toLowerCase()),r<a?"asc"===t.direction?-1:1:r>a?"asc"===t.direction?1:-1:0}):e)(C,f),[C,f]),E=Math.ceil(S.length/j),_=(k-1)*j,O=S.slice(_,_+j),I=(0,r.useMemo)(()=>(e=>{const t=new Set;return e.forEach(e=>{e.OwnerName&&"Unknown"!==e.OwnerName&&t.add(e.OwnerName)}),Array.from(t).sort()})(e),[e]),M=(0,r.useCallback)((e,t,n)=>e.length>0&&"document"===e[0].ItemType?e:e.filter(e=>"msteams"===n?"team"!==e.ItemType&&("channel"===e.ItemType||"conversation"===e.ItemType||"file"===e.ItemType||"link"===e.ItemType):"slack"===n?"channel"===e.ItemType||"Direct Message"===e.ItemType||"conversation"===e.ItemType||"file"===e.ItemType:"file"===t?"file"===e.ItemType||"page"===e.ItemType||"link"===e.ItemType||"channel"===e.ItemType:"folder"===e.ItemType||"space"===e.ItemType),[]);(0,r.useEffect)(()=>{const e=O.length>0?O[0].Provider:null,t=M(O,c,e);if(0===t.length)return void l(!1);const n=t.every(e=>o.has(e));n!==s&&l(n)},[o,O,c,s,M]);const P=(0,r.useCallback)((e,t)=>{i(n=>{const r=new Set(n);return t?r.add(e):r.delete(e),r})},[]),T=(0,r.useCallback)((e,t)=>{if(l(e),e){const e=M(O,c,t);i(new Set(e))}else i(new Set)},[O,c,M]),A=(0,r.useCallback)(()=>{i(new Set),l(!1)},[]),R=(0,r.useCallback)((e,t)=>{p(n=>Le(Le({},n),{},{[e]:t})),w(1)},[]),z=(0,r.useCallback)(()=>{p(Le(Le({},$f),{},{sizeMax:t})),x(""),w(1)},[t]),D=(0,r.useCallback)(e=>{p("modified"===e?e=>Le(Le({},e),{},{modifiedAfter:"",modifiedBefore:""}):"size"===e?e=>Le(Le({},e),{},{sizeMin:0,sizeMax:t}):t=>Le(Le({},t),{},{[e]:""}))},[t]),L=(0,r.useCallback)((e,t)=>{h({key:e,direction:t})},[]),B=(0,r.useCallback)(()=>{h({key:"",direction:"asc"})},[]),F=(0,r.useCallback)(e=>{w(e)},[]),H=(0,r.useCallback)(e=>{N(e),w(1)},[]),W=(0,r.useCallback)(()=>{const e=O.length>0?O[0].Provider:null,t=M(O,c,e);return t.length>0&&t.every(e=>o.has(e))},[O,c,o,M]),V=(0,r.useCallback)(()=>{const e=O.length>0?O[0].Provider:null;return M(O,c,e).some(e=>o.has(e))},[O,c,o,M]);return{selectedItems:o,selectAll:s,selectionMode:c,selectedFile:u,setSelectionMode:d,setSelectedFile:m,handleItemSelection:P,handleSelectAll:T,clearSelection:A,areAllFilesSelected:W,areSomeFilesSelected:V,filters:g,sortConfig:f,searchTerm:v,setSearchTerm:x,handleFilterChange:R,clearAllFilters:z,clearFilter:D,handleSort:L,clearSort:B,hasActiveFilters:Jf(g,t),uniqueOwnerNames:I,currentPage:k,recordsPerPage:j,totalPages:E,handlePageChange:F,handleRecordsPerPageChange:H,setCurrentPage:w,filteredItems:C,sortedItems:S,paginatedItems:O,startIndex:_,showFilters:y,setShowFilters:b}},Qf=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),eh=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),th=Ve("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),nh=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),rh=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),ah=e=>{const t=Date.now()-e,n=Math.floor(t/1e3),r=Math.floor(n/60),a=Math.floor(r/60),o=Math.floor(a/24);return n<60?"Just now":r<60?"".concat(r,"m ago"):a<24?"".concat(a,"h ago"):o<7?"".concat(o,"d ago"):new Date(e).toLocaleDateString()},oh=e=>{switch(e){case"completed":return"\u2713";case"failed":return"\u2717";case"processing":case"initiated":case"progress":return"\u27f3";default:return"\u2022"}},ih=e=>{let{folderHierarchy:t,onBack:n,onBreadcrumbClick:a,onRefresh:o,notifications:i,unreadCount:s=0,showNotifications:l,setShowNotifications:c,wsConnected:d,selectedItems:u,onExtractMetadata:m,onAddToTaxonomy:g,onClearSelection:p,onMarkNotificationAsRead:f,onMarkAllNotificationsAsRead:h,onDismissNotification:v,onClearAllNotifications:x,onClearReadNotifications:y,provider:b,fileclick:k,onToggleSection:w}=e;return(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 shadow-sm",children:(0,Ue.jsx)("div",{className:"p-4",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[(0,Ue.jsx)("button",{onClick:n,className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors flex-shrink-0",title:"Go back",children:(0,Ue.jsx)(Qf,{className:"w-5 h-5"})}),(0,Ue.jsxs)("nav",{className:"flex items-center space-x-2 overflow-x-auto flex-1 min-w-0",children:[(0,Ue.jsx)("button",{onClick:()=>a(-1),className:"text-indigo-600 dark:text-indigo-400 hover:underline whitespace-nowrap",children:"Root"}),t.map((e,n)=>(0,Ue.jsxs)(r.Fragment,{children:[(0,Ue.jsx)(Na,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,Ue.jsx)("button",{onClick:()=>a(n),className:"hover:underline whitespace-nowrap ".concat(n===t.length-1?"text-gray-900 dark:text-white font-medium":"text-indigo-600 dark:text-indigo-400"),children:e.name})]},n))]})]}),u&&u.size>0&&(0,Ue.jsx)("div",{className:"flex items-center px-4 flex-shrink-0",children:(0,Ue.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:[u.size," item",u.size>1?"s":""," selected"]})}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(()=>{const e="msteams"===b||"slack"===b;return console.log("Section Toggle Button - Should show?",e,"Provider:",b),e})()&&(0,Ue.jsx)("button",{onClick:w,title:0===k?"msteams"===b?"One-on-One Chats":"Direct Messages":"msteams"===b?"Teams":"Channels",className:"p-2 text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors rounded-lg",children:0===k?(0,Ue.jsx)(eh,{className:"w-5 h-5"}):(0,Ue.jsx)(th,{className:"w-5 h-5"})}),("msteams"===b||"slack"===b)&&(0,Ue.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,Ue.jsx)("button",{onClick:m,title:"Extract Metadata",disabled:!u||0===u.size,className:"p-2 rounded-lg transition-colors ".concat(u&&u.size>0?"text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20":"text-gray-400 dark:text-gray-600 cursor-not-allowed"),children:(0,Ue.jsx)(Ar,{className:"w-5 h-5"})}),(0,Ue.jsx)("button",{onClick:p,title:"Clear Selection",disabled:!u||0===u.size,className:"p-2 rounded-lg transition-colors ".concat(u&&u.size>0?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-400 dark:text-gray-600 cursor-not-allowed"),children:(0,Ue.jsx)(Cr,{className:"w-5 h-5"})}),(0,Ue.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1"}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsxs)("button",{onClick:()=>{c(!l),!l&&s>0&&h&&setTimeout(()=>{h()},500)},title:"".concat(s," unread notification").concat(1!==s?"s":""),className:"p-2 text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-all relative rounded-lg ".concat(s>0?"animate-pulse":""),children:[(0,Ue.jsx)(nh,{className:"w-5 h-5"}),s>0&&(0,Ue.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold animate-bounce",children:s>99?"99+":s})]}),l&&(0,Ue.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-[420px] max-h-[600px] bg-white dark:bg-gray-800 shadow-2xl rounded-lg z-50 overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col",children:[(0,Ue.jsxs)("div",{className:"p-4 bg-gradient-to-r from-indigo-500 to-indigo-600 dark:from-indigo-600 dark:to-indigo-700 border-b border-indigo-700 flex justify-between items-center",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"font-semibold text-white text-lg",children:"Notifications"}),(0,Ue.jsxs)("p",{className:"text-indigo-100 text-xs mt-0.5",children:[s," unread \u2022 ",i.length," total"]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[i.length>0&&x&&(0,Ue.jsx)("button",{onClick:x,className:"text-xs text-indigo-100 hover:text-white px-2 py-1 rounded hover:bg-indigo-700 transition-colors",title:"Clear all notifications",children:"Clear All"}),(0,Ue.jsx)("button",{onClick:()=>c(!1),className:"text-indigo-100 hover:text-white p-1 rounded hover:bg-indigo-700 transition-colors",children:(0,Ue.jsx)(Cr,{className:"w-4 h-4"})})]})]}),i.length>0&&(0,Ue.jsxs)("div",{className:"px-4 py-2 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[(0,Ue.jsxs)("div",{className:"flex gap-2",children:[s>0&&h&&(0,Ue.jsx)("button",{onClick:h,className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium",children:"Mark all read"}),i.some(e=>e.read)&&y&&(0,Ue.jsx)("button",{onClick:y,className:"text-xs text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 font-medium",children:"Clear read"})]}),d&&(0,Ue.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Ue.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Live"})]})]}),(0,Ue.jsx)("div",{className:"overflow-auto flex-1",children:0===i.length?(0,Ue.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center p-6",children:[(0,Ue.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4",children:(0,Ue.jsx)(ea,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No notifications"}),(0,Ue.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-1",children:"You're all caught up!"})]}):(0,Ue.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:i.sort((e,t)=>(t.timestamp||0)-(e.timestamp||0)).map(e=>{var t;return(0,Ue.jsxs)("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors relative group ".concat(e.read?"":"bg-indigo-50/50 dark:bg-indigo-900/10"),children:[!e.read&&(0,Ue.jsx)("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-2 h-2 bg-indigo-500 rounded-full"}),(0,Ue.jsxs)("div",{className:"flex items-start gap-3 pl-4",children:[(0,Ue.jsx)("div",{className:"mt-0.5 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold flex-shrink-0 ".concat("completed"===e.type?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"failed"===e.type?"bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400":"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400"),children:oh(e.type)}),(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,Ue.jsx)("p",{className:"text-sm leading-relaxed ".concat(e.read?"text-gray-700 dark:text-gray-300":"font-semibold text-gray-900 dark:text-white"),children:e.message}),e.dismissable&&v&&(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),v(e.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-opacity flex-shrink-0",title:"Dismiss",children:(0,Ue.jsx)(Cr,{className:"w-3 h-3 text-gray-500 dark:text-gray-400"})})]}),(0,Ue.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 truncate",children:e.document_name}),(null===(t=e.metadata)||void 0===t?void 0:t.error_message)&&(0,Ue.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.metadata.error_message]}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.timestamp?ah(e.timestamp):"Unknown"}),!e.read&&f&&(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),f(e.id)},className:"text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 font-medium",children:"Mark read"})]})]})]})]},e.id||Math.random())})})})]})]}),(0,Ue.jsx)("button",{onClick:o,title:"Refresh",className:"p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:(0,Ue.jsx)(rh,{className:"w-5 h-5"})})]})]})})})},sh=Ve("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),lh=Ve("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),ch=e=>{let{column:t,sortConfig:n,onSort:a,filters:o,onFilterChange:i,apiMaxSize:s,itemTypeOptions:l,uniqueOwnerNames:c,onClearFilter:d}=e;const[u,m]=(0,r.useState)(!1),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const p=e=>{a(t.key,e),m(!1)},f=(e,t)=>{i(e,t)},h=n.key===t.key;return(0,Ue.jsxs)("div",{className:"relative",ref:g,children:[(0,Ue.jsxs)("button",{onClick:()=>m(!u),className:"flex items-center space-x-1 ".concat("ItemType"===t.key||"OwnerName"===t.key||"status"===t.key?"text-center":"text-left"),children:[(0,Ue.jsx)("span",{children:t.label}),h&&("asc"===n.direction?(0,Ue.jsx)(sh,{className:"w-4 h-4"}):(0,Ue.jsx)(lh,{className:"w-4 h-4"})),(0,Ue.jsx)(ja,{className:"w-4 h-4"})]}),u&&(0,Ue.jsxs)("div",{className:"absolute z-10 bg-white dark:bg-gray-800 shadow-lg rounded-lg p-4 mt-2 w-64 space-y-4",children:[t.sortable&&(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Sort"}),(0,Ue.jsx)("button",{onClick:()=>p("asc"),disabled:h&&"asc"===n.direction,className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Sort Ascending"}),(0,Ue.jsx)("button",{onClick:()=>p("desc"),disabled:h&&"desc"===n.direction,className:"w-full text-left p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",children:"Sort Descending"})]}),t.filterable&&(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-700 dark:text-gray-200",children:"Filter"}),(()=>{switch(t.key){case"Name":return(0,Ue.jsx)("input",{type:"text",value:o.Name||"",onChange:e=>f("Name",e.target.value),placeholder:"Filter by name",className:"w-full p-2 border rounded"});case"ItemType":return(0,Ue.jsxs)("select",{value:o.ItemType||"",onChange:e=>f("ItemType",e.target.value),className:"w-full p-2 border rounded",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),l.map(e=>(0,Ue.jsx)("option",{value:e,children:e},e))]});case"Size":return(0,Ue.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Ue.jsx)("input",{type:"number",value:o.sizeMin||"",onChange:e=>f("sizeMin",e.target.value),placeholder:"Min size (bytes)",className:"w-full p-2 border rounded"}),(0,Ue.jsx)("input",{type:"number",value:o.sizeMax||"",onChange:e=>f("sizeMax",e.target.value),placeholder:"Max size (bytes)",className:"w-full p-2 border rounded"})]});case"ModifiedAt":return(0,Ue.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Ue.jsx)("label",{className:"text-sm text-gray-500",children:"From"}),(0,Ue.jsx)("input",{type:"date",value:o.modifiedAfter||"",onChange:e=>f("modifiedAfter",e.target.value),className:"w-full p-2 border rounded"}),(0,Ue.jsx)("label",{className:"text-sm text-gray-500",children:"To"}),(0,Ue.jsx)("input",{type:"date",value:o.modifiedBefore||"",onChange:e=>f("modifiedBefore",e.target.value),className:"w-full p-2 border rounded"})]});case"OwnerName":return(0,Ue.jsxs)("select",{value:o.OwnerName||"",onChange:e=>f("OwnerName",e.target.value),className:"w-full p-2 border rounded",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),c.map(e=>(0,Ue.jsx)("option",{value:e,children:e},e))]});case"status":return(0,Ue.jsxs)("select",{value:o.status||"",onChange:e=>f("status",e.target.value),className:"w-full p-2 border rounded",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),(0,Ue.jsx)("option",{value:"Not Scanned",children:"Not Scanned"}),(0,Ue.jsx)("option",{value:"Processing",children:"Processing"}),(0,Ue.jsx)("option",{value:"Finalizing",children:"Finalizing"}),(0,Ue.jsx)("option",{value:"Completed",children:"Completed"}),(0,Ue.jsx)("option",{value:"Error",children:"Error"})]});default:return null}})(),(0,Ue.jsxs)("button",{onClick:()=>{switch(t.key){case"Name":i("Name","");break;case"ItemType":i("ItemType","");break;case"Size":i("sizeMin",0),i("sizeMax",s);break;case"ModifiedAt":i("modifiedAfter",""),i("modifiedBefore","");break;case"OwnerName":i("OwnerName","")}m(!1)},className:"w-full text-left p-2 mt-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-900 rounded transition-colors flex items-center space-x-2",children:[(0,Ue.jsx)(Cr,{className:"w-4 h-4"}),(0,Ue.jsx)("span",{children:"Clear Filter"})]})]})]})]})},dh=e=>{let{columns:t,gridTemplate:n,selectAll:r,sortConfig:a,filters:o,onSelectAll:i,onSort:s,onFilterChange:l,onClearFilter:c,itemTypeOptions:d,uniqueOwnerNames:u,apiMaxSize:m,isAtMsTeamsRoot:g,provider:p}=e;const f=e=>!!e.filterable&&("ModifiedAt"===e.key?o.modifiedAfter||o.modifiedBefore:"Size"===e.key?0!==o.sizeMin||o.sizeMax!==m:o[e.key]&&""!==o[e.key]);return(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",style:{display:"grid",gridTemplateColumns:"confluence"===p?"".concat(n," 48px"):n},children:[t.map(e=>(0,Ue.jsx)("div",{className:"px-4 py-3 relative ".concat("OwnerName"===e.key?"text-center -ml-12":"status"===e.key?"text-center -ml-16":""),children:"checkbox"===e.key?(0,Ue.jsx)("div",{className:"flex items-center justify-center",children:(0,Ue.jsx)("input",{type:"checkbox",checked:r,disabled:g,onChange:e=>i(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded cursor-pointer focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Select all items"})}):(0,Ue.jsxs)("div",{className:"".concat("ItemType"===e.key||"OwnerName"===e.key||"status"===e.key?"flex justify-center":"flex items-center justify-between"),children:[(0,Ue.jsx)(ch,{column:e,sortConfig:a,onSort:s,filters:o,onFilterChange:l,apiMaxSize:m,itemTypeOptions:d,uniqueOwnerNames:u,onClearFilter:c}),!("ItemType"===e.key||"OwnerName"===e.key||"status"===e.key)&&(0,Ue.jsx)("div",{className:"flex items-center gap-1 flex-shrink-0",children:f(e)&&(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-indigo-500",title:"Filter active"})})]})},e.key)),"confluence"===p&&(0,Ue.jsx)("div",{className:"px-4 py-3","aria-hidden":"true"})]})},uh=e=>{let{item:t,metadataStatusCache:n}=e;if("folder"===t.ItemType||"space"===t.ItemType||"Direct Message"===t.ItemType||"channel"===t.ItemType||"team"===t.ItemType)return(0,Ue.jsx)("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:"\u2014"});const r=n[t.ID];if(!r)return(0,Ue.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-gray-400"}),(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Loading..."})]});if(r.notFound)return(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600",title:"Metadata not generated yet",children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Not Scanned"})]});if(r.error)return(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",title:"Error checking status",children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Error"})]});const{status:a,error_message:o,updated_at:i}=r,s=(null===a||void 0===a?void 0:a.toLowerCase())||"";if(o||"failed"===s)return(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",title:"Failed: ".concat(o||"Unknown error"),children:[(0,Ue.jsx)("svg",{className:"w-3 h-3 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-red-600 dark:text-red-400",children:"Failed"})]});if("completed"===s){const e=i?new Date(i).toLocaleString():"Unknown";return(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800",title:"Completed at ".concat(e),children:[(0,Ue.jsx)("svg",{className:"w-3 h-3 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Completed"})]})}if("processing"===s||"in_progress"===s||"queued"===s||"chunks_ready"===s||"embedding_in_progress"===s){const e="chunks_ready"===s?"Finalizing":"Processing";return(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800",title:"Metadata generation in progress (".concat(a,")"),children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-500 animate-pulse"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-amber-600 dark:text-amber-400",children:e})]})}return"initiated"===s||"scanned"===s||"pending"===s?(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800",title:"File scanned, awaiting processing",children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Scanned"})]}):"not_started"===s||"not started"===s?(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600",title:"Metadata not generated yet",children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Not Started"})]}):(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600",title:"Status: ".concat(a||"Unknown"),children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-400"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:a||"Unknown"})]})},mh=e=>{let{items:t,columns:n,columnWidths:r,gridTemplate:a,selectedItems:o,selectionMode:i,onItemClick:s,onItemSelection:l,isFileBeingProcessed:c,metadataStatusCache:d,onPageMetadataClick:u,isAtMsTeamsRoot:m,provider:g}=e;const p=e=>o.has(e),f=(e,t)=>{switch(t.key){case"checkbox":const t="folder"===e.ItemType||"space"===e.ItemType||"team"===e.ItemType||"Direct Message"===e.ItemType,n="file"===e.ItemType||"page"===e.ItemType||"link"===e.ItemType||"channel"===e.ItemType,r=p(e),a="google-drive"!==g&&"onedrive"!==g&&"confluence"!==g&&("folder"===i&&n||"file"===i&&t||m);return(0,Ue.jsx)("div",{className:"flex items-center justify-center",children:(0,Ue.jsx)("input",{type:"checkbox",checked:r,disabled:a,onChange:t=>{t.stopPropagation(),l(e,t.target.checked)},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded disabled:opacity-50 disabled:cursor-not-allowed"})});case"Name":return(0,Ue.jsx)("span",{className:"text-sm text-gray-900 dark:text-gray-200 truncate",title:e.Name,children:e.Name});case"ItemType":return(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center block",children:e.ItemType});case"Size":return(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:Wf(e.Size)});case"ModifiedAt":return(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.ModifiedAt).toLocaleString()});case"OwnerName":return(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400 text-center w-full block",children:e.OwnerName});case"status":return(0,Ue.jsx)("div",{className:"flex justify-center",children:(0,Ue.jsx)(uh,{item:e,metadataStatusCache:d})});default:return null}};return 0===t.length?(0,Ue.jsx)("div",{className:"py-12 text-center text-gray-500 dark:text-gray-400",children:"No items found"}):(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.map(e=>{"folder"===e.ItemType||"space"===e.ItemType||"team"===e.ItemType||e.ItemType;const t="file"===e.ItemType||"page"===e.ItemType||"link"===e.ItemType,r=p(e),o=t&&c(e.ID);return(0,Ue.jsxs)("div",{className:"transition-colors ".concat(o?"bg-amber-50/70 dark:bg-amber-900/10":r?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-gray-700/50"),style:{display:"grid",gridTemplateColumns:"confluence"===g?"".concat(a," 48px"):a},children:[n.map(t=>(0,Ue.jsx)("div",{className:"px-4 py-3 overflow-hidden ".concat("checkbox"!==t.key?"cursor-pointer":""," ").concat("center"===t.align?"flex justify-center items-center":""),onClick:n=>{"checkbox"!==t.key&&s(e)},children:f(e,t)},t.key)),"confluence"===g&&(0,Ue.jsx)("div",{className:"px-4 py-3 overflow-hidden flex items-center justify-center",children:"page"===e.ItemType&&(0,Ue.jsx)("button",{onClick:t=>{t.stopPropagation(),u&&u(e)},className:"p-1 rounded hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",title:"View file details",children:(0,Ue.jsx)("svg",{className:"w-5 h-5 text-gray-400 dark:text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})})]},e.ID)})})},gh=e=>{let{currentPage:t,recordsPerPage:n,totalPages:r,totalItems:a,onPageChange:o,onRecordsPerPageChange:i}=e;const s=(t-1)*n,l=Math.min(s+n,a);return(0,Ue.jsxs)("div",{className:"flex justify-between items-center p-4 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",s+1,"-",l," of ",a," items"]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Per page:"}),(0,Ue.jsxs)("select",{value:n,onChange:e=>i(Number(e.target.value)),className:"px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-indigo-500",children:[(0,Ue.jsx)("option",{value:50,children:"50"}),(0,Ue.jsx)("option",{value:100,children:"100"}),(0,Ue.jsx)("option",{value:500,children:"500"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>o(t-1),disabled:1===t,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",t," of ",r]}),(0,Ue.jsx)("button",{onClick:()=>o(t+1),disabled:t>=r,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})},ph=e=>{let{items:t,loading:n,error:r,selectedItems:a,selectAll:o,selectionMode:i,sortConfig:s,filters:l,provider:c,fileclick:d,folderHierarchy:u,itemTypeOptions:m,uniqueOwnerNames:g,apiMaxSize:p,currentPage:f,recordsPerPage:h,totalPages:v,totalItems:x,onItemClick:y,onItemSelection:b,onSelectAll:k,onSort:w,onFilterChange:j,onClearFilter:N,onPageChange:C,onRecordsPerPageChange:S,isFileBeingProcessed:E,metadataStatusCache:_,onPageMetadataClick:O}=e;const I="msteams"===c&&(!u||0===u.length),M={checkbox:"48px",Name:"2fr",ItemType:"1fr",Size:"1fr",ModifiedAt:"1.5fr",OwnerName:"1.5fr",status:"1.2fr"},P=(()=>{const e=[{key:"checkbox",label:"",resizable:!1,filterable:!1,sortable:!1},{key:"Name",label:"Name",resizable:!1,filterable:!0,sortable:!0},{key:"ItemType",label:"confluence"===c?"Content Type":"Type",resizable:!1,filterable:!0,sortable:!0},{key:"ModifiedAt",label:"msteams"===c?"Created":"Modified",resizable:!1,filterable:!0,sortable:!0},{key:"OwnerName",label:"confluence"===c?"Creator":"onedrive"===c?"Created By":"Owner",resizable:!1,filterable:!0,sortable:!0},{key:"status",label:"Status",resizable:!1,filterable:!0,sortable:!1}];return"confluence"!==c&&e.splice(3,0,{key:"Size",label:"Size",resizable:!1,filterable:!0,sortable:!0}),e})(),T=P.map(e=>M[e.key]).join(" ");return n?(0,Ue.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):r?(0,Ue.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,Ue.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-lg",children:["Error: ",r]})}):(0,Ue.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Ue.jsx)("div",{className:"flex-1 overflow-auto",children:(0,Ue.jsxs)("div",{className:"min-w-full",children:[(0,Ue.jsx)(dh,{columns:P,gridTemplate:T,selectAll:o,sortConfig:s,filters:l,onSelectAll:k,onSort:w,onFilterChange:j,onClearFilter:N,itemTypeOptions:m,uniqueOwnerNames:g,apiMaxSize:p,isAtMsTeamsRoot:I,provider:c}),(0,Ue.jsx)(mh,{items:t,columns:P,gridTemplate:T,selectedItems:a,selectionMode:i,onItemClick:y,onItemSelection:b,isFileBeingProcessed:E,metadataStatusCache:_,onPageMetadataClick:O,isAtMsTeamsRoot:I,provider:c})]})}),(0,Ue.jsx)(gh,{currentPage:f,recordsPerPage:h,totalPages:v,totalItems:x,onPageChange:C,onRecordsPerPageChange:S})]})},fh=Ve("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),hh=Ve("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),vh=e=>{let{selectedFile:t,onClose:n,formatFileSize:a}=e;const o="N/A",i=/Document sensitivity:\s*(HIGH|LOW)\s*\n*/gi,s=/Document category:\s*([^\n\r]+)\s*\n*/gi,[l,c]=(0,r.useState)("overview");(0,r.useEffect)(()=>{c("overview")},[null===t||void 0===t?void 0:t.ID]);const[d,u]=(0,r.useState)(()=>{const e=localStorage.getItem("fileExplorerDetailsPanelWidth");return e?parseInt(e):450}),[m,g]=(0,r.useState)(!1),p=[{id:"overview",label:"Overview",icon:Ar},{id:"technical",label:"Technical",icon:Ba},{id:"semantic",label:"Semantic",icon:fh},{id:"attributes",label:"Attributes",icon:jr},{id:"knowledge",label:"Knowledge Graph",icon:hh},{id:"security",label:"Sensitivity",icon:oa}],f=e=>{if(!e)return o;if(e.document_summary){const t=e.document_summary.match(s);if(t&&t[1])return t[1].trim()}return e.document_category||o},h=e=>{if(!e)return o;let t=e.replace(i,"");return t=t.replace(s,""),t.trim()||o};(0,r.useEffect)(()=>{if(!m)return;const e=e=>{var t;const n=null===(t=document.getElementById("file-explorer-container"))||void 0===t?void 0:t.getBoundingClientRect();if(!n)return;const r=n.right-e.clientX,a=Math.min(Math.max(r,350),800);u(a)},t=()=>{g(!1),document.body.style.cursor="",document.body.style.userSelect=""};return document.body.style.cursor="col-resize",document.body.style.userSelect="none",document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t),document.body.style.cursor="",document.body.style.userSelect=""}},[m,350,800]),(0,r.useEffect)(()=>{localStorage.setItem("fileExplorerDetailsPanelWidth",d.toString())},[d]);return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("style",{children:"\n    /* Webkit browsers (Chrome, Safari, Edge) */\n    .slim-scrollbar::-webkit-scrollbar {\n      width: 6px !important;\n      height: 6px !important;\n    }\n    \n    .slim-scrollbar::-webkit-scrollbar-track {\n      background: transparent;\n      width: 6px !important;\n    }\n    \n    .slim-scrollbar::-webkit-scrollbar-track:hover {\n      background: transparent;\n      width: 6px !important;\n    }\n    \n    .slim-scrollbar::-webkit-scrollbar-thumb {\n      background: linear-gradient(\n        to bottom,\n        transparent 0%,\n        transparent 15%,\n        rgba(156, 163, 175, 0.4) 15%,\n        rgba(156, 163, 175, 0.4) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n      border-radius: 10px;\n      width: 6px !important;\n    }\n    \n    .slim-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: linear-gradient(\n        to bottom,\n        transparent 0%,\n        transparent 15%,\n        rgba(156, 163, 175, 0.7) 15%,\n        rgba(156, 163, 175, 0.7) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n      width: 6px !important;\n    }\n    \n    /* Horizontal scrollbar thumb */\n    .slim-scrollbar::-webkit-scrollbar-thumb:horizontal {\n      background: linear-gradient(\n        to right,\n        transparent 0%,\n        transparent 15%,\n        rgba(156, 163, 175, 0.4) 15%,\n        rgba(156, 163, 175, 0.4) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n    }\n    \n    .slim-scrollbar::-webkit-scrollbar-thumb:horizontal:hover {\n      background: linear-gradient(\n        to right,\n        transparent 0%,\n        transparent 15%,\n        rgba(156, 163, 175, 0.7) 15%,\n        rgba(156, 163, 175, 0.7) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n    }\n    \n    .slim-scrollbar::-webkit-scrollbar-corner {\n      background: transparent;\n    }\n    \n    .dark .slim-scrollbar::-webkit-scrollbar-thumb {\n      background: linear-gradient(\n        to bottom,\n        transparent 0%,\n        transparent 15%,\n        rgba(75, 85, 99, 0.4) 15%,\n        rgba(75, 85, 99, 0.4) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n    }\n    \n    .dark .slim-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: linear-gradient(\n        to bottom,\n        transparent 0%,\n        transparent 15%,\n        rgba(75, 85, 99, 0.7) 15%,\n        rgba(75, 85, 99, 0.7) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n    }\n    \n    /* Dark mode horizontal scrollbar thumb */\n    .dark .slim-scrollbar::-webkit-scrollbar-thumb:horizontal {\n      background: linear-gradient(\n        to right,\n        transparent 0%,\n        transparent 15%,\n        rgba(75, 85, 99, 0.4) 15%,\n        rgba(75, 85, 99, 0.4) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n    }\n    \n    .dark .slim-scrollbar::-webkit-scrollbar-thumb:horizontal:hover {\n      background: linear-gradient(\n        to right,\n        transparent 0%,\n        transparent 15%,\n        rgba(75, 85, 99, 0.7) 15%,\n        rgba(75, 85, 99, 0.7) 85%,\n        transparent 85%,\n        transparent 100%\n      );\n    }\n    \n    /* Firefox */\n    .slim-scrollbar {\n      scrollbar-width: thin;\n      scrollbar-color: rgba(156, 163, 175, 0.4) transparent;\n    }\n    \n    .dark .slim-scrollbar {\n      scrollbar-color: rgba(75, 85, 99, 0.4) transparent;\n    }\n  "}),(0,Ue.jsxs)("div",{className:"w-1 bg-gray-300 dark:bg-gray-600 hover:bg-indigo-500 dark:hover:bg-indigo-400 cursor-col-resize transition-colors relative group ".concat(m?"bg-indigo-500 dark:bg-indigo-400":""),onMouseDown:e=>{e.preventDefault(),g(!0)},onDoubleClick:()=>{u(450)},title:"Drag to resize \u2022 Double-click to reset",style:{flexShrink:0,position:"sticky",top:"1rem",height:"calc(100vh - 2rem)",alignSelf:"flex-start"},children:[(0,Ue.jsx)("div",{className:"absolute inset-y-0 -left-1 -right-1 group-hover:bg-indigo-500/20 dark:group-hover:bg-indigo-400/20 transition-colors"}),(0,Ue.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Ue.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Ue.jsx)("div",{className:"w-0.5 h-0.5 bg-white rounded-full"}),(0,Ue.jsx)("div",{className:"w-0.5 h-0.5 bg-white rounded-full"}),(0,Ue.jsx)("div",{className:"w-0.5 h-0.5 bg-white rounded-full"})]})})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl dark:shadow-gray-900/50 overflow-hidden flex flex-col relative border border-gray-200 dark:border-gray-700 transition-all duration-200",style:{width:"".concat(d,"px"),flexShrink:0,marginLeft:"4px",position:"sticky",top:"1rem",maxHeight:"calc(100vh - 4rem)",alignSelf:"flex-start",zIndex:10},children:[m&&(0,Ue.jsxs)("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 bg-indigo-600 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-lg",children:[d,"px"]}),(0,Ue.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center flex-shrink-0",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 truncate",children:"File Details"}),(0,Ue.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",title:t.Name,children:t.Name})]}),(0,Ue.jsx)("button",{onClick:()=>{n(),c("overview")},className:"ml-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 flex-shrink-0",children:"\u2715"})]}),t.metadata?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700 flex-shrink-0 overflow-x-auto slim-scrollbar",children:(0,Ue.jsx)("div",{className:"flex",children:p.map(e=>{const t=e.icon,n=l===e.id;return(0,Ue.jsxs)("button",{onClick:()=>c(e.id),className:"flex items-center gap-1.5 px-3 py-2.5 text-xs font-medium whitespace-nowrap border-b-2 transition-colors flex-shrink-0 ".concat(n?"border-indigo-600 text-indigo-600 dark:border-indigo-400 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,Ue.jsx)(t,{className:"w-3.5 h-3.5"}),(0,Ue.jsx)("span",{className:"hidden sm:inline",children:e.label})]},e.id)})})}),(0,Ue.jsxs)("div",{className:"p-4 flex-1 overflow-y-auto slim-scrollbar",children:["overview"===l&&(e=>{var t;if(null===e||void 0===e||!e.semantic_metadata)return(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No metadata available for this file."});const n=(e=>{const t={entities:0,attributes:0,relationships:0,tags:0};if(null!==e&&void 0!==e&&e.semantic_metadata){var n,r,a;t.entities=(null===(n=e.semantic_metadata.entities)||void 0===n?void 0:n.length)||0;const o=(null===(r=e.semantic_metadata.attributes)||void 0===r?void 0:r.length)||0,i=e.semantic_metadata.custom_metadata?Object.keys(e.semantic_metadata.custom_metadata).length:0;t.attributes=o+i,t.relationships=(null===(a=e.semantic_metadata.ontology)||void 0===a?void 0:a.length)||0,t.tags=e.semantic_metadata.tags?Object.keys(e.semantic_metadata.tags).length:0}return t})(e),r=(null===(t=e.semantic_metadata.entities)||void 0===t?void 0:t.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{}))||{};return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:n.entities}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Entities"})]}),(0,Ue.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:n.attributes}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Attributes"})]}),(0,Ue.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:n.relationships}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Relationships"})]}),(0,Ue.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:n.tags}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tag Categories"})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Document Summary"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:h(e.semantic_metadata.document_summary)}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-3 text-xs",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Category:"})," ",f(e.semantic_metadata)]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Sensitivity:"})," ",e.semantic_metadata.document_sensitivity||e.semantic_metadata.sensitivity||o]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Language:"})," ",e.semantic_metadata.language||o]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Last Analyzed:"})," ",e.semantic_metadata.last_analyzed?new Date(e.semantic_metadata.last_analyzed).toLocaleString():o]})]})]}),Object.keys(r).length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Entity Distribution"}),(0,Ue.jsx)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(r).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:t}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n})]},t)})})]}),e.semantic_metadata.key_phrases&&e.semantic_metadata.key_phrases.length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Key Phrases"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1",children:e.semantic_metadata.key_phrases.slice(0,10).map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:e},t))})]})]})})(t.metadata),"technical"===l&&((e,t)=>{var n,r,i,s,l,c;return null!==e&&void 0!==e&&e.syntactic_metadata?(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"File Information"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(null===(n=e.syntactic_metadata)||void 0===n||null===(r=n.properties)||void 0===r?void 0:r.web_url)&&(null===(i=e.syntactic_metadata)||void 0===i?void 0:i.name)&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Name:"}),(0,Ue.jsx)("div",{className:"mt-1",children:(0,Ue.jsxs)("a",{href:e.syntactic_metadata.properties.web_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline inline-flex items-center gap-1 break-all",children:[e.syntactic_metadata.name,(0,Ue.jsx)(Fr,{className:"w-3 h-3 flex-shrink-0"})]})})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"ID:"}),(0,Ue.jsx)("div",{className:"font-mono text-xs mt-1 break-all",children:t.ID})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Provider:"}),(0,Ue.jsx)("div",{className:"mt-1",children:e.syntactic_metadata.provider||o})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Path:"}),(0,Ue.jsx)("div",{className:"font-mono text-xs mt-1 break-all",children:e.syntactic_metadata.path||o})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),(0,Ue.jsx)("div",{className:"mt-1",children:a(t.Size)})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Owner:"}),(0,Ue.jsx)("div",{className:"mt-1",children:t.OwnerName||o})]}),(null===(s=e.semantic_metadata)||void 0===s?void 0:s.content_type)&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Content Type:"}),(0,Ue.jsx)("div",{className:"mt-1",children:e.semantic_metadata.content_type})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Timestamps"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Created:"}),(0,Ue.jsx)("div",{className:"mt-1",children:e.syntactic_metadata.created_at?new Date(e.syntactic_metadata.created_at).toLocaleString():o})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Modified:"}),(0,Ue.jsx)("div",{className:"mt-1",children:e.syntactic_metadata.modified_at?new Date(e.syntactic_metadata.modified_at).toLocaleString():o})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Accessed:"}),(0,Ue.jsx)("div",{className:"mt-1",children:e.syntactic_metadata.accessed_at?new Date(e.syntactic_metadata.accessed_at).toLocaleString():o})]}),(null===(l=e.metadata_status)||void 0===l?void 0:l.last_scanned_at)&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Last Scanned:"}),(0,Ue.jsx)("div",{className:"mt-1",children:new Date(e.metadata_status.last_scanned_at).toLocaleString()})]}),(null===(c=e.metadata_status)||void 0===c?void 0:c.last_metadata_gen_at)&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Last Metadata Generated:"}),(0,Ue.jsx)("div",{className:"mt-1",children:new Date(e.metadata_status.last_metadata_gen_at).toLocaleString()})]})]})]})]}):(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No technical metadata available."})})(t.metadata,t),"semantic"===l&&(v=t.metadata,null!==v&&void 0!==v&&v.semantic_metadata?(0,Ue.jsxs)("div",{className:"space-y-4",children:[v.semantic_metadata.entities&&v.semantic_metadata.entities.length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Entities (",v.semantic_metadata.entities.length,")"]}),(0,Ue.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto slim-scrollbar",children:v.semantic_metadata.entities.map((e,t)=>(0,Ue.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,Ue.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded",children:e.type}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Confidence: ",(100*e.confidence).toFixed(1),"%"]})]}),(0,Ue.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 mb-1",children:Array.isArray(e.value)?e.value.join(", "):e.value}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Count: ",e.count]})]},t))})]}),v.semantic_metadata.tags&&Object.keys(v.semantic_metadata.tags).length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),(0,Ue.jsx)("div",{className:"space-y-2",children:Object.entries(v.semantic_metadata.tags).map((e,t)=>{let[n,r]=e;return(0,Ue.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,Ue.jsx)("span",{className:"font-medium text-sm text-gray-900 dark:text-gray-100",children:n}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Weight: ",r.weight?(100*r.weight).toFixed(1)+"%":o]})]}),r.tags&&Array.isArray(r.tags)&&(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1",children:r.tags.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded",children:e},t))})]},t)})})]}),v.semantic_metadata.classification&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Classification"}),(0,Ue.jsxs)("div",{className:"space-y-2",children:[v.semantic_metadata.classification.labels&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Labels:"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:v.semantic_metadata.classification.labels.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs rounded-full",children:e},t))})]}),v.semantic_metadata.classification.categories&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Categories:"}),(0,Ue.jsx)("div",{className:"mt-2 space-y-1",children:Object.entries(v.semantic_metadata.classification.categories).map((e,t)=>{let[n,r]=e;return(0,Ue.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:n}),(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.weight?(100*r.weight).toFixed(1)+"%":""})]}),r.categories&&(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:r.categories.join(", ")})]},t)})})]})]})]})]}):(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No semantic metadata available."})),"attributes"===l&&(e=>{var t,n;const r=(null===e||void 0===e||null===(t=e.semantic_metadata)||void 0===t?void 0:t.attributes)||[],a=(null===e||void 0===e||null===(n=e.semantic_metadata)||void 0===n?void 0:n.custom_metadata)||{},o=Object.entries(a);if(0===r.length&&0===o.length)return(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No attributes found for this document."});const i=e=>"object"===typeof e&&null!==e?(0,Ue.jsx)("pre",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 p-1 rounded whitespace-pre-wrap",children:JSON.stringify(e,null,2)}):"boolean"===typeof e?e?"True":"False":String(e);return(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-3",children:(0,Ue.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Document Attributes (",r.length+o.length,")"]})}),(0,Ue.jsx)("div",{className:"overflow-x-auto slim-scrollbar",children:(0,Ue.jsxs)("table",{className:"w-full text-xs",children:[(0,Ue.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-3 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Attribute"}),(0,Ue.jsx)("th",{className:"px-3 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Value"})]})}),(0,Ue.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[r.map((e,t)=>(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,Ue.jsx)("td",{className:"px-3 py-2 text-gray-600 dark:text-gray-400 font-medium",children:e.attribute}),(0,Ue.jsx)("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100",children:e.value})]},"attr-".concat(t))),o.map((e,t)=>{let[n,r]=e;return(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,Ue.jsx)("td",{className:"px-3 py-2 text-teal-600 dark:text-teal-400 font-medium",children:n}),(0,Ue.jsx)("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100",children:i(r)})]},"custom-attr-".concat(t))})]})]})})]})})(t.metadata),"knowledge"===l&&(e=>{var t;const n=(null===e||void 0===e||null===(t=e.semantic_metadata)||void 0===t?void 0:t.ontology)||[];return 0===n.length?(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No relationships found for this document."}):(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center",children:(0,Ue.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Knowledge Relationships (",n.length,")"]})}),(0,Ue.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,Ue.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsxs)("div",{className:"flex-1 bg-blue-100 dark:bg-blue-900/30 px-2 py-1.5 rounded text-xs",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Subject"}),(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.subject})]}),(0,Ue.jsx)("div",{className:"flex-shrink-0 px-2 py-1 bg-purple-100 dark:bg-purple-900/30 rounded",children:(0,Ue.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:e.relationship})}),(0,Ue.jsxs)("div",{className:"flex-1 bg-green-100 dark:bg-green-900/30 px-2 py-1.5 rounded text-xs",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-0.5",children:"Object"}),(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.object})]})]})},t))})]})})(t.metadata),"security"===l&&(e=>{var t,n,r,a,i,s;if(null===e||void 0===e||!e.semantic_metadata)return(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No security metadata available."});const l=e.semantic_metadata.document_sensitivity||e.semantic_metadata.sensitivity,c=e.semantic_metadata.sensitivity||{},d=e.semantic_metadata.pii_detected||e.semantic_metadata.tags&&e.semantic_metadata.tags.PII||(null===(t=e.semantic_metadata.classification)||void 0===t||null===(n=t.labels)||void 0===n?void 0:n.includes("PII")),u=c.classification_provenance||{},m=e=>null===e||void 0===e?o:"boolean"===typeof e?e?"True":"False":Array.isArray(e)?e.length>0?e.join(", "):o:"object"===typeof e?JSON.stringify(e,null,2):String(e);return(0,Ue.jsxs)("div",{className:"space-y-4 pb-20",children:[(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Sensitivity Level"}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)(ta,{className:"w-6 h-6 ".concat("high"===(null===l||void 0===l?void 0:l.toLowerCase())?"text-red-500":"text-green-500")}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-xl font-bold ".concat("high"===(null===l||void 0===l?void 0:l.toLowerCase())?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:l||"UNKNOWN"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Document Sensitivity"})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"PII Detection"}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)(aa,{className:"w-6 h-6 ".concat(d?"text-amber-500":"text-gray-400")}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-lg font-bold ".concat(d?"text-amber-600 dark:text-amber-400":"text-gray-600 dark:text-gray-400"),children:d?"PII Detected":"No PII Detected"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Personal Identifiable Information"})]})]}),d&&(null===(r=e.semantic_metadata.tags)||void 0===r?void 0:r.PII)&&(0,Ue.jsxs)("div",{className:"mt-3",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"PII Types Found:"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(a=e.semantic_metadata.tags.PII.tags)||void 0===a?void 0:a.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs rounded-full",children:e},t))}),(0,Ue.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Weight: ",e.semantic_metadata.tags.PII.weight?(100*e.semantic_metadata.tags.PII.weight).toFixed(1)+"%":"N/A"]})]})]}),(null===(i=e.semantic_metadata.classification)||void 0===i?void 0:i.labels)&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Security Labels"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-2",children:e.semantic_metadata.classification.labels.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs rounded-full font-medium",children:e},t))})]}),(null===(s=e.syntactic_metadata)||void 0===s?void 0:s.permissions)&&e.syntactic_metadata.permissions.length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Permissions"}),(0,Ue.jsx)("div",{className:"space-y-2",children:e.syntactic_metadata.permissions.map((e,t)=>(0,Ue.jsx)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded text-xs",children:(0,Ue.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"})," ",e.type]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"User:"})," ",e.userID]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Role:"})," ",e.role]})]})},t))})]}),Object.keys(c).length>0&&(0,Ue.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-800 space-y-3",children:[(0,Ue.jsxs)("h4",{className:"text-base font-bold text-indigo-900 dark:text-indigo-100 mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(ta,{className:"w-5 h-5"}),"Sensitivity Classification"]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Detailed Sensitivity Information"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Level:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m(c.level)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Keyword:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m(c.keyword)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Security Classification:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m(c.security_classification)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Sensitivity Score:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:m(c.sensitivity_score)})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Classification Provenance"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Classification Method:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.classification_method)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Classified At:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:u.classified_at?new Date(u.classified_at).toLocaleString():o})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Classified By:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.classified_by)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Confidence Score:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.confidence_score)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"ML Model Version:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.ml_model_version)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Requires Review:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.requires_review)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Level Escalated:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.level_escalated)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"LLM Original Level:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:m(u.llm_original_level)})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg mb-0",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Additional Metadata"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Regulatory Scope:"}),(0,Ue.jsx)("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:m(c.regulatory_scope)})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Data Categories:"}),(0,Ue.jsx)("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:m(c.data_categories)})]})]})]})]})]})})(t.metadata)]})]}):(0,Ue.jsx)("div",{className:"flex items-center justify-center flex-1 p-8",children:(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto mb-3"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Loading metadata..."})]})})]})]});var v},xh={success:(0,Ue.jsx)(Ur,{className:"w-5 h-5"}),error:(0,Ue.jsx)(Kr,{className:"w-5 h-5"}),warning:(0,Ue.jsx)(Qr,{className:"w-5 h-5"}),info:(0,Ue.jsx)(ea,{className:"w-5 h-5"})},yh={success:"bg-green-100 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-300",error:"bg-red-100 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300",warning:"bg-yellow-100 border-yellow-200 text-yellow-700 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",info:"bg-blue-100 border-blue-200 text-blue-700 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-300"},bh=e=>{let{toast:t,onRemove:n}=e;const{id:a,type:o,message:i}=t,s=xh[o]||xh.info,l=yh[o]||yh.info;return(0,r.useEffect)(()=>{const e=setTimeout(()=>{n(a)},5e3);return()=>{clearTimeout(e)}},[a,n]),(0,Ue.jsx)("div",{className:"relative w-full max-w-sm p-4 overflow-hidden border rounded-lg shadow-lg ".concat(l),children:(0,Ue.jsxs)("div",{className:"flex items-start",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0",children:s}),(0,Ue.jsx)("div",{className:"flex-1 ml-3",children:(0,Ue.jsx)("p",{className:"text-sm font-medium",children:i})}),(0,Ue.jsx)("div",{className:"flex-shrink-0 ml-4",children:(0,Ue.jsxs)("button",{onClick:()=>n(a),className:"inline-flex text-current rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,Ue.jsx)("span",{className:"sr-only",children:"Close"}),(0,Ue.jsx)(Cr,{className:"w-4 h-4"})]})})]})})},kh=e=>{let{toasts:t,onRemove:n}=e;return(0,Ue.jsx)("div",{className:"fixed top-5 right-5 z-50 space-y-3",children:t.map(e=>(0,Ue.jsx)(bh,{toast:e,onRemove:n},e.id))})},wh=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var jh=n(569),Nh=n.n(jh);const Ch=e=>{if(!e)return"Never";const t=new Date(e),n=new Date,r=Math.floor((n-t)/1e3);let a=r/31536e3;return a>1?Math.floor(a)+" years ago":(a=r/2592e3,a>1?Math.floor(a)+" months ago":(a=r/86400,a>1?Math.floor(a)+" days ago":(a=r/3600,a>1?Math.floor(a)+" hours ago":(a=r/60,a>1?Math.floor(a)+" minutes ago":Math.floor(r)+" seconds ago"))))},Sh=e=>{let{instructions:t,selected:n,onSelect:r,onSearch:a,onCreateNew:o}=e;return(0,Ue.jsxs)("div",{className:"space-y-3",children:[(0,Ue.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Search saved instructions...",onChange:e=>a(e.target.value),className:"w-full px-4 py-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),t.map(e=>(0,Ue.jsxs)("button",{onClick:()=>r(e),className:"w-full p-4 text-left border-2 rounded-lg transition-colors ".concat((null===n||void 0===n?void 0:n.prompt_id)===e.prompt_id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-500"),children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ue.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),(null===n||void 0===n?void 0:n.prompt_id)===e.prompt_id&&(0,Ue.jsx)(Ur,{className:"w-5 h-5 text-indigo-600"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Last used: ",Ch(e.last_used_at)]})]},e.prompt_id)),(0,Ue.jsx)("button",{onClick:o,className:"w-full px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/40",children:"+ Create New Instructions"})]})},Eh=Ve("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),_h=e=>{let{instruction:t,onChange:n,onEnhance:a,enhancing:o}=e;const[i,s]=(0,r.useState)({name:"",description:"",instructions:"",outputFields:[],enhanceWithAI:!1});(0,r.useEffect)(()=>{var e,n;t?s({name:t.name||"",description:t.description||"",instructions:t.instructions||(null===(e=t.prompt_content)||void 0===e?void 0:e.system_prompt)||"",outputFields:null!==(n=t.prompt_content)&&void 0!==n&&n.output_format?Object.entries(t.prompt_content.output_format).map(e=>{let[t,n]=e;return{name:t,type:n}}):t.outputFields||[],enhanceWithAI:t.enhanceWithAI||!1}):s({name:"",description:"",instructions:"",outputFields:[],enhanceWithAI:!1})},[t]);const l=(e,t)=>{const r=Le(Le({},i),{},{[e]:t});s(r),n(r)};return(0,Ue.jsxs)("div",{className:"space-y-4 p-4 mt-4 bg-gray-50 rounded-lg border dark:bg-gray-700/50 dark:border-gray-600",children:[(0,Ue.jsx)("input",{type:"text",placeholder:"Instruction Title *",value:i.name,onChange:e=>l("name",e.target.value),className:"w-full px-4 py-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,Ue.jsx)("textarea",{placeholder:"Description (optional)",value:i.description,onChange:e=>l("description",e.target.value),rows:2,className:"w-full px-4 py-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,Ue.jsx)("textarea",{placeholder:"What information should be extracted? *",value:i.instructions,onChange:e=>l("instructions",e.target.value),rows:6,maxLength:4e3,className:"w-full px-4 py-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,Ue.jsxs)("p",{className:"text-xs text-right text-gray-500 dark:text-gray-400",children:[i.instructions.length,"/4000 characters"]}),(0,Ue.jsx)("button",{onClick:a,disabled:o||!i.instructions,className:"w-full flex items-center justify-center gap-2 px-4 py-2 text-sm font-medium text-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/40 disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-indigo-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enhancing..."]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(Eh,{className:"w-4 h-4"}),"Enhance with AI"]})})]})},Oh=e=>{let{open:t,onClose:n,onConfirm:a,selectedItems:o,provider:i}=e;const{user:s}=(0,r.useContext)(Sr),[l,c]=(0,r.useState)("system"),[d,u]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[h,v]=(0,r.useState)(!1),{prompts:x,loading:y,error:b,createInstruction:k,updateInstruction:w,fetchInstructions:j}=(()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)(null),s=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a(!0),i(null);try{let n="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/prompts");e&&(n+="?search=".concat(e));const r=await fetch(n,{credentials:"include",headers:{Accept:"application/json"}});if(!r.ok)throw new Error("Failed to fetch instructions");{const e=await r.json();t(e.prompts||[])}}catch(n){i(n.message),console.error("Error fetching instructions:",n)}finally{a(!1)}},[]),l=(0,r.useCallback)(async e=>{try{const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/prompts"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const e=(await n.json()).data;return t(t=>[e,...t]),{success:!0,instruction:e}}{const e=await n.json();throw new Error(e.message||"Failed to create instruction")}}catch(n){return{success:!1,error:n.message}}},[]),c=(0,r.useCallback)(async(e,n)=>{try{const r=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/prompts/").concat(e),{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok){const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/prompts/").concat(e),{credentials:"include",headers:{Accept:"application/json"}});if(n.ok){const r=await n.json();return t(t=>t.map(t=>t.prompt_id===e?r:t)),{success:!0,instruction:r}}return s(),{success:!0,instruction:null}}{const e=await r.json();throw new Error(e.message||"Failed to update instruction")}}catch(r){return{success:!1,error:r.message}}},[s]),d=(0,r.useCallback)(async e=>{try{if((await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/prompts/").concat(e),{method:"DELETE",credentials:"include"})).ok)return t(t=>t.filter(t=>t.prompt_id!==e)),{success:!0};throw new Error("Failed to delete instruction")}catch(n){return{success:!1,error:n.message}}},[]);return{prompts:e,loading:n,error:o,fetchInstructions:s,createInstruction:l,updateInstruction:c,deleteInstruction:d}})(null===s||void 0===s||s.id),{showToast:N}=Yf(null===s||void 0===s?void 0:s.id,i),C=(0,r.useRef)(null),S=(0,r.useRef)(null),E=(0,r.useMemo)(()=>Nh()(e=>{j(e)},300),[j]);(0,r.useEffect)(()=>{t&&j(p)},[p,t,j]);const _=(0,r.useMemo)(()=>{return"system"===l||("custom"===l&&d?(null===(e=d.name)||void 0===e?void 0:e.trim())&&(null===(t=d.instructions)||void 0===t?void 0:t.trim()):"saved"===l&&null!==d);var e,t},[l,d]),O=(0,r.useCallback)(e=>{t&&"Escape"===e.key&&n()},[t,n]),I=e=>{c(e),u(null),g(!1),"custom"===e&&u({name:"",description:"",instructions:"",outputFields:[],enhanceWithAI:!1})},M=e=>{u(t=>Le(Le({},t),e)),m||g(!0)},P=async()=>{if(null!==d&&void 0!==d&&d.instructions){v(!0);try{let t=d.prompt_id;if(!t){const e={name:d.name||"Untitled Draft",description:d.description,scope:{type:"file_type",file_types:["*"]},prompt_content:{system_prompt:d.instructions,extraction_instructions:d.instructions.split("\n"),output_format:d.outputFields.reduce((e,t)=>(e[t.name]=t.type,e),{})}},n=await k(e);if(!n.success)return N("Error: Could not save a draft to start enhancement.","error"),void v(!1);t=n.instruction.prompt_id,u(n=>Le(Le({},n),{},{prompt_id:t,name:e.name}))}const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/prompts/").concat(t,"/enhance"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({preserve_original:!1})});if(n.ok){const t=await n.json();if(t&&t.enhanced_prompt){var e;const n=(null===(e=t.enhanced_prompt.extraction_instructions)||void 0===e?void 0:e.join("\n"))||"";u(e=>Le(Le({},e),{},{instructions:n})),g(!0),N("Instruction enhanced successfully. Review the changes.","success")}}else{const e=await n.text();N("Error: Enhancement failed. ".concat(e),"error")}}catch(t){N("Error: An unexpected error occurred during enhancement.","error")}finally{v(!1)}}else N("Please enter some instructions to enhance.","error")};return(0,r.useEffect)(()=>(document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)),[O]),(0,Ue.jsx)("div",{ref:C,className:"fixed top-0 right-0 h-full w-[450px] bg-white dark:bg-gray-800 \n      shadow-2xl transform transition-transform duration-300 ease-in-out z-40 \n      ".concat(t?"translate-x-0":"translate-x-full"),role:"complementary","aria-label":"Metadata extraction configuration panel","aria-hidden":!t,children:(0,Ue.jsxs)("div",{className:"h-full flex flex-col",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0 p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Metadata Extraction"}),(0,Ue.jsx)("button",{ref:S,onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400  dark:hover:text-gray-200 rounded-lg transition-colors","aria-label":"Close extraction panel",children:(0,Ue.jsx)(Cr,{className:"w-5 h-5"})})]})}),(0,Ue.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,Ue.jsx)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:(0,Ue.jsxs)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Selected Files: ",(0,Ue.jsx)("span",{className:"font-semibold",children:o.length})," documents"]})}),(0,Ue.jsxs)("div",{className:"space-y-4",role:"radiogroup","aria-label":"Extraction method",children:[(0,Ue.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2  \n              rounded-lg cursor-pointer transition-colors ".concat("system"===l?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[(0,Ue.jsx)("input",{type:"radio",name:"extraction-method",value:"system",checked:"system"===l,onChange:()=>I("system"),className:"mt-1 text-indigo-600"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)(_a,{className:"w-5 h-5 text-indigo-600"}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"System Default"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Quick extraction with standard semantic analysis"})]})]}),(0,Ue.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2  \n              rounded-lg cursor-pointer transition-colors ".concat("saved"===l?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[(0,Ue.jsx)("input",{type:"radio",name:"extraction-method",value:"saved",checked:"saved"===l,onChange:()=>I("saved"),className:"mt-1 text-indigo-600"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)(wh,{className:"w-5 h-5 text-indigo-600"}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Saved Instructions"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Use and adapt previously saved instructions"})]})]}),(0,Ue.jsxs)("label",{className:"flex items-start gap-3 p-4 border-2  \n              rounded-lg cursor-pointer transition-colors ".concat("custom"===l?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50"),children:[(0,Ue.jsx)("input",{type:"radio",name:"extraction-method",value:"custom",checked:"custom"===l,onChange:()=>I("custom"),className:"mt-1 text-indigo-600"}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)(Ea,{className:"w-5 h-5 text-indigo-600"}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Custom Instruction"})]}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Create a new, single-use instruction from scratch"})]})]})]}),"custom"===l&&(0,Ue.jsx)(_h,{instruction:d,onChange:M,onEnhance:P,enhancing:h}),"saved"===l&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(Sh,{instructions:x,selected:d,onSelect:e=>{u(e),g(!1)},onSearch:E,onCreateNew:()=>I("custom")}),d&&(0,Ue.jsx)(_h,{instruction:d,onChange:M,onEnhance:P,enhancing:h})]}),(0,Ue.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[(0,Ue.jsxs)("p",{children:["\u2022 ",o.length," files will be processed"]}),(0,Ue.jsx)("p",{children:"\u2022 Estimated time: 2-3 minutes"}),(0,Ue.jsx)("p",{children:"\u2022 Real-time status updates"})]})]}),(0,Ue.jsx)("div",{className:"flex-shrink-0 p-6 border-t border-gray-200 dark:border-gray-700  bg-gray-50 dark:bg-gray-900",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,Ue.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700  dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300  dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:async()=>{if(!_)return;let e=null,t=null;if("custom"===l||"saved"===l&&m){const n={name:d.name,description:d.description,scope:{type:"file_type",file_types:["*"]},prompt_content:{system_prompt:d.instructions,extraction_instructions:d.instructions.split("\n"),output_format:d.outputFields.reduce((e,t)=>(e[t.name]=t.type,e),{})}};let r;if(d.prompt_id&&m?r=await w(d.prompt_id,n):d.prompt_id||(r=await k(n)),r&&r.success)e=r.instruction.prompt_id,t=r.instruction.version;else{if(r)return void N("Error: Failed to ".concat(d.prompt_id?"update":"save"," instruction."),"error");e=d.prompt_id,t=d.version}}else"saved"===l&&d&&(e=d.prompt_id,t=d.version);a({method:"system"===l?"system":"custom",instructionId:e,instructionVersion:t})},disabled:!_,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white  bg-indigo-600 dark:bg-indigo-500 rounded-lg hover:bg-indigo-700  dark:hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Extraction"})]})})]})})},Ih=e=>{let{items:t=[],allItems:n=[],loading:a,error:o,provider:i,selectedItems:s,onItemSelection:l,onSelectAll:c,onItemClick:d,currentPage:u,selectAll:m,selectionMode:g,recordsPerPage:p,totalPages:f,totalItems:h,onPageChange:v,onRecordsPerPageChange:x,onSort:y}=e;const[b]=(0,r.useState)("table"),[k,w]=(0,r.useState)(null),j=Array.isArray(t)?t:[],N=(s instanceof Set&&Array.from(s),e=>s.has(e)),C=e=>{w(k===e?null:e)};(0,r.useEffect)(()=>{const e=e=>{k&&!e.target.closest("th")&&w(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[k]);return a?(0,Ue.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsxs)("svg",{className:"animate-spin h-12 w-12 mx-auto mb-4 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",children:[(0,Ue.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ue.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading vectors..."})]})}):o?(0,Ue.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("svg",{className:"w-12 h-12 mx-auto mb-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,Ue.jsx)("p",{className:"text-red-600 dark:text-red-400",children:o})]})}):(0,Ue.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-gray-800",children:[(0,Ue.jsx)("div",{className:"flex-1 overflow-auto p-6",children:0===j.length?(0,Ue.jsxs)("div",{className:"text-center py-12",children:[(0,Ue.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No documents found"})]}):(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-900 border-b-2 border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"w-12 px-4 py-3 text-center",children:(0,Ue.jsx)("input",{type:"checkbox",checked:m,onClick:e=>e.stopPropagation(),onChange:e=>{e.stopPropagation(),c(e.target.checked)},className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),(0,Ue.jsx)("th",{className:"px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300",children:"ID"}),(0,Ue.jsxs)("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-wide relative",children:[(0,Ue.jsxs)("button",{onClick:()=>C("name"),className:"flex items-center gap-1 hover:text-indigo-600 dark:hover:text-indigo-400",children:["Name",(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),"name"===k&&(0,Ue.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:(0,Ue.jsxs)("div",{className:"py-1",children:[(0,Ue.jsx)("button",{onClick:()=>{null===y||void 0===y||y("name","asc"),w(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sort Ascending"}),(0,Ue.jsx)("button",{onClick:()=>{null===y||void 0===y||y("name","desc"),w(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sort Descending"})]})})]}),(0,Ue.jsx)("th",{className:"px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300",children:"Dimensions"}),(0,Ue.jsx)("th",{className:"px-4 py-3 text-left text-sm text-gray-700 dark:text-gray-300",children:"Properties"}),j.some(e=>void 0!==e.Score)&&(0,Ue.jsxs)("th",{className:"px-4 py-3 text-left text-sm font-bold text-gray-900 dark:text-gray-100 uppercase tracking-wide relative",children:[(0,Ue.jsxs)("button",{onClick:()=>C("score"),className:"flex items-center gap-1 hover:text-indigo-600 dark:hover:text-indigo-400",children:["Score",(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),"score"===k&&(0,Ue.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10 min-w-[180px]",children:(0,Ue.jsxs)("div",{className:"py-1",children:[(0,Ue.jsx)("button",{onClick:()=>{null===y||void 0===y||y("score","asc"),w(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sort Ascending"}),(0,Ue.jsx)("button",{onClick:()=>{null===y||void 0===y||y("score","desc"),w(null)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sort Descending"})]})})]})]})}),(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>{const t=(e=>{var t,n,r;return null!==(t=e.Vector)&&void 0!==t&&t.length?e.Vector.length:null!==(n=e.Properties)&&void 0!==n&&null!==(r=n.embedding)&&void 0!==r&&r.length?e.Properties.embedding.length:null})(e),n=(e=>{const t=e.Properties||e.Metadata||{};return Object.entries(t).filter(e=>{let[t]=e;return"embedding"!==t&&"_field_mappings"!==t&&!t.startsWith("_")})})(e);return(0,Ue.jsxs)("tr",{onClick:()=>d(e),className:"cursor-pointer transition-colors ".concat(N(e)?"bg-indigo-50 dark:bg-indigo-900/20":"hover:bg-gray-50 dark:hover:bg-gray-750"),children:[(0,Ue.jsx)("td",{className:"px-4 py-4",children:(0,Ue.jsx)("input",{type:"checkbox",checked:N(e),onClick:e=>e.stopPropagation(),onChange:t=>{t.stopPropagation(),l(e,t.target.checked)},className:"w-5 h-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"})}),(0,Ue.jsx)("td",{className:"px-4 py-4",children:(0,Ue.jsx)("div",{className:"flex items-center gap-2",children:(0,Ue.jsx)("span",{className:"text-sm font-mono text-gray-900 dark:text-white truncate max-w-xs",title:e.ID,children:e.ID})})}),(0,Ue.jsx)("td",{className:"px-4 py-4",children:(0,Ue.jsx)("span",{className:"text-sm text-gray-900 dark:text-white truncate max-w-xs block",title:e.Name,children:e.Name||"-"})}),(0,Ue.jsx)("td",{className:"px-4 py-4",children:(0,Ue.jsx)("span",{className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium",children:t||"N/A"})}),(0,Ue.jsx)("td",{className:"px-4 py-4",children:(0,Ue.jsx)("div",{className:"text-sm text-gray-900 dark:text-white max-w-md",children:n.length>0?(0,Ue.jsxs)("div",{className:"space-y-1",children:[n.slice(0,2).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"truncate",children:[(0,Ue.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[t,":"]})," ",(0,Ue.jsx)("span",{className:"font-mono",children:String(n).substring(0,50)})]},t)}),n.length>2&&(0,Ue.jsxs)("span",{className:"text-xs text-indigo-600 dark:text-indigo-400",children:["+",n.length-2," more"]})]}):(0,Ue.jsx)("span",{className:"text-gray-400",children:"No properties"})})}),j.some(e=>void 0!==e.Score)&&(0,Ue.jsx)("td",{className:"px-4 py-4",children:void 0!==e.Score&&(0,Ue.jsxs)("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[(100*e.Score).toFixed(2),"%"]})})]},e.ID)})})]})})}),j.length>0&&(0,Ue.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(u-1)*p+1,"-",Math.min(u*p,h)," of ",h," items"]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Per page:"}),(0,Ue.jsxs)("select",{value:p,onChange:e=>x(Number(e.target.value)),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",children:[(0,Ue.jsx)("option",{value:50,children:"50"}),(0,Ue.jsx)("option",{value:100,children:"100"}),(0,Ue.jsx)("option",{value:500,children:"500"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>v(u-1),disabled:1===u,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm text-gray-700 dark:text-gray-300",children:"Previous"}),(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",u," of ",f]}),(0,Ue.jsx)("button",{onClick:()=>v(u+1),disabled:u===f,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm text-gray-700 dark:text-gray-300",children:"Next"})]})]})]})})]})},Mh=e=>{let{items:t,allItems:n,loading:a,error:o,provider:i,selectedItems:s,onItemSelection:l,onSelectAll:c,onItemClick:d,currentPage:u,recordsPerPage:m,totalPages:g,totalItems:p,onPageChange:f,onRecordsPerPageChange:h}=e;const[v,x]=(0,r.useState)("table"),[y,b]=(0,r.useState)(""),k=e=>s.some(t=>t.ID===e.ID),w=()=>{switch(i){case"elasticsearch":return(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M13.115 2.372l7.43 12.868a1.5 1.5 0 010 1.52l-7.43 12.868a1.5 1.5 0 01-1.298.75H4.183a1.5 1.5 0 01-1.298-.75L.453 16.76a1.5 1.5 0 010-1.52L7.885 2.372a1.5 1.5 0 011.298-.75h6.634a1.5 1.5 0 011.298.75z"})});case"pinecone":return(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})});default:return(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{d:"M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"})})}},j=t.filter(e=>{var t,n,r;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(y.toLowerCase()))||(null===(r=e.type)||void 0===r?void 0:r.toLowerCase().includes(y.toLowerCase()))});return a?(0,Ue.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):o?(0,Ue.jsxs)("div",{className:"text-center py-8",children:[(0,Ue.jsx)("div",{className:"text-red-500 mb-2",children:"Error loading database items"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-500",children:o})]}):(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:w()}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Database Explorer"}),(0,Ue.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i," \u2022 ",p," items"]})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>x("table"),className:"p-2 rounded-lg ".concat("table"===v?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"),children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M3 14h18m-9-4v8m-7 0V4a1 1 0 011-1h16a1 1 0 011 1v16a1 1 0 01-1 1H4a1 1 0 01-1-1z"})})}),(0,Ue.jsx)("button",{onClick:()=>x("grid"),className:"p-2 rounded-lg ".concat("grid"===v?"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400":"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"),children:(0,Ue.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]})]}),(0,Ue.jsxs)("div",{className:"relative",children:[(0,Ue.jsx)("input",{type:"text",placeholder:"Search database items...",value:y,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 focus:border-transparent"}),(0,Ue.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),"table"===v?(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden",children:(0,Ue.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:(0,Ue.jsx)("input",{type:"checkbox",checked:s.length===j.length&&j.length>0,onChange:c,className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Size"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Modified"})]})}),(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer ".concat(k(e)?"bg-indigo-50 dark:bg-indigo-900/20":""),onClick:()=>d(e),children:[(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ue.jsx)("input",{type:"checkbox",checked:k(e),onChange:t=>{t.stopPropagation(),l(e,t.target.checked)},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0 h-8 w-8",children:(0,Ue.jsx)("div",{className:"h-8 w-8 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center",children:w()})}),(0,Ue.jsxs)("div",{className:"ml-4",children:[(0,Ue.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name||e.ID}),(0,Ue.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description||"Database item"})]})]})}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ue.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",children:e.type||"Document"})}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.size?"".concat((e.size/1024).toFixed(1)," KB"):"N/A"}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.modified?new Date(e.modified).toLocaleDateString():"N/A"})]},e.ID))})]})}):(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(e=>(0,Ue.jsxs)("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-md transition-shadow cursor-pointer ".concat(k(e)?"ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"bg-white dark:bg-gray-800"),onClick:()=>d(e),children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("input",{type:"checkbox",checked:k(e),onChange:t=>{t.stopPropagation(),l(e,t.target.checked)},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),(0,Ue.jsx)("div",{className:"h-8 w-8 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center",children:w()})]}),(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 rounded",children:e.type||"Document"})]}),(0,Ue.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white mb-1",children:e.name||e.ID}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:e.description||"Database item"}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500",children:[e.size?"".concat((e.size/1024).toFixed(1)," KB"):"N/A"," \u2022 ",e.modified?new Date(e.modified).toLocaleDateString():"N/A"]})]},e.ID))}),g>1&&(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",(u-1)*m+1," to ",Math.min(u*m,p)," of ",p," items"]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>f(u-1),disabled:1===u,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,Ue.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Page ",u," of ",g]}),(0,Ue.jsx)("button",{onClick:()=>f(u+1),disabled:u===g,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})},Ph=()=>{var e;const{user:t}=(0,r.useContext)(Sr),{sourceId:n}=function(){let{matches:e}=r.useContext(J),t=e[e.length-1];return t?t.params:{}}(),a=ee(),o=ne(),i=new URLSearchParams(a.search),s=i.get("provider"),l=i.get("connectionId"),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)("files"),[f,h]=(0,r.useState)(null),[v,x]=(0,r.useState)(!0),[y,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(l&&null!==t&&void 0!==t&&t.authenticated)try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/connections/by-id/").concat(l),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.ok){const t=await e.json();h(t)}}catch(C){console.error("Error fetching connection details:",C)}finally{x(!1)}else x(!1)})()},[l,t]);const{items:j,loading:N,error:C,isConnected:S,connectionChecking:E,apiMaxSize:_,folderHierarchy:O,fileclick:I,setFileclick:M,navigateToFolder:P,navigateBack:T,navigateToBreadcrumb:A,navigateToRoot:R,refreshItems:z,extractMetadata:D,addToTaxonomy:L,providerInstance:B,isFileBeingProcessed:F,metadataStatusCache:H,notifications:W,unreadCount:V,showNotifications:q,setShowNotifications:U,wsConnected:K,toasts:G,showToast:X,removeToast:Y,markNotificationAsRead:$,markAllNotificationsAsRead:Z,dismissNotification:Q,clearAllNotifications:te,clearReadNotifications:re,triggerImmediateStatusPoll:ae,savedCurrentPage:oe,setSavedCurrentPage:ie,savedRecordsPerPage:se,setSavedRecordsPerPage:le}=Yf(n,s,l),{selectedItems:ce,selectAll:de,selectionMode:ue,selectedFile:me,setSelectedFile:ge,handleItemSelection:pe,handleSelectAll:fe,clearSelection:he,filters:ve,sortConfig:xe,handleFilterChange:ye,clearAllFilters:be,clearFilter:ke,handleSort:we,clearSort:je,hasActiveFilters:Ne,uniqueOwnerNames:Ce,currentPage:Se,recordsPerPage:Ee,totalPages:_e,handlePageChange:Oe,handleRecordsPerPageChange:Ie,paginatedItems:Me,sortedItems:Pe,setCurrentPage:Te}=Zf(j,_,oe,se);(0,r.useEffect)(()=>{ie(Se)},[Se,ie]),(0,r.useEffect)(()=>{le(Ee)},[Ee,le]),(0,r.useEffect)(()=>{p("elasticsearch"===s||"opensearch"===s||"bigquery"===s||"pinecone"===s||"alloydb"===s||"pgvector"===s||"amazonrds"===s||"qdrant"===s||"vertexai"===s?"vectors":"mysql"===s||"postgresql"===s||"mongodb"===s?"database":"files")},[s]);(0,r.useEffect)(()=>{(async()=>{if(me&&!me.metadata){m(!0);try{if("link"===me.ItemType&&me.WebURL){console.log("[fetchMetadata] Detected link item:",me.Name);const e=await(async e=>{try{const t="link-"+encodeURIComponent(e),n="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search?url=").concat(t),r=await fetch(n,{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});return r.ok?await r.json():(console.warn("[fetchMetadataForLink] No metadata found for link"),null)}catch(C){return console.error("Error fetching link metadata:",C),null}})(me.WebURL);d(Le(Le({},me),{},{metadata:e}))}else{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/").concat(me.ID),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.ok){const t=await e.json();d(Le(Le({},me),{},{metadata:t}))}else d(me)}}catch(C){console.error("Error fetching metadata:",C),d(me)}finally{m(!1)}}else me&&me.metadata?d(me):d(null)})()},[me,n,t]);const Ae=async e=>{try{m(!0);const t=await B.fetchMetadata(e.ID);d(Le(Le({},e),{},{metadata:t||null})),ge(Le(Le({},e),{},{metadata:t||null}))}catch(C){console.error("Error fetching page metadata:",C),d(e)}finally{m(!1)}},Re=e=>{"confluence"!==s||"page"!==e.ItemType&&"space"!==e.ItemType?B.canNavigate(e)?(P(e),he(),ge(null),d(null),Te(1),ie(1)):(B.isSelectableFile(e)||"link"===e.ItemType)&&ge(e):(P(e),he(),ge(null),d(null),Te(1),ie(1),le(qf))},ze=async(e,t,n,r,a)=>{const o={selectedFiles:[]};if(0===e.length)return o;const i=[];if(e.forEach(e=>{var n,r;const a=t.find(t=>t.ID===e);if(a)if("file"===a.ItemType||"channel"===a.ItemType)i.push(a.ID);else if("channel_conversation"===(null===(n=a.Properties)||void 0===n?void 0:n.item_type)){var o;let e=null===(o=a.Properties)||void 0===o?void 0:o.channel_id;!e&&a.ID.startsWith("conversation-")?e=a.ID.replace("conversation-",""):e||(e=a.ID),i.push(e)}else"link"===(null===(r=a.Properties)||void 0===r?void 0:r.item_type)&&a.WebURL&&i.push("link-".concat(encodeURIComponent(a.WebURL)))}),o.selectedFiles=[...new Set(i)],1===a&&r)o.ChatID=r;else{var s;const e=n.length>0?null===(s=n[0])||void 0===s?void 0:s.id:null;e&&(o.teamId=e)}return o},De=async(e,t,n,r)=>{const a={};if(0===e.length)return a;const o=e.map(e=>t.find(t=>t.ID===e)).filter(e=>"Direct Message"===(null===e||void 0===e?void 0:e.ItemType)).map(e=>e.ID),i=e.map(e=>t.find(t=>t.ID===e)).filter(e=>"file"===(null===e||void 0===e?void 0:e.ItemType)).map(e=>e.ID),s=e.map(e=>t.find(t=>t.ID===e)).filter(e=>"channel"===(null===e||void 0===e?void 0:e.ItemType));let l=[...i],c=[];if(o.length>0||s.length>0)try{var d,u;const e=null===(d=t[0])||void 0===d||null===(u=d.Properties)||void 0===u?void 0:u.user_id,n=await Promise.all([...o,...s.map(e=>e.ID)].map(async n=>{try{const a=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/storage/slack/folder/").concat(n,"?userId=").concat(e),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"}});if(!a.ok)return console.error("Could not fetch files for Slack item ".concat(n,":"),a.status),[];const o=((await a.json()).items||[]).filter(e=>{var t;return Array.isArray(null===(t=e.Properties)||void 0===t?void 0:t.files)}).flatMap(e=>e.Properties.files.map(e=>e.id)),i=t.find(e=>e.ID===n);return 0===r&&"channel"===(null===i||void 0===i?void 0:i.ItemType)&&c.push("conversation-".concat(n)),o}catch(a){return console.error("Error fetching files for Slack item ".concat(n,":"),a),[]}}));l.push(...n.flat())}catch(m){throw console.error("Error fetching Slack files:",m),new Error("Failed to fetch Slack files")}return a.selectedFiles=[...new Set([...l,...c])],a.processType="both",a.recursive=!0,a};return t?v?(0,Ue.jsx)(Wr,{children:(0,Ue.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}):(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 flex flex-col h-screen overflow-hidden bg-gray-50 dark:bg-gray-900",children:[f&&(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-3",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)("div",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null===(e=f.Metadata)||void 0===e?void 0:e.sourceName)||s}),(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"\u2022"}),(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vectors"===g?"Vector Database":"database"===g?"Database":"File Storage"})]}),(0,Ue.jsxs)("button",{onClick:()=>o("/connect"),className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-700 dark:hover:text-indigo-300 flex items-center gap-1",children:[(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Connections"]})]})}),(0,Ue.jsx)(ih,{folderHierarchy:O,onBack:()=>T(o),onBreadcrumbClick:e=>{-1===e?R():A(e),he(),ge(null),d(null),Te(1),ie(1)},onRefresh:z,notifications:W,unreadCount:V,showNotifications:q,setShowNotifications:U,wsConnected:K,selectedItems:ce,onExtractMetadata:()=>{0!==ce.size?(ge(null),d(null),b(!0)):X("warning","Please select files first")},onAddToTaxonomy:async()=>{(await L(ce,"dummy-id")).success&&he()},onClearSelection:he,onMarkNotificationAsRead:$,onMarkAllNotificationsAsRead:Z,onDismissNotification:Q,onClearAllNotifications:te,onClearReadNotifications:re,viewMode:g,onViewModeChange:p,provider:s,fileclick:I,onToggleSection:async()=>{const e=0===I?1:0;M(e),he(),ge(null),d(null),Te(1),ie(1),await R(e),console.log("[Toggle Section] Now viewing: ".concat(0===e?"Teams/Channels":"One-on-One Chats/DMs"))}}),(0,Ue.jsxs)("div",{id:"file-explorer-container",className:"flex-1 flex overflow-hidden",children:[(0,Ue.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col",children:(()=>{switch(g){case"vectors":return(0,Ue.jsx)(Ih,{items:Me,allItems:Pe,loading:N,error:C,provider:s,selectedItems:ce,onItemSelection:pe,selectAll:de,selectionMode:ue,onSelectAll:fe,onItemClick:Re,currentPage:Se,recordsPerPage:Ee,totalPages:_e,totalItems:Pe.length,onPageChange:Oe,onRecordsPerPageChange:Ie});case"database":return(0,Ue.jsx)(Mh,{items:Me,allItems:Pe,loading:N,error:C,provider:s,selectedItems:ce,onItemSelection:pe,onSelectAll:fe,onItemClick:Re,currentPage:Se,recordsPerPage:Ee,totalPages:_e,totalItems:Pe.length,onPageChange:Oe,onRecordsPerPageChange:Ie});default:return(0,Ue.jsx)(ph,{items:Me,allItems:Pe,loading:N,error:C,selectedItems:ce,selectAll:de,selectionMode:ue,sortConfig:xe,filters:ve,provider:s,fileclick:I,folderHierarchy:O,itemTypeOptions:B.getItemTypeOptions(),uniqueOwnerNames:Ce,hasActiveFilters:Ne,apiMaxSize:_,currentPage:Se,recordsPerPage:Ee,totalPages:_e,totalItems:Pe.length,onItemClick:Re,onItemSelection:pe,onSelectAll:fe,onSort:we,onClearSort:je,onFilterChange:ye,onClearFilter:ke,onClearAllFilters:be,onPageChange:Oe,onRecordsPerPageChange:Ie,isFileBeingProcessed:F,metadataStatusCache:H,onPageMetadataClick:Ae})}})()}),c&&(0,Ue.jsx)(vh,{selectedFile:c,onClose:()=>{ge(null),d(null)},formatFileSize:e=>{if(!e)return"N/A";const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1024&&n<t.length-1;)r/=1024,n++;return"".concat(r.toFixed(2)," ").concat(t[n])}})]}),(0,Ue.jsx)(kh,{toasts:G,onRemove:Y}),y&&(0,Ue.jsx)(Oh,{open:y,onClose:()=>b(!1),onConfirm:async e=>{b(!1),w(!0);try{var t;let a;a="alloydb"===s||"amazonrds"===s||"pgvector"===s?"".concat("https://dev-services.produktiv.ai","/api/v1/metadata/postgresql/scan"):"".concat("https://dev-services.produktiv.ai","/api/v1/metadata/").concat(s,"/scan");const o=Array.from(ce).map(e=>e.ID);let i={};const c=O.length>0?null===(t=O[O.length-1])||void 0===t?void 0:t.id:null;"msteams"===s?i=await ze(o,j,O,c,I):"slack"===s?i=await De(o,j,c,I):(i={selectedFiles:o,processType:"both",recursive:!0},"alloydb"!==s&&"amazonrds"!==s&&"pgvector"!==s||(i.provider=s),"google-drive"===s&&c?i.folderId=c:"confluence"===s&&(i.includePages=!0)),l&&(i.connectionId=l),"custom"===e.method&&e.instructionId&&(i.prompt_id=e.instructionId);const d=await fetch(a,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!d.ok){let e="Extraction failed";try{const t=await d.json();e=t.message||t.error||e}catch(n){try{e=await d.text()||e}catch(r){e=d.statusText||e}}throw new Error(e)}{X("Metadata extraction started for ".concat(ce.size," files."),"success");const e=Array.from(ce).map(e=>e.ID);ae(e),he()}}catch(C){console.error("Metadata extraction error:",C),X("Error: ".concat(C.message),"error")}finally{w(!1)}},selectedItems:Array.from(ce),provider:s})]})}):(0,Ue.jsx)(Wr,{children:(0,Ue.jsx)("div",{className:"p-6 text-center",children:"Please log in to view files."})})};var Th=n(139),Ah=n.n(Th);function Rh(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var zh=Rh()?r.useLayoutEffect:r.useEffect,Dh=function(e,t){var n=r.useRef(!0);zh(function(){return e(n.current)},t),zh(function(){return n.current=!1,function(){n.current=!0}},[])},Lh=function(e,t){Dh(function(t){if(!t)return e()},t)};const Bh=Dh;function Fh(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach(function(e){delete n[e]}),n}var Hh=n(816);function Wh(e,t,n){var a=r.useRef({});return"value"in a.current&&!n(a.current.condition,t)||(a.current.value=e(),a.current.condition=t),a.current.value}var Vh=Symbol.for("react.element"),qh=Symbol.for("react.transitional.element"),Uh=Symbol.for("react.fragment");function Kh(e){return e&&"object"===Ae(e)&&(e.$$typeof===Vh||e.$$typeof===qh)&&e.type===Uh}var Gh=Number(r.version.split(".")[0]),Xh=function(e,t){"function"===typeof e?e(t):"object"===Ae(e)&&e&&"current"in e&&(e.current=t)},Yh=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach(function(t){Xh(t,e)})}},$h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wh(function(){return Yh.apply(void 0,t)},t,function(e,t){return e.length!==t.length||e.every(function(e,n){return e!==t[n]})})},Jh=function(e){var t,n;if(!e)return!1;if(Zh(e)&&Gh>=19)return!0;var r=(0,Hh.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===Hh.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===Hh.ForwardRef)};function Zh(e){return(0,r.isValidElement)(e)&&!Kh(e)}var Qh=function(e){if(e&&Zh(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};const ev=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var a=e.getBoundingClientRect(),o=a.width,i=a.height;if(o||i)return!0}}return!1},tv="ant",nv="anticon",rv=["outlined","borderless","filled","underlined"],av=r.createContext({getPrefixCls:(e,t)=>t||(e?"".concat(tv,"-").concat(e):tv),iconPrefixCls:nv}),{Consumer:ov}=av,iv={};function sv(e){const t=r.useContext(av),{getPrefixCls:n,direction:a,getPopupContainer:o}=t,i=t[e];return Object.assign(Object.assign({classNames:iv,styles:iv},i),{getPrefixCls:n,direction:a,getPopupContainer:o})}function lv(e){return e&&r.isValidElement(e)&&e.type===r.Fragment}const cv=(e,t,n)=>r.isValidElement(e)?r.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t;function dv(e,t){return cv(e,e,t)}function uv(e){if(Array.isArray(e))return e}function mv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gv(e,t){if(e){if("string"==typeof e)return mv(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mv(e,t):void 0}}function pv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fv(e,t){return uv(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||gv(e,t)||pv()}function hv(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function vv(e){return function(e){if(Array.isArray(e))return mv(e)}(e)||hv(e)||gv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const xv=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};function yv(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var bv="data-rc-order",kv="data-rc-priority",wv=new Map;function jv(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function Nv(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Cv(e){return Array.from((wv.get(e)||e).children).filter(function(e){return"STYLE"===e.tagName})}function Sv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Rh())return null;var n=t.csp,r=t.prepend,a=t.priority,o=void 0===a?0:a,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===i,l=document.createElement("style");l.setAttribute(bv,i),s&&o&&l.setAttribute(kv,"".concat(o)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var c=Nv(t),d=c.firstChild;if(r){if(s){var u=(t.styles||Cv(c)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(bv)))return!1;var t=Number(e.getAttribute(kv)||0);return o>=t});if(u.length)return c.insertBefore(l,u[u.length-1].nextSibling),l}c.insertBefore(l,d)}else c.appendChild(l);return l}function Ev(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Nv(t);return(t.styles||Cv(n)).find(function(n){return n.getAttribute(jv(t))===e})}function _v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ev(e,t);n&&Nv(t).removeChild(n)}function Ov(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Nv(n),a=Cv(r),o=Le(Le({},n),{},{styles:a});!function(e,t){var n=wv.get(e);if(!n||!yv(document,n)){var r=Sv("",t),a=r.parentNode;wv.set(e,a),e.removeChild(r)}}(r,o);var i=Ev(t,o);if(i){var s,l,c;if(null!==(s=o.csp)&&void 0!==s&&s.nonce&&i.nonce!==(null===(l=o.csp)||void 0===l?void 0:l.nonce))i.nonce=null===(c=o.csp)||void 0===c?void 0:c.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var d=Sv(e,o);return d.setAttribute(jv(o),t),d}var Iv={},Mv=[];function Pv(e,t){}function Tv(e,t){}function Av(e,t,n){t||Iv[n]||(e(!1,n),Iv[n]=!0)}function Rv(e,t){Av(Pv,e,t)}Rv.preMessage=function(e){Mv.push(e)},Rv.resetWarned=function(){Iv={}},Rv.noteOnce=function(e,t){Av(Tv,e,t)};const zv=Rv;const Dv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.has(t);if(zv(!i,"Warning: There may be circular references"),i)return!1;if(t===a)return!0;if(n&&o>1)return!1;r.add(t);var s=o+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],a[l],s))return!1;return!0}if(t&&a&&"object"===Ae(t)&&"object"===Ae(a)){var c=Object.keys(t);return c.length===Object.keys(a).length&&c.every(function(n){return e(t[n],a[n],s)})}return!1}(e,t)};function Lv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Re(r.key),r)}}function Fv(e,t,n){return t&&Bv(e.prototype,t),n&&Bv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hv(e){return e.join("%")}var Wv=function(){function e(t){Lv(this,e),ze(this,"instanceId",void 0),ze(this,"cache",new Map),ze(this,"extracted",new Set),this.instanceId=t}return Fv(e,[{key:"get",value:function(e){return this.opGet(Hv(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(Hv(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}();const Vv=Wv;var qv="data-token-hash",Uv="data-css-hash",Kv="__cssinjs_instance__";function Gv(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(Uv,"]"))||[],n=document.head.firstChild;Array.from(t).forEach(function(t){t[Kv]=t[Kv]||e,t[Kv]===e&&document.head.insertBefore(t,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Uv,"]"))).forEach(function(t){var n,a=t.getAttribute(Uv);r[a]?t[Kv]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[a]=!0})}return new Vv(e)}var Xv=r.createContext({hashPriority:"low",cache:Gv(),defaultCache:!0});const Yv=Xv;var $v="CALC_UNIT";new RegExp($v,"g");var Jv=function(){function e(){Lv(this,e),ze(this,"cache",void 0),ze(this,"keys",void 0),ze(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Fv(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a={map:this.cache};return e.forEach(function(e){var t;a?a=null===(t=a)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):a=void 0}),null!==(t=a)&&void 0!==t&&t.value&&r&&(a.value[1]=this.cacheCallTimes++),null===(n=a)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(e,t){var n=fv(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e},[this.keys[0],this.cacheCallTimes]),o=fv(a,1)[0];this.delete(o)}this.keys.push(t)}var i=this.cache;t.forEach(function(e,a){if(a===t.length-1)i.set(e,{value:[n,r.cacheCallTimes++]});else{var o=i.get(e);o?o.map||(o.map=new Map):i.set(e,{map:new Map}),i=i.get(e).map}})}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var a=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),a}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter(function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)}),this.deleteByPath(this.cache,e)}}]),e}();ze(Jv,"MAX_CACHE_SIZE",20),ze(Jv,"MAX_CACHE_OFFSET",5);var Zv=0,Qv=function(){function e(t){Lv(this,e),ze(this,"derivatives",void 0),ze(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=Zv,0===t.length&&t.length,Zv+=1}return Fv(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce(function(t,n){return n(e,t)},void 0)}}]),e}(),ex=new Jv;function tx(e){var t=Array.isArray(e)?e:[e];return ex.has(t)||ex.set(t,new Qv(t)),ex.get(t)}var nx=new WeakMap,rx={};var ax=new WeakMap;function ox(e){var t=ax.get(e)||"";return t||(Object.keys(e).forEach(function(n){var r=e[n];t+=n,r instanceof Qv?t+=r.id:r&&"object"===Ae(r)?t+=ox(r):t+=r}),t=xv(t),ax.set(e,t)),t}function ix(e,t){return xv("".concat(t,"_").concat(ox(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var sx=Rh();function lx(e){return"number"===typeof e?"".concat(e,"px"):e}function cx(e,t,n){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var r=Le(Le({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},ze(ze({},qv,t),Uv,n)),a=Object.keys(r).map(function(e){var t=r[e];return t?"".concat(e,'="').concat(t,'"'):null}).filter(function(e){return e}).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var dx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ux=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map(function(e){var t=fv(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")}).join(""),"}"):""},mx=function(e,t,n){var r={},a={};return Object.entries(e).forEach(function(e){var t,o,i=fv(e,2),s=i[0],l=i[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[s])a[s]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(o=n.ignore)||void 0===o||!o[s])){var c,d=dx(s,null===n||void 0===n?void 0:n.prefix);r[d]="number"!==typeof l||null!==n&&void 0!==n&&null!==(c=n.unitless)&&void 0!==c&&c[s]?String(l):"".concat(l,"px"),a[s]="var(".concat(d,")")}}),[a,ux(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},gx=Le({},a).useInsertionEffect;const px=gx?function(e,t,n){return gx(function(){return e(),t()},n)}:function(e,t,n){r.useMemo(e,n),Bh(function(){return t(!0)},n)};const fx="undefined"!==typeof Le({},a).useInsertionEffect?function(e){var t=[],n=!1;return r.useEffect(function(){return n=!1,function(){n=!0,t.length&&t.forEach(function(e){return e()})}},e),function(e){n||t.push(e)}}:function(){return function(e){e()}};const hx=function(){return!1};function vx(e,t,n,a,o){var i=r.useContext(Yv).cache,s=Hv([e].concat(vv(t))),l=fx([s]),c=(hx(),function(e){i.opUpdate(s,function(t){var r=fv(t||[void 0,void 0],2),a=r[0];var o=[void 0===a?0:a,r[1]||n()];return e?e(o):o})});r.useMemo(function(){c()},[s]);var d=i.opGet(s)[1];return px(function(){null===o||void 0===o||o(d)},function(e){return c(function(t){var n=fv(t,2),r=n[0],a=n[1];return e&&0===r&&(null===o||void 0===o||o(d)),[r+1,a]}),function(){i.opUpdate(s,function(t){var n=fv(t||[],2),r=n[0],o=void 0===r?0:r,c=n[1];return 0===o-1?(l(function(){!e&&i.opGet(s)||null===a||void 0===a||a(c,!1)}),null):[o-1,c]})}},[s]),d}var xx={},yx=new Map;function bx(e,t){yx.set(e,(yx.get(e)||0)-1);var n=new Set;yx.forEach(function(e,t){e<=0&&n.add(t)}),yx.size-n.size>0&&n.forEach(function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(qv,'="').concat(e,'"]')).forEach(function(e){var n;e[Kv]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))})}(e,t),yx.delete(e)})}var kx="token";function wx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,r.useContext)(Yv),o=a.cache.instanceId,i=a.container,s=n.salt,l=void 0===s?"":s,c=n.override,d=void 0===c?xx:c,u=n.formatToken,m=n.getComputedToken,g=n.cssVar,p=function(e,t){for(var n=nx,r=0;r<t.length;r+=1){var a=t[r];n.has(a)||n.set(a,new WeakMap),n=n.get(a)}return n.has(rx)||n.set(rx,e()),n.get(rx)}(function(){return Object.assign.apply(Object,[{}].concat(vv(t)))},t),f=ox(p),h=ox(d),v=g?ox(g):"",x=vx(kx,[l,e.id,f,h,v],function(){var t,n=m?m(p,d,e):function(e,t,n,r){var a=Le(Le({},n.getDerivativeToken(e)),t);return r&&(a=r(a)),a}(p,d,e,u),r=Le({},n),a="";if(g){var o=fv(mx(n,g.key,{prefix:g.prefix,ignore:g.ignore,unitless:g.unitless,preserve:g.preserve}),2);n=o[0],a=o[1]}var i=ix(n,l);n._tokenKey=i,r._tokenKey=ix(r,l);var s=null!==(t=null===g||void 0===g?void 0:g.key)&&void 0!==t?t:i;n._themeKey=s,function(e){yx.set(e,(yx.get(e)||0)+1)}(s);var c="".concat("css","-").concat(xv(i));return n._hashId=c,[n,c,r,a,(null===g||void 0===g?void 0:g.key)||""]},function(e){bx(e[0]._themeKey,o)},function(e){var t=fv(e,4),n=t[0],r=t[3];if(g&&r){var a=Ov(r,xv("css-variables-".concat(n._themeKey)),{mark:Uv,prepend:"queue",attachTo:i,priority:-999});a[Kv]=o,a.setAttribute(qv,n._themeKey)}});return x}function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}const Nx={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Cx="comm",Sx="rule",Ex="decl",_x=Math.abs,Ox=String.fromCharCode;Object.assign;function Ix(e){return e.trim()}function Mx(e,t,n){return e.replace(t,n)}function Px(e,t,n){return e.indexOf(t,n)}function Tx(e,t){return 0|e.charCodeAt(t)}function Ax(e,t,n){return e.slice(t,n)}function Rx(e){return e.length}function zx(e,t){return t.push(e),e}function Dx(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function Lx(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case Ex:return e.return=e.return||e.value;case Cx:return"";case"@keyframes":return e.return=e.value+"{"+Dx(e.children,r)+"}";case Sx:if(!Rx(e.value=e.props.join(",")))return""}return Rx(n=Dx(e.children,r))?e.return=e.value+"{"+n+"}":""}var Bx=1,Fx=1,Hx=0,Wx=0,Vx=0,qx="";function Ux(e,t,n,r,a,o,i,s){return{value:e,root:t,parent:n,type:r,props:a,children:o,line:Bx,column:Fx,length:i,return:"",siblings:s}}function Kx(){return Vx=Wx>0?Tx(qx,--Wx):0,Fx--,10===Vx&&(Fx=1,Bx--),Vx}function Gx(){return Vx=Wx<Hx?Tx(qx,Wx++):0,Fx++,10===Vx&&(Fx=1,Bx++),Vx}function Xx(){return Tx(qx,Wx)}function Yx(){return Wx}function $x(e,t){return Ax(qx,e,t)}function Jx(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Zx(e){return Bx=Fx=1,Hx=Rx(qx=e),Wx=0,[]}function Qx(e){return qx="",e}function ey(e){return Ix($x(Wx-1,ry(91===e?e+2:40===e?e+1:e)))}function ty(e){for(;(Vx=Xx())&&Vx<33;)Gx();return Jx(e)>2||Jx(Vx)>3?"":" "}function ny(e,t){for(;--t&&Gx()&&!(Vx<48||Vx>102||Vx>57&&Vx<65||Vx>70&&Vx<97););return $x(e,Yx()+(t<6&&32==Xx()&&32==Gx()))}function ry(e){for(;Gx();)switch(Vx){case e:return Wx;case 34:case 39:34!==e&&39!==e&&ry(Vx);break;case 40:41===e&&ry(e);break;case 92:Gx()}return Wx}function ay(e,t){for(;Gx()&&e+Vx!==57&&(e+Vx!==84||47!==Xx()););return"/*"+$x(t,Wx-1)+"*"+Ox(47===e?e:Gx())}function oy(e){for(;!Jx(Xx());)Gx();return $x(e,Wx)}function iy(e){return Qx(sy("",null,null,null,[""],e=Zx(e),0,[0],e))}function sy(e,t,n,r,a,o,i,s,l){for(var c=0,d=0,u=i,m=0,g=0,p=0,f=1,h=1,v=1,x=0,y="",b=a,k=o,w=r,j=y;h;)switch(p=x,x=Gx()){case 40:if(108!=p&&58==Tx(j,u-1)){-1!=Px(j+=Mx(ey(x),"&","&\f"),"&\f",_x(c?s[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:j+=ey(x);break;case 9:case 10:case 13:case 32:j+=ty(p);break;case 92:j+=ny(Yx()-1,7);continue;case 47:switch(Xx()){case 42:case 47:zx(cy(ay(Gx(),Yx()),t,n,l),l),5!=Jx(p||1)&&5!=Jx(Xx()||1)||!Rx(j)||" "===Ax(j,-1,void 0)||(j+=" ");break;default:j+="/"}break;case 123*f:s[c++]=Rx(j)*v;case 125*f:case 59:case 0:switch(x){case 0:case 125:h=0;case 59+d:-1==v&&(j=Mx(j,/\f/g,"")),g>0&&(Rx(j)-u||0===f&&47===p)&&zx(g>32?dy(j+";",r,n,u-1,l):dy(Mx(j," ","")+";",r,n,u-2,l),l);break;case 59:j+=";";default:if(zx(w=ly(j,t,n,c,d,a,s,y,b=[],k=[],u,o),o),123===x)if(0===d)sy(j,t,w,w,b,o,u,s,k);else{switch(m){case 99:if(110===Tx(j,3))break;case 108:if(97===Tx(j,2))break;default:d=0;case 100:case 109:case 115:}d?sy(e,w,w,r&&zx(ly(e,w,w,0,0,a,s,y,a,b=[],u,k),k),a,k,u,s,r?b:k):sy(j,w,w,w,[""],k,0,s,k)}}c=d=g=0,f=v=1,y=j="",u=i;break;case 58:u=1+Rx(j),g=p;default:if(f<1)if(123==x)--f;else if(125==x&&0==f++&&125==Kx())continue;switch(j+=Ox(x),x*f){case 38:v=d>0?1:(j+="\f",-1);break;case 44:s[c++]=(Rx(j)-1)*v,v=1;break;case 64:45===Xx()&&(j+=ey(Gx())),m=Xx(),d=u=Rx(y=j+=oy(Yx())),x++;break;case 45:45===p&&2==Rx(j)&&(f=0)}}return o}function ly(e,t,n,r,a,o,i,s,l,c,d,u){for(var m=a-1,g=0===a?o:[""],p=function(e){return e.length}(g),f=0,h=0,v=0;f<r;++f)for(var x=0,y=Ax(e,m+1,m=_x(h=i[f])),b=e;x<p;++x)(b=Ix(h>0?g[x]+" "+y:Mx(y,/&\f/g,g[x])))&&(l[v++]=b);return Ux(e,t,n,0===a?Sx:s,l,c,d,u)}function cy(e,t,n,r){return Ux(e,t,n,Cx,Ox(Vx),Ax(e,2,-2),0,r)}function dy(e,t,n,r,a){return Ux(e,t,n,Ex,Ax(e,0,r),Ax(e,r+1,-1),r,a)}var uy,my="data-ant-cssinjs-cache-path",gy="_FILE_STYLE__";var py=!0;function fy(e){return function(){if(!uy&&(uy={},Rh())){var e=document.createElement("div");e.className=my,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach(function(e){var t=fv(e.split(":"),2),n=t[0],r=t[1];uy[n]=r});var n,r=document.querySelector("style[".concat(my,"]"));r&&(py=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!uy[e]}var hy="_multi_value_";function vy(e){return Dx(iy(e),Lx).replace(/\{%%%\:[^;];}/g,";")}function xy(e,t,n){if(!t)return e;var r=".".concat(t),a="low"===n?":where(".concat(r,")"):r;return e.split(",").map(function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(a).concat(r.slice(o.length))].concat(vv(n.slice(1))).join(" ")}).join(",")}var yy=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},a=r.root,o=r.injectHash,i=r.parentSelectors,s=n.hashId,l=n.layer,c=(n.path,n.hashPriority),d=n.transformers,u=void 0===d?[]:d,m=(n.linters,""),g={};function p(t){var r=t.getName(s);if(!g[r]){var a=fv(e(t.style,n,{root:!1,parentSelectors:i}),1)[0];g[r]="@keyframes ".concat(t.getName(s)).concat(a)}}var f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(function(t){Array.isArray(t)?e(t,n):t&&n.push(t)}),n}(Array.isArray(t)?t:[t]);return f.forEach(function(t){var r="string"!==typeof t||a?t:{};if("string"===typeof r)m+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=u.reduce(function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e},r);Object.keys(l).forEach(function(t){var r=l[t];if("object"!==Ae(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===Ae(e)&&e&&("_skip_check_"in e||hy in e)}(r)){var d;function k(e,t){var n=e.replace(/[A-Z]/g,function(e){return"-".concat(e.toLowerCase())}),r=t;Nx[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),r=t.getName(s)),m+="".concat(n,":").concat(r,";")}var u=null!==(d=null===r||void 0===r?void 0:r.value)&&void 0!==d?d:r;"object"===Ae(r)&&null!==r&&void 0!==r&&r[hy]&&Array.isArray(u)?u.forEach(function(e){k(t,e)}):k(t,u)}else{var f=!1,h=t.trim(),v=!1;(a||o)&&s?h.startsWith("@")?f=!0:h=xy("&"===h?"":t,s,c):!a||s||"&"!==h&&""!==h||(h="",v=!0);var x=fv(e(r,n,{root:v,injectHash:f,parentSelectors:[].concat(vv(i),[h])}),2),y=x[0],b=x[1];g=Le(Le({},g),b),m+="".concat(h).concat(y)}})}}),a?l&&(m&&(m="@layer ".concat(l.name," {").concat(m,"}")),l.dependencies&&(g["@layer ".concat(l.name)]=l.dependencies.map(function(e){return"@layer ".concat(e,", ").concat(l.name,";")}).join("\n"))):m="{".concat(m,"}"),[m,g]};function by(e,t){return xv("".concat(e.join("%")).concat(t))}function ky(){return null}var wy="style";function jy(e,t){var n=e.token,a=e.path,o=e.hashId,i=e.layer,s=e.nonce,l=e.clientOnly,c=e.order,d=void 0===c?0:c,u=r.useContext(Yv),m=u.autoClear,g=(u.mock,u.defaultCache),p=u.hashPriority,f=u.container,h=u.ssrInline,v=u.transformers,x=u.linters,y=u.cache,b=u.layer,k=n._tokenKey,w=[k];b&&w.push("layer"),w.push.apply(w,vv(a));var j=sx;var N=vx(wy,w,function(){var e=w.join("|");if(fy(e)){var n=function(e){var t=uy[e],n=null;if(t&&Rh())if(py)n=gy;else{var r=document.querySelector("style[".concat(Uv,'="').concat(uy[e],'"]'));r?n=r.innerHTML:delete uy[e]}return[n,t]}(e),r=fv(n,2),s=r[0],c=r[1];if(s)return[s,k,c,{},l,d]}var u=t(),m=fv(yy(u,{hashId:o,hashPriority:p,layer:b?i:void 0,path:a.join("-"),transformers:v,linters:x}),2),g=m[0],f=m[1],h=vy(g),y=by(w,h);return[h,k,y,f,l,d]},function(e,t){var n=fv(e,3)[2];(t||m)&&sx&&_v(n,{mark:Uv,attachTo:f})},function(e){var t=fv(e,4),n=t[0],r=(t[1],t[2]),a=t[3];if(j&&n!==gy){var o={mark:Uv,prepend:!b&&"queue",attachTo:f,priority:d},i="function"===typeof s?s():s;i&&(o.csp={nonce:i});var l=[],c=[];Object.keys(a).forEach(function(e){e.startsWith("@layer")?l.push(e):c.push(e)}),l.forEach(function(e){Ov(vy(a[e]),"_layer-".concat(e),Le(Le({},o),{},{prepend:!0}))});var u=Ov(n,r,o);u[Kv]=y.instanceId,u.setAttribute(qv,k),c.forEach(function(e){Ov(vy(a[e]),"_effect-".concat(e),o)})}}),C=fv(N,3),S=C[0],E=C[1],_=C[2];return function(e){var t;return t=h&&!j&&g?r.createElement("style",jx({},ze(ze({},qv,E),Uv,_),{dangerouslySetInnerHTML:{__html:S}})):r.createElement(ky,null),r.createElement(r.Fragment,null,t,e)}}var Ny="cssVar";const Cy=function(e,t){var n=e.key,a=e.prefix,o=e.unitless,i=e.ignore,s=e.token,l=e.scope,c=void 0===l?"":l,d=(0,r.useContext)(Yv),u=d.cache.instanceId,m=d.container,g=s._tokenKey,p=[].concat(vv(e.path),[n,c,g]),f=vx(Ny,p,function(){var e=t(),r=fv(mx(e,n,{prefix:a,unitless:o,ignore:i,scope:c}),2),s=r[0],l=r[1];return[s,l,by(p,l),n]},function(e){var t=fv(e,3)[2];sx&&_v(t,{mark:Uv,attachTo:m})},function(e){var t=fv(e,3),r=t[1],a=t[2];if(r){var o=Ov(r,a,{mark:Uv,prepend:"queue",attachTo:m,priority:-999});o[Kv]=u,o.setAttribute(qv,n)}});return f};ze(ze(ze({},wy,function(e,t,n){var r=fv(e,6),a=r[0],o=r[1],i=r[2],s=r[3],l=r[4],c=r[5],d=(n||{}).plain;if(l)return null;var u=a,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return u=cx(a,o,i,m,d),s&&Object.keys(s).forEach(function(e){if(!t[e]){t[e]=!0;var n=cx(vy(s[e]),o,"_effect-".concat(e),m,d);e.startsWith("@layer")?u=n+u:u+=n}}),[c,i,u]}),kx,function(e,t,n){var r=fv(e,5),a=r[2],o=r[3],i=r[4],s=(n||{}).plain;if(!o)return null;var l=a._tokenKey;return[-999,l,cx(o,i,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}),Ny,function(e,t,n){var r=fv(e,4),a=r[1],o=r[2],i=r[3],s=(n||{}).plain;if(!a)return null;return[-999,o,cx(a,i,o,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]});var Sy=function(){function e(t,n){Lv(this,e),ze(this,"name",void 0),ze(this,"style",void 0),ze(this,"_keyframe",!0),this.name=t,this.style=n}return Fv(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const Ey=Sy;function _y(e){return e.notSplit=!0,e}_y(["borderTop","borderBottom"]),_y(["borderTop"]),_y(["borderBottom"]),_y(["borderLeft","borderRight"]),_y(["borderLeft"]),_y(["borderRight"]);function Oy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iy(e,t){return Iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Iy(e,t)}function My(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iy(e,t)}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Py(e)}function Ty(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ty=function(){return!!e})()}function Ay(e){var t=Ty();return function(){var n,r=Py(e);if(t){var a=Py(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oy(e)}(this,n)}}const Ry=Fv(function e(){Lv(this,e)});var zy="CALC_UNIT",Dy=new RegExp(zy,"g");function Ly(e){return"number"===typeof e?"".concat(e).concat(zy):e}var By=function(e){My(n,e);var t=Ay(n);function n(e,r){var a;Lv(this,n),ze(Oy(a=t.call(this)),"result",""),ze(Oy(a),"unitlessCssVar",void 0),ze(Oy(a),"lowPriority",void 0);var o=Ae(e);return a.unitlessCssVar=r,e instanceof n?a.result="(".concat(e.result,")"):"number"===o?a.result=Ly(e):"string"===o&&(a.result=e),a}return Fv(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(Ly(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(Ly(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"===typeof n?r=n:Array.from(this.unitlessCssVar).some(function(e){return t.result.includes(e)})&&(r=!1),this.result=this.result.replace(Dy,r?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(Ry);const Fy=function(e){My(n,e);var t=Ay(n);function n(e){var r;return Lv(this,n),ze(Oy(r=t.call(this)),"result",0),e instanceof n?r.result=e.result:"number"===typeof e&&(r.result=e),r}return Fv(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(Ry);const Hy=function(e,t){var n="css"===e?By:Fy;return function(e){return new n(e,t)}};const Wy=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Vy(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return n}function qy(e){var t=r.useRef(!1),n=fv(r.useState(e),2),a=n[0],o=n[1];return r.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),[a,function(e,n){n&&t.current||o(e)}]}function Uy(e){return void 0!==e}function Ky(e,t){var n=t||{},r=n.defaultValue,a=n.value,o=n.onChange,i=n.postState,s=fv(qy(function(){return Uy(a)?a:Uy(r)?"function"===typeof r?r():r:"function"===typeof e?e():e}),2),l=s[0],c=s[1],d=void 0!==a?a:l,u=i?i(d):d,m=Vy(o),g=fv(qy([d]),2),p=g[0],f=g[1];return Lh(function(){var e=p[0];l!==e&&m(l,e)},[p]),Lh(function(){Uy(a)||c(a)},[a]),[u,Vy(function(e,t){c(e,t),f([d],t)})]}function Gy(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function Xy(e){return uv(e)||hv(e)||gv(e)||pv()}function Yy(e,t,n,r){if(!t.length)return n;var a,o=Xy(t),i=o[0],s=o.slice(1);return a=e||"number"!==typeof i?Array.isArray(e)?vv(e):Le({},e):[],r&&void 0===n&&1===s.length?delete a[i][s[0]]:a[i]=Yy(a[i],s,n,r),a}function $y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Gy(e,t.slice(0,-1))?e:Yy(e,t,n,r)}function Jy(e){return Array.isArray(e)?[]:{}}var Zy="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function Qy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Jy(t[0]);return t.forEach(function(e){!function t(n,a){var o,i=new Set(a),s=Gy(e,n),l=Array.isArray(s);if(l||"object"===Ae(o=s)&&null!==o&&Object.getPrototypeOf(o)===Object.prototype){if(!i.has(s)){i.add(s);var c=Gy(r,n);l?r=$y(r,n,[]):c&&"object"===Ae(c)||(r=$y(r,n,Jy(s))),Zy(s).forEach(function(e){t([].concat(vv(n),[e]),i)})}}else r=$y(r,n,s)}([])}),r}const eb=function(e,t,n,r){var a=Le({},t[e]);null!==r&&void 0!==r&&r.deprecatedTokens&&r.deprecatedTokens.forEach(function(e){var t,n=fv(e,2),r=n[0],o=n[1];(null!==a&&void 0!==a&&a[r]||null!==a&&void 0!==a&&a[o])&&(null!==(t=a[o])&&void 0!==t||(a[o]=null===a||void 0===a?void 0:a[r]))});var o=Le(Le({},n),a);return Object.keys(o).forEach(function(e){o[e]===t[e]&&delete o[e]}),o};var tb="undefined"!==typeof CSSINJS_STATISTIC,nb=!0;function rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!tb)return Object.assign.apply(Object,[{}].concat(t));nb=!1;var r={};return t.forEach(function(e){"object"===Ae(e)&&Object.keys(e).forEach(function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})})}),nb=!0,r}var ab={};function ob(){}const ib=function(e){var t,n=e,r=ob;return tb&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;nb&&(null===(r=t)||void 0===r||r.add(n));return e[n]}}),r=function(e,n){var r;ab[e]={global:Array.from(t),component:Le(Le({},null===(r=ab[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}};const sb=function(e,t,n){var r;return"function"===typeof n?n(rb(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}};const lb=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map(function(e){return lx(e)}).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map(function(e){return lx(e)}).join(","),")")}}};var cb=function(){function e(){Lv(this,e),ze(this,"map",new Map),ze(this,"objectIDMap",new WeakMap),ze(this,"nextID",0),ze(this,"lastAccessBeat",new Map),ze(this,"accessBeat",0)}return Fv(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map(function(e){return e&&"object"===Ae(e)?"obj_".concat(t.getObjectID(e)):"".concat(Ae(e),"_").concat(e)}).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach(function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))}),this.accessBeat=0}}}]),e}(),db=new cb;const ub=function(e,t){return r.useMemo(function(){var n=db.get(t);if(n)return n;var r=e();return db.set(t,r),r},t)};const mb=function(){return{}};const gb=function(e){var t=e.useCSP,n=void 0===t?mb:t,a=e.useToken,o=e.usePrefix,i=e.getResetStyles,s=e.getCommonStyle,l=e.getCompUnitless;function c(t,r,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=Array.isArray(t)?t:[t,t],u=fv(d,1)[0],m=d.join("-"),g=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,d=a(),p=d.theme,f=d.realToken,h=d.hashId,v=d.token,x=d.cssVar,y=o(),b=y.rootPrefixCls,k=y.iconPrefixCls,w=n(),j=x?"css":"js",N=ub(function(){var e=new Set;return x&&Object.keys(c.unitless||{}).forEach(function(t){e.add(dx(t,x.prefix)),e.add(dx(t,Wy(u,x.prefix)))}),Hy(j,e)},[j,u,null===x||void 0===x?void 0:x.prefix]),C=lb(j),S=C.max,E=C.min,_={theme:p,token:v,hashId:h,nonce:function(){return w.nonce},clientOnly:c.clientOnly,layer:g,order:c.order||-999};return"function"===typeof i&&jy(Le(Le({},_),{},{clientOnly:!1,path:["Shared",b]}),function(){return i(v,{prefix:{rootPrefixCls:b,iconPrefixCls:k},csp:w})}),[jy(Le(Le({},_),{},{path:[m,e,k]}),function(){if(!1===c.injectStyle)return[];var n=ib(v),a=n.token,o=n.flush,i=sb(u,f,l),d=".".concat(e),m=eb(u,f,i,{deprecatedTokens:c.deprecatedTokens});x&&i&&"object"===Ae(i)&&Object.keys(i).forEach(function(e){i[e]="var(".concat(dx(e,Wy(u,x.prefix)),")")});var g=rb(a,{componentCls:d,prefixCls:e,iconCls:".".concat(k),antCls:".".concat(b),calc:N,max:S,min:E},x?i:m),p=r(g,{hashId:h,prefixCls:e,rootPrefixCls:b,iconPrefixCls:k});o(u,m);var y="function"===typeof s?s(g,e,t,c.resetFont):null;return[!1===c.resetStyle?null:y,p]}),h]}}return{genStyleHooks:function(e,t,n,o){var i=Array.isArray(e)?e[0]:e;function s(e){return"".concat(String(i)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var d=(null===o||void 0===o?void 0:o.unitless)||{},u=Le(Le({},"function"===typeof l?l(e):{}),{},ze({},s("zIndexPopup"),!0));Object.keys(d).forEach(function(e){u[s(e)]=d[e]});var m=Le(Le({},o),{},{unitless:u,prefixToken:s}),g=c(e,t,n,m),p=function(e,t,n){var o=n.unitless,i=n.injectStyle,s=void 0===i||i,l=n.prefixToken,c=n.ignore,d=function(r){var i=r.rootCls,s=r.cssVar,d=void 0===s?{}:s,u=a().realToken;return Cy({path:[e],prefix:d.prefix,key:d.key,unitless:o,ignore:c,token:u,scope:i},function(){var r=sb(e,u,t),a=eb(e,u,r,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(r).forEach(function(e){a[l(e)]=a[e],delete a[e]}),a}),null},u=function(t){var n=a().cssVar;return[function(a){return s&&n?r.createElement(r.Fragment,null,r.createElement(d,{rootCls:t,cssVar:n,component:e}),a):a},null===n||void 0===n?void 0:n.key]};return u}(i,n,m);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=fv(g(e,t),2)[1],r=fv(p(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=c(e,t,n,Le({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:c}},pb={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},fb=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},hb=(e,t)=>({outline:"".concat(lx(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder),outlineOffset:null!==t&&void 0!==t?t:1,transition:"outline-offset 0s, outline 0s"}),vb=(e,t)=>({"&:focus-visible":hb(e,t)}),xb=e=>({[".".concat(e)]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[".".concat(e," .").concat(e,"-icon")]:{display:"block"}})}),yb=e=>Object.assign(Object.assign({color:e.colorLink,textDecoration:e.linkDecoration,outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),border:0,padding:0,background:"none",userSelect:"none"},vb(e)),{"&:hover":{color:e.colorLinkHover,textDecoration:e.linkHoverDecoration},"&:focus":{color:e.colorLinkHover,textDecoration:e.linkFocusDecoration},"&:active":{color:e.colorLinkActive,textDecoration:e.linkHoverDecoration}}),bb={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},kb=Object.assign(Object.assign({},bb),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),wb={token:kb,override:{override:kb},hashed:!0},jb=r.createContext(wb),Nb=Math.round;function Cb(e,t){const n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(e=>parseFloat(e));for(let a=0;a<3;a+=1)r[a]=t(r[a]||0,n[a]||"",a);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const Sb=(e,t,n)=>0===n?e:e/100;function Eb(e,t){const n=t||255;return e>n?n:e<0?0:e}class _b{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(ze(this,"isValid",!0),ze(this,"r",0),ze(this,"g",0),ze(this,"b",0),ze(this,"a",1),ze(this,"_h",void 0),ze(this,"_s",void 0),ze(this,"_l",void 0),ze(this,"_v",void 0),ze(this,"_max",void 0),ze(this,"_min",void 0),ze(this,"_brightness",void 0),e)if("string"===typeof e){const n=e.trim();function r(e){return n.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(n)?this.fromHexString(n):r("rgb")?this.fromRgbString(n):r("hsl")?this.fromHslString(n):(r("hsv")||r("hsb"))&&this.fromHsvString(n)}else if(e instanceof _b)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Eb(e.r),this.g=Eb(e.g),this.b=Eb(e.b),this.a="number"===typeof e.a?Eb(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Nb(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),n=this.getSaturation();let r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const n=this._c(e),r=t/100,a=e=>(n[e]-this[e])*r+this[e],o={r:Nb(a("r")),g:Nb(a("g")),b:Nb(a("b")),a:Nb(100*a("a"))/100};return this._c(o)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),n=this.a+t.a*(1-this.a),r=e=>Nb((this[e]*this.a+t[e]*t.a*(1-this.a))/n);return this._c({r:r("r"),g:r("g"),b:r("b"),a:n})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;const r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=Nb(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Nb(100*this.getSaturation()),n=Nb(100*this.getLightness());return 1!==this.a?"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(this.a,")"):"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")"):"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}toString(){return this.toRgbString()}_sc(e,t,n){const r=this.clone();return r[e]=Eb(t,n),r}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}fromHsl(e){let{h:t,s:n,l:r,a:a}=e;if(this._h=t%360,this._s=n,this._l=r,this.a="number"===typeof a?a:1,n<=0){const e=Nb(255*r);this.r=e,this.g=e,this.b=e}let o=0,i=0,s=0;const l=t/60,c=(1-Math.abs(2*r-1))*n,d=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,i=d):l>=1&&l<2?(o=d,i=c):l>=2&&l<3?(i=c,s=d):l>=3&&l<4?(i=d,s=c):l>=4&&l<5?(o=d,s=c):l>=5&&l<6&&(o=c,s=d);const u=r-c/2;this.r=Nb(255*(o+u)),this.g=Nb(255*(i+u)),this.b=Nb(255*(s+u))}fromHsv(e){let{h:t,s:n,v:r,a:a}=e;this._h=t%360,this._s=n,this._v=r,this.a="number"===typeof a?a:1;const o=Nb(255*r);if(this.r=o,this.g=o,this.b=o,n<=0)return;const i=t/60,s=Math.floor(i),l=i-s,c=Nb(r*(1-n)*255),d=Nb(r*(1-n*l)*255),u=Nb(r*(1-n*(1-l))*255);switch(s){case 0:this.g=u,this.b=c;break;case 1:this.r=d,this.b=c;break;case 2:this.r=c,this.b=u;break;case 3:this.r=c,this.g=d;break;case 4:this.r=u,this.g=c;break;default:this.g=c,this.b=d}}fromHsvString(e){const t=Cb(e,Sb);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=Cb(e,Sb);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=Cb(e,(e,t)=>t.includes("%")?Nb(e/100*255):e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Ob=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function Ib(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function Mb(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function Pb(e,t,n){var r;return r=n?e.v+.05*t:e.v-.15*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function Tb(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new _b(e),a=r.toHsv(),o=5;o>0;o-=1){var i=new _b({h:Ib(a,o,!0),s:Mb(a,o,!0),v:Pb(a,o,!0)});n.push(i)}n.push(r);for(var s=1;s<=4;s+=1){var l=new _b({h:Ib(a,s),s:Mb(a,s),v:Pb(a,s)});n.push(l)}return"dark"===t.theme?Ob.map(function(e){var r=e.index,a=e.amount;return new _b(t.backgroundColor||"#141414").mix(n[r],a).toHexString()}):n.map(function(e){return e.toHexString()})}var Ab={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Rb=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Rb.primary=Rb[5];var zb=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];zb.primary=zb[5];var Db=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];Db.primary=Db[5];var Lb=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Lb.primary=Lb[5];var Bb=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Bb.primary=Bb[5];var Fb=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Fb.primary=Fb[5];var Hb=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Hb.primary=Hb[5];var Wb=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Wb.primary=Wb[5];var Vb=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Vb.primary=Vb[5];var qb=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];qb.primary=qb[5];var Ub=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Ub.primary=Ub[5];var Kb=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Kb.primary=Kb[5];var Gb=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Gb.primary=Gb[5];var Xb={red:Rb,volcano:zb,orange:Db,gold:Lb,yellow:Bb,lime:Fb,green:Hb,cyan:Wb,blue:Vb,geekblue:qb,purple:Ub,magenta:Kb,grey:Gb},Yb=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Yb.primary=Yb[5];var $b=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];$b.primary=$b[5];var Jb=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Jb.primary=Jb[5];var Zb=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Zb.primary=Zb[5];var Qb=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Qb.primary=Qb[5];var ek=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];ek.primary=ek[5];var tk=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];tk.primary=tk[5];var nk=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];nk.primary=nk[5];var rk=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];rk.primary=rk[5];var ak=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];ak.primary=ak[5];var ok=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];ok.primary=ok[5];var ik=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];ik.primary=ik[5];var sk=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];sk.primary=sk[5];const lk=e=>{let t=e,n=e,r=e,a=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?a=4:e>=8&&(a=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:a}};const ck=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function dk(e){return(e+8)/e}const uk=e=>{const t=function(e){const t=Array.from({length:10}).map((t,n)=>{const r=n-1,a=e*Math.pow(Math.E,r/5),o=n>1?Math.floor(a):Math.ceil(a);return 2*Math.floor(o/2)});return t[1]=e,t.map(e=>({size:e,lineHeight:dk(e)}))}(e),n=t.map(e=>e.size),r=t.map(e=>e.lineHeight),a=n[1],o=n[0],i=n[2],s=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:a,fontSizeLG:i,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(s*a),fontHeightLG:Math.round(c*i),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};const mk=(e,t)=>new _b(e).setA(t).toRgbString(),gk=(e,t)=>new _b(e).darken(t).toHexString(),pk=e=>{const t=Tb(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},fk=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:mk(r,.88),colorTextSecondary:mk(r,.65),colorTextTertiary:mk(r,.45),colorTextQuaternary:mk(r,.25),colorFill:mk(r,.15),colorFillSecondary:mk(r,.06),colorFillTertiary:mk(r,.04),colorFillQuaternary:mk(r,.02),colorBgSolid:mk(r,1),colorBgSolidHover:mk(r,.75),colorBgSolidActive:mk(r,.95),colorBgLayout:gk(n,4),colorBgContainer:gk(n,0),colorBgElevated:gk(n,0),colorBgSpotlight:mk(r,.85),colorBgBlur:"transparent",colorBorder:gk(n,15),colorBorderSecondary:gk(n,6)}};const hk=tx(function(e){Ab.pink=Ab.magenta,Xb.pink=Xb.magenta;const t=Object.keys(bb).map(t=>{const n=e[t]===Ab[t]?Xb[t]:Tb(e[t]);return Array.from({length:10},()=>1).reduce((e,r,a)=>(e["".concat(t,"-").concat(a+1)]=n[a],e["".concat(t).concat(a+1)]=n[a],e),{})}).reduce((e,t)=>e=Object.assign(Object.assign({},e),t),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:a,colorWarning:o,colorError:i,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:d}=e,u=n(l),m=n(a),g=n(o),p=n(i),f=n(s),h=r(c,d),v=n(e.colorLink||e.colorInfo),x=new _b(p[1]).mix(new _b(p[3]),50).toHexString();return Object.assign(Object.assign({},h),{colorPrimaryBg:u[1],colorPrimaryBgHover:u[2],colorPrimaryBorder:u[3],colorPrimaryBorderHover:u[4],colorPrimaryHover:u[5],colorPrimary:u[6],colorPrimaryActive:u[7],colorPrimaryTextHover:u[8],colorPrimaryText:u[9],colorPrimaryTextActive:u[10],colorSuccessBg:m[1],colorSuccessBgHover:m[2],colorSuccessBorder:m[3],colorSuccessBorderHover:m[4],colorSuccessHover:m[4],colorSuccess:m[6],colorSuccessActive:m[7],colorSuccessTextHover:m[8],colorSuccessText:m[9],colorSuccessTextActive:m[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgFilledHover:x,colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:g[1],colorWarningBgHover:g[2],colorWarningBorder:g[3],colorWarningBorderHover:g[4],colorWarningHover:g[4],colorWarning:g[6],colorWarningActive:g[7],colorWarningTextHover:g[8],colorWarningText:g[9],colorWarningTextActive:g[10],colorInfoBg:f[1],colorInfoBgHover:f[2],colorInfoBorder:f[3],colorInfoBorderHover:f[4],colorInfoHover:f[4],colorInfo:f[6],colorInfoActive:f[7],colorInfoTextHover:f[8],colorInfoText:f[9],colorInfoTextActive:f[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new _b("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:pk,generateNeutralColorPalettes:fk})),uk(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),ck(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:a}=e;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:a+1},lk(r))}(e))}),vk=hk;function xk(e){return e>=0&&e<=255}const yk=function(e,t){const{r:n,g:r,b:a,a:o}=new _b(e).toRgb();if(o<1)return e;const{r:i,g:s,b:l}=new _b(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-i*(1-c))/c),t=Math.round((r-s*(1-c))/c),o=Math.round((a-l*(1-c))/c);if(xk(e)&&xk(t)&&xk(o))return new _b({r:e,g:t,b:o,a:Math.round(100*c)/100}).toRgbString()}return new _b({r:n,g:r,b:a,a:1}).toRgbString()};var bk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function kk(e){const{override:t}=e,n=bk(e,["override"]),r=Object.assign({},t);Object.keys(kb).forEach(e=>{delete r[e]});const a=Object.assign(Object.assign({},n),r),o=1200,i=1600;if(!1===a.motion){const e="0s";a.motionDurationFast=e,a.motionDurationMid=e,a.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},a),{colorFillContent:a.colorFillSecondary,colorFillContentHover:a.colorFill,colorFillAlter:a.colorFillQuaternary,colorBgContainerDisabled:a.colorFillTertiary,colorBorderBg:a.colorBgContainer,colorSplit:yk(a.colorBorderSecondary,a.colorBgContainer),colorTextPlaceholder:a.colorTextQuaternary,colorTextDisabled:a.colorTextQuaternary,colorTextHeading:a.colorText,colorTextLabel:a.colorTextSecondary,colorTextDescription:a.colorTextTertiary,colorTextLightSolid:a.colorWhite,colorHighlight:a.colorError,colorBgTextHover:a.colorFillSecondary,colorBgTextActive:a.colorFill,colorIcon:a.colorTextTertiary,colorIconHover:a.colorText,colorErrorOutline:yk(a.colorErrorBg,a.colorBgContainer),colorWarningOutline:yk(a.colorWarningBg,a.colorBgContainer),fontSizeIcon:a.fontSizeSM,lineWidthFocus:3*a.lineWidth,lineWidth:a.lineWidth,controlOutlineWidth:2*a.lineWidth,controlInteractiveSize:a.controlHeight/2,controlItemBgHover:a.colorFillTertiary,controlItemBgActive:a.colorPrimaryBg,controlItemBgActiveHover:a.colorPrimaryBgHover,controlItemBgActiveDisabled:a.colorFill,controlTmpOutline:a.colorFillQuaternary,controlOutline:yk(a.colorPrimaryBg,a.colorBgContainer),lineType:a.lineType,borderRadius:a.borderRadius,borderRadiusXS:a.borderRadiusXS,borderRadiusSM:a.borderRadiusSM,borderRadiusLG:a.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:a.sizeXXS,paddingXS:a.sizeXS,paddingSM:a.sizeSM,padding:a.size,paddingMD:a.sizeMD,paddingLG:a.sizeLG,paddingXL:a.sizeXL,paddingContentHorizontalLG:a.sizeLG,paddingContentVerticalLG:a.sizeMS,paddingContentHorizontal:a.sizeMS,paddingContentVertical:a.sizeSM,paddingContentHorizontalSM:a.size,paddingContentVerticalSM:a.sizeXS,marginXXS:a.sizeXXS,marginXS:a.sizeXS,marginSM:a.sizeSM,margin:a.size,marginMD:a.sizeMD,marginLG:a.sizeLG,marginXL:a.sizeXL,marginXXL:a.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:i,screenXXLMin:i,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new _b("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new _b("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new _b("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var wk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const jk={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},Nk={motionBase:!0,motionUnit:!0},Ck={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Sk=(e,t,n)=>{const r=n.getDerivativeToken(e),{override:a}=t,o=wk(t,["override"]);let i=Object.assign(Object.assign({},r),{override:a});return i=kk(i),o&&Object.entries(o).forEach(e=>{let[t,n]=e;const{theme:r}=n,a=wk(n,["theme"]);let o=a;r&&(o=Sk(Object.assign(Object.assign({},i),a),{override:a},r)),i[t]=o}),i};function Ek(){const{token:e,hashed:t,theme:n,override:a,cssVar:o}=r.useContext(jb),i="".concat("5.29.3","-").concat(t||""),s=n||vk,[l,c,d]=wx(s,[kb,e],{salt:i,override:a,getComputedToken:Sk,formatToken:kk,cssVar:o&&{prefix:o.prefix,key:o.key,unitless:jk,ignore:Nk,preserve:Ck}});return[s,d,t?c:"",l,o]}const{genStyleHooks:_k,genComponentStyleHook:Ok,genSubStyleComponent:Ik}=gb({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:t}=(0,r.useContext)(av);return{rootPrefixCls:e(),iconPrefixCls:t}},useToken:()=>{const[e,t,n,r,a]=Ek();return{theme:e,realToken:t,hashId:n,token:r,cssVar:a}},useCSP:()=>{const{csp:e}=(0,r.useContext)(av);return null!==e&&void 0!==e?e:{}},getResetStyles:(e,t)=>{var n;const r=(e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}))(e);return[r,{"&":r},xb(null!==(n=null===t||void 0===t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:nv)]},getCommonStyle:(e,t,n,r)=>{const a='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]'),o=n?".".concat(n):a,i={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let s={};return!1!==r&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},s),i),{[a]:i})}},getCompUnitless:()=>jk}),Mk=Ok("Wave",e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:"var(--wave-color, ".concat(n,")"),boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:["box-shadow 0.4s ".concat(e.motionEaseOutCirc),"opacity 2s ".concat(e.motionEaseOutCirc)].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:["box-shadow ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"opacity ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)].join(",")}}}}});var Pk=function(e){return+setTimeout(e,16)},Tk=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Pk=function(e){return window.requestAnimationFrame(e)},Tk=function(e){return window.cancelAnimationFrame(e)});var Ak=0,Rk=new Map;function zk(e){Rk.delete(e)}var Dk=function(e){var t=Ak+=1;return function n(r){if(0===r)zk(t),e();else{var a=Pk(function(){n(r-1)});Rk.set(t,a)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Dk.cancel=function(e){var t=Rk.get(e);return zk(e),Tk(t)};const Lk=Dk,Bk="".concat(tv,"-wave-target");function Fk(e){return e instanceof HTMLElement||e instanceof SVGElement}function Hk(e){return e&&"object"===Ae(e)&&Fk(e.nativeElement)?e.nativeElement:Fk(e)?e:null}function Wk(e){var t,n=Hk(e);return n||(e instanceof r.Component?null===(t=we.findDOMNode)||void 0===t?void 0:t.call(we,e):null)}var Vk=["children"],qk=r.createContext({});function Uk(e){var t=e.children,n=Be(e,Vk);return r.createElement(qk.Provider,{value:n},t)}const Kk=function(e){My(n,e);var t=Ay(n);function n(){return Lv(this,n),t.apply(this,arguments)}return Fv(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component);var Gk="none",Xk="appear",Yk="enter",$k="leave",Jk="none",Zk="prepare",Qk="start",ew="active",tw="end",nw="prepared";function rw(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var aw=function(e,t){var n={animationend:rw("Animation","AnimationEnd"),transitionend:rw("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Rh(),"undefined"!==typeof window?window:{}),ow={};if(Rh()){var iw=document.createElement("div");ow=iw.style}var sw={};function lw(e){if(sw[e])return sw[e];var t=aw[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in ow)return sw[e]=t[o],sw[e]}return""}var cw=lw("animationend"),dw=lw("transitionend"),uw=!(!cw||!dw),mw=cw||"animationend",gw=dw||"transitionend";function pw(e,t){if(!e)return null;if("object"===Ae(e)){var n=t.replace(/-\w/g,function(e){return e[1].toUpperCase()});return e[n]}return"".concat(e,"-").concat(t)}const fw=Rh()?r.useLayoutEffect:r.useEffect;var hw=[Zk,Qk,ew,tw],vw=[Zk,nw],xw=!1;function yw(e){return e===ew||e===tw}const bw=function(e,t,n){var a=fv(qy(Jk),2),o=a[0],i=a[1],s=function(){var e=r.useRef(null);function t(){Lk.cancel(e.current)}return r.useEffect(function(){return function(){t()}},[]),[function n(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var o=Lk(function(){a<=1?r({isCanceled:function(){return o!==e.current}}):n(r,a-1)});e.current=o},t]}(),l=fv(s,2),c=l[0],d=l[1];var u=t?vw:hw;return fw(function(){if(o!==Jk&&o!==tw){var e=u.indexOf(o),t=u[e+1],r=n(o);r===xw?i(t,!0):t&&c(function(e){function n(){e.isCanceled()||i(t,!0)}!0===r?n():Promise.resolve(r).then(n)})}},[e,o]),r.useEffect(function(){return function(){d()}},[]),[function(){i(Zk,!0)},o]};function kw(e,t,n,a){var o=a.motionEnter,i=void 0===o||o,s=a.motionAppear,l=void 0===s||s,c=a.motionLeave,d=void 0===c||c,u=a.motionDeadline,m=a.motionLeaveImmediately,g=a.onAppearPrepare,p=a.onEnterPrepare,f=a.onLeavePrepare,h=a.onAppearStart,v=a.onEnterStart,x=a.onLeaveStart,y=a.onAppearActive,b=a.onEnterActive,k=a.onLeaveActive,w=a.onAppearEnd,j=a.onEnterEnd,N=a.onLeaveEnd,C=a.onVisibleChanged,S=fv(qy(),2),E=S[0],_=S[1],O=function(e){var t=fv(r.useReducer(function(e){return e+1},0),2)[1],n=r.useRef(e);return[Vy(function(){return n.current}),Vy(function(e){n.current="function"===typeof e?e(n.current):e,t()})]}(Gk),I=fv(O,2),M=I[0],P=I[1],T=fv(qy(null),2),A=T[0],R=T[1],z=M(),D=(0,r.useRef)(!1),L=(0,r.useRef)(null);function B(){return n()}var F=(0,r.useRef)(!1);function H(){P(Gk),R(null,!0)}var W=Vy(function(e){var t=M();if(t!==Gk){var n=B();if(!e||e.deadline||e.target===n){var r,a=F.current;t===Xk&&a?r=null===w||void 0===w?void 0:w(n,e):t===Yk&&a?r=null===j||void 0===j?void 0:j(n,e):t===$k&&a&&(r=null===N||void 0===N?void 0:N(n,e)),a&&!1!==r&&H()}}}),V=function(e){var t=(0,r.useRef)();function n(t){t&&(t.removeEventListener(gw,e),t.removeEventListener(mw,e))}return r.useEffect(function(){return function(){n(t.current)}},[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(gw,e),r.addEventListener(mw,e),t.current=r)},n]}(W),q=fv(V,1)[0],U=function(e){switch(e){case Xk:return ze(ze(ze({},Zk,g),Qk,h),ew,y);case Yk:return ze(ze(ze({},Zk,p),Qk,v),ew,b);case $k:return ze(ze(ze({},Zk,f),Qk,x),ew,k);default:return{}}},K=r.useMemo(function(){return U(z)},[z]),G=fv(bw(z,!e,function(e){if(e===Zk){var t=K[Zk];return t?t(B()):xw}var n;Y in K&&R((null===(n=K[Y])||void 0===n?void 0:n.call(K,B(),null))||null);return Y===ew&&z!==Gk&&(q(B()),u>0&&(clearTimeout(L.current),L.current=setTimeout(function(){W({deadline:!0})},u))),Y===nw&&H(),true}),2),X=G[0],Y=G[1],$=yw(Y);F.current=$;var J=(0,r.useRef)(null);fw(function(){if(!D.current||J.current!==t){_(t);var n,r=D.current;D.current=!0,!r&&t&&l&&(n=Xk),r&&t&&i&&(n=Yk),(r&&!t&&d||!r&&m&&!t&&d)&&(n=$k);var a=U(n);n&&(e||a[Zk])?(P(n),X()):P(Gk),J.current=t}},[t]),(0,r.useEffect)(function(){(z===Xk&&!l||z===Yk&&!i||z===$k&&!d)&&P(Gk)},[l,i,d]),(0,r.useEffect)(function(){return function(){D.current=!1,clearTimeout(L.current)}},[]);var Z=r.useRef(!1);(0,r.useEffect)(function(){E&&(Z.current=!0),void 0!==E&&z===Gk&&((Z.current||E)&&(null===C||void 0===C||C(E)),Z.current=!0)},[E,z]);var Q=A;return K[Zk]&&Y===Qk&&(Q=Le({transition:"none"},Q)),[z,Y,Q,null!==E&&void 0!==E?E:t]}const ww=function(e){var t=e;"object"===Ae(e)&&(t=e.transitionSupport);var n=r.forwardRef(function(e,n){var a=e.visible,o=void 0===a||a,i=e.removeOnLeave,s=void 0===i||i,l=e.forceRender,c=e.children,d=e.motionName,u=e.leavedClassName,m=e.eventProps,g=function(e,n){return!(!e.motionName||!t||!1===n)}(e,r.useContext(qk).motion),p=(0,r.useRef)(),f=(0,r.useRef)();var h=fv(kw(g,o,function(){try{return p.current instanceof HTMLElement?p.current:Wk(f.current)}catch(aO){return null}},e),4),v=h[0],x=h[1],y=h[2],b=h[3],k=r.useRef(b);b&&(k.current=!0);var w,j=r.useCallback(function(e){p.current=e,Xh(n,e)},[n]),N=Le(Le({},m),{},{visible:o});if(c)if(v===Gk)w=b?c(Le({},N),j):!s&&k.current&&u?c(Le(Le({},N),{},{className:u}),j):l||!s&&!u?c(Le(Le({},N),{},{style:{display:"none"}}),j):null;else{var C;x===Zk?C="prepare":yw(x)?C="active":x===Qk&&(C="start");var S=pw(d,"".concat(v,"-").concat(C));w=c(Le(Le({},N),{},{className:Ah()(pw(d,v),ze(ze({},S,S&&C),d,"string"===typeof d)),style:y}),j)}else w=null;r.isValidElement(w)&&Jh(w)&&(Qh(w)||(w=r.cloneElement(w,{ref:j})));return r.createElement(Kk,{ref:f},w)});return n.displayName="CSSMotion",n}(uw);var jw="add",Nw="keep",Cw="remove",Sw="removed";function Ew(e){var t;return Le(Le({},t=e&&"object"===Ae(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function _w(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Ew)}var Ow=["component","children","onVisibleChanged","onAllRemoved"],Iw=["status"],Mw=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const Pw=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ww,t=function(t){My(a,t);var n=Ay(a);function a(){var e;Lv(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return ze(Oy(e=n.call.apply(n,[this].concat(r))),"state",{keyEntities:[]}),ze(Oy(e),"removeKey",function(t){e.setState(function(e){return{keyEntities:e.keyEntities.map(function(e){return e.key!==t?e:Le(Le({},e),{},{status:Sw})})}},function(){0===e.state.keyEntities.filter(function(e){return e.status!==Sw}).length&&e.props.onAllRemoved&&e.props.onAllRemoved()})}),e}return Fv(a,[{key:"render",value:function(){var t=this,n=this.state.keyEntities,a=this.props,o=a.component,i=a.children,s=a.onVisibleChanged,l=(a.onAllRemoved,Be(a,Ow)),c=o||r.Fragment,d={};return Mw.forEach(function(e){d[e]=l[e],delete l[e]}),delete l.keys,r.createElement(c,l,n.map(function(n,a){var o=n.status,l=Be(n,Iw),c=o===jw||o===Nw;return r.createElement(e,jx({},d,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(e){null===s||void 0===s||s(e,{key:l.key}),e||t.removeKey(l.key)}}),function(e,t){return i(Le(Le({},e),{},{index:a}),t)})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=_w(n),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=_w(e),i=_w(t);o.forEach(function(e){for(var t=!1,o=r;o<a;o+=1){var s=i[o];if(s.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map(function(e){return Le(Le({},e),{},{status:jw})})),r=o),n.push(Le(Le({},s),{},{status:Nw})),r+=1,t=!0;break}}t||n.push(Le(Le({},e),{},{status:Cw}))}),r<a&&(n=n.concat(i.slice(r).map(function(e){return Le(Le({},e),{},{status:jw})})));var s={};return n.forEach(function(e){var t=e.key;s[t]=(s[t]||0)+1}),Object.keys(s).filter(function(e){return s[e]>1}).forEach(function(e){(n=n.filter(function(t){var n=t.key,r=t.status;return n!==e||r!==Cw})).forEach(function(t){t.key===e&&(t.status=Nw)})}),n}(r,a);return{keyEntities:o.filter(function(e){var t=r.find(function(t){var n=t.key;return e.key===n});return!t||t.status!==Sw||e.status!==Cw})}}}]),a}(r.Component);return ze(t,"defaultProps",{component:"div"}),t}(uw),Tw=ww;function Aw(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Aw=function(e,t,n,r){function o(t,n){Aw(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},Aw(e,t,n,r)}function Rw(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof s?r:s,c=Object.create(l.prototype);return Aw(c,"_invoke",function(n,r,a){var o,s,l,c=0,d=a||[],u=!1,m={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return o=t,s=0,l=e,m.n=n,i}};function g(n,r){for(s=n,l=r,t=0;!u&&c&&!a&&t<d.length;t++){var a,o=d[t],g=m.p,p=o[2];n>3?(a=p===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=g&&((a=n<2&&g<o[1])?(s=0,m.v=r,m.n=o[1]):g<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,m.n=p,s=0))}if(a||n>1)return i;throw u=!0,r}return function(a,d,p){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&g(d,p),s=d,l=p;(t=s<2?e:l)||!u;){o||(s?s<3?(s>1&&(m.n=-1),g(s,l)):m.n=l:m.v=l);try{if(c=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(u=m.n<0)?l:n.call(r,m))!==i)break}catch(t){o=e,s=1,l=t}finally{c=1}}return{value:t,done:u}}}(n,a,o),!0),c}var i={};function s(){}function l(){}function c(){}t=Object.getPrototypeOf;var d=[][r]?t(t([][r]())):(Aw(t={},r,function(){return this}),t),u=c.prototype=s.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Aw(e,a,"GeneratorFunction")),e.prototype=Object.create(u),e}return l.prototype=c,Aw(u,"constructor",c),Aw(c,"constructor",l),l.displayName="GeneratorFunction",Aw(c,a,"GeneratorFunction"),Aw(u),Aw(u,a,"Generator"),Aw(u,r,function(){return this}),Aw(u,"toString",function(){return"[object Generator]"}),(Rw=function(){return{w:o,m:m}})()}function zw(e,t){function n(r,a,o,i){try{var s=e[r](a),l=s.value;return l instanceof zn?t.resolve(l.v).then(function(e){n("next",e,o,i)},function(e){n("throw",e,o,i)}):t.resolve(l).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,i)})}catch(e){i(e)}}var r;this.next||(Aw(zw.prototype),Aw(zw.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Aw(this,"_invoke",function(e,a,o){function i(){return new t(function(t,r){n(e,o,t,r)})}return r=r?r.then(i,i):i()},!0)}function Dw(e,t,n,r,a){return new zw(Rw().w(e,t,n,r),a||Promise)}function Lw(e,t,n,r,a){var o=Dw(e,t,n,r,a);return o.next().then(function(e){return e.done?e.value:o.next()})}function Bw(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function Fw(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(Ae(e)+" is not iterable")}function Hw(){var e=Rw(),t=e.m(Hw),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,a[e],t)},delegateYield:function(e,a,o){return t.resultName=a,n(r.d,Fw(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(Hw=function(){return{wrap:function(t,n,r,a){return e.w(o(t),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new zn(e,t)},AsyncIterator:zw,async:function(e,t,n,a,i){return(r(t)?Dw:Lw)(o(e),t,n,a,i)},keys:Bw,values:Fw}})()}function Ww(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function Vw(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Ww(o,r,a,i,s,"next",e)}function s(e){Ww(o,r,a,i,s,"throw",e)}i(void 0)})}}var qw,Uw=Le({},je),Kw=Uw.version,Gw=Uw.render,Xw=Uw.unmountComponentAtNode;try{Number((Kw||"").split(".")[0])>=18&&(qw=Uw.createRoot)}catch(aO){}function Yw(e){var t=Uw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===Ae(t)&&(t.usingClientEntryPoint=e)}var $w="__rc_react_root__";function Jw(e,t){qw?function(e,t){Yw(!0);var n=t[$w]||qw(t);Yw(!1),n.render(e),t[$w]=n}(e,t):function(e,t){null===Gw||void 0===Gw||Gw(e,t)}(e,t)}function Zw(e){return Qw.apply(this,arguments)}function Qw(){return(Qw=Vw(Hw().mark(function e(t){return Hw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(function(){var e;null===(e=t[$w])||void 0===e||e.unmount(),delete t[$w]}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ej(e){Xw(e)}function tj(){return(tj=Vw(Hw().mark(function e(t){return Hw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===qw){e.next=2;break}return e.abrupt("return",Zw(t));case 2:ej(t);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}let nj=(e,t)=>(Jw(e,t),()=>function(e){return tj.apply(this,arguments)}(t));function rj(e){return e&&(nj=e),nj}function aj(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e&&"canvastext"!==e}function oj(e){return Number.isNaN(e)?0:e}const ij=e=>{const{className:t,target:n,component:a,registerUnmount:o}=e,i=r.useRef(null),s=r.useRef(null);r.useEffect(()=>{s.current=o()},[]);const[l,c]=r.useState(null),[d,u]=r.useState([]),[m,g]=r.useState(0),[p,f]=r.useState(0),[h,v]=r.useState(0),[x,y]=r.useState(0),[b,k]=r.useState(!1),w={left:m,top:p,width:h,height:x,borderRadius:d.map(e=>"".concat(e,"px")).join(" ")};function j(){const e=getComputedStyle(n);c(function(e){var t;const{borderTopColor:n,borderColor:r,backgroundColor:a}=getComputedStyle(e);return null!==(t=[n,r,a].find(aj))&&void 0!==t?t:null}(n));const t="static"===e.position,{borderLeftWidth:r,borderTopWidth:a}=e;g(t?n.offsetLeft:oj(-Number.parseFloat(r))),f(t?n.offsetTop:oj(-Number.parseFloat(a))),v(n.offsetWidth),y(n.offsetHeight);const{borderTopLeftRadius:o,borderTopRightRadius:i,borderBottomLeftRadius:s,borderBottomRightRadius:l}=e;u([o,i,l,s].map(e=>oj(Number.parseFloat(e))))}if(l&&(w["--wave-color"]=l),r.useEffect(()=>{if(n){const e=Lk(()=>{j(),k(!0)});let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(j),t.observe(n)),()=>{Lk.cancel(e),null===t||void 0===t||t.disconnect()}}},[n]),!b)return null;const N=("Checkbox"===a||"Radio"===a)&&(null===n||void 0===n?void 0:n.classList.contains(Bk));return r.createElement(Tw,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n,r;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=i.current)||void 0===n?void 0:n.parentElement;null===(r=s.current)||void 0===r||r.call(s).then(()=>{null===e||void 0===e||e.remove()})}return!1}},(e,n)=>{let{className:a}=e;return r.createElement("div",{ref:Yh(i,n),className:Ah()(t,a,{"wave-quick":N}),style:w})})},sj=(e,t)=>{var n;const{component:a}=t;if("Checkbox"===a&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const o=document.createElement("div");o.style.position="absolute",o.style.left="0px",o.style.top="0px",null===e||void 0===e||e.insertBefore(o,null===e||void 0===e?void 0:e.firstChild);const i=rj();let s=null;s=i(r.createElement(ij,Object.assign({},t,{target:e,registerUnmount:function(){return s}})),o)},lj=(e,t,n)=>{const{wave:a}=r.useContext(av),[,o,i]=Ek(),s=Vy(r=>{const s=e.current;if((null===a||void 0===a?void 0:a.disabled)||!s)return;const l=s.querySelector(".".concat(Bk))||s,{showEffect:c}=a||{};(c||sj)(l,{className:t,token:o,component:n,event:r,hashId:i})}),l=r.useRef(null);return e=>{Lk.cancel(l.current),l.current=Lk(()=>{s(e)})}};const cj=e=>{const{children:t,disabled:n,component:a}=e,{getPrefixCls:o}=(0,r.useContext)(av),i=(0,r.useRef)(null),s=o("wave"),[,l]=Mk(s),c=lj(i,Ah()(s,l),a);if(r.useEffect(()=>{const e=i.current;if(!e||e.nodeType!==window.Node.ELEMENT_NODE||n)return;const t=t=>{!ev(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")&&!e.className.includes("disabled:")||"true"===e.getAttribute("aria-disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}},[n]),!r.isValidElement(t))return null!==t&&void 0!==t?t:null;return dv(t,{ref:Jh(t)?Yh(Qh(t),i):i})},dj=r.createContext(!1),uj=e=>{let{children:t,disabled:n}=e;const a=r.useContext(dj);return r.createElement(dj.Provider,{value:null!==n&&void 0!==n?n:a},t)},mj=dj,gj=r.createContext(void 0),pj=e=>{let{children:t,size:n}=e;const a=r.useContext(gj);return r.createElement(gj.Provider,{value:n||a},t)},fj=gj,hj=e=>{const t=r.useContext(fj);return r.useMemo(()=>e?"string"===typeof e?null!==e&&void 0!==e?e:t:"function"===typeof e?e(t):t:t,[e,t])};function vj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(vj(e)):Kh(e)&&e.props?n=n.concat(vj(e.props.children,t)):n.push(e))}),n}const xj=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"}}}},yj=_k(["Space","Compact"],e=>[xj(e)],()=>({}),{resetStyle:!1});var bj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const kj=r.createContext(null),wj=(e,t)=>{const n=r.useContext(kj),a=r.useMemo(()=>{if(!n)return"";const{compactDirection:r,isFirstItem:a,isLastItem:o}=n,i="vertical"===r?"-vertical-":"-";return Ah()("".concat(e,"-compact").concat(i,"item"),{["".concat(e,"-compact").concat(i,"first-item")]:a,["".concat(e,"-compact").concat(i,"last-item")]:o,["".concat(e,"-compact").concat(i,"item-rtl")]:"rtl"===t})},[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:a}},jj=e=>{const{children:t}=e;return r.createElement(kj.Provider,{value:null},t)},Nj=e=>{const{children:t}=e,n=bj(e,["children"]);return r.createElement(kj.Provider,{value:r.useMemo(()=>n,[n])},t)},Cj=e=>{const{getPrefixCls:t,direction:n}=r.useContext(av),{size:a,direction:o,block:i,prefixCls:s,className:l,rootClassName:c,children:d}=e,u=bj(e,["size","direction","block","prefixCls","className","rootClassName","children"]),m=hj(e=>null!==a&&void 0!==a?a:e),g=t("space-compact",s),[p,f]=yj(g),h=Ah()(g,f,{["".concat(g,"-rtl")]:"rtl"===n,["".concat(g,"-block")]:i,["".concat(g,"-vertical")]:"vertical"===o},l,c),v=r.useContext(kj),x=vj(d),y=r.useMemo(()=>x.map((e,t)=>{const n=(null===e||void 0===e?void 0:e.key)||"".concat(g,"-item-").concat(t);return r.createElement(Nj,{key:n,compactSize:m,compactDirection:o,isFirstItem:0===t&&(!v||(null===v||void 0===v?void 0:v.isFirstItem)),isLastItem:t===x.length-1&&(!v||(null===v||void 0===v?void 0:v.isLastItem))},e)}),[x,v,o,m,g]);return 0===x.length?null:p(r.createElement("div",Object.assign({className:h},u),y))};var Sj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Ej=r.createContext(void 0),_j=e=>{const{getPrefixCls:t,direction:n}=r.useContext(av),{prefixCls:a,size:o,className:i}=e,s=Sj(e,["prefixCls","size","className"]),l=t("btn-group",a),[,,c]=Ek(),d=r.useMemo(()=>{switch(o){case"large":return"lg";case"small":return"sm";default:return""}},[o]);const u=Ah()(l,{["".concat(l,"-").concat(d)]:d,["".concat(l,"-rtl")]:"rtl"===n},i,c);return r.createElement(Ej.Provider,{value:o},r.createElement("div",Object.assign({},s,{className:u})))},Oj=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],Ij=/^[\u4E00-\u9FA5]{2}$/,Mj=Ij.test.bind(Ij);function Pj(e){return"danger"===e?{danger:!0}:{type:e}}function Tj(e){return"string"===typeof e}function Aj(e){return"text"===e||"link"===e}function Rj(e,t){let n=!1;const a=[];return r.Children.forEach(e,e=>{const t=typeof e,r="string"===t||"number"===t;if(n&&r){const t=a.length-1,n=a[t];a[t]="".concat(n).concat(e)}else a.push(e);n=r}),r.Children.map(a,e=>function(e,t){if(null===e||void 0===e)return;const n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&Tj(e.type)&&Mj(e.props.children)?dv(e,{children:e.props.children.split("").join(n)}):Tj(e)?Mj(e)?r.createElement("span",null,e.split("").join(n)):r.createElement("span",null,e):lv(e)?r.createElement("span",null,e):e}(e,t))}["default","primary","danger"].concat(vv(Oj));const zj={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const Dj=(0,r.createContext)({});function Lj(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function Bj(e){return function(e){return Lj(e)instanceof ShadowRoot}(e)?Lj(e):null}function Fj(e){return"object"===Ae(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Ae(e.icon)||"function"===typeof e.icon)}function Hj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[function(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}(n)]=r;return t},{})}function Wj(e,t,n){return n?r.createElement(e.tag,Le(Le({key:t},Hj(e.attrs)),n),(e.children||[]).map(function(n,r){return Wj(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})):r.createElement(e.tag,Le({key:t},Hj(e.attrs)),(e.children||[]).map(function(n,r){return Wj(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))}function Vj(e){return Tb(e)[0]}function qj(e){return e?Array.isArray(e)?e:[e]:[]}var Uj=["icon","className","onClick","style","primaryColor","secondaryColor"],Kj={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Gj=function(e){var t=e.icon,n=e.className,a=e.onClick,o=e.style,i=e.primaryColor,s=e.secondaryColor,l=Be(e,Uj),c=r.useRef(),d=Kj;if(i&&(d={primaryColor:i,secondaryColor:s||Vj(i)}),function(e){var t=(0,r.useContext)(Dj),n=t.csp,a=t.prefixCls,o=t.layer,i="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";a&&(i=i.replace(/anticon/g,a)),o&&(i="@layer ".concat(o," {\n").concat(i,"\n}")),(0,r.useEffect)(function(){var t=Bj(e.current);Ov(i,"@ant-design-icons",{prepend:!o,csp:n,attachTo:t})},[])}(c),function(e,t){zv(e,"[@ant-design/icons] ".concat(t))}(Fj(t),"icon should be icon definiton, but got ".concat(t)),!Fj(t))return null;var u=t;return u&&"function"===typeof u.icon&&(u=Le(Le({},u),{},{icon:u.icon(d.primaryColor,d.secondaryColor)})),Wj(u.icon,"svg-".concat(u.name),Le(Le({className:n,onClick:a,style:o,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Gj.displayName="IconReact",Gj.getTwoToneColors=function(){return Le({},Kj)},Gj.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Kj.primaryColor=t,Kj.secondaryColor=n||Vj(t),Kj.calculated=!!n};const Xj=Gj;function Yj(e){var t=fv(qj(e),2),n=t[0],r=t[1];return Xj.setTwoToneColors({primaryColor:n,secondaryColor:r})}var $j=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Yj(Vb.primary);var Jj=r.forwardRef(function(e,t){var n=e.className,a=e.icon,o=e.spin,i=e.rotate,s=e.tabIndex,l=e.onClick,c=e.twoToneColor,d=Be(e,$j),u=r.useContext(Dj),m=u.prefixCls,g=void 0===m?"anticon":m,p=u.rootClassName,f=Ah()(p,g,ze(ze({},"".concat(g,"-").concat(a.name),!!a.name),"".concat(g,"-spin"),!!o||"loading"===a.name),n),h=s;void 0===h&&l&&(h=-1);var v=i?{msTransform:"rotate(".concat(i,"deg)"),transform:"rotate(".concat(i,"deg)")}:void 0,x=fv(qj(c),2),y=x[0],b=x[1];return r.createElement("span",jx({role:"img","aria-label":a.name},d,{ref:t,tabIndex:h,onClick:l,className:f}),r.createElement(Xj,{icon:a,primaryColor:y,secondaryColor:b,style:v}))});Jj.displayName="AntdIcon",Jj.getTwoToneColor=function(){var e=Xj.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Jj.setTwoToneColor=Yj;const Zj=Jj;var Qj=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:zj}))};const eN=r.forwardRef(Qj),tN=(0,r.forwardRef)((e,t)=>{const{className:n,style:a,children:o,prefixCls:i}=e,s=Ah()("".concat(i,"-icon"),n);return r.createElement("span",{ref:t,className:s,style:a},o)}),nN=tN,rN=(0,r.forwardRef)((e,t)=>{const{prefixCls:n,className:a,style:o,iconClassName:i}=e,s=Ah()("".concat(n,"-loading-icon"),a);return r.createElement(nN,{prefixCls:n,className:s,style:o,ref:t},r.createElement(eN,{className:i}))}),aN=()=>({width:0,opacity:0,transform:"scale(0)"}),oN=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),iN=e=>{const{prefixCls:t,loading:n,existIcon:a,className:o,style:i,mount:s}=e,l=!!n;return a?r.createElement(rN,{prefixCls:t,className:o,style:i}):r.createElement(Tw,{visible:l,motionName:"".concat(t,"-loading-icon-motion"),motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:aN,onAppearActive:oN,onEnterStart:aN,onEnterActive:oN,onLeaveStart:oN,onLeaveActive:aN},(e,n)=>{let{className:a,style:s}=e;const l=Object.assign(Object.assign({},i),s);return r.createElement(rN,{prefixCls:t,className:Ah()(o,a),style:l,ref:n})})},sN=(e,t)=>({["> span, > ".concat(e)]:{"&:not(:last-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{["&, & > ".concat(e)]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),lN=e=>{const{componentCls:t,fontSize:n,lineWidth:r,groupBorderColor:a,colorErrorHover:o}=e;return{["".concat(t,"-group")]:[{position:"relative",display:"inline-flex",["> span, > ".concat(t)]:{"&:not(:last-child)":{["&, & > ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(r).mul(-1).equal(),["&, & > ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},["".concat(t,"-icon-only")]:{fontSize:n}},sN("".concat(t,"-primary"),a),sN("".concat(t,"-danger"),o)]}};var cN=["b"],dN=["v"],uN=function(e){return Math.round(Number(e||0))},mN=function(e){My(n,e);var t=Ay(n);function n(e){return Lv(this,n),t.call(this,function(e){if(e instanceof _b)return e;if(e&&"object"===Ae(e)&&"h"in e&&"b"in e){var t=e,n=t.b;return Le(Le({},Be(t,cN)),{},{v:n})}return"string"===typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return Fv(n,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=uN(100*e.s),n=uN(100*e.b),r=uN(e.h),a=e.a,o="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),i="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(a.toFixed(0===a?0:2),")");return 1===a?o:i}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v;return Le(Le({},Be(e,dN)),{},{b:t,a:this.a})}}]),n}(_b),gN=function(e){return e instanceof mN?e:new mN(e)};gN("#1677ff");let pN=function(){return Fv(function e(t){var n;if(Lv(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(n=t.colors)||void 0===n?void 0:n.map(t=>({color:new e(t.color),percent:t.percent})),void(this.cleared=t.cleared);const r=Array.isArray(t);r&&t.length?(this.colors=t.map(t=>{let{color:n,percent:r}=t;return{color:new e(n),percent:r}}),this.metaColor=new mN(this.colors[0].color.metaColor)):this.metaColor=new mN(r?"":t),(!t||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)},[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null===e||void 0===e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;if(e){const t=e.map(e=>"".concat(e.color.toRgbString()," ").concat(e.percent,"%")).join(", ");return"linear-gradient(90deg, ".concat(t,")")}return this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every((t,n)=>{const r=e.colors[n];return t.percent===r.percent&&t.color.equals(r.color)}):this.toHexString()===e.toHexString())}}])}();const fN=(e,t)=>{const{r:n,g:r,b:a,a:o}=e.toRgb(),i=new mN(e.toRgbString()).onBackground(t).toHsv();return o<=.5?i.v>.5:.299*n+.587*r+.114*a>192},hN=e=>{const{paddingInline:t,onlyIconSize:n}=e;return rb(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},vN=e=>{var t,n,r,a,o,i;const s=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(n=e.contentFontSizeSM)&&void 0!==n?n:e.fontSize,c=null!==(r=e.contentFontSizeLG)&&void 0!==r?r:e.fontSizeLG,d=null!==(a=e.contentLineHeight)&&void 0!==a?a:dk(s),u=null!==(o=e.contentLineHeightSM)&&void 0!==o?o:dk(l),m=null!==(i=e.contentLineHeightLG)&&void 0!==i?i:dk(c),g=fN(new pN(e.colorBgSolid),"#fff")?"#000":"#fff",p=Oj.reduce((t,n)=>Object.assign(Object.assign({},t),{["".concat(n,"ShadowColor")]:"0 ".concat(lx(e.controlOutlineWidth)," 0 ").concat(yk(e["".concat(n,"1")],e.colorBgContainer))}),{});return Object.assign(Object.assign({},p),{fontWeight:400,iconGap:e.marginXS,defaultShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlTmpOutline),primaryShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.controlOutline),dangerShadow:"0 ".concat(e.controlOutlineWidth,"px 0 ").concat(e.colorErrorOutline),primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:g,contentFontSize:s,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:d,contentLineHeightSM:u,contentLineHeightLG:m,paddingBlock:Math.max((e.controlHeight-s*d)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*u)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*m)/2-e.lineWidth,0)})},xN=e=>{const{componentCls:t,iconCls:n,fontWeight:r,opacityLoading:a,motionDurationSlow:o,motionEaseInOut:i,iconGap:s,calc:l}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:s,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," transparent"),cursor:"pointer",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},["".concat(t,"-icon > svg")]:{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}},"> a":{color:"currentColor"},"&:not(:disabled)":vb(e),["&".concat(t,"-two-chinese-chars::first-letter")]:{letterSpacing:"0.34em"},["&".concat(t,"-two-chinese-chars > *:not(").concat(n,")")]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},["&".concat(t,"-icon-only")]:{paddingInline:0,["&".concat(t,"-compact-item")]:{flex:"none"}},["&".concat(t,"-loading")]:{opacity:a,cursor:"default"},["".concat(t,"-loading-icon")]:{transition:["width","opacity","margin"].map(e=>"".concat(e," ").concat(o," ").concat(i)).join(",")},["&:not(".concat(t,"-icon-end)")]:{["".concat(t,"-loading-icon-motion")]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(s).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",["".concat(t,"-loading-icon-motion")]:{"&-appear-start, &-enter-start":{marginInlineStart:l(s).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(s).mul(-1).equal()}}}}}},yN=(e,t,n)=>({["&:not(:disabled):not(".concat(e,"-disabled)")]:{"&:hover":t,"&:active":n}}),bN=e=>({minWidth:e.controlHeight,paddingInline:0,borderRadius:"50%"}),kN=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),wN=(e,t,n,r,a,o,i,s)=>({["&".concat(e,"-background-ghost")]:Object.assign(Object.assign({color:n||void 0,background:t,borderColor:r||void 0,boxShadow:"none"},yN(e,Object.assign({background:t},i),Object.assign({background:t},s))),{"&:disabled":{cursor:"not-allowed",color:a||void 0,borderColor:o||void 0}})}),jN=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:Object.assign({},kN(e))}),NN=e=>({["&:disabled, &".concat(e.componentCls,"-disabled")]:{cursor:"not-allowed",color:e.colorTextDisabled}}),CN=(e,t,n,r)=>{const a=r&&["link","text"].includes(r)?NN:jN;return Object.assign(Object.assign({},a(e)),yN(e.componentCls,t,n))},SN=(e,t,n,r,a)=>({["&".concat(e.componentCls,"-variant-solid")]:Object.assign({color:t,background:n},CN(e,r,a))}),EN=(e,t,n,r,a)=>({["&".concat(e.componentCls,"-variant-outlined, &").concat(e.componentCls,"-variant-dashed")]:Object.assign({borderColor:t,background:n},CN(e,r,a))}),_N=e=>({["&".concat(e.componentCls,"-variant-dashed")]:{borderStyle:"dashed"}}),ON=(e,t,n,r)=>({["&".concat(e.componentCls,"-variant-filled")]:Object.assign({boxShadow:"none",background:t},CN(e,n,r))}),IN=(e,t,n,r,a)=>({["&".concat(e.componentCls,"-variant-").concat(n)]:Object.assign({color:t,boxShadow:"none"},CN(e,r,a,n))}),MN=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},SN(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),_N(e)),ON(e,e.colorFillTertiary,{color:e.defaultColor,background:e.colorFillSecondary},{color:e.defaultColor,background:e.colorFill})),wN(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),IN(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),PN=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},EN(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),_N(e)),ON(e,e.colorPrimaryBg,{color:e.colorPrimary,background:e.colorPrimaryBgHover},{color:e.colorPrimary,background:e.colorPrimaryBorder})),IN(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),IN(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),wN(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),TN=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},SN(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),EN(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),_N(e)),ON(e,e.colorErrorBg,{color:e.colorError,background:e.colorErrorBgFilledHover},{color:e.colorError,background:e.colorErrorBgActive})),IN(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),IN(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),wN(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),AN=e=>Object.assign(Object.assign({},IN(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),wN(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),RN=e=>{const{componentCls:t}=e;return Object.assign({["".concat(t,"-color-default")]:MN(e),["".concat(t,"-color-primary")]:PN(e),["".concat(t,"-color-dangerous")]:TN(e),["".concat(t,"-color-link")]:AN(e)},(e=>{const{componentCls:t}=e;return Oj.reduce((n,r)=>{const a=e["".concat(r,"6")],o=e["".concat(r,"1")],i=e["".concat(r,"5")],s=e["".concat(r,"2")],l=e["".concat(r,"3")],c=e["".concat(r,"7")];return Object.assign(Object.assign({},n),{["&".concat(t,"-color-").concat(r)]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:a,boxShadow:e["".concat(r,"ShadowColor")]},SN(e,e.colorTextLightSolid,a,{background:i},{background:c})),EN(e,a,e.colorBgContainer,{color:i,borderColor:i,background:e.colorBgContainer},{color:c,borderColor:c,background:e.colorBgContainer})),_N(e)),ON(e,o,{color:a,background:s},{color:a,background:l})),IN(e,a,"link",{color:i},{color:c})),IN(e,a,"text",{color:i,background:o},{color:c,background:l}))})},{})})(e))},zN=e=>Object.assign(Object.assign(Object.assign(Object.assign({},EN(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),IN(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),SN(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),IN(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),DN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:a,borderRadius:o,buttonPaddingHorizontal:i,iconCls:s,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=e;return[{[t]:{fontSize:a,height:r,padding:"".concat(lx(l)," ").concat(lx(i)),borderRadius:o,["&".concat(n,"-icon-only")]:{width:r,[s]:{fontSize:c}}}},{["".concat(n).concat(n,"-circle").concat(t)]:bN(e)},{["".concat(n).concat(n,"-round").concat(t)]:{borderRadius:e.controlHeight,["&:not(".concat(n,"-icon-only)")]:{paddingInline:e.buttonPaddingHorizontal}}}]},LN=e=>{const t=rb(e,{fontSize:e.contentFontSize});return DN(t,e.componentCls)},BN=e=>{const t=rb(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return DN(t,"".concat(e.componentCls,"-sm"))},FN=e=>{const t=rb(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return DN(t,"".concat(e.componentCls,"-lg"))},HN=e=>{const{componentCls:t}=e;return{[t]:{["&".concat(t,"-block")]:{width:"100%"}}}},WN=_k("Button",e=>{const t=hN(e);return[xN(t),LN(t),BN(t),FN(t),HN(t),RN(t),zN(t),lN(t)]},vN,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function VN(e,t,n,r){const{focusElCls:a,focus:o,borderElCls:i}=n,s=i?"> *":"",l=["hover",o?"focus":null,"active"].filter(Boolean).map(e=>"&:".concat(e," ").concat(s)).join(",");return{["&-item:not(".concat(t,"-last-item)")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},["&-item:not(".concat(r,"-status-success)")]:{zIndex:2},"&-item":Object.assign(Object.assign({[l]:{zIndex:3}},a?{["&".concat(a)]:{zIndex:3}}:{}),{["&[disabled] ".concat(s)]:{zIndex:0}})}}function qN(e,t,n){const{borderElCls:r}=n,a=r?"> ".concat(r):"";return{["&-item:not(".concat(t,"-first-item):not(").concat(t,"-last-item) ").concat(a)]:{borderRadius:0},["&-item:not(".concat(t,"-last-item)").concat(t,"-first-item")]:{["& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&-item:not(".concat(t,"-first-item)").concat(t,"-last-item")]:{["& ".concat(a,", &").concat(e,"-sm ").concat(a,", &").concat(e,"-lg ").concat(a)]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function UN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:n}=e,{componentCls:r}=t,a=r||n,o="".concat(a,"-compact");return{[o]:Object.assign(Object.assign({},VN(e,o,t,a)),qN(a,o,t))}}function KN(e,t,n){return{["&-item:not(".concat(t,"-last-item)")]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},["&-item:not(".concat(n,"-status-success)")]:{zIndex:2},"&-item":{"&:hover,&:focus,&:active":{zIndex:3},"&[disabled]":{zIndex:0}}}}function GN(e){const t="".concat(e.componentCls,"-compact-vertical");return{[t]:Object.assign(Object.assign({},KN(e,t,e.componentCls)),(n=e.componentCls,r=t,{["&-item:not(".concat(r,"-first-item):not(").concat(r,"-last-item)")]:{borderRadius:0},["&-item".concat(r,"-first-item:not(").concat(r,"-last-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderEndEndRadius:0,borderEndStartRadius:0}},["&-item".concat(r,"-last-item:not(").concat(r,"-first-item)")]:{["&, &".concat(n,"-sm, &").concat(n,"-lg")]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var n,r}const XN=e=>{const{componentCls:t,colorPrimaryHover:n,lineWidth:r,calc:a}=e,o=a(r).mul(-1).equal(),i=e=>{const a="".concat(t,"-compact").concat(e?"-vertical":"","-item").concat(t,"-primary:not([disabled])");return{["".concat(a," + ").concat(a,"::before")]:{position:"absolute",top:e?o:0,insetInlineStart:e?0:o,backgroundColor:n,content:'""',width:e?"100%":r,height:e?r:"100%"}}};return Object.assign(Object.assign({},i()),i(!0))},YN=Ik(["Button","compact"],e=>{const t=hN(e);return[UN(t),GN(t),XN(t)]},vN);var $N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const JN={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},ZN=r.forwardRef((e,t)=>{var n,a;const{loading:o=!1,prefixCls:i,color:s,variant:l,type:c,danger:d=!1,shape:u,size:m,styles:g,disabled:p,className:f,rootClassName:h,children:v,icon:x,iconPosition:y="start",ghost:b=!1,block:k=!1,htmlType:w="button",classNames:j,style:N={},autoInsertSpace:C,autoFocus:S}=e,E=$N(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),_=c||"default",{button:O}=r.useContext(av),I=u||(null===O||void 0===O?void 0:O.shape)||"default",[M,P]=(0,r.useMemo)(()=>{if(s&&l)return[s,l];if(c||d){const e=JN[_]||[];return d?["danger",e[1]]:e}return(null===O||void 0===O?void 0:O.color)&&(null===O||void 0===O?void 0:O.variant)?[O.color,O.variant]:["default","outlined"]},[s,l,c,d,null===O||void 0===O?void 0:O.color,null===O||void 0===O?void 0:O.variant,_]),T="danger"===M?"dangerous":M,{getPrefixCls:A,direction:R,autoInsertSpace:z,className:D,style:L,classNames:B,styles:F}=sv("button"),H=null===(n=null!==C&&void 0!==C?C:z)||void 0===n||n,W=A("btn",i),[V,q,U]=WN(W),K=(0,r.useContext)(mj),G=null!==p&&void 0!==p?p:K,X=(0,r.useContext)(Ej),Y=(0,r.useMemo)(()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(o),[o]),[$,J]=(0,r.useState)(Y.loading),[Z,Q]=(0,r.useState)(!1),ee=(0,r.useRef)(null),te=$h(t,ee),ne=1===r.Children.count(v)&&!x&&!Aj(P),re=(0,r.useRef)(!0);r.useEffect(()=>(re.current=!1,()=>{re.current=!0}),[]),Bh(()=>{let e=null;return Y.delay>0?e=setTimeout(()=>{e=null,J(!0)},Y.delay):J(Y.loading),function(){e&&(clearTimeout(e),e=null)}},[Y.delay,Y.loading]),(0,r.useEffect)(()=>{if(!ee.current||!H)return;const e=ee.current.textContent||"";ne&&Mj(e)?Z||Q(!0):Z&&Q(!1)}),(0,r.useEffect)(()=>{S&&ee.current&&ee.current.focus()},[]);const ae=r.useCallback(t=>{var n;$||G?t.preventDefault():null===(n=e.onClick)||void 0===n||n.call(e,t)},[e.onClick,$,G]);const{compactSize:oe,compactItemClassnames:ie}=wj(W,R),se={large:"lg",small:"sm",middle:void 0},le=hj(e=>{var t,n;return null!==(n=null!==(t=null!==m&&void 0!==m?m:oe)&&void 0!==t?t:X)&&void 0!==n?n:e}),ce=le&&null!==(a=se[le])&&void 0!==a?a:"",de=$?"loading":x,ue=Fh(E,["navigate"]),me=Ah()(W,q,U,{["".concat(W,"-").concat(I)]:"default"!==I&&I,["".concat(W,"-").concat(_)]:_,["".concat(W,"-dangerous")]:d,["".concat(W,"-color-").concat(T)]:T,["".concat(W,"-variant-").concat(P)]:P,["".concat(W,"-").concat(ce)]:ce,["".concat(W,"-icon-only")]:!v&&0!==v&&!!de,["".concat(W,"-background-ghost")]:b&&!Aj(P),["".concat(W,"-loading")]:$,["".concat(W,"-two-chinese-chars")]:Z&&H&&!$,["".concat(W,"-block")]:k,["".concat(W,"-rtl")]:"rtl"===R,["".concat(W,"-icon-end")]:"end"===y},ie,f,h,D),ge=Object.assign(Object.assign({},L),N),pe=Ah()(null===j||void 0===j?void 0:j.icon,B.icon),fe=Object.assign(Object.assign({},(null===g||void 0===g?void 0:g.icon)||{}),F.icon||{}),he=e=>r.createElement(nN,{prefixCls:W,className:pe,style:fe},e);let ve;ve=x&&!$?he(x):o&&"object"===typeof o&&o.icon?he(o.icon):r.createElement(iN,{existIcon:!!x,prefixCls:W,loading:$,mount:re.current});const xe=v||0===v?Rj(v,ne&&H):null;if(void 0!==ue.href)return V(r.createElement("a",Object.assign({},ue,{className:Ah()(me,{["".concat(W,"-disabled")]:G}),href:G?void 0:ue.href,style:ge,onClick:ae,ref:te,tabIndex:G?-1:0,"aria-disabled":G}),ve,xe));let ye=r.createElement("button",Object.assign({},E,{type:w,className:me,style:ge,onClick:ae,disabled:G,ref:te}),ve,xe,ie&&r.createElement(YN,{prefixCls:W}));return Aj(P)||(ye=r.createElement(cj,{component:"Button",disabled:$},ye)),V(ye)}),QN=ZN;QN.Group=_j,QN.__ANT_BUTTON=!0;const eC=QN,tC=r.createContext({});function nC(){}const rC=r.createContext({}),aC=()=>{const e=()=>{};return e.deprecated=nC,e},oC=(0,r.createContext)(void 0);const iC={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const sC=Le(Le({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),lC={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},cC={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},sC),timePickerLocale:Object.assign({},lC)},dC="${label} is not a valid ${type}",uC={locale:"en",Pagination:iC,DatePicker:cC,TimePicker:lC,Calendar:cC,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:dC,method:dC,array:dC,object:dC,number:dC,date:dC,boolean:dC,integer:dC,float:dC,regexp:dC,email:dC,url:dC,hex:dC},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let mC=Object.assign({},uC.Modal),gC=[];const pC=()=>gC.reduce((e,t)=>Object.assign(Object.assign({},e),t),uC.Modal);function fC(){return mC}const hC=(0,r.createContext)(void 0);const vC=e=>{const{locale:t={},children:n,_ANT_MARK__:a}=e;r.useEffect(()=>{const e=function(e){if(e){const t=Object.assign({},e);return gC.push(t),mC=pC(),()=>{gC=gC.filter(e=>e!==t),mC=pC()}}mC=Object.assign({},uC.Modal)}(null===t||void 0===t?void 0:t.Modal);return e},[t]);const o=r.useMemo(()=>Object.assign(Object.assign({},t),{exist:!0}),[t]);return r.createElement(hC.Provider,{value:o},n)},xC="-ant-".concat(Date.now(),"-").concat(Math.random());function yC(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null===t||void 0===t?void 0:t(n))||n,n.toRgbString()},a=(e,t)=>{const a=new _b(e),o=Tb(a.toRgbString());n["".concat(t,"-color")]=r(a),n["".concat(t,"-color-disabled")]=o[1],n["".concat(t,"-color-hover")]=o[4],n["".concat(t,"-color-active")]=o[6],n["".concat(t,"-color-outline")]=a.clone().setA(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=o[0],n["".concat(t,"-color-deprecated-border")]=o[2]};if(t.primaryColor){a(t.primaryColor,"primary");const e=new _b(t.primaryColor),o=Tb(e.toRgbString());o.forEach((e,t)=>{n["primary-".concat(t+1)]=e}),n["primary-color-deprecated-l-35"]=r(e,e=>e.lighten(35)),n["primary-color-deprecated-l-20"]=r(e,e=>e.lighten(20)),n["primary-color-deprecated-t-20"]=r(e,e=>e.tint(20)),n["primary-color-deprecated-t-50"]=r(e,e=>e.tint(50)),n["primary-color-deprecated-f-12"]=r(e,e=>e.setA(.12*e.a));const i=new _b(o[0]);n["primary-color-active-deprecated-f-30"]=r(i,e=>e.setA(.3*e.a)),n["primary-color-active-deprecated-d-02"]=r(i,e=>e.darken(2))}t.successColor&&a(t.successColor,"success"),t.warningColor&&a(t.warningColor,"warning"),t.errorColor&&a(t.errorColor,"error"),t.infoColor&&a(t.infoColor,"info");const o=Object.keys(n).map(t=>"--".concat(e,"-").concat(t,": ").concat(n[t],";"));return"\n  :root {\n    ".concat(o.join("\n"),"\n  }\n  ").trim()}(e,t);Rh()&&Ov(n,"".concat(xC,"-dynamic-theme"))}const bC=function(){return{componentDisabled:(0,r.useContext)(mj),componentSize:(0,r.useContext)(fj)}},kC=Object.assign({},a),{useId:wC}=kC,jC="undefined"===typeof wC?()=>"":wC;const NC=r.createContext(!0);function CC(e){const t=r.useContext(NC),{children:n}=e,[,a]=Ek(),{motion:o}=a,i=r.useRef(!1);return i.current||(i.current=t!==o),i.current?r.createElement(NC.Provider,{value:o},r.createElement(Uk,{motion:o},n)):n}const SC=()=>null,EC=(e,t)=>{const[n,r]=Ek();return jy({theme:n,token:r,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},()=>xb(e))};var _C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const OC=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let IC,MC,PC,TC;function AC(){return IC||tv}function RC(){return MC||nv}const zC=()=>({getPrefixCls:(e,t)=>t||(e?"".concat(AC(),"-").concat(e):AC()),getIconPrefixCls:RC,getRootPrefixCls:()=>IC||AC(),getTheme:()=>PC,holderRender:TC}),DC=e=>{const{children:t,csp:n,autoInsertSpaceInButton:a,alert:o,anchor:i,form:s,locale:l,componentSize:c,direction:d,space:u,splitter:m,virtual:g,dropdownMatchSelectWidth:p,popupMatchSelectWidth:f,popupOverflow:h,legacyLocale:v,parentContext:x,iconPrefixCls:y,theme:b,componentDisabled:k,segmented:w,statistic:j,spin:N,calendar:C,carousel:S,cascader:E,collapse:_,typography:O,checkbox:I,descriptions:M,divider:P,drawer:T,skeleton:A,steps:R,image:z,layout:D,list:L,mentions:B,modal:F,progress:H,result:W,slider:V,breadcrumb:q,menu:U,pagination:K,input:G,textArea:X,empty:Y,badge:$,radio:J,rate:Z,switch:Q,transfer:ee,avatar:te,message:ne,tag:re,table:ae,card:oe,tabs:ie,timeline:se,timePicker:le,upload:ce,notification:de,tree:ue,colorPicker:me,datePicker:ge,rangePicker:pe,flex:fe,wave:he,dropdown:ve,warning:xe,tour:ye,tooltip:be,popover:ke,popconfirm:we,floatButton:je,floatButtonGroup:Ne,variant:Ce,inputNumber:Se,treeSelect:Ee}=e,_e=r.useCallback((t,n)=>{const{prefixCls:r}=e;if(n)return n;const a=r||x.getPrefixCls("");return t?"".concat(a,"-").concat(t):a},[x.getPrefixCls,e.prefixCls]),Oe=y||x.iconPrefixCls||nv,Ie=n||x.csp;EC(Oe,Ie);const Me=function(e,t,n){var r;aC("ConfigProvider");const a=e||{},o=!1!==a.inherit&&t?t:Object.assign(Object.assign({},wb),{hashed:null!==(r=null===t||void 0===t?void 0:t.hashed)&&void 0!==r?r:wb.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),i=jC();return Wh(()=>{var r,s;if(!e)return t;const l=Object.assign({},o.components);Object.keys(e.components||{}).forEach(t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])});const c="css-var-".concat(i.replace(/:/g,"")),d=(null!==(r=a.cssVar)&&void 0!==r?r:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===n||void 0===n?void 0:n.prefixCls},"object"===typeof o.cssVar?o.cssVar:{}),"object"===typeof a.cssVar?a.cssVar:{}),{key:"object"===typeof a.cssVar&&(null===(s=a.cssVar)||void 0===s?void 0:s.key)||c});return Object.assign(Object.assign(Object.assign({},o),a),{token:Object.assign(Object.assign({},o.token),a.token),components:l,cssVar:d})},[a,o],(e,t)=>e.some((e,n)=>{const r=t[n];return!Dv(e,r,!0)}))}(b,x.theme,{prefixCls:_e("")});const Pe={csp:Ie,autoInsertSpaceInButton:a,alert:o,anchor:i,locale:l||v,direction:d,space:u,splitter:m,virtual:g,popupMatchSelectWidth:null!==f&&void 0!==f?f:p,popupOverflow:h,getPrefixCls:_e,iconPrefixCls:Oe,theme:Me,segmented:w,statistic:j,spin:N,calendar:C,carousel:S,cascader:E,collapse:_,typography:O,checkbox:I,descriptions:M,divider:P,drawer:T,skeleton:A,steps:R,image:z,input:G,textArea:X,layout:D,list:L,mentions:B,modal:F,progress:H,result:W,slider:V,breadcrumb:q,menu:U,pagination:K,empty:Y,badge:$,radio:J,rate:Z,switch:Q,transfer:ee,avatar:te,message:ne,tag:re,table:ae,card:oe,tabs:ie,timeline:se,timePicker:le,upload:ce,notification:de,tree:ue,colorPicker:me,datePicker:ge,rangePicker:pe,flex:fe,wave:he,dropdown:ve,warning:xe,tour:ye,tooltip:be,popover:ke,popconfirm:we,floatButton:je,floatButtonGroup:Ne,variant:Ce,inputNumber:Se,treeSelect:Ee};const Te=Object.assign({},x);Object.keys(Pe).forEach(e=>{void 0!==Pe[e]&&(Te[e]=Pe[e])}),OC.forEach(t=>{const n=e[t];n&&(Te[t]=n)}),"undefined"!==typeof a&&(Te.button=Object.assign({autoInsertSpace:a},Te.button));const Ae=Wh(()=>Te,Te,(e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some(n=>e[n]!==t[n])}),{layer:Re}=r.useContext(Yv),ze=r.useMemo(()=>({prefixCls:Oe,csp:Ie,layer:Re?"antd":void 0}),[Oe,Ie,Re]);let De=r.createElement(r.Fragment,null,r.createElement(SC,{dropdownMatchSelectWidth:p}),t);const Le=r.useMemo(()=>{var e,t,n,r;return Qy((null===(e=uC.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=Ae.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=Ae.form)||void 0===r?void 0:r.validateMessages)||{},(null===s||void 0===s?void 0:s.validateMessages)||{})},[Ae,null===s||void 0===s?void 0:s.validateMessages]);Object.keys(Le).length>0&&(De=r.createElement(oC.Provider,{value:Le},De)),l&&(De=r.createElement(vC,{locale:l,_ANT_MARK__:"internalMark"},De)),(Oe||Ie)&&(De=r.createElement(Dj.Provider,{value:ze},De)),c&&(De=r.createElement(pj,{size:c},De)),De=r.createElement(CC,null,De);const Be=r.useMemo(()=>{const e=Me||{},{algorithm:t,token:n,components:r,cssVar:a}=e,o=_C(e,["algorithm","token","components","cssVar"]),i=t&&(!Array.isArray(t)||t.length>0)?tx(t):vk,s={};Object.entries(r||{}).forEach(e=>{let[t,n]=e;const r=Object.assign({},n);"algorithm"in r&&(!0===r.algorithm?r.theme=i:(Array.isArray(r.algorithm)||"function"===typeof r.algorithm)&&(r.theme=tx(r.algorithm)),delete r.algorithm),s[t]=r});const l=Object.assign(Object.assign({},kb),n);return Object.assign(Object.assign({},o),{theme:i,token:l,components:s,override:Object.assign({override:l},s),cssVar:a})},[Me]);return b&&(De=r.createElement(jb.Provider,{value:Be},De)),Ae.warning&&(De=r.createElement(rC.Provider,{value:Ae.warning},De)),void 0!==k&&(De=r.createElement(uj,{disabled:k},De)),r.createElement(av.Provider,{value:Ae},De)},LC=e=>{const t=r.useContext(av),n=r.useContext(hC);return r.createElement(DC,Object.assign({parentContext:t,legacyLocale:n},e))};LC.ConfigContext=av,LC.SizeContext=fj,LC.config=e=>{const{prefixCls:t,iconPrefixCls:n,theme:r,holderRender:a}=e;void 0!==t&&(IC=t),void 0!==n&&(MC=n),"holderRender"in e&&(TC=a),r&&(!function(e){return Object.keys(e).some(e=>e.endsWith("Color"))}(r)?PC=r:yC(AC(),r))},LC.useConfig=bC,Object.defineProperty(LC,"SizeContext",{get:()=>fj});const BC=LC;const FC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var HC=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:FC}))};const WC=r.forwardRef(HC);const VC={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var qC=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:VC}))};const UC=r.forwardRef(qC);const KC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var GC=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:KC}))};const XC=r.forwardRef(GC);const YC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var $C=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:YC}))};const JC=r.forwardRef($C);var ZC={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=ZC.F1&&t<=ZC.F12)return!1;switch(t){case ZC.ALT:case ZC.CAPS_LOCK:case ZC.CONTEXT_MENU:case ZC.CTRL:case ZC.DOWN:case ZC.END:case ZC.ESC:case ZC.HOME:case ZC.INSERT:case ZC.LEFT:case ZC.MAC_FF_META:case ZC.META:case ZC.NUMLOCK:case ZC.NUM_CENTER:case ZC.PAGE_DOWN:case ZC.PAGE_UP:case ZC.PAUSE:case ZC.PRINT_SCREEN:case ZC.RIGHT:case ZC.SHIFT:case ZC.UP:case ZC.WIN_KEY:case ZC.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ZC.ZERO&&e<=ZC.NINE)return!0;if(e>=ZC.NUM_ZERO&&e<=ZC.NUM_MULTIPLY)return!0;if(e>=ZC.A&&e<=ZC.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case ZC.SPACE:case ZC.QUESTION_MARK:case ZC.NUM_PLUS:case ZC.NUM_MINUS:case ZC.NUM_PERIOD:case ZC.NUM_DIVISION:case ZC.SEMICOLON:case ZC.DASH:case ZC.EQUALS:case ZC.COMMA:case ZC.PERIOD:case ZC.SLASH:case ZC.APOSTROPHE:case ZC.SINGLE_QUOTE:case ZC.OPEN_SQUARE_BRACKET:case ZC.BACKSLASH:case ZC.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const QC=ZC;var eS="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function tS(e,t){return 0===e.indexOf(t)}function nS(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Le({},n);var r={};return Object.keys(e).forEach(function(n){(t.aria&&("role"===n||tS(n,"aria-"))||t.data&&tS(n,"data-")||t.attr&&eS.includes(n))&&(r[n]=e[n])}),r}var rS=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.style,o=e.className,i=e.duration,s=void 0===i?4.5:i,l=e.showProgress,c=e.pauseOnHover,d=void 0===c||c,u=e.eventKey,m=e.content,g=e.closable,p=e.closeIcon,f=void 0===p?"x":p,h=e.props,v=e.onClick,x=e.onNoticeClose,y=e.times,b=e.hovering,k=fv(r.useState(!1),2),w=k[0],j=k[1],N=fv(r.useState(0),2),C=N[0],S=N[1],E=fv(r.useState(0),2),_=E[0],O=E[1],I=b||w,M=s>0&&l,P=function(){x(u)};r.useEffect(function(){if(!I&&s>0){var e=Date.now()-_,t=setTimeout(function(){P()},1e3*s-_);return function(){d&&clearTimeout(t),O(Date.now()-e)}}},[s,I,y]),r.useEffect(function(){if(!I&&M&&(d||0===_)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame(function(e){var r=e+_-t,a=Math.min(r/(1e3*s),1);S(100*a),a<1&&n()})}(),function(){d&&cancelAnimationFrame(e)}}},[s,_,I,M,y]);var T=r.useMemo(function(){return"object"===Ae(g)&&null!==g?g:g?{closeIcon:f}:{}},[g,f]),A=nS(T,!0),R=100-(!C||C<0?0:C>100?100:C),z="".concat(n,"-notice");return r.createElement("div",jx({},h,{ref:t,className:Ah()(z,o,ze({},"".concat(z,"-closable"),g)),style:a,onMouseEnter:function(e){var t;j(!0),null===h||void 0===h||null===(t=h.onMouseEnter)||void 0===t||t.call(h,e)},onMouseLeave:function(e){var t;j(!1),null===h||void 0===h||null===(t=h.onMouseLeave)||void 0===t||t.call(h,e)},onClick:v}),r.createElement("div",{className:"".concat(z,"-content")},m),g&&r.createElement("a",jx({tabIndex:0,className:"".concat(z,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==QC.ENTER||P()},"aria-label":"Close"},A,{onClick:function(e){e.preventDefault(),e.stopPropagation(),P()}}),T.closeIcon),M&&r.createElement("progress",{className:"".concat(z,"-progress"),max:"100",value:R},R+"%"))});const aS=rS;var oS=r.createContext({});const iS=function(e){var t=e.children,n=e.classNames;return r.createElement(oS.Provider,{value:{classNames:n}},t)};const sS=function(e){var t,n,r,a={offset:8,threshold:3,gap:16};e&&"object"===Ae(e)&&(a.offset=null!==(t=e.offset)&&void 0!==t?t:8,a.threshold=null!==(n=e.threshold)&&void 0!==n?n:3,a.gap=null!==(r=e.gap)&&void 0!==r?r:16);return[!!e,a]};var lS=["className","style","classNames","styles"];const cS=function(e){var t=e.configList,n=e.placement,a=e.prefixCls,o=e.className,i=e.style,s=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,d=e.stack,u=(0,r.useContext)(oS).classNames,m=(0,r.useRef)({}),g=fv((0,r.useState)(null),2),p=g[0],f=g[1],h=fv((0,r.useState)([]),2),v=h[0],x=h[1],y=t.map(function(e){return{config:e,key:String(e.key)}}),b=fv(sS(d),2),k=b[0],w=b[1],j=w.offset,N=w.threshold,C=w.gap,S=k&&(v.length>0||y.length<=N),E="function"===typeof s?s(n):s;return(0,r.useEffect)(function(){k&&v.length>1&&x(function(e){return e.filter(function(e){return y.some(function(t){var n=t.key;return e===n})})})},[v,y,k]),(0,r.useEffect)(function(){var e,t;k&&m.current[null===(e=y[y.length-1])||void 0===e?void 0:e.key]&&f(m.current[null===(t=y[y.length-1])||void 0===t?void 0:t.key])},[y,k]),r.createElement(Pw,jx({key:n,className:Ah()(a,"".concat(a,"-").concat(n),null===u||void 0===u?void 0:u.list,o,ze(ze({},"".concat(a,"-stack"),!!k),"".concat(a,"-stack-expanded"),S)),style:i,keys:y,motionAppear:!0},E,{onAllRemoved:function(){l(n)}}),function(e,t){var o=e.config,i=e.className,s=e.style,l=e.index,d=o,g=d.key,f=d.times,h=String(g),b=o,w=b.className,N=b.style,E=b.classNames,_=b.styles,O=Be(b,lS),I=y.findIndex(function(e){return e.key===h}),M={};if(k){var P=y.length-1-(I>-1?I:l-1),T="top"===n||"bottom"===n?"-50%":"0";if(P>0){var A,R,z;M.height=S?null===(A=m.current[h])||void 0===A?void 0:A.offsetHeight:null===p||void 0===p?void 0:p.offsetHeight;for(var D=0,L=0;L<P;L++){var B;D+=(null===(B=m.current[y[y.length-1-L].key])||void 0===B?void 0:B.offsetHeight)+C}var F=(S?D:P*j)*(n.startsWith("top")?1:-1),H=!S&&null!==p&&void 0!==p&&p.offsetWidth&&null!==(R=m.current[h])&&void 0!==R&&R.offsetWidth?((null===p||void 0===p?void 0:p.offsetWidth)-2*j*(P<3?P:3))/(null===(z=m.current[h])||void 0===z?void 0:z.offsetWidth):1;M.transform="translate3d(".concat(T,", ").concat(F,"px, 0) scaleX(").concat(H,")")}else M.transform="translate3d(".concat(T,", 0, 0)")}return r.createElement("div",{ref:t,className:Ah()("".concat(a,"-notice-wrapper"),i,null===E||void 0===E?void 0:E.wrapper),style:Le(Le(Le({},s),M),null===_||void 0===_?void 0:_.wrapper),onMouseEnter:function(){return x(function(e){return e.includes(h)?e:[].concat(vv(e),[h])})},onMouseLeave:function(){return x(function(e){return e.filter(function(e){return e!==h})})}},r.createElement(aS,jx({},O,{ref:function(e){I>-1?m.current[h]=e:delete m.current[h]},prefixCls:a,classNames:E,styles:_,className:Ah()(w,null===u||void 0===u?void 0:u.notice),style:N,times:f,key:g,eventKey:g,onNoticeClose:c,hovering:k&&v.length>0})))})};var dS=r.forwardRef(function(e,t){var n=e.prefixCls,a=void 0===n?"rc-notification":n,o=e.container,i=e.motion,s=e.maxCount,l=e.className,c=e.style,d=e.onAllRemoved,u=e.stack,m=e.renderNotifications,g=fv(r.useState([]),2),p=g[0],f=g[1],h=function(e){var t,n=p.find(function(t){return t.key===e});null===n||void 0===n||null===(t=n.onClose)||void 0===t||t.call(n),f(function(t){return t.filter(function(t){return t.key!==e})})};r.useImperativeHandle(t,function(){return{open:function(e){f(function(t){var n,r=vv(t),a=r.findIndex(function(t){return t.key===e.key}),o=Le({},e);a>=0?(o.times=((null===(n=t[a])||void 0===n?void 0:n.times)||0)+1,r[a]=o):(o.times=0,r.push(o));return s>0&&r.length>s&&(r=r.slice(-s)),r})},close:function(e){h(e)},destroy:function(){f([])}}});var v=fv(r.useState({}),2),x=v[0],y=v[1];r.useEffect(function(){var e={};p.forEach(function(t){var n=t.placement,r=void 0===n?"topRight":n;r&&(e[r]=e[r]||[],e[r].push(t))}),Object.keys(x).forEach(function(t){e[t]=e[t]||[]}),y(e)},[p]);var b=function(e){y(function(t){var n=Le({},t);return(n[e]||[]).length||delete n[e],n})},k=r.useRef(!1);if(r.useEffect(function(){Object.keys(x).length>0?k.current=!0:k.current&&(null===d||void 0===d||d(),k.current=!1)},[x]),!o)return null;var w=Object.keys(x);return(0,we.createPortal)(r.createElement(r.Fragment,null,w.map(function(e){var t=x[e],n=r.createElement(cS,{key:e,configList:t,placement:e,prefixCls:a,className:null===l||void 0===l?void 0:l(e),style:null===c||void 0===c?void 0:c(e),motion:i,onNoticeClose:h,onAllNoticeRemoved:b,stack:u});return m?m(n,{prefixCls:a,key:e}):n})),o)});const uS=dS;var mS=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],gS=function(){return document.body},pS=0;function fS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?gS:t,a=e.motion,o=e.prefixCls,i=e.maxCount,s=e.className,l=e.style,c=e.onAllRemoved,d=e.stack,u=e.renderNotifications,m=Be(e,mS),g=fv(r.useState(),2),p=g[0],f=g[1],h=r.useRef(),v=r.createElement(uS,{container:p,ref:h,prefixCls:o,motion:a,maxCount:i,className:s,style:l,onAllRemoved:c,stack:d,renderNotifications:u}),x=fv(r.useState([]),2),y=x[0],b=x[1],k=Vy(function(e){var t=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&Object.keys(t).forEach(function(n){var r=t[n];void 0!==r&&(e[n]=r)})}),e}(m,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(pS),pS+=1),b(function(e){return[].concat(vv(e),[{type:"open",config:t}])})}),w=r.useMemo(function(){return{open:k,close:function(e){b(function(t){return[].concat(vv(t),[{type:"close",key:e}])})},destroy:function(){b(function(e){return[].concat(vv(e),[{type:"destroy"}])})}}},[]);return r.useEffect(function(){f(n())}),r.useEffect(function(){var e,t;h.current&&y.length&&(y.forEach(function(e){switch(e.type){case"open":h.current.open(e.config);break;case"close":h.current.close(e.key);break;case"destroy":h.current.destroy()}}),b(function(n){return e===n&&t||(e=n,t=n.filter(function(e){return!y.includes(e)})),t}))},[y]),[w,v]}const hS=e=>{const[,,,,t]=Ek();return t?"".concat(e,"-css-var"):""};const vS=r.createContext(void 0),xS=100,yS=1e3,bS={Modal:xS,Drawer:xS,Popover:xS,Popconfirm:xS,Tooltip:xS,Tour:xS,FloatButton:xS},kS={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const wS=(e,t)=>{const[,n]=Ek(),a=r.useContext(vS),o=function(e){return e in bS}(e);let i;if(void 0!==t)i=[t,t];else{let r=null!==a&&void 0!==a?a:0;r+=o?(a?0:n.zIndexPopupBase)+bS[e]:kS[e],i=[void 0===a?t:r,r]}return i},jS=_k("Message",e=>(e=>{const{componentCls:t,iconCls:n,boxShadow:r,colorText:a,colorSuccess:o,colorError:i,colorWarning:s,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:d,motionDurationSlow:u,marginXS:m,paddingXS:g,borderRadiusLG:p,zIndexPopup:f,contentPadding:h,contentBg:v}=e,x="".concat(t,"-notice"),y=new Ey("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:g,transform:"translateY(0)",opacity:1}}),b=new Ey("MessageMoveOut",{"0%":{maxHeight:e.height,padding:g,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),k={padding:g,textAlign:"center",["".concat(t,"-custom-content")]:{display:"flex",alignItems:"center"},["".concat(t,"-custom-content > ").concat(n)]:{marginInlineEnd:m,fontSize:c},["".concat(x,"-content")]:{display:"inline-block",padding:h,background:v,borderRadius:p,boxShadow:r,pointerEvents:"all"},["".concat(t,"-success > ").concat(n)]:{color:o},["".concat(t,"-error > ").concat(n)]:{color:i},["".concat(t,"-warning > ").concat(n)]:{color:s},["".concat(t,"-info > ").concat(n,",\n      ").concat(t,"-loading > ").concat(n)]:{color:l}};return[{[t]:Object.assign(Object.assign({},fb(e)),{color:a,position:"fixed",top:m,width:"100%",pointerEvents:"none",zIndex:f,["".concat(t,"-move-up")]:{animationFillMode:"forwards"},["\n        ".concat(t,"-move-up-appear,\n        ").concat(t,"-move-up-enter\n      ")]:{animationName:y,animationDuration:u,animationPlayState:"paused",animationTimingFunction:d},["\n        ".concat(t,"-move-up-appear").concat(t,"-move-up-appear-active,\n        ").concat(t,"-move-up-enter").concat(t,"-move-up-enter-active\n      ")]:{animationPlayState:"running"},["".concat(t,"-move-up-leave")]:{animationName:b,animationDuration:u,animationPlayState:"paused",animationTimingFunction:d},["".concat(t,"-move-up-leave").concat(t,"-move-up-leave-active")]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{["".concat(x,"-wrapper")]:Object.assign({},k)}},{["".concat(t,"-notice-pure-panel")]:Object.assign(Object.assign({},k),{padding:0,textAlign:"start"})}]})(rb(e,{height:150})),e=>({zIndexPopup:e.zIndexPopupBase+yS+10,contentBg:e.colorBgElevated,contentPadding:"".concat((e.controlHeightLG-e.fontSize*e.lineHeight)/2,"px ").concat(e.paddingSM,"px")}));var NS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const CS={info:r.createElement(JC,null),success:r.createElement(WC,null),error:r.createElement(UC,null),warning:r.createElement(XC,null),loading:r.createElement(eN,null)},SS=e=>{let{prefixCls:t,type:n,icon:a,children:o}=e;return r.createElement("div",{className:Ah()("".concat(t,"-custom-content"),"".concat(t,"-").concat(n))},a||CS[n],r.createElement("span",null,o))},ES=e=>{const{prefixCls:t,className:n,type:a,icon:o,content:i}=e,s=NS(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=r.useContext(av),c=t||l("message"),d=hS(c),[u,m,g]=jS(c,d);return u(r.createElement(aS,Object.assign({},s,{prefixCls:c,className:Ah()(n,m,"".concat(c,"-notice-pure-panel"),g,d),eventKey:"pure",duration:null,content:r.createElement(SS,{prefixCls:c,type:a,icon:o},i)})))};const _S={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var OS=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:_S}))};const IS=r.forwardRef(OS);function MS(e){let t;const n=new Promise(n=>{t=e(()=>{n(!0)})}),r=()=>{null===t||void 0===t||t()};return r.then=(e,t)=>n.then(e,t),r.promise=n,r}var PS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const TS=3,AS=e=>{let{children:t,prefixCls:n}=e;const a=hS(n),[o,i,s]=jS(n,a);return o(r.createElement(iS,{classNames:{list:Ah()(i,s,a)}},t))},RS=(e,t)=>{let{prefixCls:n,key:a}=t;return r.createElement(AS,{prefixCls:n,key:a},e)},zS=r.forwardRef((e,t)=>{const{top:n,prefixCls:a,getContainer:o,maxCount:i,duration:s=TS,rtl:l,transitionName:c,onAllRemoved:d}=e,{getPrefixCls:u,getPopupContainer:m,message:g,direction:p}=r.useContext(av),f=a||u("message"),h=r.createElement("span",{className:"".concat(f,"-close-x")},r.createElement(IS,{className:"".concat(f,"-close-icon")})),[v,x]=fS({prefixCls:f,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!==n&&void 0!==n?n:8}),className:()=>Ah()({["".concat(f,"-rtl")]:null!==l&&void 0!==l?l:"rtl"===p}),motion:()=>function(e,t){return{motionName:null!==t&&void 0!==t?t:"".concat(e,"-move-up")}}(f,c),closable:!1,closeIcon:h,duration:s,getContainer:()=>(null===o||void 0===o?void 0:o())||(null===m||void 0===m?void 0:m())||document.body,maxCount:i,onAllRemoved:d,renderNotifications:RS});return r.useImperativeHandle(t,()=>Object.assign(Object.assign({},v),{prefixCls:f,message:g})),x});let DS=0;function LS(e){const t=r.useRef(null),n=(aC("Message"),r.useMemo(()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},n=n=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:a,prefixCls:o,message:i}=t.current,s="".concat(o,"-notice"),{content:l,icon:c,type:d,key:u,className:m,style:g,onClose:p}=n,f=PS(n,["content","icon","type","key","className","style","onClose"]);let h=u;return void 0!==h&&null!==h||(DS+=1,h="antd-message-".concat(DS)),MS(t=>(a(Object.assign(Object.assign({},f),{key:h,content:r.createElement(SS,{prefixCls:o,type:d,icon:c},l),placement:"top",className:Ah()(d&&"".concat(s,"-").concat(d),m,null===i||void 0===i?void 0:i.className),style:Object.assign(Object.assign({},null===i||void 0===i?void 0:i.style),g),onClose:()=>{null===p||void 0===p||p(),t()}})),()=>{e(h)}))},a={open:n,destroy:n=>{var r;void 0!==n?e(n):null===(r=t.current)||void 0===r||r.destroy()}};return["info","success","warning","error","loading"].forEach(e=>{a[e]=(t,r,a)=>{let o,i,s;o=t&&"object"===typeof t&&"content"in t?t:{content:t},"function"===typeof r?s=r:(i=r,s=a);const l=Object.assign(Object.assign({onClose:s,duration:i},o),{type:e});return n(l)}}),a},[]));return[n,r.createElement(zS,Object.assign({key:"message-holder"},e,{ref:t}))]}let BS=null,FS=e=>e(),HS=[],WS={};function VS(){const{getContainer:e,duration:t,rtl:n,maxCount:r,top:a}=WS,o=(null===e||void 0===e?void 0:e())||document.body;return{getContainer:()=>o,duration:t,rtl:n,maxCount:r,top:a}}const qS=r.forwardRef((e,t)=>{const{messageConfig:n,sync:a}=e,{getPrefixCls:o}=(0,r.useContext)(av),i=WS.prefixCls||o("message"),s=(0,r.useContext)(tC),[l,c]=LS(Object.assign(Object.assign(Object.assign({},n),{prefixCls:i}),s.message));return r.useImperativeHandle(t,()=>{const e=Object.assign({},l);return Object.keys(e).forEach(t=>{e[t]=function(){a();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return l[t].apply(l,n)}}),{instance:e,sync:a}}),c}),US=r.forwardRef((e,t)=>{const[n,a]=r.useState(VS),o=()=>{a(VS)};r.useEffect(o,[]);const i=zC(),s=i.getRootPrefixCls(),l=i.getIconPrefixCls(),c=i.getTheme(),d=r.createElement(qS,{ref:t,sync:o,messageConfig:n});return r.createElement(BC,{prefixCls:s,iconPrefixCls:l,theme:c},i.holderRender?i.holderRender(d):d)}),KS=()=>{if(!BS){const e=document.createDocumentFragment(),t={fragment:e};return BS=t,void FS(()=>{rj()(r.createElement(US,{ref:e=>{const{instance:n,sync:r}=e||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=r,KS())})}}),e)})}BS.instance&&(HS.forEach(e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":FS(()=>{const t=BS.instance.open(Object.assign(Object.assign({},WS),e.config));null===t||void 0===t||t.then(e.resolve),e.setCloseFn(t)});break;case"destroy":FS(()=>{null===BS||void 0===BS||BS.instance.destroy(e.key)});break;default:FS(()=>{var n;const r=(n=BS.instance)[t].apply(n,vv(e.args));null===r||void 0===r||r.then(e.resolve),e.setCloseFn(r)})}}),HS=[])};const GS={open:function(e){const t=MS(t=>{let n;const r={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return HS.push(r),()=>{n?FS(()=>{n()}):r.skipped=!0}});return KS(),t},destroy:e=>{HS.push({type:"destroy",key:e}),KS()},config:function(e){WS=Object.assign(Object.assign({},WS),e),FS(()=>{var e;null===(e=null===BS||void 0===BS?void 0:BS.sync)||void 0===e||e.call(BS)})},useMessage:function(e){return LS(e)},_InternalPanelDoNotUseOrYouWillBeFired:ES};["success","info","warning","error","loading"].forEach(e=>{GS[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e,t){zC();const n=MS(n=>{let r;const a={type:e,args:t,resolve:n,setCloseFn:e=>{r=e}};return HS.push(a),()=>{r?FS(()=>{r()}):a.skipped=!0}});return KS(),n}(e,n)}});const XS=GS;var YS="RC_FORM_INTERNAL_HOOKS",$S=function(){zv(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const JS=r.createContext({getFieldValue:$S,getFieldsValue:$S,getFieldError:$S,getFieldWarning:$S,getFieldsError:$S,isFieldsTouched:$S,isFieldTouched:$S,isFieldValidating:$S,isFieldsValidating:$S,resetFields:$S,setFields:$S,setFieldValue:$S,setFieldsValue:$S,validateFields:$S,submit:$S,getInternalHooks:function(){return $S(),{dispatch:$S,initEntityValue:$S,registerField:$S,useSubscribe:$S,setInitialValues:$S,destroyForm:$S,setCallbacks:$S,registerWatch:$S,getFields:$S,setValidateMessages:$S,setPreserve:$S,getInitialValue:$S}}});const ZS=r.createContext(null);function QS(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function eE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var tE=eE();function nE(e){var t="function"==typeof Map?new Map:void 0;return nE=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(oO){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Ty())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&Iy(a,n.prototype),a}(e,arguments,Py(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Iy(n,e)},nE(e)}var rE=/%[sdj%]/g;function aE(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function oE(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(rE,function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(t){return"[Circular]"}default:return e}}):e}function iE(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function sE(e,t,n){var r=0,a=e.length;!function o(i){if(i&&i.length)n(i);else{var s=r;r+=1,s<a?t(e[s],o):n([])}}([])}var lE=function(e){My(n,e);var t=Ay(n);function n(e,r){var a;return Lv(this,n),ze(Oy(a=t.call(this,"Async Validation Error")),"errors",void 0),ze(Oy(a),"fields",void 0),a.errors=e,a.fields=r,a}return Fv(n)}(nE(Error));function cE(e,t,n,r,a){if(t.first){var o=new Promise(function(t,o){var i=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,vv(e[n]||[]))}),t}(e);sE(i,n,function(e){return r(e),e.length?o(new lE(e,aE(e))):t(a)})});return o.catch(function(e){return e}),o}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,d=[],u=new Promise(function(t,o){var u=function(e){if(d.push.apply(d,e),++c===l)return r(d),d.length?o(new lE(d,aE(d))):t(a)};s.length||(r(d),t(a)),s.forEach(function(t){var r=e[t];-1!==i.indexOf(t)?sE(r,n,u):function(e,t,n){var r=[],a=0,o=e.length;function i(e){r.push.apply(r,vv(e||[])),++a===o&&n(r)}e.forEach(function(e){t(e,i)})}(r,n,u)})});return u.catch(function(e){return e}),u}function dE(e,t){return function(n){var r,a;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function uE(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===Ae(r)&&"object"===Ae(e[n])?e[n]=Le(Le({},e[n]),r):e[n]=r}return e}var mE="enum";const gE=function(e,t,n,r,a){var o="number"===typeof e.len,i="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,d="number"===typeof t,u="string"===typeof t,m=Array.isArray(t);if(d?c="number":u?c="string":m&&(c="array"),!c)return!1;m&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(oE(a.messages[c].len,e.fullField,e.len)):i&&!s&&l<e.min?r.push(oE(a.messages[c].min,e.fullField,e.min)):s&&!i&&l>e.max?r.push(oE(a.messages[c].max,e.fullField,e.max)):i&&s&&(l<e.min||l>e.max)&&r.push(oE(a.messages[c].range,e.fullField,e.min,e.max))};const pE=function(e,t,n,r,a,o){!e.required||n.hasOwnProperty(e.field)&&!iE(t,o||e.type)||r.push(oE(a.messages.required,e.fullField))};var fE;var hE=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,vE=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,xE={integer:function(e){return xE.number(e)&&parseInt(e,10)===e},float:function(e){return xE.number(e)&&!xE.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(aO){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===Ae(e)&&!xE.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(hE)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(fE)return fE;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",a=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:".concat(a.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),i=new RegExp("(?:^".concat(n,"$)|(?:^").concat(o,"$)")),s=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(o,"$")),c=function(e){return e&&e.exact?i:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(o).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(o).concat(t(e)),"g")};var d=c.v4().source,u=c.v6().source,m="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(d,"|").concat(u,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return fE=new RegExp("(?:^".concat(m,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(vE)}};const yE=function(e,t,n,r,a){if(e.required&&void 0===t)pE(e,t,n,r,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?xE[o](t)||r.push(oE(a.messages.types[o],e.fullField,e.type)):o&&Ae(t)!==e.type&&r.push(oE(a.messages.types[o],e.fullField,e.type))}};const bE={required:pE,whitespace:function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(oE(a.messages.whitespace,e.fullField))},type:yE,range:gE,enum:function(e,t,n,r,a){e[mE]=Array.isArray(e[mE])?e[mE]:[],-1===e[mE].indexOf(t)&&r.push(oE(a.messages[mE],e.fullField,e[mE].join(", ")))},pattern:function(e,t,n,r,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(oE(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(oE(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};const kE=function(e,t,n,r,a){var o=[],i=Array.isArray(t)?"array":Ae(t);bE.required(e,t,r,o,a,i),n(o)};const wE=function(e,t,n,r,a){var o=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t,o)&&!e.required)return n();bE.required(e,t,r,i,a,o),iE(t,o)||bE.type(e,t,r,i,a)}n(i)},jE={string:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t,"string")&&!e.required)return n();bE.required(e,t,r,o,a,"string"),iE(t,"string")||(bE.type(e,t,r,o,a),bE.range(e,t,r,o,a),bE.pattern(e,t,r,o,a),!0===e.whitespace&&bE.whitespace(e,t,r,o,a))}n(o)},method:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&bE.type(e,t,r,o,a)}n(o)},number:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&(bE.type(e,t,r,o,a),bE.range(e,t,r,o,a))}n(o)},boolean:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&bE.type(e,t,r,o,a)}n(o)},regexp:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),iE(t)||bE.type(e,t,r,o,a)}n(o)},integer:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&(bE.type(e,t,r,o,a),bE.range(e,t,r,o,a))}n(o)},float:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&(bE.type(e,t,r,o,a),bE.range(e,t,r,o,a))}n(o)},array:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();bE.required(e,t,r,o,a,"array"),void 0!==t&&null!==t&&(bE.type(e,t,r,o,a),bE.range(e,t,r,o,a))}n(o)},object:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&bE.type(e,t,r,o,a)}n(o)},enum:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a),void 0!==t&&bE.enum(e,t,r,o,a)}n(o)},pattern:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t,"string")&&!e.required)return n();bE.required(e,t,r,o,a),iE(t,"string")||bE.pattern(e,t,r,o,a)}n(o)},date:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t,"date")&&!e.required)return n();var i;if(bE.required(e,t,r,o,a),!iE(t,"date"))i=t instanceof Date?t:new Date(t),bE.type(e,i,r,o,a),i&&bE.range(e,i.getTime(),r,o,a)}n(o)},url:wE,hex:wE,email:wE,required:kE,any:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(iE(t)&&!e.required)return n();bE.required(e,t,r,o,a)}n(o)}};var NE=function(){function e(t){Lv(this,e),ze(this,"rules",null),ze(this,"_messages",tE),this.define(t)}return Fv(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==Ae(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})}},{key:"messages",value:function(e){return e&&(this._messages=uE(eE(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof a&&(o=a,a={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,r),Promise.resolve(r);if(a.messages){var i=this.messages();i===tE&&(i=eE()),uE(i,a.messages),a.messages=i}else a.messages=this.messages();var s={};(a.keys||Object.keys(this.rules)).forEach(function(e){var a=n.rules[e],o=r[e];a.forEach(function(a){var i=a;"function"===typeof i.transform&&(r===t&&(r=Le({},r)),void 0!==(o=r[e]=i.transform(o))&&null!==o&&(i.type=i.type||(Array.isArray(o)?"array":Ae(o)))),(i="function"===typeof i?{validator:i}:Le({},i)).validator=n.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=n.getType(i),s[e]=s[e]||[],s[e].push({rule:i,value:o,source:r,field:e}))})});var l={};return cE(s,a,function(t,n){var o,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===Ae(i.fields)||"object"===Ae(i.defaultField));function c(e,t){return Le(Le({},t),{},{fullField:"".concat(i.fullField,".").concat(e),fullFields:i.fullFields?[].concat(vv(i.fullFields),[e]):[e]})}function d(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=Array.isArray(o)?o:[o];!a.suppressWarning&&d.length&&e.warning("async-validator:",d),d.length&&void 0!==i.message&&(d=[].concat(i.message));var u=d.map(dE(i,r));if(a.first&&u.length)return l[i.field]=1,n(u);if(s){if(i.required&&!t.value)return void 0!==i.message?u=[].concat(i.message).map(dE(i,r)):a.error&&(u=[a.error(i,oE(a.messages.required,i.field))]),n(u);var m={};i.defaultField&&Object.keys(t.value).map(function(e){m[e]=i.defaultField}),m=Le(Le({},m),t.rule.fields);var g={};Object.keys(m).forEach(function(e){var t=m[e],n=Array.isArray(t)?t:[t];g[e]=n.map(c.bind(null,e))});var p=new e(g);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,function(e){var t=[];u&&u.length&&t.push.apply(t,vv(u)),e&&e.length&&t.push.apply(t,vv(e)),n(t.length?t:null)})}else n(u)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)o=i.asyncValidator(i,t.value,d,t.source,a);else if(i.validator){try{o=i.validator(i,t.value,d,t.source,a)}catch(g){var u,m;null===(u=(m=console).error)||void 0===u||u.call(m,g),a.suppressValidatorError||setTimeout(function(){throw g},0),d(g.message)}!0===o?d():!1===o?d("function"===typeof i.message?i.message(i.fullField||i.field):i.message||"".concat(i.fullField||i.field," fails")):o instanceof Array?d(o):o instanceof Error&&d(o.message)}o&&o.then&&o.then(function(){return d()},function(e){return d(e)})},function(e){!function(e){var t=[],n={};function a(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,vv(e)):t.push(e)}for(var i=0;i<e.length;i++)a(e[i]);t.length?(n=aE(t),o(t,n)):o(null,r)}(e)},r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!jE.hasOwnProperty(e.type))throw new Error(oE("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?jE.required:jE[this.getType(e)]||void 0}}]),e}();ze(NE,"register",function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");jE[e]=t}),ze(NE,"warning",function(){}),ze(NE,"messages",tE),ze(NE,"validators",jE);var CE="'${name}' is not a valid ${type}",SE={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:CE,method:CE,array:CE,object:CE,number:CE,date:CE,boolean:CE,integer:CE,float:CE,regexp:CE,email:CE,url:CE,hex:CE},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},EE=NE;function _E(e,t){return e.replace(/\\?\$\{\w+\}/g,function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]})}var OE="CODE_LOGIC_ERROR";function IE(e,t,n,r,a){return ME.apply(this,arguments)}function ME(){return ME=Vw(Hw().mark(function e(t,n,a,o,i){var s,l,c,d,u,m,g,p,f;return Hw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return delete(s=Le({},a)).ruleIndex,EE.warning=function(){},s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(OE)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),d=new EE(ze({},t,[s])),u=Qy(SE,o.validateMessages),d.messages(u),m=[],e.prev=10,e.next=13,Promise.resolve(d.validate(ze({},t,n),Le({},o)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(m=e.t0.errors.map(function(e,t){var n=e.message,a=n===OE?u.default:n;return r.isValidElement(a)?r.cloneElement(a,{key:"error_".concat(t)}):a}));case 18:if(!(!m.length&&c&&Array.isArray(n)&&n.length>0)){e.next=23;break}return e.next=21,Promise.all(n.map(function(e,n){return IE("".concat(t,".").concat(n),e,c,o,i)}));case 21:return g=e.sent,e.abrupt("return",g.reduce(function(e,t){return[].concat(vv(e),vv(t))},[]));case 23:return p=Le(Le({},a),{},{name:t,enum:(a.enum||[]).join(", ")},i),f=m.map(function(e){return"string"===typeof e?_E(e,p):e}),e.abrupt("return",f);case 26:case"end":return e.stop()}},e,null,[[10,15]])})),ME.apply(this,arguments)}function PE(e,t,n,r,a,o){var i,s=e.join("."),l=n.map(function(e,t){var n=e.validator,r=Le(Le({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,o=n(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then(function(){zv(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)})});a=o&&"function"===typeof o.then&&"function"===typeof o.catch,zv(a,"`callback` is deprecated. Please return a promise instead."),a&&o.then(function(){r()}).catch(function(e){r(e||" ")})}),r}).sort(function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,o=t.ruleIndex;return!!n===!!a?r-o:n?1:-1});if(!0===a)i=new Promise(function(){var e=Vw(Hw().mark(function e(n,a){var i,c,d;return Hw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<l.length)){e.next=12;break}return c=l[i],e.next=5,IE(s,t,c,r,o);case 5:if(!(d=e.sent).length){e.next=9;break}return a([{errors:d,rule:c}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map(function(e){return IE(s,t,e,r,o).then(function(t){return{errors:t,rule:e}})});i=(a?function(e){return AE.apply(this,arguments)}(c):function(e){return TE.apply(this,arguments)}(c)).then(function(e){return Promise.reject(e)})}return i.catch(function(e){return e}),i}function TE(){return(TE=Vw(Hw().mark(function e(t){return Hw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then(function(e){var t;return(t=[]).concat.apply(t,vv(e))}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function AE(){return AE=Vw(Hw().mark(function e(t){var n;return Hw().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise(function(e){t.forEach(function(r){r.then(function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])})})}));case 2:case"end":return e.stop()}},e)})),AE.apply(this,arguments)}function RE(e){return QS(e)}function zE(e,t){var n={};return t.forEach(function(t){var r=Gy(e,t);n=$y(n,t,r)}),n}function DE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some(function(e){return LE(t,e,n)})}function LE(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every(function(t,n){return e[n]===t}))}function BE(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Ae(t.target)&&e in t.target?t.target[e]:t}function FE(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var a=e[t],o=t-n;return o>0?[].concat(vv(e.slice(0,n)),[a],vv(e.slice(n,t)),vv(e.slice(t+1,r))):o<0?[].concat(vv(e.slice(0,t)),vv(e.slice(t+1,n+1)),[a],vv(e.slice(n+1,r))):e}var HE=["name"],WE=[];function VE(e,t,n,r,a,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==a}var qE=function(e){My(n,e);var t=Ay(n);function n(e){var a;(Lv(this,n),ze(Oy(a=t.call(this,e)),"state",{resetCount:0}),ze(Oy(a),"cancelRegisterFunc",null),ze(Oy(a),"mounted",!1),ze(Oy(a),"touched",!1),ze(Oy(a),"dirty",!1),ze(Oy(a),"validatePromise",void 0),ze(Oy(a),"prevValidating",void 0),ze(Oy(a),"errors",WE),ze(Oy(a),"warnings",WE),ze(Oy(a),"cancelRegister",function(){var e=a.props,t=e.preserve,n=e.isListField,r=e.name;a.cancelRegisterFunc&&a.cancelRegisterFunc(n,t,RE(r)),a.cancelRegisterFunc=null}),ze(Oy(a),"getNamePath",function(){var e=a.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(vv(void 0===n?[]:n),vv(t)):[]}),ze(Oy(a),"getRules",function(){var e=a.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map(function(e){return"function"===typeof e?e(r):e})}),ze(Oy(a),"refresh",function(){a.mounted&&a.setState(function(e){return{resetCount:e.resetCount+1}})}),ze(Oy(a),"metaCache",null),ze(Oy(a),"triggerMetaEvent",function(e){var t=a.props.onMetaChange;if(t){var n=Le(Le({},a.getMeta()),{},{destroy:e});Dv(a.metaCache,n)||t(n),a.metaCache=n}else a.metaCache=null}),ze(Oy(a),"onStoreChange",function(e,t,n){var r=a.props,o=r.shouldUpdate,i=r.dependencies,s=void 0===i?[]:i,l=r.onReset,c=n.store,d=a.getNamePath(),u=a.getValue(e),m=a.getValue(c),g=t&&DE(t,d);switch("valueUpdate"!==n.type||"external"!==n.source||Dv(u,m)||(a.touched=!0,a.dirty=!0,a.validatePromise=null,a.errors=WE,a.warnings=WE,a.triggerMetaEvent()),n.type){case"reset":if(!t||g)return a.touched=!1,a.dirty=!1,a.validatePromise=void 0,a.errors=WE,a.warnings=WE,a.triggerMetaEvent(),null===l||void 0===l||l(),void a.refresh();break;case"remove":if(o&&VE(o,e,c,u,m,n))return void a.reRender();break;case"setField":var p=n.data;if(g)return"touched"in p&&(a.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(a.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(a.errors=p.errors||WE),"warnings"in p&&(a.warnings=p.warnings||WE),a.dirty=!0,a.triggerMetaEvent(),void a.reRender();if("value"in p&&DE(t,d,!0))return void a.reRender();if(o&&!d.length&&VE(o,e,c,u,m,n))return void a.reRender();break;case"dependenciesUpdate":if(s.map(RE).some(function(e){return DE(n.relatedFields,e)}))return void a.reRender();break;default:if(g||(!s.length||d.length||o)&&VE(o,e,c,u,m,n))return void a.reRender()}!0===o&&a.reRender()}),ze(Oy(a),"validateRules",function(e){var t=a.getNamePath(),n=a.getValue(),r=e||{},o=r.triggerName,i=r.validateOnly,s=void 0!==i&&i,l=Promise.resolve().then(Vw(Hw().mark(function r(){var i,s,c,d,u,m,g;return Hw().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a.mounted){r.next=2;break}return r.abrupt("return",[]);case 2:if(i=a.props,s=i.validateFirst,c=void 0!==s&&s,d=i.messageVariables,u=i.validateDebounce,m=a.getRules(),o&&(m=m.filter(function(e){return e}).filter(function(e){var t=e.validateTrigger;return!t||QS(t).includes(o)})),!u||!o){r.next=10;break}return r.next=8,new Promise(function(e){setTimeout(e,u)});case 8:if(a.validatePromise===l){r.next=10;break}return r.abrupt("return",[]);case 10:return(g=PE(t,n,m,e,c,d)).catch(function(e){return e}).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WE;if(a.validatePromise===l){var t;a.validatePromise=null;var n=[],r=[];null===(t=e.forEach)||void 0===t||t.call(e,function(e){var t=e.rule.warningOnly,a=e.errors,o=void 0===a?WE:a;t?r.push.apply(r,vv(o)):n.push.apply(n,vv(o))}),a.errors=n,a.warnings=r,a.triggerMetaEvent(),a.reRender()}}),r.abrupt("return",g);case 13:case"end":return r.stop()}},r)})));return s||(a.validatePromise=l,a.dirty=!0,a.errors=WE,a.warnings=WE,a.triggerMetaEvent(),a.reRender()),l}),ze(Oy(a),"isFieldValidating",function(){return!!a.validatePromise}),ze(Oy(a),"isFieldTouched",function(){return a.touched}),ze(Oy(a),"isFieldDirty",function(){return!(!a.dirty&&void 0===a.props.initialValue)||void 0!==(0,a.props.fieldContext.getInternalHooks(YS).getInitialValue)(a.getNamePath())}),ze(Oy(a),"getErrors",function(){return a.errors}),ze(Oy(a),"getWarnings",function(){return a.warnings}),ze(Oy(a),"isListField",function(){return a.props.isListField}),ze(Oy(a),"isList",function(){return a.props.isList}),ze(Oy(a),"isPreserve",function(){return a.props.preserve}),ze(Oy(a),"getMeta",function(){return a.prevValidating=a.isFieldValidating(),{touched:a.isFieldTouched(),validating:a.prevValidating,errors:a.errors,warnings:a.warnings,name:a.getNamePath(),validated:null===a.validatePromise}}),ze(Oy(a),"getOnlyChild",function(e){if("function"===typeof e){var t=a.getMeta();return Le(Le({},a.getOnlyChild(e(a.getControlled(),t,a.props.fieldContext))),{},{isFunction:!0})}var n=vj(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}}),ze(Oy(a),"getValue",function(e){var t=a.props.fieldContext.getFieldsValue,n=a.getNamePath();return Gy(e||t(!0),n)}),ze(Oy(a),"getControlled",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=a.props,n=t.name,r=t.trigger,o=t.validateTrigger,i=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,c=t.getValueProps,d=t.fieldContext,u=void 0!==o?o:d.validateTrigger,m=a.getNamePath(),g=d.getInternalHooks,p=d.getFieldsValue,f=g(YS).dispatch,h=a.getValue(),v=c||function(e){return ze({},l,e)},x=e[r],y=void 0!==n?v(h):{};var b=Le(Le({},e),y);return b[r]=function(){var e;a.touched=!0,a.dirty=!0,a.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=i?i.apply(void 0,n):BE.apply(void 0,[l].concat(n)),s&&(e=s(e,h,p(!0))),e!==h&&f({type:"updateValue",namePath:m,value:e}),x&&x.apply(void 0,n)},QS(u||[]).forEach(function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=a.props.rules;n&&n.length&&f({type:"validateField",namePath:m,triggerName:e})}}),b}),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(YS).initEntityValue)(Oy(a));return a}return Fv(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(YS).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,a=this.getOnlyChild(n),o=a.child;return a.isFunction?e=o:r.isValidElement(o)?e=r.cloneElement(o,this.getControlled(o.props)):(zv(!o,"`children` of Field is not validate ReactElement."),e=o),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);ze(qE,"contextType",JS),ze(qE,"defaultProps",{trigger:"onChange",valuePropName:"value"});const UE=function(e){var t,n=e.name,a=Be(e,HE),o=r.useContext(JS),i=r.useContext(ZS),s=void 0!==n?RE(n):void 0,l=null!==(t=a.isListField)&&void 0!==t?t:!!i,c="keep";return l||(c="_".concat((s||[]).join("_"))),r.createElement(qE,jx({key:c,name:s,isListField:l},a,{fieldContext:o}))};const KE=function(e){var t=e.name,n=e.initialValue,a=e.children,o=e.rules,i=e.validateTrigger,s=e.isListField,l=r.useContext(JS),c=r.useContext(ZS),d=r.useRef({keys:[],id:0}).current,u=r.useMemo(function(){var e=RE(l.prefixName)||[];return[].concat(vv(e),vv(RE(t)))},[l.prefixName,t]),m=r.useMemo(function(){return Le(Le({},l),{},{prefixName:u})},[l,u]),g=r.useMemo(function(){return{getKey:function(e){var t=u.length,n=e[t];return[d.keys[n],e.slice(t+1)]}}},[u]);return"function"!==typeof a?(zv(!1,"Form.List only accepts function as children."),null):r.createElement(ZS.Provider,{value:g},r.createElement(JS.Provider,{value:m},r.createElement(UE,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:i,initialValue:n,isList:!0,isListField:null!==s&&void 0!==s?s:!!c},function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,i=l.getFieldValue,s=function(){return i(u||[])||[]},c={add:function(e,t){var n=s();t>=0&&t<=n.length?(d.keys=[].concat(vv(d.keys.slice(0,t)),[d.id],vv(d.keys.slice(t))),o([].concat(vv(n.slice(0,t)),[e],vv(n.slice(t))))):(d.keys=[].concat(vv(d.keys),[d.id]),o([].concat(vv(n),[e]))),d.id+=1},remove:function(e){var t=s(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(d.keys=d.keys.filter(function(e,t){return!n.has(t)}),o(t.filter(function(e,t){return!n.has(t)})))},move:function(e,t){if(e!==t){var n=s();e<0||e>=n.length||t<0||t>=n.length||(d.keys=FE(d.keys,e,t),o(FE(n,e,t)))}}},m=r||[];return Array.isArray(m)||(m=[]),a(m.map(function(e,t){var n=d.keys[t];return void 0===n&&(d.keys[t]=d.id,n=d.keys[t],d.id+=1),{name:t,key:n,isListField:!0}}),c,t)})))};var GE="__@field_split__";function XE(e){return e.map(function(e){return"".concat(Ae(e),":").concat(e)}).join(GE)}var YE=function(){function e(){Lv(this,e),ze(this,"kvs",new Map)}return Fv(e,[{key:"set",value:function(e,t){this.kvs.set(XE(e),t)}},{key:"get",value:function(e){return this.kvs.get(XE(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(XE(e))}},{key:"map",value:function(e){return vv(this.kvs.entries()).map(function(t){var n=fv(t,2),r=n[0],a=n[1],o=r.split(GE);return e({key:o.map(function(e){var t=fv(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r}),value:a})})}},{key:"toJSON",value:function(){var e={};return this.map(function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null}),e}}]),e}();const $E=YE;var JE=["name"],ZE=Fv(function e(t){var n=this;Lv(this,e),ze(this,"formHooked",!1),ze(this,"forceRootUpdate",void 0),ze(this,"subscribable",!0),ze(this,"store",{}),ze(this,"fieldEntities",[]),ze(this,"initialValues",{}),ze(this,"callbacks",{}),ze(this,"validateMessages",null),ze(this,"preserve",null),ze(this,"lastValidatePromise",null),ze(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),ze(this,"getInternalHooks",function(e){return e===YS?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(zv(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),ze(this,"useSubscribe",function(e){n.subscribable=e}),ze(this,"prevWithoutPreserves",null),ze(this,"setInitialValues",function(e,t){if(n.initialValues=e||{},t){var r,a=Qy(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map(function(t){var n=t.key;a=$y(a,n,Gy(e,n))}),n.prevWithoutPreserves=null,n.updateStore(a)}}),ze(this,"destroyForm",function(e){if(e)n.updateStore({});else{var t=new $E;n.getFieldEntities(!0).forEach(function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)}),n.prevWithoutPreserves=t}}),ze(this,"getInitialValue",function(e){var t=Gy(n.initialValues,e);return e.length?Qy(t):t}),ze(this,"setCallbacks",function(e){n.callbacks=e}),ze(this,"setValidateMessages",function(e){n.validateMessages=e}),ze(this,"setPreserve",function(e){n.preserve=e}),ze(this,"watchList",[]),ze(this,"registerWatch",function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter(function(t){return t!==e})}}),ze(this,"notifyWatch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach(function(n){n(t,r,e)})}}),ze(this,"timeoutId",null),ze(this,"warningUnhooked",function(){0}),ze(this,"updateStore",function(e){n.store=e}),ze(this,"getFieldEntities",function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter(function(e){return e.getNamePath().length}):n.fieldEntities}),ze(this,"getFieldsMap",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new $E;return n.getFieldEntities(e).forEach(function(e){var n=e.getNamePath();t.set(n,e)}),t}),ze(this,"getFieldEntitiesForNamePathList",function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map(function(e){var n=RE(e);return t.get(n)||{INVALIDATE_NAME_PATH:RE(e)}})}),ze(this,"getFieldsValue",function(e,t){var r,a,o;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,a=t):e&&"object"===Ae(e)&&(o=e.strict,a=e.filter),!0===r&&!a)return n.store;var i=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return i.forEach(function(e){var t,n,i,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(o){if(null!==(i=(l=e).isList)&&void 0!==i&&i.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(a){var d="getMeta"in e?e.getMeta():null;a(d)&&s.push(c)}else s.push(c)}),zE(n.store,s.map(RE))}),ze(this,"getFieldValue",function(e){n.warningUnhooked();var t=RE(e);return Gy(n.store,t)}),ze(this,"getFieldsError",function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map(function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:RE(e[n]),errors:[],warnings:[]}})}),ze(this,"getFieldError",function(e){n.warningUnhooked();var t=RE(e);return n.getFieldsError([t])[0].errors}),ze(this,"getFieldWarning",function(e){n.warningUnhooked();var t=RE(e);return n.getFieldsError([t])[0].warnings}),ze(this,"isFieldsTouched",function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a,o=t[0],i=t[1],s=!1;0===t.length?a=null:1===t.length?Array.isArray(o)?(a=o.map(RE),s=!1):(a=null,s=o):(a=o.map(RE),s=i);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!a)return s?l.every(function(e){return c(e)||e.isList()}):l.some(c);var d=new $E;a.forEach(function(e){d.set(e,[])}),l.forEach(function(e){var t=e.getNamePath();a.forEach(function(n){n.every(function(e,n){return t[n]===e})&&d.update(n,function(t){return[].concat(vv(t),[e])})})});var u=function(e){return e.some(c)},m=d.map(function(e){return e.value});return s?m.every(u):m.some(u)}),ze(this,"isFieldTouched",function(e){return n.warningUnhooked(),n.isFieldsTouched([e])}),ze(this,"isFieldsValidating",function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some(function(e){return e.isFieldValidating()});var r=e.map(RE);return t.some(function(e){var t=e.getNamePath();return DE(r,t)&&e.isFieldValidating()})}),ze(this,"isFieldValidating",function(e){return n.warningUnhooked(),n.isFieldsValidating([e])}),ze(this,"resetWithFieldInitialValue",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new $E,r=n.getFieldEntities(!0);r.forEach(function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var a=t.get(r)||new Set;a.add({entity:e,value:n}),t.set(r,a)}});var a;e.entities?a=e.entities:e.namePathList?(a=[],e.namePathList.forEach(function(e){var n,r=t.get(e);r&&(n=a).push.apply(n,vv(vv(r).map(function(e){return e.entity})))})):a=r,a.forEach(function(r){if(void 0!==r.props.initialValue){var a=r.getNamePath();if(void 0!==n.getInitialValue(a))zv(!1,"Form already set 'initialValues' with path '".concat(a.join("."),"'. Field can not overwrite it."));else{var o=t.get(a);if(o&&o.size>1)zv(!1,"Multiple Field with path '".concat(a.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var i=n.getFieldValue(a);r.isListField()||e.skipExist&&void 0!==i||n.updateStore($y(n.store,a,vv(o)[0].value))}}}})}),ze(this,"resetFields",function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Qy(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(RE);r.forEach(function(e){var t=n.getInitialValue(e);n.updateStore($y(n.store,e,t))}),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)}),ze(this,"setFields",function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach(function(e){var a=e.name,o=Be(e,JE),i=RE(a);r.push(i),"value"in o&&n.updateStore($y(n.store,i,o.value)),n.notifyObservers(t,[i],{type:"setField",data:e})}),n.notifyWatch(r)}),ze(this,"getFields",function(){return n.getFieldEntities(!0).map(function(e){var t=e.getNamePath(),r=Le(Le({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r})}),ze(this,"initEntityValue",function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===Gy(n.store,r)&&n.updateStore($y(n.store,r,t))}}),ze(this,"isMergedPreserve",function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t}),ze(this,"registerField",function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(t){return t!==e}),!n.isMergedPreserve(a)&&(!r||o.length>1)){var i=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==i&&n.fieldEntities.every(function(e){return!LE(e.getNamePath(),t)})){var s=n.store;n.updateStore($y(s,t,i,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}}),ze(this,"dispatch",function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,o=e.triggerName;n.validateFields([a],{triggerName:o})}}),ze(this,"notifyObservers",function(e,t,r){if(n.subscribable){var a=Le(Le({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(n){(0,n.onStoreChange)(e,t,a)})}else n.forceRootUpdate()}),ze(this,"triggerDependenciesUpdate",function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(vv(r))}),r}),ze(this,"updateValue",function(e,t){var r=RE(e),a=n.store;n.updateStore($y(n.store,r,t)),n.notifyObservers(a,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(a,r),i=n.callbacks.onValuesChange;i&&i(zE(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(vv(o)))}),ze(this,"setFieldsValue",function(e){n.warningUnhooked();var t=n.store;if(e){var r=Qy(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),ze(this,"setFieldValue",function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])}),ze(this,"getDependencyChildrenFields",function(e){var t=new Set,r=[],a=new $E;n.getFieldEntities().forEach(function(e){(e.props.dependencies||[]).forEach(function(t){var n=RE(t);a.update(n,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t})})});return function e(n){(a.get(n)||new Set).forEach(function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}})}(e),r}),ze(this,"triggerOnFieldsChange",function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var o=new $E;t.forEach(function(e){var t=e.name,n=e.errors;o.set(t,n)}),a.forEach(function(e){e.errors=o.get(e.name)||e.errors})}var i=a.filter(function(t){var n=t.name;return DE(e,n)});i.length&&r(i,a)}}),ze(this,"validateFields",function(e,t){var r,a;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,a=t):a=e;var o=!!r,i=o?r.map(RE):[],s=[],l=String(Date.now()),c=new Set,d=a||{},u=d.recursive,m=d.dirty;n.getFieldEntities(!0).forEach(function(e){if(o||i.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!m||e.isFieldDirty())){var t=e.getNamePath();if(c.add(t.join(l)),!o||DE(i,t,u)){var r=e.validateRules(Le({validateMessages:Le(Le({},SE),n.validateMessages)},a));s.push(r.then(function(){return{name:t,errors:[],warnings:[]}}).catch(function(e){var n,r=[],a=[];return null===(n=e.forEach)||void 0===n||n.call(e,function(e){var t=e.rule.warningOnly,n=e.errors;t?a.push.apply(a,vv(n)):r.push.apply(r,vv(n))}),r.length?Promise.reject({name:t,errors:r,warnings:a}):{name:t,errors:r,warnings:a}}))}}});var g=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise(function(a,o){e.forEach(function(e,i){e.catch(function(e){return t=!0,e}).then(function(e){n-=1,r[i]=e,n>0||(t&&o(r),a(r))})})}):Promise.resolve([])}(s);n.lastValidatePromise=g,g.catch(function(e){return e}).then(function(e){var t=e.map(function(e){return e.name});n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)});var p=g.then(function(){return n.lastValidatePromise===g?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])}).catch(function(e){var t=e.filter(function(e){return e&&e.errors.length});return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==g})});p.catch(function(e){return e});var f=i.filter(function(e){return c.has(e.join(l))});return n.triggerOnFieldsChange(f),p}),ze(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}}).catch(function(e){var t=n.callbacks.onFinishFailed;t&&t(e)})}),this.forceRootUpdate=t});const QE=function(e){var t=r.useRef(),n=fv(r.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var a=new ZE(function(){n({})});t.current=a.getForm()}return[t.current]};var e_=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),t_=function(e){var t=e.validateMessages,n=e.onFormChange,a=e.onFormFinish,o=e.children,i=r.useContext(e_),s=r.useRef({});return r.createElement(e_.Provider,{value:Le(Le({},i),{},{validateMessages:Le(Le({},i.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:s.current}),i.triggerFormChange(e,t)},triggerFormFinish:function(e,t){a&&a(e,{values:t,forms:s.current}),i.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=Le(Le({},s.current),{},ze({},e,t))),i.registerForm(e,t)},unregisterForm:function(e){var t=Le({},s.current);delete t[e],s.current=t,i.unregisterForm(e)}})},o)};const n_=e_;var r_=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const a_=function(e,t){var n=e.name,a=e.initialValues,o=e.fields,i=e.form,s=e.preserve,l=e.children,c=e.component,d=void 0===c?"form":c,u=e.validateMessages,m=e.validateTrigger,g=void 0===m?"onChange":m,p=e.onValuesChange,f=e.onFieldsChange,h=e.onFinish,v=e.onFinishFailed,x=e.clearOnDestroy,y=Be(e,r_),b=r.useRef(null),k=r.useContext(n_),w=fv(QE(i),1)[0],j=w.getInternalHooks(YS),N=j.useSubscribe,C=j.setInitialValues,S=j.setCallbacks,E=j.setValidateMessages,_=j.setPreserve,O=j.destroyForm;r.useImperativeHandle(t,function(){return Le(Le({},w),{},{nativeElement:b.current})}),r.useEffect(function(){return k.registerForm(n,w),function(){k.unregisterForm(n)}},[k,w,n]),E(Le(Le({},k.validateMessages),u)),S({onValuesChange:p,onFieldsChange:function(e){if(k.triggerFormChange(n,e),f){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];f.apply(void 0,[e].concat(r))}},onFinish:function(e){k.triggerFormFinish(n,e),h&&h(e)},onFinishFailed:v}),_(s);var I,M=r.useRef(null);C(a,!M.current),M.current||(M.current=!0),r.useEffect(function(){return function(){return O(x)}},[]);var P="function"===typeof l;P?I=l(w.getFieldsValue(!0),w):I=l;N(!P);var T=r.useRef();r.useEffect(function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Ae(e)||"object"!==Ae(t))return!1;var n=Object.keys(e),r=Object.keys(t);return vv(new Set([].concat(n,r))).every(function(n){var r=e[n],a=t[n];return"function"===typeof r&&"function"===typeof a||r===a})})(T.current||[],o||[])||w.setFields(o||[]),T.current=o},[o,w]);var A=r.useMemo(function(){return Le(Le({},w),{},{validateTrigger:g})},[w,g]),R=r.createElement(ZS.Provider,{value:null},r.createElement(JS.Provider,{value:A},I));return!1===d?R:r.createElement(d,jx({},y,{ref:b,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=y.onReset)||void 0===t||t.call(y,e)}}),R)};function o_(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var i_=function(){};const s_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t[0],o=t[1],i=void 0===o?{}:o,s=function(e){return e&&!!e._init}(i)?{form:i}:i,l=s.form,c=fv((0,r.useState)(),2),d=c[0],u=c[1],m=(0,r.useMemo)(function(){return o_(d)},[d]),g=(0,r.useRef)(m);g.current=m;var p=(0,r.useContext)(JS),f=l||p,h=f&&f._init,v=RE(a),x=(0,r.useRef)(v);return x.current=v,i_(v),(0,r.useEffect)(function(){if(h){var e=f.getFieldsValue,t=(0,f.getInternalHooks)(YS).registerWatch,n=function(e,t){var n=s.preserve?t:e;return"function"===typeof a?a(n):Gy(n,x.current)},r=t(function(e,t){var r=n(e,t),a=o_(r);g.current!==a&&(g.current=a,u(r))}),o=n(e(),e(!0));return d!==o&&u(o),r}},[h]),d};var l_=r.forwardRef(a_);l_.FormProvider=t_,l_.Field=UE,l_.List=KE,l_.useForm=QE,l_.useWatch=s_;const c_=l_,d_=r.createContext({labelAlign:"right",layout:"horizontal",itemRef:()=>{}}),u_=r.createContext(null),m_=e=>{const t=Fh(e,["prefixCls"]);return r.createElement(t_,Object.assign({},t))},g_=r.createContext({prefixCls:""}),p_=r.createContext({});const f_=e=>{let{children:t,status:n,override:a}=e;const o=r.useContext(p_),i=r.useMemo(()=>{const e=Object.assign({},o);return a&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e},[n,a,o]);return r.createElement(p_.Provider,{value:i},t)},h_=r.createContext(void 0),v_=()=>({height:0,opacity:0}),x_=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},y_=e=>({height:e?e.offsetHeight:0}),b_=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,k_=(e,t,n)=>void 0!==n?n:"".concat(e,"-").concat(t),w_=function(){return{motionName:"".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:tv,"-motion-collapse"),onAppearStart:v_,onEnterStart:v_,onAppearActive:x_,onEnterActive:x_,onLeaveStart:y_,onLeaveActive:v_,onAppearEnd:b_,onEnterEnd:b_,onLeaveEnd:b_,motionDeadline:500}};function j_(e){const[t,n]=r.useState(e);return r.useEffect(()=>{const t=setTimeout(()=>{n(e)},e.length?0:10);return()=>{clearTimeout(t)}},[e]),t}const N_=e=>({animationDuration:e,animationFillMode:"both"}),C_=e=>({animationDuration:e,animationFillMode:"both"}),S_=function(e,t,n,r){const a=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{["\n      ".concat(a).concat(e,"-enter,\n      ").concat(a).concat(e,"-appear\n    ")]:Object.assign(Object.assign({},N_(r)),{animationPlayState:"paused"}),["".concat(a).concat(e,"-leave")]:Object.assign(Object.assign({},C_(r)),{animationPlayState:"paused"}),["\n      ".concat(a).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(a).concat(e,"-appear").concat(e,"-appear-active\n    ")]:{animationName:t,animationPlayState:"running"},["".concat(a).concat(e,"-leave").concat(e,"-leave-active")]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},E_=new Ey("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),__=new Ey("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),O_=new Ey("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),I_=new Ey("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),M_=new Ey("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),P_=new Ey("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),T_=new Ey("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),A_=new Ey("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),R_=new Ey("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),z_=new Ey("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),D_=new Ey("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),L_=new Ey("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),B_={zoom:{inKeyframes:E_,outKeyframes:__},"zoom-big":{inKeyframes:O_,outKeyframes:I_},"zoom-big-fast":{inKeyframes:O_,outKeyframes:I_},"zoom-left":{inKeyframes:T_,outKeyframes:A_},"zoom-right":{inKeyframes:R_,outKeyframes:z_},"zoom-up":{inKeyframes:M_,outKeyframes:P_},"zoom-down":{inKeyframes:D_,outKeyframes:L_}},F_=(e,t)=>{const{antCls:n}=e,r="".concat(n,"-").concat(t),{inKeyframes:a,outKeyframes:o}=B_[t];return[S_(r,a,o,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{["\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      ")]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},["".concat(r,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},H_=e=>({[e.componentCls]:{["".concat(e.antCls,"-motion-collapse-legacy")]:{overflow:"hidden","&-active":{transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}},["".concat(e.antCls,"-motion-collapse")]:{overflow:"hidden",transition:"height ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut,",\n        opacity ").concat(e.motionDurationMid," ").concat(e.motionEaseInOut," !important")}}}),W_=e=>{const{componentCls:t}=e,n="".concat(t,"-show-help"),r="".concat(t,"-show-help-item");return{[n]:{transition:"opacity ".concat(e.motionDurationFast," ").concat(e.motionEaseInOut),"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:"height ".concat(e.motionDurationFast," ").concat(e.motionEaseInOut,",\n                     opacity ").concat(e.motionDurationFast," ").concat(e.motionEaseInOut,",\n                     transform ").concat(e.motionDurationFast," ").concat(e.motionEaseInOut," !important"),["&".concat(r,"-appear, &").concat(r,"-enter")]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},["&".concat(r,"-leave-active")]:{transform:"translateY(-5px)"}}}}},V_=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:"0 0 0 ".concat(lx(e.controlOutlineWidth)," ").concat(e.controlOutline)},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),q_=(e,t)=>{const{formItemCls:n}=e;return{[n]:{["".concat(n,"-label > label")]:{height:t},["".concat(n,"-control-input")]:{minHeight:t}}}},U_=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},fb(e)),V_(e)),{["".concat(t,"-text")]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},q_(e,e.controlHeightSM)),"&-large":Object.assign({},q_(e,e.controlHeightLG))})}},K_=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:a,labelRequiredMarkColor:o,labelColor:i,labelFontSize:s,labelHeight:l,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:d,itemMarginBottom:u}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{marginBottom:u,verticalAlign:"top","&-with-help":{transition:"none"},["&-hidden,\n        &-hidden".concat(a,"-row")]:{display:"none"},"&-has-warning":{["".concat(t,"-split")]:{color:e.colorError}},"&-has-error":{["".concat(t,"-split")]:{color:e.colorWarning}},["".concat(t,"-label")]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:i,fontSize:s,["> ".concat(n)]:{fontSize:e.fontSize,verticalAlign:"top"},["&".concat(t,"-required")]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:o,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},["&".concat(t,"-required-mark-hidden, &").concat(t,"-required-mark-optional")]:{"&::before":{display:"none"}}},["".concat(t,"-optional")]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,["&".concat(t,"-required-mark-hidden")]:{display:"none"}},["".concat(t,"-tooltip")]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:d},["&".concat(t,"-no-colon::after")]:{content:'"\\a0"'}}},["".concat(t,"-control")]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,["&:first-child:not([class^=\"'".concat(r,"-col-'\"]):not([class*=\"' ").concat(r,"-col-'\"])")]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%",["&:has(> ".concat(a,"-switch:only-child, > ").concat(a,"-rate:only-child)")]:{display:"flex",alignItems:"center"}}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:"color ".concat(e.motionDurationMid," ").concat(e.motionEaseOut)},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},["&-with-help ".concat(t,"-explain")]:{height:"auto",opacity:1},["".concat(t,"-feedback-icon")]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:E_,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},G_=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),X_=e=>{const{antCls:t,formItemCls:n}=e;return{["".concat(n,"-horizontal")]:{["".concat(n,"-label")]:{flexGrow:0},["".concat(n,"-control")]:{flex:"1 1 0",minWidth:0},["".concat(n,"-label[class$='-24'], ").concat(n,"-label[class*='-24 ']")]:{["& + ".concat(n,"-control")]:{minWidth:"unset"}},["".concat(t,"-col-24").concat(n,"-label,\n        ").concat(t,"-col-xl-24").concat(n,"-label")]:G_(e)}}},Y_=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{["".concat(t,"-inline")]:{display:"flex",flexWrap:"wrap",["".concat(n,"-inline")]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},["> ".concat(n,"-label,\n        > ").concat(n,"-control")]:{display:"inline-block",verticalAlign:"top"},["> ".concat(n,"-label")]:{flex:"none"},["".concat(t,"-text")]:{display:"inline-block"},["".concat(n,"-has-feedback")]:{display:"inline-block"}}}}},$_=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{["".concat(n," ").concat(n,"-label")]:G_(e),["".concat(t,":not(").concat(t,"-inline)")]:{[n]:{flexWrap:"wrap",["".concat(n,"-label, ").concat(n,"-control")]:{['&:not([class*=" '.concat(r,'-col-xs"])')]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},J_=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{["".concat(n,"-vertical")]:{["".concat(n,"-row")]:{flexDirection:"column"},["".concat(n,"-label > label")]:{height:"auto"},["".concat(n,"-control")]:{width:"100%"},["".concat(n,"-label,\n        ").concat(r,"-col-24").concat(n,"-label,\n        ").concat(r,"-col-xl-24").concat(n,"-label")]:G_(e)},["@media (max-width: ".concat(lx(e.screenXSMax),")")]:[$_(e),{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-xs-24").concat(n,"-label")]:G_(e)}}}],["@media (max-width: ".concat(lx(e.screenSMMax),")")]:{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-sm-24").concat(n,"-label")]:G_(e)}}},["@media (max-width: ".concat(lx(e.screenMDMax),")")]:{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-md-24").concat(n,"-label")]:G_(e)}}},["@media (max-width: ".concat(lx(e.screenLGMax),")")]:{[t]:{["".concat(n,":not(").concat(n,"-horizontal)")]:{["".concat(r,"-col-lg-24").concat(n,"-label")]:G_(e)}}}}},Z_=(e,t)=>rb(e,{formItemCls:"".concat(e.componentCls,"-item"),rootPrefixCls:t}),Q_=_k("Form",(e,t)=>{let{rootPrefixCls:n}=t;const r=Z_(e,n);return[U_(r),K_(r),W_(r),X_(r),Y_(r),J_(r),H_(r),E_]},e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:"0 0 ".concat(e.paddingXS,"px"),verticalLabelMargin:0,inlineItemMarginBottom:0}),{order:-1e3}),eO=[];function tO(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(t,"-").concat(r),error:e,errorStatus:n}}const nO=e=>{let{help:t,helpStatus:n,errors:a=eO,warnings:o=eO,className:i,fieldId:s,onVisibleChanged:l}=e;const{prefixCls:c}=r.useContext(g_),d="".concat(c,"-item-explain"),u=hS(c),[m,g,p]=Q_(c,u),f=r.useMemo(()=>w_(c),[c]),h=j_(a),v=j_(o),x=r.useMemo(()=>void 0!==t&&null!==t?[tO(t,"help",n)]:[].concat(vv(h.map((e,t)=>tO(e,"error","error",t))),vv(v.map((e,t)=>tO(e,"warning","warning",t)))),[t,n,h,v]),y=r.useMemo(()=>{const e={};return x.forEach(t=>{let{key:n}=t;e[n]=(e[n]||0)+1}),x.map((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?"".concat(t.key,"-fallback-").concat(n):t.key}))},[x]),b={};return s&&(b.id="".concat(s,"_help")),m(r.createElement(Tw,{motionDeadline:f.motionDeadline,motionName:"".concat(c,"-show-help"),visible:!!y.length,onVisibleChanged:l},e=>{const{className:t,style:n}=e;return r.createElement("div",Object.assign({},b,{className:Ah()(d,t,p,u,i,g),style:n}),r.createElement(Pw,Object.assign({keys:y},w_(c),{motionName:"".concat(c,"-show-help-item"),component:!1}),e=>{const{key:t,error:n,errorStatus:a,className:o,style:i}=e;return r.createElement("div",{key:t,className:Ah()(o,{["".concat(d,"-").concat(a)]:a}),style:i},n)}))}))},rO=e=>"object"==typeof e&&null!=e&&1===e.nodeType,aO=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,oO=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return aO(n.overflowY,t)||aO(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},iO=(e,t,n,r,a,o,i,s)=>o<e&&i>t||o>e&&i<t?0:o<=e&&s<=n||i>=t&&s>=n?o-e-r:i>t&&s<n||o<e&&s>n?i-t+a:0,sO=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},lO=(e,t)=>{var n,r,a,o;if("undefined"==typeof document)return[];const{scrollMode:i,block:s,inline:l,boundary:c,skipOverflowHiddenElements:d}=t,u="function"==typeof c?c:e=>e!==c;if(!rO(e))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,g=[];let p=e;for(;rO(p)&&u(p);){if(p=sO(p),p===m){g.push(p);break}null!=p&&p===document.body&&oO(p)&&!oO(document.documentElement)||null!=p&&oO(p,d)&&g.push(p)}const f=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,h=null!=(o=null==(a=window.visualViewport)?void 0:a.height)?o:innerHeight,{scrollX:v,scrollY:x}=window,{height:y,width:b,top:k,right:w,bottom:j,left:N}=e.getBoundingClientRect(),{top:C,right:S,bottom:E,left:_}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let O="start"===s||"nearest"===s?k-C:"end"===s?j+E:k+y/2-C+E,I="center"===l?N+b/2-_+S:"end"===l?w+S:N-_;const M=[];for(let P=0;P<g.length;P++){const e=g[P],{height:t,width:n,top:r,right:a,bottom:o,left:c}=e.getBoundingClientRect();if("if-needed"===i&&k>=0&&N>=0&&j<=h&&w<=f&&(e===m&&!oO(e)||k>=r&&j<=o&&N>=c&&w<=a))return M;const d=getComputedStyle(e),u=parseInt(d.borderLeftWidth,10),p=parseInt(d.borderTopWidth,10),C=parseInt(d.borderRightWidth,10),S=parseInt(d.borderBottomWidth,10);let E=0,_=0;const T="offsetWidth"in e?e.offsetWidth-e.clientWidth-u-C:0,A="offsetHeight"in e?e.offsetHeight-e.clientHeight-p-S:0,R="offsetWidth"in e?0===e.offsetWidth?0:n/e.offsetWidth:0,z="offsetHeight"in e?0===e.offsetHeight?0:t/e.offsetHeight:0;if(m===e)E="start"===s?O:"end"===s?O-h:"nearest"===s?iO(x,x+h,h,p,S,x+O,x+O+y,y):O-h/2,_="start"===l?I:"center"===l?I-f/2:"end"===l?I-f:iO(v,v+f,f,u,C,v+I,v+I+b,b),E=Math.max(0,E+x),_=Math.max(0,_+v);else{E="start"===s?O-r-p:"end"===s?O-o+S+A:"nearest"===s?iO(r,o,t,p,S+A,O,O+y,y):O-(r+t/2)+A/2,_="start"===l?I-c-u:"center"===l?I-(c+n/2)+T/2:"end"===l?I-a+C+T:iO(c,a,n,u,C+T,I,I+b,b);const{scrollLeft:i,scrollTop:d}=e;E=0===z?0:Math.max(0,Math.min(d+E/z,e.scrollHeight-t/z+A)),_=0===R?0:Math.max(0,Math.min(i+_/R,e.scrollWidth-n/R+T)),O+=d-E,I+=i-_}M.push({el:e,top:E,left:_})}return M};function cO(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(lO(e,t));const r="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:a,top:o,left:i}of lO(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=o-n.top+n.bottom,t=i-n.left+n.right;a.scroll({top:e,left:t,behavior:r})}}const dO=["parentNode"];function uO(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function mO(e,t){if(!e.length)return;const n=e.join("_");if(t)return"".concat(t,"_").concat(n);return dO.includes(n)?"".concat("form_item","_").concat(n):n}function gO(e,t,n,r,a,o){let i=r;return void 0!==o?i=o:n.validating?i="validating":e.length?i="error":t.length?i="warning":(n.touched||a&&n.validated)&&(i="success"),i}var pO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function fO(e){return uO(e).join("_")}function hO(e,t){const n=Hk(t.getFieldInstance(e));if(n)return n;const r=mO(uO(e),t.__INTERNAL__.name);return r?document.getElementById(r):void 0}function vO(e){const[t]=QE(),n=r.useRef({}),a=r.useMemo(()=>null!==e&&void 0!==e?e:Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:e=>t=>{const r=fO(e);t?n.current[r]=t:delete n.current[r]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{focus:n}=t,r=pO(t,["focus"]),o=hO(e,a);o&&(cO(o,Object.assign({scrollMode:"if-needed",block:"nearest"},r)),n&&a.focusField(e))},focusField:e=>{var t,n;const r=a.getFieldInstance(e);"function"===typeof(null===r||void 0===r?void 0:r.focus)?r.focus():null===(n=null===(t=hO(e,a))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)},getFieldInstance:e=>{const t=fO(e);return n.current[t]}}),[e,t]);return[a]}var xO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const yO=(e,t)=>{const n=r.useContext(mj),{getPrefixCls:a,direction:o,requiredMark:i,colon:s,scrollToFirstError:l,className:c,style:d}=sv("form"),{prefixCls:u,className:m,rootClassName:g,size:p,disabled:f=n,form:h,colon:v,labelAlign:x,labelWrap:y,labelCol:b,wrapperCol:k,hideRequiredMark:w,layout:j="horizontal",scrollToFirstError:N,requiredMark:C,onFinishFailed:S,name:E,style:_,feedbackIcons:O,variant:I}=e,M=xO(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),P=hj(p),T=r.useContext(oC);const A=r.useMemo(()=>void 0!==C?C:!w&&(void 0===i||i),[w,C,i]),R=null!==v&&void 0!==v?v:s,z=a("form",u),D=hS(z),[L,B,F]=Q_(z,D),H=Ah()(z,"".concat(z,"-").concat(j),{["".concat(z,"-hide-required-mark")]:!1===A,["".concat(z,"-rtl")]:"rtl"===o,["".concat(z,"-").concat(P)]:P},F,D,B,c,m,g),[W]=vO(h),{__INTERNAL__:V}=W;V.name=E;const q=r.useMemo(()=>({name:E,labelAlign:x,labelCol:b,labelWrap:y,wrapperCol:k,layout:j,colon:R,requiredMark:A,itemRef:V.itemRef,form:W,feedbackIcons:O}),[E,x,b,k,j,R,A,W,O]),U=r.useRef(null);r.useImperativeHandle(t,()=>{var e;return Object.assign(Object.assign({},W),{nativeElement:null===(e=U.current)||void 0===e?void 0:e.nativeElement})});const K=(e,t)=>{if(e){let n={block:"nearest"};"object"===typeof e&&(n=Object.assign(Object.assign({},n),e)),W.scrollToField(t,n)}};return L(r.createElement(h_.Provider,{value:I},r.createElement(uj,{disabled:f},r.createElement(fj.Provider,{value:P},r.createElement(m_,{validateMessages:T},r.createElement(d_.Provider,{value:q},r.createElement(f_,{status:!0},r.createElement(c_,Object.assign({id:E},M,{name:E,onFinishFailed:e=>{if(null===S||void 0===S||S(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==N)return void K(N,t);void 0!==l&&K(l,t)}},form:W,ref:U,style:Object.assign(Object.assign({},d),_),className:H})))))))))};const bO=r.forwardRef(yO);const kO=()=>{const{status:e,errors:t=[],warnings:n=[]}=r.useContext(p_);return{status:e,errors:t,warnings:n}};kO.Context=p_;const wO=kO;const jO=["xxl","xl","lg","md","sm","xs"],NO=(e,t)=>{if(t)for(const n of jO)if(e[n]&&void 0!==(null===t||void 0===t?void 0:t[n]))return t[n]},CO=()=>{const[,e]=Ek(),t=(e=>({xs:"(max-width: ".concat(e.screenXSMax,"px)"),sm:"(min-width: ".concat(e.screenSM,"px)"),md:"(min-width: ".concat(e.screenMD,"px)"),lg:"(min-width: ".concat(e.screenLG,"px)"),xl:"(min-width: ".concat(e.screenXL,"px)"),xxl:"(min-width: ".concat(e.screenXXL,"px)")}))((e=>{const t=e,n=[].concat(jO).reverse();return n.forEach((e,r)=>{const a=e.toUpperCase(),o="screen".concat(a,"Min"),i="screen".concat(a);if(!(t[o]<=t[i]))throw new Error("".concat(o,"<=").concat(i," fails : !(").concat(t[o],"<=").concat(t[i],")"));if(r<n.length-1){const e="screen".concat(a,"Max");if(!(t[i]<=t[e]))throw new Error("".concat(i,"<=").concat(e," fails : !(").concat(t[i],"<=").concat(t[e],")"));const o=n[r+1].toUpperCase(),s="screen".concat(o,"Min");if(!(t[e]<=t[s]))throw new Error("".concat(e,"<=").concat(s," fails : !(").concat(t[e],"<=").concat(t[s],")"))}}),e})(e));return r.useMemo(()=>{const e=new Map;let n=-1,r={};return{responsiveMap:t,matchHandlers:{},dispatch:t=>(r=t,e.forEach(e=>e(r)),e.size>=1),subscribe(t){return e.size||this.register(),n+=1,e.set(n,t),t(r),n},unsubscribe(t){e.delete(t),e.size||this.unregister()},register(){Object.entries(t).forEach(e=>{let[t,n]=e;const a=e=>{let{matches:n}=e;this.dispatch(Object.assign(Object.assign({},r),{[t]:n}))},o=window.matchMedia(n);((e,t)=>{"undefined"!==typeof(null===e||void 0===e?void 0:e.addEventListener)?e.addEventListener("change",t):"undefined"!==typeof(null===e||void 0===e?void 0:e.addListener)&&e.addListener(t)})(o,a),this.matchHandlers[n]={mql:o,listener:a},a(o)})},unregister(){Object.values(t).forEach(e=>{const t=this.matchHandlers[e];((e,t)=>{"undefined"!==typeof(null===e||void 0===e?void 0:e.removeEventListener)?e.removeEventListener("change",t):"undefined"!==typeof(null===e||void 0===e?void 0:e.removeListener)&&e.removeListener(t)})(null===t||void 0===t?void 0:t.mql,null===t||void 0===t?void 0:t.listener)}),e.clear()}}},[t])},SO=()=>r.useReducer(e=>e+1,0);const EO=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.useRef)(t),[,a]=SO(),o=CO();return Bh(()=>{const t=o.subscribe(t=>{n.current=t,e&&a()});return()=>o.unsubscribe(t)},[]),n.current};const _O=(0,r.createContext)({}),OO=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},IO=(e,t)=>((e,t)=>{const{prefixCls:n,componentCls:r,gridColumns:a}=e,o={};for(let i=a;i>=0;i--)0===i?(o["".concat(r).concat(t,"-").concat(i)]={display:"none"},o["".concat(r,"-push-").concat(i)]={insetInlineStart:"auto"},o["".concat(r,"-pull-").concat(i)]={insetInlineEnd:"auto"},o["".concat(r).concat(t,"-push-").concat(i)]={insetInlineStart:"auto"},o["".concat(r).concat(t,"-pull-").concat(i)]={insetInlineEnd:"auto"},o["".concat(r).concat(t,"-offset-").concat(i)]={marginInlineStart:0},o["".concat(r).concat(t,"-order-").concat(i)]={order:0}):(o["".concat(r).concat(t,"-").concat(i)]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:"0 0 ".concat(i/a*100,"%"),maxWidth:"".concat(i/a*100,"%")}],o["".concat(r).concat(t,"-push-").concat(i)]={insetInlineStart:"".concat(i/a*100,"%")},o["".concat(r).concat(t,"-pull-").concat(i)]={insetInlineEnd:"".concat(i/a*100,"%")},o["".concat(r).concat(t,"-offset-").concat(i)]={marginInlineStart:"".concat(i/a*100,"%")},o["".concat(r).concat(t,"-order-").concat(i)]={order:i});return o["".concat(r).concat(t,"-flex")]={flex:"var(--".concat(n).concat(t,"-flex)")},o})(e,t),MO=_k("Grid",e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},()=>({})),PO=e=>({xs:e.screenXSMin,sm:e.screenSMMin,md:e.screenMDMin,lg:e.screenLGMin,xl:e.screenXLMin,xxl:e.screenXXLMin}),TO=_k("Grid",e=>{const t=rb(e,{gridColumns:24}),n=PO(t);return delete n.xs,[OO(t),IO(t,""),IO(t,"-xs"),Object.keys(n).map(e=>((e,t,n)=>({["@media (min-width: ".concat(lx(t),")")]:Object.assign({},IO(e,n))}))(t,n[e],"-".concat(e))).reduce((e,t)=>Object.assign(Object.assign({},e),t),{})]},()=>({}));var AO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function RO(e,t){const[n,a]=r.useState("string"===typeof e?e:"");return r.useEffect(()=>{(()=>{if("string"===typeof e&&a(e),"object"===typeof e)for(let n=0;n<jO.length;n++){const r=jO[n];if(!t||!t[r])continue;const o=e[r];if(void 0!==o)return void a(o)}})()},[JSON.stringify(e),t]),n}const zO=r.forwardRef((e,t)=>{const{prefixCls:n,justify:a,align:o,className:i,style:s,children:l,gutter:c=0,wrap:d}=e,u=AO(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:m,direction:g}=r.useContext(av),p=EO(!0,null),f=RO(o,p),h=RO(a,p),v=m("row",n),[x,y,b]=MO(v),k=function(e,t){const n=[void 0,void 0],r=Array.isArray(e)?e:[e,void 0],a=t||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((e,t)=>{if("object"===typeof e&&null!==e)for(let r=0;r<jO.length;r++){const o=jO[r];if(a[o]&&void 0!==e[o]){n[t]=e[o];break}}else n[t]=e}),n}(c,p),w=Ah()(v,{["".concat(v,"-no-wrap")]:!1===d,["".concat(v,"-").concat(h)]:h,["".concat(v,"-").concat(f)]:f,["".concat(v,"-rtl")]:"rtl"===g},i,y,b),j={};if(null===k||void 0===k?void 0:k[0]){const e="number"===typeof k[0]?"".concat(k[0]/-2,"px"):"calc(".concat(k[0]," / -2)");j.marginLeft=e,j.marginRight=e}const[N,C]=k;j.rowGap=C;const S=r.useMemo(()=>({gutter:[N,C],wrap:d}),[N,C,d]);return x(r.createElement(_O.Provider,{value:S},r.createElement("div",Object.assign({},u,{className:w,style:Object.assign(Object.assign({},j),s),ref:t}),l)))});const DO=zO;var LO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function BO(e){return"auto"===e?"1 1 auto":"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}const FO=["xs","sm","md","lg","xl","xxl"],HO=r.forwardRef((e,t)=>{const{getPrefixCls:n,direction:a}=r.useContext(av),{gutter:o,wrap:i}=r.useContext(_O),{prefixCls:s,span:l,order:c,offset:d,push:u,pull:m,className:g,children:p,flex:f,style:h}=e,v=LO(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),x=n("col",s),[y,b,k]=TO(x),w={};let j={};FO.forEach(t=>{let n={};const r=e[t];"number"===typeof r?n.span=r:"object"===typeof r&&(n=r||{}),delete v[t],j=Object.assign(Object.assign({},j),{["".concat(x,"-").concat(t,"-").concat(n.span)]:void 0!==n.span,["".concat(x,"-").concat(t,"-order-").concat(n.order)]:n.order||0===n.order,["".concat(x,"-").concat(t,"-offset-").concat(n.offset)]:n.offset||0===n.offset,["".concat(x,"-").concat(t,"-push-").concat(n.push)]:n.push||0===n.push,["".concat(x,"-").concat(t,"-pull-").concat(n.pull)]:n.pull||0===n.pull,["".concat(x,"-rtl")]:"rtl"===a}),n.flex&&(j["".concat(x,"-").concat(t,"-flex")]=!0,w["--".concat(x,"-").concat(t,"-flex")]=BO(n.flex))});const N=Ah()(x,{["".concat(x,"-").concat(l)]:void 0!==l,["".concat(x,"-order-").concat(c)]:c,["".concat(x,"-offset-").concat(d)]:d,["".concat(x,"-push-").concat(u)]:u,["".concat(x,"-pull-").concat(m)]:m},g,j,b,k),C={};if(null===o||void 0===o?void 0:o[0]){const e="number"===typeof o[0]?"".concat(o[0]/2,"px"):"calc(".concat(o[0]," / 2)");C.paddingLeft=e,C.paddingRight=e}return f&&(C.flex=BO(f),!1!==i||C.minWidth||(C.minWidth=0)),y(r.createElement("div",Object.assign({},v,{style:Object.assign(Object.assign(Object.assign({},C),h),w),className:N,ref:t}),p))});const WO=HO,VO=Ik(["Form","item-item"],(e,t)=>{let{rootPrefixCls:n}=t;return(e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{["".concat(t,"-control")]:{display:"flex"}}}})(Z_(e,n))});var qO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const UO=e=>{const{prefixCls:t,status:n,labelCol:a,wrapperCol:o,children:i,errors:s,warnings:l,_internalItemRender:c,extra:d,help:u,fieldId:m,marginBottom:g,onErrorVisibleChanged:p,label:f}=e,h="".concat(t,"-item"),v=r.useContext(d_),x=r.useMemo(()=>{let e=Object.assign({},o||v.wrapperCol||{});if(null===f&&!a&&!o&&v.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach(t=>{const n=t?[t]:[],r=Gy(v.labelCol,n),a="object"===typeof r?r:{},o=Gy(e,n);"span"in a&&!("offset"in("object"===typeof o?o:{}))&&a.span<24&&(e=$y(e,[].concat(n,["offset"]),a.span))})}return e},[o,v.wrapperCol,v.labelCol,f,a]),y=Ah()("".concat(h,"-control"),x.className),b=r.useMemo(()=>{const{labelCol:e,wrapperCol:t}=v;return qO(v,["labelCol","wrapperCol"])},[v]),k=r.useRef(null),[w,j]=r.useState(0);Bh(()=>{d&&k.current?j(k.current.clientHeight):j(0)},[d]);const N=r.createElement("div",{className:"".concat(h,"-control-input")},r.createElement("div",{className:"".concat(h,"-control-input-content")},i)),C=r.useMemo(()=>({prefixCls:t,status:n}),[t,n]),S=null!==g||s.length||l.length?r.createElement(g_.Provider,{value:C},r.createElement(nO,{fieldId:m,errors:s,warnings:l,help:u,helpStatus:n,className:"".concat(h,"-explain-connected"),onVisibleChanged:p})):null,E={};m&&(E.id="".concat(m,"_extra"));const _=d?r.createElement("div",Object.assign({},E,{className:"".concat(h,"-extra"),ref:k}),d):null,O=S||_?r.createElement("div",{className:"".concat(h,"-additional"),style:g?{minHeight:g+w}:{}},S,_):null,I=c&&"pro_table_render"===c.mark&&c.render?c.render(e,{input:N,errorList:S,extra:_}):r.createElement(r.Fragment,null,N,O);return r.createElement(d_.Provider,{value:b},r.createElement(WO,Object.assign({},x,{className:y}),I),r.createElement(VO,{prefixCls:t}))};const KO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var GO=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:KO}))};const XO=r.forwardRef(GO);const YO=function(e){return void 0===e||null===e?null:"object"!==typeof e||(0,r.isValidElement)(e)?{title:e}:e},$O=(e,t)=>{const n=r.useContext(hC),a=r.useMemo(()=>{var r;const a=t||uC[e],o=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:{};return Object.assign(Object.assign({},"function"===typeof a?a():a),o||{})},[e,t,n]);return[a,r.useMemo(()=>{const e=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!e?uC.locale:e},[n])]};function JO(e){var t=e.children,n=e.prefixCls,a=e.id,o=e.overlayInnerStyle,i=e.bodyClassName,s=e.className,l=e.style;return r.createElement("div",{className:Ah()("".concat(n,"-content"),s),style:l},r.createElement("div",{className:Ah()("".concat(n,"-inner"),i),id:a,role:"tooltip",style:o},"function"===typeof t?t():t))}const ZO=r.createContext(null);var QO,eI=[];function tI(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,a,o=n.style;if(o.position="absolute",o.left="0",o.top="0",o.width="100px",o.height="100px",o.overflow="scroll",e){var i=getComputedStyle(e);o.scrollbarColor=i.scrollbarColor,o.scrollbarWidth=i.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),c=parseInt(s.height,10);try{var d=l?"width: ".concat(s.width,";"):"",u=c?"height: ".concat(s.height,";"):"";Ov("\n#".concat(t,"::-webkit-scrollbar {\n").concat(d,"\n").concat(u,"\n}"),t)}catch(aO){console.error(aO),r=l,a=c}}document.body.appendChild(n);var m=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,g=e&&a&&!isNaN(a)?a:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),_v(t),{width:m,height:g}}function nI(e){return"undefined"===typeof document?0:((e||void 0===QO)&&(QO=tI()),QO.width)}function rI(e){return"undefined"!==typeof document&&e&&e instanceof Element?tI(e):{width:0,height:0}}var aI="rc-util-locker-".concat(Date.now()),oI=0;function iI(e){var t=!!e,n=fv(r.useState(function(){return oI+=1,"".concat(aI,"_").concat(oI)}),1)[0];Bh(function(){if(t){var e=rI(document.body).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;Ov("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else _v(n);return function(){_v(n)}},[t,n])}var sI=!1;var lI=function(e){return!1!==e&&(Rh()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},cI=r.forwardRef(function(e,t){var n=e.open,a=e.autoLock,o=e.getContainer,i=(e.debug,e.autoDestroy),s=void 0===i||i,l=e.children,c=fv(r.useState(n),2),d=c[0],u=c[1],m=d||n;r.useEffect(function(){(s||n)&&u(n)},[n,s]);var g=fv(r.useState(function(){return lI(o)}),2),p=g[0],f=g[1];r.useEffect(function(){var e=lI(o);f(null!==e&&void 0!==e?e:null)});var h=function(e){var t=fv(r.useState(function(){return Rh()?document.createElement("div"):null}),1)[0],n=r.useRef(!1),a=r.useContext(ZO),o=fv(r.useState(eI),2),i=o[0],s=o[1],l=a||(n.current?void 0:function(e){s(function(t){return[e].concat(vv(t))})});function c(){t.parentElement||document.body.appendChild(t),n.current=!0}function d(){var e;null===(e=t.parentElement)||void 0===e||e.removeChild(t),n.current=!1}return Bh(function(){return e?a?a(c):c():d(),d},[e]),Bh(function(){i.length&&(i.forEach(function(e){return e()}),s(eI))},[i]),[t,l]}(m&&!p),v=fv(h,2),x=v[0],y=v[1],b=null!==p&&void 0!==p?p:x;iI(a&&n&&Rh()&&(b===x||b===document.body));var k=null;l&&Jh(l)&&t&&(k=l.ref);var w=$h(k,t);if(!m||!Rh()||void 0===p)return null;var j,N=!1===b||("boolean"===typeof j&&(sI=j),sI),C=l;return t&&(C=r.cloneElement(l,{ref:w})),r.createElement(ZO.Provider,{value:y},N?C:(0,we.createPortal)(C,b))});const dI=cI;var uI=r.createContext(null);var mI=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),gI="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,pI="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),fI="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(pI):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)};var hI=["top","right","bottom","left","width","height","size","weight"],vI="undefined"!==typeof MutationObserver,xI=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&s()}function i(){fI(o)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);a=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){gI&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vI?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){gI&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;hI.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),yI=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},bI=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||pI},kI=EI(0,0,0,0);function wI(e){return parseFloat(e)||0}function jI(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+wI(e["border-"+n+"-width"])},0)}function NI(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return kI;var r=bI(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=wI(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=wI(r.width),l=wI(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=jI(r,"left","right")+o),Math.round(l+i)!==n&&(l-=jI(r,"top","bottom")+i)),!function(e){return e===bI(e).document.documentElement}(e)){var c=Math.round(s+o)-t,d=Math.round(l+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(d)&&(l-=d)}return EI(a.left,a.top,s,l)}var CI="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof bI(e).SVGGraphicsElement}:function(e){return e instanceof bI(e).SVGElement&&"function"===typeof e.getBBox};function SI(e){return gI?CI(e)?function(e){var t=e.getBBox();return EI(0,0,t.width,t.height)}(e):NI(e):kI}function EI(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _I=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=EI(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=SI(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),OI=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(o.prototype);return yI(i,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),i}(t);yI(this,{target:e,contentRect:n})},II=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new mI,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof bI(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _I(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof bI(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new OI(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),MI="undefined"!==typeof WeakMap?new WeakMap:new mI,PI=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=xI.getInstance(),r=new II(t,n,this);MI.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){PI.prototype[e]=function(){var t;return(t=MI.get(this))[e].apply(t,arguments)}});const TI="undefined"!==typeof pI.ResizeObserver?pI.ResizeObserver:PI;var AI=new Map;var RI=new TI(function(e){e.forEach(function(e){var t,n=e.target;null===(t=AI.get(n))||void 0===t||t.forEach(function(e){return e(n)})})});var zI=function(e){My(n,e);var t=Ay(n);function n(){return Lv(this,n),t.apply(this,arguments)}return Fv(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component);function DI(e,t){var n=e.children,a=e.disabled,o=r.useRef(null),i=r.useRef(null),s=r.useContext(uI),l="function"===typeof n,c=l?n(o):n,d=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!l&&r.isValidElement(c)&&Jh(c),m=u?Qh(c):null,g=$h(m,o),p=function(){var e;return Wk(o.current)||(o.current&&"object"===Ae(o.current)?Wk(null===(e=o.current)||void 0===e?void 0:e.nativeElement):null)||Wk(i.current)};r.useImperativeHandle(t,function(){return p()});var f=r.useRef(e);f.current=e;var h=r.useCallback(function(e){var t=f.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),o=a.width,i=a.height,l=e.offsetWidth,c=e.offsetHeight,u=Math.floor(o),m=Math.floor(i);if(d.current.width!==u||d.current.height!==m||d.current.offsetWidth!==l||d.current.offsetHeight!==c){var g={width:u,height:m,offsetWidth:l,offsetHeight:c};d.current=g;var p=l===Math.round(o)?o:l,h=c===Math.round(i)?i:c,v=Le(Le({},g),{},{offsetWidth:p,offsetHeight:h});null===s||void 0===s||s(v,e,r),n&&Promise.resolve().then(function(){n(v,e)})}},[]);return r.useEffect(function(){var e,t,n=p();return n&&!a&&(e=n,t=h,AI.has(e)||(AI.set(e,new Set),RI.observe(e)),AI.get(e).add(t)),function(){return function(e,t){AI.has(e)&&(AI.get(e).delete(t),AI.get(e).size||(RI.unobserve(e),AI.delete(e)))}(n,h)}},[o.current,a]),r.createElement(zI,{ref:i},u?r.cloneElement(c,{ref:g}):c)}const LI=r.forwardRef(DI);function BI(e,t){var n=e.children;return("function"===typeof n?[n]:vj(n)).map(function(n,a){var o=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(a);return r.createElement(LI,jx({},e,{key:o,ref:0===a?t:void 0}),n)})}var FI=r.forwardRef(BI);FI.Collection=function(e){var t=e.children,n=e.onBatchResize,a=r.useRef(0),o=r.useRef([]),i=r.useContext(uI),s=r.useCallback(function(e,t,r){a.current+=1;var s=a.current;o.current.push({size:e,element:t,data:r}),Promise.resolve().then(function(){s===a.current&&(null===n||void 0===n||n(o.current),o.current=[])}),null===i||void 0===i||i(e,t,r)},[n,i]);return r.createElement(uI.Provider,{value:s},t)};const HI=FI;var WI=0;var VI=Le({},a).useId;const qI=VI?function(e){var t=VI();return e||t}:function(e){var t=fv(r.useState("ssr-id"),2),n=t[0],a=t[1];return r.useEffect(function(){var e=WI;WI+=1,a("rc_unique_".concat(e))},[]),e||n},UI=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function KI(e){var t=e.prefixCls,n=e.align,a=e.arrow,o=e.arrowPos,i=a||{},s=i.className,l=i.content,c=o.x,d=void 0===c?0:c,u=o.y,m=void 0===u?0:u,g=r.useRef();if(!n||!n.points)return null;var p={position:"absolute"};if(!1!==n.autoArrow){var f=n.points[0],h=n.points[1],v=f[0],x=f[1],y=h[0],b=h[1];v!==y&&["t","b"].includes(v)?"t"===v?p.top=0:p.bottom=0:p.top=m,x!==b&&["l","r"].includes(x)?"l"===x?p.left=0:p.right=0:p.left=d}return r.createElement("div",{ref:g,className:Ah()("".concat(t,"-arrow"),s),style:p},l)}function GI(e){var t=e.prefixCls,n=e.open,a=e.zIndex,o=e.mask,i=e.motion;return o?r.createElement(Tw,jx({},i,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(e){var n=e.className;return r.createElement("div",{style:{zIndex:a},className:Ah()("".concat(t,"-mask"),n)})}):null}var XI=r.memo(function(e){return e.children},function(e,t){return t.cache});const YI=XI;var $I=r.forwardRef(function(e,t){var n=e.popup,a=e.className,o=e.prefixCls,i=e.style,s=e.target,l=e.onVisibleChanged,c=e.open,d=e.keepDom,u=e.fresh,m=e.onClick,g=e.mask,p=e.arrow,f=e.arrowPos,h=e.align,v=e.motion,x=e.maskMotion,y=e.forceRender,b=e.getPopupContainer,k=e.autoDestroy,w=e.portal,j=e.zIndex,N=e.onMouseEnter,C=e.onMouseLeave,S=e.onPointerEnter,E=e.onPointerDownCapture,_=e.ready,O=e.offsetX,I=e.offsetY,M=e.offsetR,P=e.offsetB,T=e.onAlign,A=e.onPrepare,R=e.stretch,z=e.targetWidth,D=e.targetHeight,L="function"===typeof n?n():n,B=c||d,F=(null===b||void 0===b?void 0:b.length)>0,H=fv(r.useState(!b||!F),2),W=H[0],V=H[1];if(Bh(function(){!W&&F&&s&&V(!0)},[W,F,s]),!W)return null;var q="auto",U={left:"-1000vw",top:"-1000vh",right:q,bottom:q};if(_||!c){var K,G=h.points,X=h.dynamicInset||(null===(K=h._experimental)||void 0===K?void 0:K.dynamicInset),Y=X&&"r"===G[0][1],$=X&&"b"===G[0][0];Y?(U.right=M,U.left=q):(U.left=O,U.right=q),$?(U.bottom=P,U.top=q):(U.top=I,U.bottom=q)}var J={};return R&&(R.includes("height")&&D?J.height=D:R.includes("minHeight")&&D&&(J.minHeight=D),R.includes("width")&&z?J.width=z:R.includes("minWidth")&&z&&(J.minWidth=z)),c||(J.pointerEvents="none"),r.createElement(w,{open:y||B,getContainer:b&&function(){return b(s)},autoDestroy:k},r.createElement(GI,{prefixCls:o,open:c,zIndex:j,mask:g,motion:x}),r.createElement(HI,{onResize:T,disabled:!c},function(e){return r.createElement(Tw,jx({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:y,leavedClassName:"".concat(o,"-hidden")},v,{onAppearPrepare:A,onEnterPrepare:A,visible:c,onVisibleChanged:function(e){var t;null===v||void 0===v||null===(t=v.onVisibleChanged)||void 0===t||t.call(v,e),l(e)}}),function(n,s){var l=n.className,d=n.style,g=Ah()(o,l,a);return r.createElement("div",{ref:Yh(e,t,s),className:g,style:Le(Le(Le(Le({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},U),J),d),{},{boxSizing:"border-box",zIndex:j},i),onMouseEnter:N,onMouseLeave:C,onPointerEnter:S,onClick:m,onPointerDownCapture:E},p&&r.createElement(KI,{prefixCls:o,arrow:p,arrowPos:f,align:h}),r.createElement(YI,{cache:!c&&!u},L))})}))});const JI=$I;var ZI=r.forwardRef(function(e,t){var n=e.children,a=e.getTriggerDOMNode,o=Jh(n),i=r.useCallback(function(e){Xh(t,a?a(e):e)},[a]),s=$h(i,Qh(n));return o?r.cloneElement(n,{ref:s}):n});const QI=ZI;const eM=r.createContext(null);function tM(e){return e?Array.isArray(e)?e:[e]:[]}function nM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function rM(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function aM(e){return e.ownerDocument.defaultView}function oM(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var a=aM(n).getComputedStyle(n);[a.overflowX,a.overflowY,a.overflow].some(function(e){return r.includes(e)})&&t.push(n),n=n.parentElement}return t}function iM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function sM(e){return iM(parseFloat(e),0)}function lM(e,t){var n=Le({},e);return(t||[]).forEach(function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=aM(e).getComputedStyle(e),r=t.overflow,a=t.overflowClipMargin,o=t.borderTopWidth,i=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),d=e.offsetHeight,u=e.clientHeight,m=e.offsetWidth,g=e.clientWidth,p=sM(o),f=sM(i),h=sM(s),v=sM(l),x=iM(Math.round(c.width/m*1e3)/1e3),y=iM(Math.round(c.height/d*1e3)/1e3),b=(m-g-h-v)*x,k=(d-u-p-f)*y,w=p*y,j=f*y,N=h*x,C=v*x,S=0,E=0;if("clip"===r){var _=sM(a);S=_*x,E=_*y}var O=c.x+N-S,I=c.y+w-E,M=O+c.width+2*S-N-C-b,P=I+c.height+2*E-w-j-k;n.left=Math.max(n.left,O),n.top=Math.max(n.top,I),n.right=Math.min(n.right,M),n.bottom=Math.min(n.bottom,P)}}),n}function cM(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function dM(e,t){var n=fv(t||[],2),r=n[0],a=n[1];return[cM(e.width,r),cM(e.height,a)]}function uM(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function mM(e,t){var n,r=t[0],a=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===a?e.x:"r"===a?e.x+e.width:e.x+e.width/2,y:n}}function gM(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map(function(e,r){return r===t?n[e]||"c":e}).join("")}var pM=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const fM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dI,t=r.forwardRef(function(t,n){var a=t.prefixCls,o=void 0===a?"rc-trigger-popup":a,i=t.children,s=t.action,l=void 0===s?"hover":s,c=t.showAction,d=t.hideAction,u=t.popupVisible,m=t.defaultPopupVisible,g=t.onPopupVisibleChange,p=t.afterPopupVisibleChange,f=t.mouseEnterDelay,h=t.mouseLeaveDelay,v=void 0===h?.1:h,x=t.focusDelay,y=t.blurDelay,b=t.mask,k=t.maskClosable,w=void 0===k||k,j=t.getPopupContainer,N=t.forceRender,C=t.autoDestroy,S=t.destroyPopupOnHide,E=t.popup,_=t.popupClassName,O=t.popupStyle,I=t.popupPlacement,M=t.builtinPlacements,P=void 0===M?{}:M,T=t.popupAlign,A=t.zIndex,R=t.stretch,z=t.getPopupClassNameFromAlign,D=t.fresh,L=t.alignPoint,B=t.onPopupClick,F=t.onPopupAlign,H=t.arrow,W=t.popupMotion,V=t.maskMotion,q=t.popupTransitionName,U=t.popupAnimation,K=t.maskTransitionName,G=t.maskAnimation,X=t.className,Y=t.getTriggerDOMNode,$=Be(t,pM),J=C||S||!1,Z=fv(r.useState(!1),2),Q=Z[0],ee=Z[1];Bh(function(){ee(UI())},[]);var te=r.useRef({}),ne=r.useContext(eM),re=r.useMemo(function(){return{registerSubPopup:function(e,t){te.current[e]=t,null===ne||void 0===ne||ne.registerSubPopup(e,t)}}},[ne]),ae=qI(),oe=fv(r.useState(null),2),ie=oe[0],se=oe[1],le=r.useRef(null),ce=Vy(function(e){le.current=e,Fk(e)&&ie!==e&&se(e),null===ne||void 0===ne||ne.registerSubPopup(ae,e)}),de=fv(r.useState(null),2),ue=de[0],me=de[1],ge=r.useRef(null),pe=Vy(function(e){Fk(e)&&ue!==e&&(me(e),ge.current=e)}),fe=r.Children.only(i),he=(null===fe||void 0===fe?void 0:fe.props)||{},ve={},xe=Vy(function(e){var t,n,r=ue;return(null===r||void 0===r?void 0:r.contains(e))||(null===(t=Bj(r))||void 0===t?void 0:t.host)===e||e===r||(null===ie||void 0===ie?void 0:ie.contains(e))||(null===(n=Bj(ie))||void 0===n?void 0:n.host)===e||e===ie||Object.values(te.current).some(function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t})}),ye=rM(o,W,U,q),be=rM(o,V,G,K),ke=fv(r.useState(m||!1),2),we=ke[0],je=ke[1],Ne=null!==u&&void 0!==u?u:we,Ce=Vy(function(e){void 0===u&&je(e)});Bh(function(){je(u||!1)},[u]);var Se=r.useRef(Ne);Se.current=Ne;var Ee=r.useRef([]);Ee.current=[];var _e=Vy(function(e){var t;Ce(e),(null!==(t=Ee.current[Ee.current.length-1])&&void 0!==t?t:Ne)!==e&&(Ee.current.push(e),null===g||void 0===g||g(e))}),Oe=r.useRef(),Ie=function(){clearTimeout(Oe.current)},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Ie(),0===t?_e(e):Oe.current=setTimeout(function(){_e(e)},1e3*t)};r.useEffect(function(){return Ie},[]);var Pe=fv(r.useState(!1),2),Te=Pe[0],Ae=Pe[1];Bh(function(e){e&&!Ne||Ae(!0)},[Ne]);var Re=fv(r.useState(null),2),ze=Re[0],De=Re[1],Fe=fv(r.useState(null),2),He=Fe[0],We=Fe[1],Ve=function(e){We([e.clientX,e.clientY])},qe=function(e,t,n,a,o,i,s){var l=fv(r.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[a]||{}}),2),c=l[0],d=l[1],u=r.useRef(0),m=r.useMemo(function(){return t?oM(t):[]},[t]),g=r.useRef({});e||(g.current={});var p=Vy(function(){if(t&&n&&e){var r,l,c,u,p,f=t,h=f.ownerDocument,v=aM(f),x=v.getComputedStyle(f).position,y=f.style.left,b=f.style.top,k=f.style.right,w=f.style.bottom,j=f.style.overflow,N=Le(Le({},o[a]),i),C=h.createElement("div");if(null===(r=f.parentElement)||void 0===r||r.appendChild(C),C.style.left="".concat(f.offsetLeft,"px"),C.style.top="".concat(f.offsetTop,"px"),C.style.position=x,C.style.height="".concat(f.offsetHeight,"px"),C.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var S,E,_=n.getBoundingClientRect();_.x=null!==(S=_.x)&&void 0!==S?S:_.left,_.y=null!==(E=_.y)&&void 0!==E?E:_.top,p={x:_.x,y:_.y,width:_.width,height:_.height}}var O=f.getBoundingClientRect(),I=v.getComputedStyle(f),M=I.height,P=I.width;O.x=null!==(l=O.x)&&void 0!==l?l:O.left,O.y=null!==(c=O.y)&&void 0!==c?c:O.top;var T=h.documentElement,A=T.clientWidth,R=T.clientHeight,z=T.scrollWidth,D=T.scrollHeight,L=T.scrollTop,B=T.scrollLeft,F=O.height,H=O.width,W=p.height,V=p.width,q={left:0,top:0,right:A,bottom:R},U={left:-B,top:-L,right:z-B,bottom:D-L},K=N.htmlRegion,G="visible",X="visibleFirst";"scroll"!==K&&K!==X&&(K=G);var Y=K===X,$=lM(U,m),J=lM(q,m),Z=K===G?J:$,Q=Y?J:Z;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var ee=f.getBoundingClientRect();f.style.left=y,f.style.top=b,f.style.right=k,f.style.bottom=w,f.style.overflow=j,null===(u=f.parentElement)||void 0===u||u.removeChild(C);var te=iM(Math.round(H/parseFloat(P)*1e3)/1e3),ne=iM(Math.round(F/parseFloat(M)*1e3)/1e3);if(0===te||0===ne||Fk(n)&&!ev(n))return;var re=N.offset,ae=N.targetOffset,oe=fv(dM(O,re),2),ie=oe[0],se=oe[1],le=fv(dM(p,ae),2),ce=le[0],de=le[1];p.x-=ce,p.y-=de;var ue=fv(N.points||[],2),me=ue[0],ge=uM(ue[1]),pe=uM(me),fe=mM(p,ge),he=mM(O,pe),ve=Le({},N),xe=fe.x-he.x+ie,ye=fe.y-he.y+se;function gt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,r=O.x+e,a=O.y+t,o=r+H,i=a+F,s=Math.max(r,n.left),l=Math.max(a,n.top),c=Math.min(o,n.right),d=Math.min(i,n.bottom);return Math.max(0,(c-s)*(d-l))}var be,ke,we,je,Ne=gt(xe,ye),Ce=gt(xe,ye,J),Se=mM(p,["t","l"]),Ee=mM(O,["t","l"]),_e=mM(p,["b","r"]),Oe=mM(O,["b","r"]),Ie=N.overflow||{},Me=Ie.adjustX,Pe=Ie.adjustY,Te=Ie.shiftX,Ae=Ie.shiftY,Re=function(e){return"boolean"===typeof e?e:e>=0};function pt(){be=O.y+ye,ke=be+F,we=O.x+xe,je=we+H}pt();var ze=Re(Pe),De=pe[0]===ge[0];if(ze&&"t"===pe[0]&&(ke>Q.bottom||g.current.bt)){var Be=ye;De?Be-=F-W:Be=Se.y-Oe.y-se;var Fe=gt(xe,Be),He=gt(xe,Be,J);Fe>Ne||Fe===Ne&&(!Y||He>=Ce)?(g.current.bt=!0,ye=Be,se=-se,ve.points=[gM(pe,0),gM(ge,0)]):g.current.bt=!1}if(ze&&"b"===pe[0]&&(be<Q.top||g.current.tb)){var We=ye;De?We+=F-W:We=_e.y-Ee.y-se;var Ve=gt(xe,We),qe=gt(xe,We,J);Ve>Ne||Ve===Ne&&(!Y||qe>=Ce)?(g.current.tb=!0,ye=We,se=-se,ve.points=[gM(pe,0),gM(ge,0)]):g.current.tb=!1}var Ue=Re(Me),Ke=pe[1]===ge[1];if(Ue&&"l"===pe[1]&&(je>Q.right||g.current.rl)){var Ge=xe;Ke?Ge-=H-V:Ge=Se.x-Oe.x-ie;var Xe=gt(Ge,ye),Ye=gt(Ge,ye,J);Xe>Ne||Xe===Ne&&(!Y||Ye>=Ce)?(g.current.rl=!0,xe=Ge,ie=-ie,ve.points=[gM(pe,1),gM(ge,1)]):g.current.rl=!1}if(Ue&&"r"===pe[1]&&(we<Q.left||g.current.lr)){var $e=xe;Ke?$e+=H-V:$e=_e.x-Ee.x-ie;var Je=gt($e,ye),Ze=gt($e,ye,J);Je>Ne||Je===Ne&&(!Y||Ze>=Ce)?(g.current.lr=!0,xe=$e,ie=-ie,ve.points=[gM(pe,1),gM(ge,1)]):g.current.lr=!1}pt();var Qe=!0===Te?0:Te;"number"===typeof Qe&&(we<J.left&&(xe-=we-J.left-ie,p.x+V<J.left+Qe&&(xe+=p.x-J.left+V-Qe)),je>J.right&&(xe-=je-J.right-ie,p.x>J.right-Qe&&(xe+=p.x-J.right+Qe)));var et=!0===Ae?0:Ae;"number"===typeof et&&(be<J.top&&(ye-=be-J.top-se,p.y+W<J.top+et&&(ye+=p.y-J.top+W-et)),ke>J.bottom&&(ye-=ke-J.bottom-se,p.y>J.bottom-et&&(ye+=p.y-J.bottom+et)));var tt=O.x+xe,nt=tt+H,rt=O.y+ye,at=rt+F,ot=p.x,it=ot+V,st=p.y,lt=st+W,ct=(Math.max(tt,ot)+Math.min(nt,it))/2-tt,dt=(Math.max(rt,st)+Math.min(at,lt))/2-rt;null===s||void 0===s||s(t,ve);var ut=ee.right-O.x-(xe+O.width),mt=ee.bottom-O.y-(ye+O.height);1===te&&(xe=Math.round(xe),ut=Math.round(ut)),1===ne&&(ye=Math.round(ye),mt=Math.round(mt)),d({ready:!0,offsetX:xe/te,offsetY:ye/ne,offsetR:ut/te,offsetB:mt/ne,arrowX:ct/te,arrowY:dt/ne,scaleX:te,scaleY:ne,align:ve})}}),f=function(){d(function(e){return Le(Le({},e),{},{ready:!1})})};return Bh(f,[a]),Bh(function(){e||f()},[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){u.current+=1;var e=u.current;Promise.resolve().then(function(){u.current===e&&p()})}]}(Ne,ie,L&&null!==He?He:ue,I,P,T,F),Ue=fv(qe,11),Ke=Ue[0],Ge=Ue[1],Xe=Ue[2],Ye=Ue[3],$e=Ue[4],Je=Ue[5],Ze=Ue[6],Qe=Ue[7],et=Ue[8],tt=Ue[9],nt=Ue[10],rt=function(e,t,n,a){return r.useMemo(function(){var r=tM(null!==n&&void 0!==n?n:t),o=tM(null!==a&&void 0!==a?a:t),i=new Set(r),s=new Set(o);return e&&(i.has("hover")&&(i.delete("hover"),i.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[i,s]},[e,t,n,a])}(Q,l,c,d),at=fv(rt,2),ot=at[0],it=at[1],st=ot.has("click"),lt=it.has("click")||it.has("contextMenu"),ct=Vy(function(){Te||nt()});!function(e,t,n,r,a){Bh(function(){if(e&&t&&n){var o=n,i=oM(t),s=oM(o),l=aM(o),c=new Set([l].concat(vv(i),vv(s)));function d(){r(),a()}return c.forEach(function(e){e.addEventListener("scroll",d,{passive:!0})}),l.addEventListener("resize",d,{passive:!0}),r(),function(){c.forEach(function(e){e.removeEventListener("scroll",d),l.removeEventListener("resize",d)})}}},[e,t,n])}(Ne,ue,ie,ct,function(){Se.current&&L&&lt&&Me(!1)}),Bh(function(){ct()},[He,I]),Bh(function(){!Ne||null!==P&&void 0!==P&&P[I]||ct()},[JSON.stringify(T)]);var dt=r.useMemo(function(){var e=function(e,t,n,r){for(var a=n.points,o=Object.keys(e),i=0;i<o.length;i+=1){var s,l=o[i];if(nM(null===(s=e[l])||void 0===s?void 0:s.points,a,r))return"".concat(t,"-placement-").concat(l)}return""}(P,o,tt,L);return Ah()(e,null===z||void 0===z?void 0:z(tt))},[tt,z,P,o,L]);r.useImperativeHandle(n,function(){return{nativeElement:ge.current,popupElement:le.current,forceAlign:ct}});var ut=fv(r.useState(0),2),mt=ut[0],gt=ut[1],pt=fv(r.useState(0),2),ft=pt[0],ht=pt[1],vt=function(){if(R&&ue){var e=ue.getBoundingClientRect();gt(e.width),ht(e.height)}};function xt(e,t,n,r){ve[e]=function(a){var o;null===r||void 0===r||r(a),Me(t,n);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];null===(o=he[e])||void 0===o||o.call.apply(o,[he,a].concat(s))}}Bh(function(){ze&&(nt(),ze(),De(null))},[ze]),(st||lt)&&(ve.onClick=function(e){var t;Se.current&&lt?Me(!1):!Se.current&&st&&(Ve(e),Me(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=he.onClick)||void 0===t||t.call.apply(t,[he,e].concat(r))});var yt,bt,kt=function(e,t,n,a,o,i,s,l){var c=r.useRef(e);c.current=e;var d=r.useRef(!1);return r.useEffect(function(){if(t&&a&&(!o||i)){var e=function(){d.current=!1},r=function(e){var t;!c.current||s((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||d.current||l(!1)},u=aM(a);u.addEventListener("pointerdown",e,!0),u.addEventListener("mousedown",r,!0),u.addEventListener("contextmenu",r,!0);var m=Bj(n);return m&&(m.addEventListener("mousedown",r,!0),m.addEventListener("contextmenu",r,!0)),function(){u.removeEventListener("pointerdown",e,!0),u.removeEventListener("mousedown",r,!0),u.removeEventListener("contextmenu",r,!0),m&&(m.removeEventListener("mousedown",r,!0),m.removeEventListener("contextmenu",r,!0))}}},[t,n,a,o,i]),function(){d.current=!0}}(Ne,lt,ue,ie,b,w,xe,Me),wt=ot.has("hover"),jt=it.has("hover");wt&&(xt("onMouseEnter",!0,f,function(e){Ve(e)}),xt("onPointerEnter",!0,f,function(e){Ve(e)}),yt=function(e){(Ne||Te)&&null!==ie&&void 0!==ie&&ie.contains(e.target)&&Me(!0,f)},L&&(ve.onMouseMove=function(e){var t;null===(t=he.onMouseMove)||void 0===t||t.call(he,e)})),jt&&(xt("onMouseLeave",!1,v),xt("onPointerLeave",!1,v),bt=function(){Me(!1,v)}),ot.has("focus")&&xt("onFocus",!0,x),it.has("focus")&&xt("onBlur",!1,y),ot.has("contextMenu")&&(ve.onContextMenu=function(e){var t;Se.current&&it.has("contextMenu")?Me(!1):(Ve(e),Me(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===(t=he.onContextMenu)||void 0===t||t.call.apply(t,[he,e].concat(r))}),X&&(ve.className=Ah()(he.className,X));var Nt=r.useRef(!1);Nt.current||(Nt.current=N||Ne||Te);var Ct=Le(Le({},he),ve),St={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach(function(e){$[e]&&(St[e]=function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===(t=Ct[e])||void 0===t||t.call.apply(t,[Ct].concat(r)),$[e].apply($,r)})});var Et=r.cloneElement(fe,Le(Le({},Ct),St)),_t={x:Je,y:Ze},Ot=H?Le({},!0!==H?H:{}):null;return r.createElement(r.Fragment,null,r.createElement(HI,{disabled:!Ne,ref:pe,onResize:function(){vt(),ct()}},r.createElement(QI,{getTriggerDOMNode:Y},Et)),Nt.current&&r.createElement(eM.Provider,{value:re},r.createElement(JI,{portal:e,ref:ce,prefixCls:o,popup:E,className:Ah()(_,dt),style:O,target:ue,onMouseEnter:yt,onMouseLeave:bt,onPointerEnter:yt,zIndex:A,open:Ne,keepDom:Te,fresh:D,onClick:B,onPointerDownCapture:kt,mask:b,motion:ye,maskMotion:be,onVisibleChanged:function(e){Ae(!1),nt(),null===p||void 0===p||p(e)},onPrepare:function(){return new Promise(function(e){vt(),De(function(){return e})})},forceRender:N,autoDestroy:J,getPopupContainer:j,align:tt,arrow:Ot,arrowPos:_t,ready:Ke,offsetX:Ge,offsetY:Xe,offsetR:Ye,offsetB:$e,onAlign:ct,stretch:R,targetWidth:mt/Qe,targetHeight:ft/et})))});return t}(dI);var hM={shiftX:64,adjustY:1},vM={adjustX:1,shiftY:!0},xM=[0,0],yM={left:{points:["cr","cl"],overflow:vM,offset:[-4,0],targetOffset:xM},right:{points:["cl","cr"],overflow:vM,offset:[4,0],targetOffset:xM},top:{points:["bc","tc"],overflow:hM,offset:[0,-4],targetOffset:xM},bottom:{points:["tc","bc"],overflow:hM,offset:[0,4],targetOffset:xM},topLeft:{points:["bl","tl"],overflow:hM,offset:[0,-4],targetOffset:xM},leftTop:{points:["tr","tl"],overflow:vM,offset:[-4,0],targetOffset:xM},topRight:{points:["br","tr"],overflow:hM,offset:[0,-4],targetOffset:xM},rightTop:{points:["tl","tr"],overflow:vM,offset:[4,0],targetOffset:xM},bottomRight:{points:["tr","br"],overflow:hM,offset:[0,4],targetOffset:xM},rightBottom:{points:["bl","br"],overflow:vM,offset:[4,0],targetOffset:xM},bottomLeft:{points:["tl","bl"],overflow:hM,offset:[0,4],targetOffset:xM},leftBottom:{points:["br","bl"],overflow:vM,offset:[-4,0],targetOffset:xM}};var bM=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],kM=function(e,t){var n=e.overlayClassName,a=e.trigger,o=void 0===a?["hover"]:a,i=e.mouseEnterDelay,s=void 0===i?0:i,l=e.mouseLeaveDelay,c=void 0===l?.1:l,d=e.overlayStyle,u=e.prefixCls,m=void 0===u?"rc-tooltip":u,g=e.children,p=e.onVisibleChange,f=e.afterVisibleChange,h=e.transitionName,v=e.animation,x=e.motion,y=e.placement,b=void 0===y?"right":y,k=e.align,w=void 0===k?{}:k,j=e.destroyTooltipOnHide,N=void 0!==j&&j,C=e.defaultVisible,S=e.getTooltipContainer,E=e.overlayInnerStyle,_=(e.arrowContent,e.overlay),O=e.id,I=e.showArrow,M=void 0===I||I,P=e.classNames,T=e.styles,A=Be(e,bM),R=qI(O),z=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,function(){return z.current});var D=Le({},A);"visible"in e&&(D.popupVisible=e.visible);return r.createElement(fM,jx({popupClassName:Ah()(n,null===P||void 0===P?void 0:P.root),prefixCls:m,popup:function(){return r.createElement(JO,{key:"content",prefixCls:m,id:R,bodyClassName:null===P||void 0===P?void 0:P.body,overlayInnerStyle:Le(Le({},E),null===T||void 0===T?void 0:T.body)},_)},action:o,builtinPlacements:yM,popupPlacement:b,ref:z,popupAlign:w,getPopupContainer:S,onPopupVisibleChange:p,afterPopupVisibleChange:f,popupTransitionName:h,popupAnimation:v,popupMotion:x,defaultPopupVisible:C,autoDestroy:N,mouseLeaveDelay:c,popupStyle:Le(Le({},d),null===T||void 0===T?void 0:T.root),mouseEnterDelay:s,arrow:M},D),function(){var e=r.Children.only(g),t=Le(Le({},(null===e||void 0===e?void 0:e.props)||{}),{},{"aria-describedby":_?R:null});return r.cloneElement(g,t)}())};const wM=(0,r.forwardRef)(kM),jM=e=>{const{space:t,form:n,children:a}=e;if(void 0===a||null===a)return null;let o=a;return n&&(o=r.createElement(f_,{override:!0,status:!0},o)),t&&(o=r.createElement(jj,null,o)),o};function NM(e){const{sizePopupArrow:t,borderRadiusXS:n,borderRadiusOuter:r}=e,a=t/2,o=a,i=1*r/Math.sqrt(2),s=a-r*(1-1/Math.sqrt(2)),l=a-n*(1/Math.sqrt(2)),c=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*a-l,u=c,m=2*a-i,g=s,p=2*a-0,f=o,h=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),v=r*(Math.sqrt(2)-1),x="polygon(".concat(v,"px 100%, 50% ").concat(v,"px, ").concat(2*a-v,"px 100%, ").concat(v,"px 100%)");return{arrowShadowWidth:h,arrowPath:"path('M ".concat(0," ").concat(o," A ").concat(r," ").concat(r," 0 0 0 ").concat(i," ").concat(s," L ").concat(l," ").concat(c," A ").concat(n," ").concat(n," 0 0 1 ").concat(d," ").concat(u," L ").concat(m," ").concat(g," A ").concat(r," ").concat(r," 0 0 0 ").concat(p," ").concat(f," Z')"),arrowPolygon:x}}const CM=(e,t,n)=>{const{sizePopupArrow:r,arrowPolygon:a,arrowPath:o,arrowShadowWidth:i,borderRadiusXS:s,calc:l}=e;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[a,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:i,height:i,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(lx(s)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}};function SM(e){const{contentRadius:t,limitVerticalRadius:n}=e,r=t>12?t+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?8:r}}function EM(e,t){return e?t:{}}function _M(e,t,n){const{componentCls:r,boxShadowPopoverArrow:a,arrowOffsetVertical:o,arrowOffsetHorizontal:i}=e,{arrowDistance:s=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({["".concat(r,"-arrow")]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},CM(e,t,a)),{"&:before":{background:t}})]},EM(!!l.top,{[["&-placement-top > ".concat(r,"-arrow"),"&-placement-topLeft > ".concat(r,"-arrow"),"&-placement-topRight > ".concat(r,"-arrow")].join(",")]:{bottom:s,transform:"translateY(100%) rotate(180deg)"},["&-placement-top > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":i,["> ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:i}}},"&-placement-topRight":{"--arrow-offset-horizontal":"calc(100% - ".concat(lx(i),")"),["> ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:i}}}})),EM(!!l.bottom,{[["&-placement-bottom > ".concat(r,"-arrow"),"&-placement-bottomLeft > ".concat(r,"-arrow"),"&-placement-bottomRight > ".concat(r,"-arrow")].join(",")]:{top:s,transform:"translateY(-100%)"},["&-placement-bottom > ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":i,["> ".concat(r,"-arrow")]:{left:{_skip_check_:!0,value:i}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":"calc(100% - ".concat(lx(i),")"),["> ".concat(r,"-arrow")]:{right:{_skip_check_:!0,value:i}}}})),EM(!!l.left,{[["&-placement-left > ".concat(r,"-arrow"),"&-placement-leftTop > ".concat(r,"-arrow"),"&-placement-leftBottom > ".concat(r,"-arrow")].join(",")]:{right:{_skip_check_:!0,value:s},transform:"translateX(100%) rotate(90deg)"},["&-placement-left > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},["&-placement-leftTop > ".concat(r,"-arrow")]:{top:o},["&-placement-leftBottom > ".concat(r,"-arrow")]:{bottom:o}})),EM(!!l.right,{[["&-placement-right > ".concat(r,"-arrow"),"&-placement-rightTop > ".concat(r,"-arrow"),"&-placement-rightBottom > ".concat(r,"-arrow")].join(",")]:{left:{_skip_check_:!0,value:s},transform:"translateX(-100%) rotate(-90deg)"},["&-placement-right > ".concat(r,"-arrow")]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},["&-placement-rightTop > ".concat(r,"-arrow")]:{top:o},["&-placement-rightBottom > ".concat(r,"-arrow")]:{bottom:o}}))}}const OM={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},IM={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},MM=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function PM(e){const{arrowWidth:t,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:a,borderRadius:o,visibleFirst:i}=e,s=t/2,l={},c=SM({contentRadius:o,limitVerticalRadius:!0});return Object.keys(OM).forEach(e=>{const o=r&&IM[e]||OM[e],d=Object.assign(Object.assign({},o),{offset:[0,0],dynamicInset:!0});switch(l[e]=d,MM.has(e)&&(d.autoArrow=!1),e){case"top":case"topLeft":case"topRight":d.offset[1]=-s-a;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=s+a;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-s-a;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=s+a}if(r)switch(e){case"topLeft":case"bottomLeft":d.offset[0]=-c.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":d.offset[0]=c.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":d.offset[1]=2*-c.arrowOffsetHorizontal+s;break;case"leftBottom":case"rightBottom":d.offset[1]=2*c.arrowOffsetHorizontal-s}d.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};const a=r&&"object"===typeof r?r:{},o={};switch(e){case"top":case"bottom":o.shiftX=2*t.arrowOffsetHorizontal+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=2*t.arrowOffsetVertical+n,o.shiftX=!0,o.adjustX=!0}const i=Object.assign(Object.assign({},o),a);return i.shiftX||(i.adjustX=!0),i.shiftY||(i.adjustY=!0),i}(e,c,t,n),i&&(d.htmlRegion="visibleFirst")}),l}function TM(e,t){return Oj.reduce((n,r)=>{const a=e["".concat(r,"1")],o=e["".concat(r,"3")],i=e["".concat(r,"6")],s=e["".concat(r,"7")];return Object.assign(Object.assign({},n),t(r,{lightColor:a,lightBorderColor:o,darkColor:i,textColor:s}))},{})}const AM=e=>{const{calc:t,componentCls:n,tooltipMaxWidth:r,tooltipColor:a,tooltipBg:o,tooltipBorderRadius:i,zIndexPopup:s,controlHeight:l,boxShadowSecondary:c,paddingSM:d,paddingXS:u,arrowOffsetHorizontal:m,sizePopupArrow:g}=e,p=t(i).add(g).add(m).equal(),f=t(i).mul(2).add(g).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},fb(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,["".concat(n,"-inner")]:{minWidth:f,minHeight:l,padding:"".concat(lx(e.calc(d).div(2).equal())," ").concat(lx(u)),color:"var(--ant-tooltip-color, ".concat(a,")"),textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:i,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:p},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{["".concat(n,"-inner")]:{borderRadius:e.min(i,8)}},["".concat(n,"-content")]:{position:"relative"}}),TM(e,(e,t)=>{let{darkColor:r}=t;return{["&".concat(n,"-").concat(e)]:{["".concat(n,"-inner")]:{backgroundColor:r},["".concat(n,"-arrow")]:{"--antd-arrow-background-color":r}}}})),{"&-rtl":{direction:"rtl"}})},_M(e,"var(--antd-arrow-background-color)"),{["".concat(n,"-pure")]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},RM=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},SM({contentRadius:e.borderRadius,limitVerticalRadius:!0})),NM(rb(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),zM=function(e){const t=_k("Tooltip",e=>{const{borderRadius:t,colorTextLightSolid:n,colorBgSpotlight:r}=e,a=rb(e,{tooltipMaxWidth:250,tooltipColor:n,tooltipBorderRadius:t,tooltipBg:r});return[AM(a),F_(e,"zoom-big-fast")]},RM,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},DM=Oj.map(e=>"".concat(e,"-inverse")),LM=["success","processing","error","default","warning"];function BM(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[].concat(vv(DM),vv(Oj)).includes(e):Oj.includes(e)}const FM=e=>e instanceof pN?e:new pN(e);function HM(e,t){const n=BM(t),r=Ah()({["".concat(e,"-").concat(t)]:t&&n}),a={},o={},i=FM(t).toRgb(),s=(.299*i.r+.587*i.g+.114*i.b)/255<.5?"#FFF":"#000";return t&&!n&&(a.background=t,a["--ant-tooltip-color"]=s,o["--antd-arrow-background-color"]=t),{className:r,overlayStyle:a,arrowStyle:o}}const WM=e=>{const{prefixCls:t,className:n,placement:a="top",title:o,color:i,overlayInnerStyle:s}=e,{getPrefixCls:l}=r.useContext(av),c=l("tooltip",t),[d,u,m]=zM(c),g=HM(c,i),p=g.arrowStyle,f=Object.assign(Object.assign({},s),g.overlayStyle),h=Ah()(u,m,c,"".concat(c,"-pure"),"".concat(c,"-placement-").concat(a),n,g.className);return d(r.createElement("div",{className:h,style:p},r.createElement("div",{className:"".concat(c,"-arrow")}),r.createElement(JO,Object.assign({},e,{className:u,prefixCls:c,overlayInnerStyle:f}),o)))};var VM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const qM=r.forwardRef((e,t)=>{var n,a;const{prefixCls:o,openClassName:i,getTooltipContainer:s,color:l,overlayInnerStyle:c,children:d,afterOpenChange:u,afterVisibleChange:m,destroyTooltipOnHide:g,destroyOnHidden:p,arrow:f=!0,title:h,overlay:v,builtinPlacements:x,arrowPointAtCenter:y=!1,autoAdjustOverflow:b=!0,motion:k,getPopupContainer:w,placement:j="top",mouseEnterDelay:N=.1,mouseLeaveDelay:C=.1,overlayStyle:S,rootClassName:E,overlayClassName:_,styles:O,classNames:I}=e,M=VM(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),P=!!f,[,T]=Ek(),{getPopupContainer:A,getPrefixCls:R,direction:z,className:D,style:L,classNames:B,styles:F}=sv("tooltip"),H=aC("Tooltip"),W=r.useRef(null),V=()=>{var e;null===(e=W.current)||void 0===e||e.forceAlign()};r.useImperativeHandle(t,()=>{var e,t;return{forceAlign:V,forcePopupAlign:()=>{H.deprecated(!1,"forcePopupAlign","forceAlign"),V()},nativeElement:null===(e=W.current)||void 0===e?void 0:e.nativeElement,popupElement:null===(t=W.current)||void 0===t?void 0:t.popupElement}});const[q,U]=Ky(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(a=e.defaultOpen)&&void 0!==a?a:e.defaultVisible}),K=!h&&!v&&0!==h,G=r.useMemo(()=>{var e,t;let n=y;return"object"===typeof f&&(n=null!==(t=null!==(e=f.pointAtCenter)&&void 0!==e?e:f.arrowPointAtCenter)&&void 0!==t?t:y),x||PM({arrowPointAtCenter:n,autoAdjustOverflow:b,arrowWidth:P?T.sizePopupArrow:0,borderRadius:T.borderRadius,offset:T.marginXXS,visibleFirst:!0})},[y,f,x,T]),X=r.useMemo(()=>0===h?h:v||h||"",[v,h]),Y=r.createElement(jM,{space:!0},"function"===typeof X?X():X),$=R("tooltip",o),J=R(),Z=e["data-popover-inject"];let Q=q;"open"in e||"visible"in e||!K||(Q=!1);const ee=r.isValidElement(d)&&!lv(d)?d:r.createElement("span",null,d),te=ee.props,ne=te.className&&"string"!==typeof te.className?te.className:Ah()(te.className,i||"".concat($,"-open")),[re,ae,oe]=zM($,!Z),ie=HM($,l),se=ie.arrowStyle,le=Ah()(_,{["".concat($,"-rtl")]:"rtl"===z},ie.className,E,ae,oe,D,B.root,null===I||void 0===I?void 0:I.root),ce=Ah()(B.body,null===I||void 0===I?void 0:I.body),[de,ue]=wS("Tooltip",M.zIndex),me=r.createElement(wM,Object.assign({},M,{zIndex:de,showArrow:P,placement:j,mouseEnterDelay:N,mouseLeaveDelay:C,prefixCls:$,classNames:{root:le,body:ce},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},se),F.root),L),S),null===O||void 0===O?void 0:O.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},F.body),c),null===O||void 0===O?void 0:O.body),ie.overlayStyle)},getTooltipContainer:w||s||A,ref:W,builtinPlacements:G,overlay:Y,visible:Q,onVisibleChange:t=>{var n,r;U(!K&&t),K||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==u&&void 0!==u?u:m,arrowContent:r.createElement("span",{className:"".concat($,"-arrow-content")}),motion:{motionName:k_(J,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:null!==p&&void 0!==p?p:!!g}),Q?dv(ee,{className:ne}):ee);return re(r.createElement(vS.Provider,{value:ue},me))}),UM=qM;UM._InternalPanelDoNotUseOrYouWillBeFired=WM;const KM=UM;var GM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const XM=e=>{let{prefixCls:t,label:n,htmlFor:a,labelCol:o,labelAlign:i,colon:s,required:l,requiredMark:c,tooltip:d,vertical:u}=e;var m;const[g]=$O("Form"),{labelAlign:p,labelCol:f,labelWrap:h,colon:v}=r.useContext(d_);if(!n)return null;const x=o||f||{},y=i||p,b="".concat(t,"-item-label"),k=Ah()(b,"left"===y&&"".concat(b,"-left"),x.className,{["".concat(b,"-wrap")]:!!h});let w=n;const j=!0===s||!1!==v&&!1!==s;j&&!u&&"string"===typeof n&&n.trim()&&(w=n.replace(/[:|\uff1a]\s*$/,""));const N=YO(d);if(N){const{icon:e=r.createElement(XO,null)}=N,n=GM(N,["icon"]),a=r.createElement(KM,Object.assign({},n),r.cloneElement(e,{className:"".concat(t,"-item-tooltip"),title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));w=r.createElement(r.Fragment,null,w,a)}const C="optional"===c,S="function"===typeof c,E=!1===c;let _;S?w=c(w,{required:!!l}):C&&!l&&(w=r.createElement(r.Fragment,null,w,r.createElement("span",{className:"".concat(t,"-item-optional"),title:""},(null===g||void 0===g?void 0:g.optional)||(null===(m=uC.Form)||void 0===m?void 0:m.optional)))),E?_="hidden":(C||S)&&(_="optional");const O=Ah()({["".concat(t,"-item-required")]:l,["".concat(t,"-item-required-mark-").concat(_)]:_,["".concat(t,"-item-no-colon")]:!j});return r.createElement(WO,Object.assign({},x,{className:k}),r.createElement("label",{htmlFor:a,className:O,title:"string"===typeof n?n:""},w))},YM={success:WC,warning:XC,error:UC,validating:eN};function $M(e){let{children:t,errors:n,warnings:a,hasFeedback:o,validateStatus:i,prefixCls:s,meta:l,noStyle:c,name:d}=e;const u="".concat(s,"-item"),{feedbackIcons:m}=r.useContext(d_),g=gO(n,a,l,null,!!o,i),{isFormItemInput:p,status:f,hasFeedback:h,feedbackIcon:v,name:x}=r.useContext(p_),y=r.useMemo(()=>{var e;let t;if(o){const i=!0!==o&&o.icons||m,s=g&&(null===(e=null===i||void 0===i?void 0:i({status:g,errors:n,warnings:a}))||void 0===e?void 0:e[g]),l=g?YM[g]:null;t=!1!==s&&l?r.createElement("span",{className:Ah()("".concat(u,"-feedback-icon"),"".concat(u,"-feedback-icon-").concat(g))},s||r.createElement(l,null)):null}const i={status:g||"",errors:n,warnings:a,hasFeedback:!!o,feedbackIcon:t,isFormItemInput:!0,name:d};return c&&(i.status=(null!==g&&void 0!==g?g:f)||"",i.isFormItemInput=p,i.hasFeedback=!!(null!==o&&void 0!==o?o:h),i.feedbackIcon=void 0!==o?i.feedbackIcon:v,i.name=null!==d&&void 0!==d?d:x),i},[g,o,c,p,f]);return r.createElement(p_.Provider,{value:y},t)}var JM=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ZM(e){const{prefixCls:t,className:n,rootClassName:a,style:o,help:i,errors:s,warnings:l,validateStatus:c,meta:d,hasFeedback:u,hidden:m,children:g,fieldId:p,required:f,isRequired:h,onSubItemMetaChange:v,layout:x,name:y}=e,b=JM(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout","name"]),k="".concat(t,"-item"),{requiredMark:w,layout:j}=r.useContext(d_),N=x||j,C="vertical"===N,S=r.useRef(null),E=j_(s),_=j_(l),O=void 0!==i&&null!==i,I=!!(O||s.length||l.length),M=!!S.current&&ev(S.current),[P,T]=r.useState(null);Bh(()=>{if(I&&S.current){const e=getComputedStyle(S.current);T(Number.parseInt(e.marginBottom,10))}},[I,M]);const A=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return gO(e?E:d.errors,e?_:d.warnings,d,"",!!u,c)}(),R=Ah()(k,n,a,{["".concat(k,"-with-help")]:O||E.length||_.length,["".concat(k,"-has-feedback")]:A&&u,["".concat(k,"-has-success")]:"success"===A,["".concat(k,"-has-warning")]:"warning"===A,["".concat(k,"-has-error")]:"error"===A,["".concat(k,"-is-validating")]:"validating"===A,["".concat(k,"-hidden")]:m,["".concat(k,"-").concat(N)]:N});return r.createElement("div",{className:R,style:o,ref:S},r.createElement(DO,Object.assign({className:"".concat(k,"-row")},Fh(b,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),r.createElement(XM,Object.assign({htmlFor:p},e,{requiredMark:w,required:null!==f&&void 0!==f?f:h,prefixCls:t,vertical:C})),r.createElement(UO,Object.assign({},e,d,{errors:E,warnings:_,prefixCls:t,status:A,help:i,marginBottom:P,onErrorVisibleChanged:e=>{e||T(null)}}),r.createElement(u_.Provider,{value:v},r.createElement($M,{prefixCls:t,meta:d,errors:d.errors,warnings:d.warnings,hasFeedback:u,validateStatus:A,name:y},g)))),!!P&&r.createElement("div",{className:"".concat(k,"-margin-offset"),style:{marginBottom:-P}}))}const QM=r.memo(e=>{let{children:t}=e;return t},(e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>{const r=e[n],a=t[n];return r===a||"function"===typeof r||"function"===typeof a})}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((e,n)=>e===t.childProps[n]));const eP=function(e){const{name:t,noStyle:n,className:a,dependencies:o,prefixCls:i,shouldUpdate:s,rules:l,children:c,required:d,label:u,messageVariables:m,trigger:g="onChange",validateTrigger:p,hidden:f,help:h,layout:v}=e,{getPrefixCls:x}=r.useContext(av),{name:y}=r.useContext(d_),b=function(e){if("function"===typeof e)return e;const t=vj(e);return t.length<=1?t[0]:t}(c),k="function"===typeof b,w=r.useContext(u_),{validateTrigger:j}=r.useContext(JS),N=void 0!==p?p:j,C=!(void 0===t||null===t),S=x("form",i),E=hS(S),[_,O,I]=Q_(S,E);aC("Form.Item");const M=r.useContext(ZS),P=r.useRef(null),[T,A]=function(e){const[t,n]=r.useState(e),a=r.useRef(null),o=r.useRef([]),i=r.useRef(!1);return r.useEffect(()=>(i.current=!1,()=>{i.current=!0,Lk.cancel(a.current),a.current=null}),[]),[t,function(e){i.current||(null===a.current&&(o.current=[],a.current=Lk(()=>{a.current=null,n(e=>{let t=e;return o.current.forEach(e=>{t=e(t)}),t})})),o.current.push(e))}]}({}),[R,z]=qy(()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1})),D=(e,t)=>{A(n=>{const r=Object.assign({},n),a=[].concat(vv(e.name.slice(0,-1)),vv(t)).join("__SPLIT__");return e.destroy?delete r[a]:r[a]=e,r})},[L,B]=r.useMemo(()=>{const e=vv(R.errors),t=vv(R.warnings);return Object.values(T).forEach(n=>{e.push.apply(e,vv(n.errors||[])),t.push.apply(t,vv(n.warnings||[]))}),[e,t]},[T,R.errors,R.warnings]),F=function(){const{itemRef:e}=r.useContext(d_),t=r.useRef({});return function(n,r){const a=r&&"object"===typeof r&&Qh(r),o=n.join("_");return t.current.name===o&&t.current.originRef===a||(t.current.name=o,t.current.originRef=a,t.current.ref=Yh(e(n),a)),t.current.ref}}();function H(o,i,s){return n&&!f?r.createElement($M,{prefixCls:S,hasFeedback:e.hasFeedback,validateStatus:e.validateStatus,meta:R,errors:L,warnings:B,noStyle:!0,name:t},o):r.createElement(ZM,Object.assign({key:"row"},e,{className:Ah()(a,I,E,O),prefixCls:S,fieldId:i,isRequired:s,errors:L,warnings:B,meta:R,onSubItemMetaChange:D,layout:v,name:t}),o)}if(!C&&!k&&!o)return _(H(b));let W={};return"string"===typeof u?W.label=u:t&&(W.label=String(t)),m&&(W=Object.assign(Object.assign({},W),m)),_(r.createElement(UE,Object.assign({},e,{messageVariables:W,trigger:g,validateTrigger:N,onMetaChange:e=>{const t=null===M||void 0===M?void 0:M.getKey(e.name);if(z(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),n&&!1!==h&&w){let n=e.name;if(e.destroy)n=P.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(vv(r)),P.current=n}w(e,n)}}}),(n,a,i)=>{const c=uO(t).length&&a?a.name:[],u=mO(c,y),m=void 0!==d?d:!!(null===l||void 0===l?void 0:l.some(e=>{if(e&&"object"===typeof e&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){const t=e(i);return(null===t||void 0===t?void 0:t.required)&&!(null===t||void 0===t?void 0:t.warningOnly)}return!1})),p=Object.assign({},n);let f=null;if(Array.isArray(b)&&C)f=b;else if(k&&(!s&&!o||C));else if(!o||k||C)if(r.isValidElement(b)){const t=Object.assign(Object.assign({},b.props),p);if(t.id||(t.id=u),h||L.length>0||B.length>0||e.extra){const n=[];(h||L.length>0)&&n.push("".concat(u,"_help")),e.extra&&n.push("".concat(u,"_extra")),t["aria-describedby"]=n.join(" ")}L.length>0&&(t["aria-invalid"]="true"),m&&(t["aria-required"]="true"),Jh(b)&&(t.ref=F(c,b));new Set([].concat(vv(uO(g)),vv(uO(N)))).forEach(e=>{t[e]=function(){for(var t,n,r,a,o,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];null===(r=p[e])||void 0===r||(t=r).call.apply(t,[p].concat(s)),null===(o=(a=b.props)[e])||void 0===o||(n=o).call.apply(n,[a].concat(s))}});const n=[t["aria-required"],t["aria-invalid"],t["aria-describedby"]];f=r.createElement(QM,{control:p,update:b,childProps:n},dv(b,t))}else f=k&&(s||o)&&!C?b(i):b;else;return H(f,u,m)}))};eP.useStatus=wO;const tP=eP;var nP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const rP=e=>{var{prefixCls:t,children:n}=e,a=nP(e,["prefixCls","children"]);const{getPrefixCls:o}=r.useContext(av),i=o("form",t),s=r.useMemo(()=>({prefixCls:i,status:"error"}),[i]);return r.createElement(KE,Object.assign({},a),(e,t,a)=>r.createElement(g_.Provider,{value:s},n(e.map(e=>Object.assign(Object.assign({},e),{fieldKey:e.key})),t,{errors:a.errors,warnings:a.warnings})))};const aP=bO;aP.Item=tP,aP.List=rP,aP.ErrorList=nO,aP.useForm=vO,aP.useFormInstance=function(){const{form:e}=r.useContext(d_);return e},aP.useWatch=s_,aP.Provider=m_,aP.create=()=>{};const oP=aP,iP=e=>"function"===typeof(null===e||void 0===e?void 0:e.then),sP=e=>{const{type:t,children:n,prefixCls:a,buttonProps:o,close:i,autoFocus:s,emitEvent:l,isSilent:c,quitOnNullishReturnValue:d,actionFn:u}=e,m=r.useRef(!1),g=r.useRef(null),[p,f]=qy(!1),h=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===i||void 0===i||i.apply(void 0,t)};r.useEffect(()=>{let e=null;return s&&(e=setTimeout(()=>{var e;null===(e=g.current)||void 0===e||e.focus({preventScroll:!0})})),()=>{e&&clearTimeout(e)}},[s]);return r.createElement(eC,Object.assign({},Pj(t),{onClick:e=>{if(m.current)return;if(m.current=!0,!u)return void h();let t;if(l){if(t=u(e),d&&!iP(t))return m.current=!1,void h(e)}else if(u.length)t=u(i),m.current=!1;else if(t=u(),!iP(t))return void h();(e=>{iP(e)&&(f(!0),e.then(function(){f(!1,!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];h.apply(void 0,t),m.current=!1},e=>{if(f(!1,!0),m.current=!1,!(null===c||void 0===c?void 0:c()))return Promise.reject(e)}))})(t)},loading:p,prefixCls:a},o,{ref:g}),n)},lP=r.createContext({}),{Provider:cP}=lP,dP=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:n,isSilent:a,mergedOkCancel:o,rootPrefixCls:i,close:s,onCancel:l,onConfirm:c}=(0,r.useContext)(lP);return o?r.createElement(sP,{isSilent:a,actionFn:l,close:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===s||void 0===s||s.apply(void 0,t),null===c||void 0===c||c(!1)},autoFocus:"cancel"===e,buttonProps:t,prefixCls:"".concat(i,"-btn")},n):null},uP=()=>{const{autoFocusButton:e,close:t,isSilent:n,okButtonProps:a,rootPrefixCls:o,okTextLocale:i,okType:s,onConfirm:l,onOk:c}=(0,r.useContext)(lP);return r.createElement(sP,{isSilent:n,type:s||"primary",actionFn:c,close:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];null===t||void 0===t||t.apply(void 0,n),null===l||void 0===l||l(!0)},autoFocus:"ok"===e,buttonProps:a,prefixCls:"".concat(o,"-btn")},i)};var mP=r.createContext({});function gP(e,t,n){var r=t;return!r&&n&&(r="".concat(e,"-").concat(n)),r}function pP(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var a=e.document;"number"!==typeof(n=a.documentElement[r])&&(n=a.body[r])}return n}const fP=r.memo(function(e){return e.children},function(e,t){return!t.shouldUpdate});var hP={width:0,height:0,overflow:"hidden",outline:"none"},vP={outline:"none"},xP=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.className,o=e.style,i=e.title,s=e.ariaId,l=e.footer,c=e.closable,d=e.closeIcon,u=e.onClose,m=e.children,g=e.bodyStyle,p=e.bodyProps,f=e.modalRender,h=e.onMouseDown,v=e.onMouseUp,x=e.holderRef,y=e.visible,b=e.forceRender,k=e.width,w=e.height,j=e.classNames,N=e.styles,C=r.useContext(mP).panel,S=$h(x,C),E=(0,r.useRef)(),_=(0,r.useRef)();r.useImperativeHandle(t,function(){return{focus:function(){var e;null===(e=E.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===_.current?E.current.focus({preventScroll:!0}):e||t!==E.current||_.current.focus({preventScroll:!0})}}});var O={};void 0!==k&&(O.width=k),void 0!==w&&(O.height=w);var I=l?r.createElement("div",{className:Ah()("".concat(n,"-footer"),null===j||void 0===j?void 0:j.footer),style:Le({},null===N||void 0===N?void 0:N.footer)},l):null,M=i?r.createElement("div",{className:Ah()("".concat(n,"-header"),null===j||void 0===j?void 0:j.header),style:Le({},null===N||void 0===N?void 0:N.header)},r.createElement("div",{className:"".concat(n,"-title"),id:s},i)):null,P=(0,r.useMemo)(function(){return"object"===Ae(c)&&null!==c?c:c?{closeIcon:null!==d&&void 0!==d?d:r.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[c,d,n]),T=nS(P,!0),A="object"===Ae(c)&&c.disabled,R=c?r.createElement("button",jx({type:"button",onClick:u,"aria-label":"Close"},T,{className:"".concat(n,"-close"),disabled:A}),P.closeIcon):null,z=r.createElement("div",{className:Ah()("".concat(n,"-content"),null===j||void 0===j?void 0:j.content),style:null===N||void 0===N?void 0:N.content},R,M,r.createElement("div",jx({className:Ah()("".concat(n,"-body"),null===j||void 0===j?void 0:j.body),style:Le(Le({},g),null===N||void 0===N?void 0:N.body)},p),m),I);return r.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":i?s:null,"aria-modal":"true",ref:S,style:Le(Le({},o),O),className:Ah()(n,a),onMouseDown:h,onMouseUp:v},r.createElement("div",{ref:E,tabIndex:0,style:vP},r.createElement(fP,{shouldUpdate:y||b},f?f(z):z)),r.createElement("div",{tabIndex:0,ref:_,style:hP}))});const yP=xP;var bP=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.title,o=e.style,i=e.className,s=e.visible,l=e.forceRender,c=e.destroyOnClose,d=e.motionName,u=e.ariaId,m=e.onVisibleChanged,g=e.mousePosition,p=(0,r.useRef)(),f=fv(r.useState(),2),h=f[0],v=f[1],x={};function y(){var e=function(e){var t=e.getBoundingClientRect(),n={left:t.left,top:t.top},r=e.ownerDocument,a=r.defaultView||r.parentWindow;return n.left+=pP(a),n.top+=pP(a,!0),n}(p.current);v(g&&(g.x||g.y)?"".concat(g.x-e.left,"px ").concat(g.y-e.top,"px"):"")}return h&&(x.transformOrigin=h),r.createElement(Tw,{visible:s,onVisibleChanged:m,onAppearPrepare:y,onEnterPrepare:y,forceRender:l,motionName:d,removeOnLeave:c,ref:p},function(s,l){var c=s.className,d=s.style;return r.createElement(yP,jx({},e,{ref:t,title:a,ariaId:u,prefixCls:n,holderRef:l,style:Le(Le(Le({},d),o),x),className:Ah()(i,c)}))})});bP.displayName="Content";const kP=bP;const wP=function(e){var t=e.prefixCls,n=e.style,a=e.visible,o=e.maskProps,i=e.motionName,s=e.className;return r.createElement(Tw,{key:"mask",visible:a,motionName:i,leavedClassName:"".concat(t,"-mask-hidden")},function(e,a){var i=e.className,l=e.style;return r.createElement("div",jx({ref:a,style:Le(Le({},l),n),className:Ah()("".concat(t,"-mask"),i,s)},o))})};const jP=function(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,a=e.zIndex,o=e.visible,i=void 0!==o&&o,s=e.keyboard,l=void 0===s||s,c=e.focusTriggerAfterClose,d=void 0===c||c,u=e.wrapStyle,m=e.wrapClassName,g=e.wrapProps,p=e.onClose,f=e.afterOpenChange,h=e.afterClose,v=e.transitionName,x=e.animation,y=e.closable,b=void 0===y||y,k=e.mask,w=void 0===k||k,j=e.maskTransitionName,N=e.maskAnimation,C=e.maskClosable,S=void 0===C||C,E=e.maskStyle,_=e.maskProps,O=e.rootClassName,I=e.classNames,M=e.styles;var P=(0,r.useRef)(),T=(0,r.useRef)(),A=(0,r.useRef)(),R=fv(r.useState(i),2),z=R[0],D=R[1],L=qI();function B(e){null===p||void 0===p||p(e)}var F=(0,r.useRef)(!1),H=(0,r.useRef)(),W=null;S&&(W=function(e){F.current?F.current=!1:T.current===e.target&&B(e)}),(0,r.useEffect)(function(){i&&(D(!0),yv(T.current,document.activeElement)||(P.current=document.activeElement))},[i]),(0,r.useEffect)(function(){return function(){clearTimeout(H.current)}},[]);var V=Le(Le(Le({zIndex:a},u),null===M||void 0===M?void 0:M.wrapper),{},{display:z?null:"none"});return r.createElement("div",jx({className:Ah()("".concat(n,"-root"),O)},nS(e,{data:!0})),r.createElement(wP,{prefixCls:n,visible:w&&i,motionName:gP(n,j,N),style:Le(Le({zIndex:a},E),null===M||void 0===M?void 0:M.mask),maskProps:_,className:null===I||void 0===I?void 0:I.mask}),r.createElement("div",jx({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===QC.ESC)return e.stopPropagation(),void B(e);i&&e.keyCode===QC.TAB&&A.current.changeActive(!e.shiftKey)},className:Ah()("".concat(n,"-wrap"),m,null===I||void 0===I?void 0:I.wrapper),ref:T,onClick:W,style:V},g),r.createElement(kP,jx({},e,{onMouseDown:function(){clearTimeout(H.current),F.current=!0},onMouseUp:function(){H.current=setTimeout(function(){F.current=!1})},ref:A,closable:b,ariaId:L,prefixCls:n,visible:i&&z,onClose:B,onVisibleChanged:function(e){if(e)!function(){var e;yv(T.current,document.activeElement)||null===(e=A.current)||void 0===e||e.focus()}();else{if(D(!1),w&&P.current&&d){try{P.current.focus({preventScroll:!0})}catch(aO){}P.current=null}z&&(null===h||void 0===h||h())}null===f||void 0===f||f(e)},motionName:gP(n,v,x)}))))};var NP=function(e){var t=e.visible,n=e.getContainer,a=e.forceRender,o=e.destroyOnClose,i=void 0!==o&&o,s=e.afterClose,l=e.panelRef,c=fv(r.useState(t),2),d=c[0],u=c[1],m=r.useMemo(function(){return{panel:l}},[l]);return r.useEffect(function(){t&&u(!0)},[t]),a||!i||d?r.createElement(mP.Provider,{value:m},r.createElement(dI,{open:t||a||d,autoDestroy:!1,getContainer:n,autoLock:t||d},r.createElement(jP,jx({},e,{destroyOnClose:i,afterClose:function(){null===s||void 0===s||s(),u(!1)}})))):null};NP.displayName="Dialog";const CP=NP;const SP=function(){const e={};for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(t=>{t&&Object.keys(t).forEach(n=>{void 0!==t[n]&&(e[n]=t[n])})}),e};function EP(e){if(!e)return;const{closable:t,closeIcon:n}=e;return{closable:t,closeIcon:n}}function _P(e){const{closable:t,closeIcon:n}=e||{};return r.useMemo(()=>{if(!t&&(!1===t||!1===n||null===n))return!1;if(void 0===t&&void 0===n)return null;let e={closeIcon:"boolean"!==typeof n&&null!==n?n:void 0};return t&&"object"===typeof t&&(e=Object.assign(Object.assign({},e),t)),e},[t,n])}const OP={},IP=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:OP;const a=_P(e),o=_P(t),[i]=$O("global",uC.global),s="boolean"!==typeof a&&!!(null===a||void 0===a?void 0:a.disabled),l=r.useMemo(()=>Object.assign({closeIcon:r.createElement(IS,null)},n),[n]),c=r.useMemo(()=>!1!==a&&(a?SP(l,o,a):!1!==o&&(o?SP(l,o):!!l.closable&&l)),[a,o,l]);return r.useMemo(()=>{var e,t;if(!1===c)return[!1,null,s,{}];const{closeIconRender:n}=l,{closeIcon:a}=c;let o=a;const d=nS(c,!0);return null!==o&&void 0!==o&&(n&&(o=n(a)),o=r.isValidElement(o)?r.cloneElement(o,Object.assign(Object.assign(Object.assign({},o.props),{"aria-label":null!==(t=null===(e=o.props)||void 0===e?void 0:e["aria-label"])&&void 0!==t?t:i.close}),d)):r.createElement("span",Object.assign({"aria-label":i.close},d),o)),[!0,o,s,d]},[s,i.close,c,l])},MP=e=>{const{prefixCls:t,className:n,style:a,size:o,shape:i}=e,s=Ah()({["".concat(t,"-lg")]:"large"===o,["".concat(t,"-sm")]:"small"===o}),l=Ah()({["".concat(t,"-circle")]:"circle"===i,["".concat(t,"-square")]:"square"===i,["".concat(t,"-round")]:"round"===i}),c=r.useMemo(()=>"number"===typeof o?{width:o,height:o,lineHeight:"".concat(o,"px")}:{},[o]);return r.createElement("span",{className:Ah()(t,s,l,n),style:Object.assign(Object.assign({},c),a)})},PP=new Ey("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),TP=e=>({height:e,lineHeight:lx(e)}),AP=e=>Object.assign({width:e},TP(e)),RP=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:PP,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),zP=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},TP(e)),DP=e=>{const{skeletonAvatarCls:t,gradientFromColor:n,controlHeight:r,controlHeightLG:a,controlHeightSM:o}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},AP(r)),["".concat(t).concat(t,"-circle")]:{borderRadius:"50%"},["".concat(t).concat(t,"-lg")]:Object.assign({},AP(a)),["".concat(t).concat(t,"-sm")]:Object.assign({},AP(o))}},LP=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:i,calc:s}=e;return{[r]:Object.assign({display:"inline-block",verticalAlign:"top",background:i,borderRadius:n},zP(t,s)),["".concat(r,"-lg")]:Object.assign({},zP(a,s)),["".concat(r,"-sm")]:Object.assign({},zP(o,s))}},BP=e=>Object.assign({width:e},TP(e)),FP=e=>{const{skeletonImageCls:t,imageSizeBase:n,gradientFromColor:r,borderRadiusSM:a,calc:o}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:a},BP(o(n).mul(2).equal())),{["".concat(t,"-path")]:{fill:"#bfbfbf"},["".concat(t,"-svg")]:Object.assign(Object.assign({},BP(n)),{maxWidth:o(n).mul(4).equal(),maxHeight:o(n).mul(4).equal()}),["".concat(t,"-svg").concat(t,"-svg-circle")]:{borderRadius:"50%"}}),["".concat(t).concat(t,"-circle")]:{borderRadius:"50%"}}},HP=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{["".concat(n).concat(r,"-circle")]:{width:t,minWidth:t,borderRadius:"50%"},["".concat(n).concat(r,"-round")]:{borderRadius:t}}},WP=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},TP(e)),VP=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:a,controlHeightSM:o,gradientFromColor:i,calc:s}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:i,borderRadius:t,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},WP(r,s))},HP(e,r,n)),{["".concat(n,"-lg")]:Object.assign({},WP(a,s))}),HP(e,a,"".concat(n,"-lg"))),{["".concat(n,"-sm")]:Object.assign({},WP(o,s))}),HP(e,o,"".concat(n,"-sm")))},qP=_k("Skeleton",e=>{const{componentCls:t,calc:n}=e;return(e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:a,skeletonButtonCls:o,skeletonInputCls:i,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:d,gradientFromColor:u,padding:m,marginSM:g,borderRadius:p,titleHeight:f,blockRadius:h,paragraphLiHeight:v,controlHeightXS:x,paragraphMarginTop:y}=e;return{[t]:{display:"table",width:"100%",["".concat(t,"-header")]:{display:"table-cell",paddingInlineEnd:m,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:u},AP(l)),["".concat(n,"-circle")]:{borderRadius:"50%"},["".concat(n,"-lg")]:Object.assign({},AP(c)),["".concat(n,"-sm")]:Object.assign({},AP(d))},["".concat(t,"-content")]:{display:"table-cell",width:"100%",verticalAlign:"top",[r]:{width:"100%",height:f,background:u,borderRadius:h,["+ ".concat(a)]:{marginBlockStart:d}},[a]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:u,borderRadius:h,"+ li":{marginBlockStart:x}}},["".concat(a,"> li:last-child:not(:first-child):not(:nth-child(2))")]:{width:"61%"}},["&-round ".concat(t,"-content")]:{["".concat(r,", ").concat(a," > li")]:{borderRadius:p}}},["".concat(t,"-with-avatar ").concat(t,"-content")]:{[r]:{marginBlockStart:g,["+ ".concat(a)]:{marginBlockStart:y}}},["".concat(t).concat(t,"-element")]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},VP(e)),DP(e)),LP(e)),FP(e)),["".concat(t).concat(t,"-block")]:{width:"100%",[o]:{width:"100%"},[i]:{width:"100%"}},["".concat(t).concat(t,"-active")]:{["\n        ".concat(r,",\n        ").concat(a," > li,\n        ").concat(n,",\n        ").concat(o,",\n        ").concat(i,",\n        ").concat(s,"\n      ")]:Object.assign({},RP(e))}}})(rb(e,{skeletonAvatarCls:"".concat(t,"-avatar"),skeletonTitleCls:"".concat(t,"-title"),skeletonParagraphCls:"".concat(t,"-paragraph"),skeletonButtonCls:"".concat(t,"-button"),skeletonInputCls:"".concat(t,"-input"),skeletonImageCls:"".concat(t,"-image"),imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, ".concat(e.gradientFromColor," 25%, ").concat(e.gradientToColor," 37%, ").concat(e.gradientFromColor," 63%)"),skeletonLoadingMotionDuration:"1.4s"}))},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}},{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),UP=e=>{const{prefixCls:t,className:n,rootClassName:a,active:o,shape:i="circle",size:s="default"}=e,{getPrefixCls:l}=r.useContext(av),c=l("skeleton",t),[d,u,m]=qP(c),g=Fh(e,["prefixCls","className"]),p=Ah()(c,"".concat(c,"-element"),{["".concat(c,"-active")]:o},n,a,u,m);return d(r.createElement("div",{className:p},r.createElement(MP,Object.assign({prefixCls:"".concat(c,"-avatar"),shape:i,size:s},g))))},KP=e=>{const{prefixCls:t,className:n,rootClassName:a,active:o,block:i=!1,size:s="default"}=e,{getPrefixCls:l}=r.useContext(av),c=l("skeleton",t),[d,u,m]=qP(c),g=Fh(e,["prefixCls"]),p=Ah()(c,"".concat(c,"-element"),{["".concat(c,"-active")]:o,["".concat(c,"-block")]:i},n,a,u,m);return d(r.createElement("div",{className:p},r.createElement(MP,Object.assign({prefixCls:"".concat(c,"-button"),size:s},g))))},GP=e=>{const{prefixCls:t,className:n,rootClassName:a,style:o,active:i}=e,{getPrefixCls:s}=r.useContext(av),l=s("skeleton",t),[c,d,u]=qP(l),m=Ah()(l,"".concat(l,"-element"),{["".concat(l,"-active")]:i},n,a,d,u);return c(r.createElement("div",{className:m},r.createElement("div",{className:Ah()("".concat(l,"-image"),n),style:o},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg")},r.createElement("title",null,"Image placeholder"),r.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(l,"-image-path")})))))},XP=e=>{const{prefixCls:t,className:n,rootClassName:a,active:o,block:i,size:s="default"}=e,{getPrefixCls:l}=r.useContext(av),c=l("skeleton",t),[d,u,m]=qP(c),g=Fh(e,["prefixCls"]),p=Ah()(c,"".concat(c,"-element"),{["".concat(c,"-active")]:o,["".concat(c,"-block")]:i},n,a,u,m);return d(r.createElement("div",{className:p},r.createElement(MP,Object.assign({prefixCls:"".concat(c,"-input"),size:s},g))))},YP=e=>{const{prefixCls:t,className:n,rootClassName:a,style:o,active:i,children:s}=e,{getPrefixCls:l}=r.useContext(av),c=l("skeleton",t),[d,u,m]=qP(c),g=Ah()(c,"".concat(c,"-element"),{["".concat(c,"-active")]:i},u,n,a,m);return d(r.createElement("div",{className:g},r.createElement("div",{className:Ah()("".concat(c,"-image"),n),style:o},s)))},$P=(e,t)=>{const{width:n,rows:r=2}=t;return Array.isArray(n)?n[e]:r-1===e?n:void 0},JP=e=>{const{prefixCls:t,className:n,style:a,rows:o=0}=e,i=Array.from({length:o}).map((t,n)=>r.createElement("li",{key:n,style:{width:$P(n,e)}}));return r.createElement("ul",{className:Ah()(t,n),style:a},i)},ZP=e=>{let{prefixCls:t,className:n,width:a,style:o}=e;return r.createElement("h3",{className:Ah()(t,n),style:Object.assign({width:a},o)})};function QP(e){return e&&"object"===typeof e?e:{}}const eT=e=>{const{prefixCls:t,loading:n,className:a,rootClassName:o,style:i,children:s,avatar:l=!1,title:c=!0,paragraph:d=!0,active:u,round:m}=e,{getPrefixCls:g,direction:p,className:f,style:h}=sv("skeleton"),v=g("skeleton",t),[x,y,b]=qP(v);if(n||!("loading"in e)){const e=!!l,t=!!c,n=!!d;let s,g;if(e){const e=Object.assign(Object.assign({prefixCls:"".concat(v,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(t,n)),QP(l));s=r.createElement("div",{className:"".concat(v,"-header")},r.createElement(MP,Object.assign({},e)))}if(t||n){let a,o;if(t){const t=Object.assign(Object.assign({prefixCls:"".concat(v,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,n)),QP(c));a=r.createElement(ZP,Object.assign({},t))}if(n){const n=Object.assign(Object.assign({prefixCls:"".concat(v,"-paragraph")},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(e,t)),QP(d));o=r.createElement(JP,Object.assign({},n))}g=r.createElement("div",{className:"".concat(v,"-content")},a,o)}const k=Ah()(v,{["".concat(v,"-with-avatar")]:e,["".concat(v,"-active")]:u,["".concat(v,"-rtl")]:"rtl"===p,["".concat(v,"-round")]:m},f,a,o,y,b);return x(r.createElement("div",{className:k,style:Object.assign(Object.assign({},h),i)},s,g))}return null!==s&&void 0!==s?s:null};eT.Button=KP,eT.Avatar=UP,eT.Input=XP,eT.Image=GP,eT.Node=YP;const tT=eT;function nT(){}const rT=r.createContext({add:nT,remove:nT});const aT=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:n}=(0,r.useContext)(lP);return r.createElement(eC,Object.assign({onClick:n},e),t)},oT=()=>{const{confirmLoading:e,okButtonProps:t,okType:n,okTextLocale:a,onOk:o}=(0,r.useContext)(lP);return r.createElement(eC,Object.assign({},Pj(n),{loading:e,onClick:o},t),a)};function iT(e,t){return r.createElement("span",{className:"".concat(e,"-close-x")},t||r.createElement(IS,{className:"".concat(e,"-close-icon")}))}const sT=e=>{const{okText:t,okType:n="primary",cancelText:a,confirmLoading:o,onOk:i,onCancel:s,okButtonProps:l,cancelButtonProps:c,footer:d}=e,[u]=$O("Modal",fC()),m=t||(null===u||void 0===u?void 0:u.okText),g=a||(null===u||void 0===u?void 0:u.cancelText),p=r.useMemo(()=>({confirmLoading:o,okButtonProps:l,cancelButtonProps:c,okTextLocale:m,cancelTextLocale:g,okType:n,onOk:i,onCancel:s}),[o,l,c,m,g,n,i,s]);let f;return"function"===typeof d||"undefined"===typeof d?(f=r.createElement(r.Fragment,null,r.createElement(aT,null),r.createElement(oT,null)),"function"===typeof d&&(f=d(f,{OkBtn:oT,CancelBtn:aT})),f=r.createElement(cP,{value:p},f)):f=d,r.createElement(uj,{disabled:!1},f)},lT=new Ey("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),cT=new Ey("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),dT=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:n}=e,r="".concat(n,"-fade"),a=t?"&":"";return[S_(r,lT,cT,e.motionDurationMid,t),{["\n        ".concat(a).concat(r,"-enter,\n        ").concat(a).concat(r,"-appear\n      ")]:{opacity:0,animationTimingFunction:"linear"},["".concat(a).concat(r,"-leave")]:{animationTimingFunction:"linear"}}]};function uT(e){return{position:e,inset:0}}const mT=e=>{const{componentCls:t,antCls:n}=e;return[{["".concat(t,"-root")]:{["".concat(t).concat(n,"-zoom-enter, ").concat(t).concat(n,"-zoom-appear")]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},["".concat(t).concat(n,"-zoom-leave ").concat(t,"-content")]:{pointerEvents:"none"},["".concat(t,"-mask")]:Object.assign(Object.assign({},uT("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",["".concat(t,"-hidden")]:{display:"none"}}),["".concat(t,"-wrap")]:Object.assign(Object.assign({},uT("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{["".concat(t,"-root")]:dT(e)}]},gT=e=>{const{componentCls:t}=e;return[{["".concat(t,"-root")]:{["".concat(t,"-wrap-rtl")]:{direction:"rtl"},["".concat(t,"-centered")]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},["@media (max-width: ".concat(e.screenSMMax,"px)")]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:"".concat(lx(e.marginXS)," auto")},["".concat(t,"-centered")]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},fb(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:"calc(100vw - ".concat(lx(e.calc(e.margin).mul(2).equal()),")"),margin:"0 auto",paddingBottom:e.paddingLG,["".concat(t,"-title")]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},["".concat(t,"-content")]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},["".concat(t,"-close")]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:"color ".concat(e.motionDurationMid,", background-color ").concat(e.motionDurationMid),"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:lx(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},vb(e)),["".concat(t,"-header")]:{color:e.colorText,background:e.headerBg,borderRadius:"".concat(lx(e.borderRadiusLG)," ").concat(lx(e.borderRadiusLG)," 0 0"),marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},["".concat(t,"-body")]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,["".concat(t,"-body-skeleton")]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:"".concat(lx(e.margin)," auto")}},["".concat(t,"-footer")]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,["> ".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginInlineStart:e.marginXS}},["".concat(t,"-open")]:{overflow:"hidden"}})},{["".concat(t,"-pure-panel")]:{top:"auto",padding:0,display:"flex",flexDirection:"column",["".concat(t,"-content,\n          ").concat(t,"-body,\n          ").concat(t,"-confirm-body-wrapper")]:{display:"flex",flexDirection:"column",flex:"auto"},["".concat(t,"-confirm-body")]:{marginBottom:"auto"}}}]},pT=e=>{const{componentCls:t}=e;return{["".concat(t,"-root")]:{["".concat(t,"-wrap-rtl")]:{direction:"rtl",["".concat(t,"-confirm-body")]:{direction:"rtl"}}}}},fT=e=>{const{componentCls:t}=e,n=PO(e),r=Object.assign({},n);delete r.xs;const a="--".concat(t.replace(".",""),"-"),o=Object.keys(r).map(e=>({["@media (min-width: ".concat(lx(r[e]),")")]:{width:"var(".concat(a).concat(e,"-width)")}}));return{["".concat(t,"-root")]:{[t]:[].concat(vv(Object.keys(n).map((e,t)=>{const r=Object.keys(n)[t-1];return r?{["".concat(a).concat(e,"-width")]:"var(".concat(a).concat(r,"-width)")}:null})),[{width:"var(".concat(a,"xs-width)")}],vv(o))}}},hT=e=>{const t=e.padding,n=e.fontSizeHeading5,r=e.lineHeightHeading5;return rb(e,{modalHeaderHeight:e.calc(e.calc(r).mul(n).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},vT=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:"".concat(lx(e.paddingMD)," ").concat(lx(e.paddingContentHorizontalLG)),headerPadding:e.wireframe?"".concat(lx(e.padding)," ").concat(lx(e.paddingLG)):0,headerBorderBottom:e.wireframe?"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit):"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?"".concat(lx(e.paddingXS)," ").concat(lx(e.padding)):0,footerBorderTop:e.wireframe?"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit):"none",footerBorderRadius:e.wireframe?"0 0 ".concat(lx(e.borderRadiusLG)," ").concat(lx(e.borderRadiusLG)):0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?"".concat(lx(2*e.padding)," ").concat(lx(2*e.padding)," ").concat(lx(e.paddingLG)):0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),xT=_k("Modal",e=>{const t=hT(e);return[gT(t),pT(t),mT(t),F_(t,"zoom"),fT(t)]},vT,{unitless:{titleLineHeight:!0}});var yT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};let bT;const kT=e=>{bT={x:e.pageX,y:e.pageY},setTimeout(()=>{bT=null},100)};Rh()&&window.document.documentElement&&document.documentElement.addEventListener("click",kT,!0);const wT=e=>{const{prefixCls:t,className:n,rootClassName:a,open:o,wrapClassName:i,centered:s,getContainer:l,focusTriggerAfterClose:c=!0,style:d,visible:u,width:m=520,footer:g,classNames:p,styles:f,children:h,loading:v,confirmLoading:x,zIndex:y,mousePosition:b,onOk:k,onCancel:w,destroyOnHidden:j,destroyOnClose:N,panelRef:C=null,modalRender:S}=e,E=yT(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading","confirmLoading","zIndex","mousePosition","onOk","onCancel","destroyOnHidden","destroyOnClose","panelRef","modalRender"]),{getPopupContainer:_,getPrefixCls:O,direction:I,modal:M}=r.useContext(av),P=e=>{x||null===w||void 0===w||w(e)};const T=O("modal",t),A=O(),R=hS(T),[z,D,L]=xT(T,R),B=Ah()(i,{["".concat(T,"-centered")]:null!==s&&void 0!==s?s:null===M||void 0===M?void 0:M.centered,["".concat(T,"-wrap-rtl")]:"rtl"===I}),F=null===g||v?null:r.createElement(sT,Object.assign({},e,{onOk:e=>{null===k||void 0===k||k(e)},onCancel:P})),[H,W,V,q]=IP(EP(e),EP(M),{closable:!0,closeIcon:r.createElement(IS,{className:"".concat(T,"-close-icon")}),closeIconRender:e=>iT(T,e)}),U=S?e=>r.createElement("div",{className:"".concat(T,"-render")},S(e)):void 0,K=function(e){const t=r.useContext(rT),n=r.useRef(null);return Vy(r=>{if(r){const a=e?r.querySelector(e):r;a&&(t.add(a),n.current=a)}else t.remove(n.current)})}(".".concat(T,"-").concat(S?"render":"content")),G=Yh(C,K),[X,Y]=wS("Modal",y),[$,J]=r.useMemo(()=>m&&"object"===typeof m?[void 0,m]:[m,void 0],[m]),Z=r.useMemo(()=>{const e={};return J&&Object.keys(J).forEach(t=>{const n=J[t];void 0!==n&&(e["--".concat(T,"-").concat(t,"-width")]="number"===typeof n?"".concat(n,"px"):n)}),e},[T,J]);return z(r.createElement(jM,{form:!0,space:!0},r.createElement(vS.Provider,{value:Y},r.createElement(CP,Object.assign({width:$},E,{zIndex:X,getContainer:void 0===l?_:l,prefixCls:T,rootClassName:Ah()(D,a,L,R),footer:F,visible:null!==o&&void 0!==o?o:u,mousePosition:null!==b&&void 0!==b?b:bT,onClose:P,closable:H?Object.assign({disabled:V,closeIcon:W},q):H,closeIcon:W,focusTriggerAfterClose:c,transitionName:k_(A,"zoom",e.transitionName),maskTransitionName:k_(A,"fade",e.maskTransitionName),className:Ah()(D,n,null===M||void 0===M?void 0:M.className),style:Object.assign(Object.assign(Object.assign({},null===M||void 0===M?void 0:M.style),d),Z),classNames:Object.assign(Object.assign(Object.assign({},null===M||void 0===M?void 0:M.classNames),p),{wrapper:Ah()(B,null===p||void 0===p?void 0:p.wrapper)}),styles:Object.assign(Object.assign({},null===M||void 0===M?void 0:M.styles),f),panelRef:G,destroyOnClose:null!==j&&void 0!==j?j:N,modalRender:U}),v?r.createElement(tT,{active:!0,title:!1,paragraph:{rows:4},className:"".concat(T,"-body-skeleton")}):h))))},jT=Ik(["Modal","confirm"],e=>(e=>{const{componentCls:t,titleFontSize:n,titleLineHeight:r,modalConfirmIconSize:a,fontSize:o,lineHeight:i,modalTitleHeight:s,fontHeight:l,confirmBodyPadding:c}=e,d="".concat(t,"-confirm");return{[d]:{"&-rtl":{direction:"rtl"},["".concat(e.antCls,"-modal-header")]:{display:"none"},["".concat(d,"-body-wrapper")]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),["&".concat(t," ").concat(t,"-body")]:{padding:c},["".concat(d,"-body")]:{display:"flex",flexWrap:"nowrap",alignItems:"start",["> ".concat(e.iconCls)]:{flex:"none",fontSize:a,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(a).equal()).div(2).equal()},["&-has-title > ".concat(e.iconCls)]:{marginTop:e.calc(e.calc(s).sub(a).equal()).div(2).equal()}},["".concat(d,"-paragraph")]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:"calc(100% - ".concat(lx(e.marginSM),")")},["".concat(e.iconCls," + ").concat(d,"-paragraph")]:{maxWidth:"calc(100% - ".concat(lx(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal()),")")},["".concat(d,"-title")]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:n,lineHeight:r},["".concat(d,"-content")]:{color:e.colorText,fontSize:o,lineHeight:i},["".concat(d,"-btns")]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,["".concat(e.antCls,"-btn + ").concat(e.antCls,"-btn")]:{marginBottom:0,marginInlineStart:e.marginXS}}},["".concat(d,"-error ").concat(d,"-body > ").concat(e.iconCls)]:{color:e.colorError},["".concat(d,"-warning ").concat(d,"-body > ").concat(e.iconCls,",\n        ").concat(d,"-confirm ").concat(d,"-body > ").concat(e.iconCls)]:{color:e.colorWarning},["".concat(d,"-info ").concat(d,"-body > ").concat(e.iconCls)]:{color:e.colorInfo},["".concat(d,"-success ").concat(d,"-body > ").concat(e.iconCls)]:{color:e.colorSuccess}}})(hT(e)),vT,{order:-1e3});var NT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const CT=e=>{const{prefixCls:t,icon:n,okText:a,cancelText:o,confirmPrefixCls:i,type:s,okCancel:l,footer:c,locale:d}=e,u=NT(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let m=n;if(!n&&null!==n)switch(s){case"info":m=r.createElement(JC,null);break;case"success":m=r.createElement(WC,null);break;case"error":m=r.createElement(UC,null);break;default:m=r.createElement(XC,null)}const g=null!==l&&void 0!==l?l:"confirm"===s,p=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[f]=$O("Modal"),h=d||f,v=a||(g?null===h||void 0===h?void 0:h.okText:null===h||void 0===h?void 0:h.justOkText),x=o||(null===h||void 0===h?void 0:h.cancelText),y=r.useMemo(()=>Object.assign({autoFocusButton:p,cancelTextLocale:x,okTextLocale:v,mergedOkCancel:g},u),[p,x,v,g,u]),b=r.createElement(r.Fragment,null,r.createElement(dP,null),r.createElement(uP,null)),k=void 0!==e.title&&null!==e.title,w="".concat(i,"-body");return r.createElement("div",{className:"".concat(i,"-body-wrapper")},r.createElement("div",{className:Ah()(w,{["".concat(w,"-has-title")]:k})},m,r.createElement("div",{className:"".concat(i,"-paragraph")},k&&r.createElement("span",{className:"".concat(i,"-title")},e.title),r.createElement("div",{className:"".concat(i,"-content")},e.content))),void 0===c||"function"===typeof c?r.createElement(cP,{value:y},r.createElement("div",{className:"".concat(i,"-btns")},"function"===typeof c?c(b,{OkBtn:uP,CancelBtn:dP}):b)):c,r.createElement(jT,{prefixCls:t}))},ST=e=>{const{close:t,zIndex:n,maskStyle:a,direction:o,prefixCls:i,wrapClassName:s,rootPrefixCls:l,bodyStyle:c,closable:d=!1,onConfirm:u,styles:m,title:g}=e;const p="".concat(i,"-confirm"),f=e.width||416,h=e.style||{},v=void 0===e.mask||e.mask,x=void 0!==e.maskClosable&&e.maskClosable,y=Ah()(p,"".concat(p,"-").concat(e.type),{["".concat(p,"-rtl")]:"rtl"===o},e.className),[,b]=Ek(),k=r.useMemo(()=>void 0!==n?n:b.zIndexPopupBase+yS,[n,b]);return r.createElement(wT,Object.assign({},e,{className:y,wrapClassName:Ah()({["".concat(p,"-centered")]:!!e.centered},s),onCancel:()=>{null===t||void 0===t||t({triggerCancel:!0}),null===u||void 0===u||u(!1)},title:g,footer:null,transitionName:k_(l||"","zoom",e.transitionName),maskTransitionName:k_(l||"","fade",e.maskTransitionName),mask:v,maskClosable:x,style:h,styles:Object.assign({body:c,mask:a},m),width:f,zIndex:k,closable:d}),r.createElement(CT,Object.assign({},e,{confirmPrefixCls:p})))};const ET=e=>{const{rootPrefixCls:t,iconPrefixCls:n,direction:a,theme:o}=e;return r.createElement(BC,{prefixCls:t,iconPrefixCls:n,direction:a,theme:o},r.createElement(ST,Object.assign({},e)))},_T=[];let OT="";function IT(){return OT}const MT=e=>{var t,n;const{prefixCls:a,getContainer:o,direction:i}=e,s=fC(),l=(0,r.useContext)(av),c=IT()||l.getPrefixCls(),d=a||"".concat(c,"-modal");let u=o;return!1===u&&(u=void 0),r.createElement(ET,Object.assign({},e,{rootPrefixCls:c,prefixCls:d,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:null!==i&&void 0!==i?i:l.direction,locale:null!==(n=null===(t=l.locale)||void 0===t?void 0:t.Modal)&&void 0!==n?n:s,getContainer:u}))};function PT(e){const t=zC();const n=document.createDocumentFragment();let a,o,i=Object.assign(Object.assign({},e),{close:c,open:!0});function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;r.some(e=>null===e||void 0===e?void 0:e.triggerCancel)&&(null===(t=e.onCancel)||void 0===t||(i=t).call.apply(i,[e,()=>{}].concat(vv(r.slice(1)))));for(let e=0;e<_T.length;e++){if(_T[e]===c){_T.splice(e,1);break}}o()}const l=e=>{clearTimeout(a),a=setTimeout(()=>{const a=t.getPrefixCls(void 0,IT()),i=t.getIconPrefixCls(),s=t.getTheme(),l=r.createElement(MT,Object.assign({},e)),c=rj();o=c(r.createElement(BC,{prefixCls:a,iconPrefixCls:i,theme:s},"function"===typeof t.holderRender?t.holderRender(l):l),n)})};function c(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i=Object.assign(Object.assign({},i),{open:!1,afterClose:()=>{"function"===typeof e.afterClose&&e.afterClose(),s.apply(this,n)}}),i.visible&&delete i.visible,l(i)}return l(i),_T.push(c),{destroy:c,update:function(e){i="function"===typeof e?e(i):Object.assign(Object.assign({},i),e),l(i)}}}function TT(e){return Object.assign(Object.assign({},e),{type:"warning"})}function AT(e){return Object.assign(Object.assign({},e),{type:"info"})}function RT(e){return Object.assign(Object.assign({},e),{type:"success"})}function zT(e){return Object.assign(Object.assign({},e),{type:"error"})}function DT(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function LT(e){return t=>r.createElement(BC,{theme:{token:{motion:!1,zIndexPopupBase:0}}},r.createElement(e,Object.assign({},t)))}const BT=(e,t,n,a,o)=>LT(i=>{const{prefixCls:s,style:l}=i,c=r.useRef(null),[d,u]=r.useState(0),[m,g]=r.useState(0),[p,f]=Ky(!1,{value:i.open}),{getPrefixCls:h}=r.useContext(av),v=h(a||"select",s);r.useEffect(()=>{if(f(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver(e=>{const t=e[0].target;u(t.offsetHeight+8),g(t.offsetWidth)}),t=setInterval(()=>{var n;const r=o?".".concat(o(v)):".".concat(v,"-dropdown"),a=null===(n=c.current)||void 0===n?void 0:n.querySelector(r);a&&(clearInterval(t),e.observe(a))},10);return()=>{clearInterval(t),e.disconnect()}}},[v]);let x=Object.assign(Object.assign({},i),{style:Object.assign(Object.assign({},l),{margin:0}),open:p,visible:p,getPopupContainer:()=>c.current});n&&(x=n(x)),t&&Object.assign(x,{[t]:{overflow:{adjustX:!1,adjustY:!1}}});const y={paddingBottom:d,position:"relative",minWidth:m};return r.createElement("div",{ref:c,style:y},r.createElement(e,Object.assign({},x)))});var FT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const HT=LT(e=>{const{prefixCls:t,className:n,closeIcon:a,closable:o,type:i,title:s,children:l,footer:c}=e,d=FT(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:u}=r.useContext(av),m=u(),g=t||u("modal"),p=hS(m),[f,h,v]=xT(g,p),x="".concat(g,"-confirm");let y={};return y=i?{closable:null!==o&&void 0!==o&&o,title:"",footer:"",children:r.createElement(CT,Object.assign({},e,{prefixCls:g,confirmPrefixCls:x,rootPrefixCls:m,content:l}))}:{closable:null===o||void 0===o||o,title:s,footer:null!==c&&r.createElement(sT,Object.assign({},e)),children:l},f(r.createElement(yP,Object.assign({prefixCls:g,className:Ah()(h,"".concat(g,"-pure-panel"),i&&x,i&&"".concat(x,"-").concat(i),n,v,p)},d,{closeIcon:iT(g,a),closable:o},y)))});var WT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const VT=(e,t)=>{var n,{afterClose:a,config:o}=e,i=WT(e,["afterClose","config"]);const[s,l]=r.useState(!0),[c,d]=r.useState(o),{direction:u,getPrefixCls:m}=r.useContext(av),g=m("modal"),p=m(),f=function(){var e;l(!1);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a;n.some(e=>null===e||void 0===e?void 0:e.triggerCancel)&&(null===(e=c.onCancel)||void 0===e||(a=e).call.apply(a,[c,()=>{}].concat(vv(n.slice(1)))))};r.useImperativeHandle(t,()=>({destroy:f,update:e=>{d(t=>{const n="function"===typeof e?e(t):e;return Object.assign(Object.assign({},t),n)})}}));const h=null!==(n=c.okCancel)&&void 0!==n?n:"confirm"===c.type,[v]=$O("Modal",uC.Modal);return r.createElement(ET,Object.assign({prefixCls:g,rootPrefixCls:p},c,{close:f,open:s,afterClose:()=>{var e;a(),null===(e=c.afterClose)||void 0===e||e.call(c)},okText:c.okText||(h?null===v||void 0===v?void 0:v.okText:null===v||void 0===v?void 0:v.justOkText),direction:c.direction||u,cancelText:c.cancelText||(null===v||void 0===v?void 0:v.cancelText)},i))},qT=r.forwardRef(VT);let UT=0;const KT=r.memo(r.forwardRef((e,t)=>{const[n,a]=(()=>{const[e,t]=r.useState([]);return[e,r.useCallback(e=>(t(t=>[].concat(vv(t),[e])),()=>{t(t=>t.filter(t=>t!==e))}),[])]})();return r.useImperativeHandle(t,()=>({patchElement:a}),[a]),r.createElement(r.Fragment,null,n)}));const GT=function(){const e=r.useRef(null),[t,n]=r.useState([]);r.useEffect(()=>{if(t.length){vv(t).forEach(e=>{e()}),n([])}},[t]);const a=r.useCallback(t=>function(a){var o;UT+=1;const i=r.createRef();let s;const l=new Promise(e=>{s=e});let c,d=!1;const u=r.createElement(qT,{key:"modal-".concat(UT),config:t(a),ref:i,afterClose:()=>{null===c||void 0===c||c()},isSilent:()=>d,onConfirm:e=>{s(e)}});c=null===(o=e.current)||void 0===o?void 0:o.patchElement(u),c&&_T.push(c);const m={destroy:()=>{function e(){var e;null===(e=i.current)||void 0===e||e.destroy()}i.current?e():n(t=>[].concat(vv(t),[e]))},update:e=>{function t(){var t;null===(t=i.current)||void 0===t||t.update(e)}i.current?t():n(e=>[].concat(vv(e),[t]))},then:e=>(d=!0,l.then(e))};return m},[]);return[r.useMemo(()=>({info:a(AT),success:a(RT),error:a(zT),warning:a(TT),confirm:a(DT)}),[a]),r.createElement(KT,{key:"modal-holder",ref:e})]};function XT(e){return PT(TT(e))}const YT=wT;YT.useModal=GT,YT.info=function(e){return PT(AT(e))},YT.success=function(e){return PT(RT(e))},YT.error=function(e){return PT(zT(e))},YT.warning=XT,YT.warn=XT,YT.confirm=function(e){return PT(DT(e))},YT.destroyAll=function(){for(;_T.length;){const e=_T.pop();e&&e()}},YT.config=function(e){let{rootPrefixCls:t}=e;OT=t},YT._InternalPanelDoNotUseOrYouWillBeFired=HT;const $T=YT;function JT(e){return rb(e,{inputAffixPadding:e.paddingXXS})}const ZT=e=>{const{controlHeight:t,fontSize:n,lineHeight:r,lineWidth:a,controlHeightSM:o,controlHeightLG:i,fontSizeLG:s,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:d,controlPaddingHorizontal:u,colorFillAlter:m,colorPrimaryHover:g,colorPrimary:p,controlOutlineWidth:f,controlOutline:h,colorErrorOutline:v,colorWarningOutline:x,colorBgContainer:y,inputFontSize:b,inputFontSizeLG:k,inputFontSizeSM:w}=e,j=b||n,N=w||j,C=k||s,S=Math.round((t-j*r)/2*10)/10-a,E=Math.round((o-N*r)/2*10)/10-a,_=Math.ceil((i-C*l)/2*10)/10-a;return{paddingBlock:Math.max(S,0),paddingBlockSM:Math.max(E,0),paddingBlockLG:Math.max(_,0),paddingInline:c-a,paddingInlineSM:d-a,paddingInlineLG:u-a,addonBg:m,activeBorderColor:p,hoverBorderColor:g,activeShadow:"0 0 0 ".concat(f,"px ").concat(h),errorActiveShadow:"0 0 0 ".concat(f,"px ").concat(v),warningActiveShadow:"0 0 0 ".concat(f,"px ").concat(x),hoverBg:y,activeBg:y,inputFontSize:j,inputFontSizeLG:C,inputFontSizeSM:N}},QT=e=>({borderColor:e.hoverBorderColor,backgroundColor:e.hoverBg}),eA=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},QT(rb(e,{hoverBorderColor:e.colorBorder,hoverBg:e.colorBgContainerDisabled})))}),tA=(e,t)=>({background:e.colorBgContainer,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:t.borderColor,"&:hover":{borderColor:t.hoverBorderColor,backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:t.activeBorderColor,boxShadow:t.activeShadow,outline:0,backgroundColor:e.activeBg}}),nA=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},tA(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}}),["&".concat(e.componentCls,"-status-").concat(t.status).concat(e.componentCls,"-disabled")]:{borderColor:t.borderColor}}),rA=(e,t)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},tA(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},eA(e))}),nA(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),nA(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),aA=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{borderColor:t.addonBorderColor,color:t.addonColor}}}),oA=e=>({"&-outlined":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.addonBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},aA(e,{status:"error",addonBorderColor:e.colorError,addonColor:e.colorErrorText})),aA(e,{status:"warning",addonBorderColor:e.colorWarning,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group-addon")]:Object.assign({},eA(e))}})}),iA=(e,t)=>{const{componentCls:n}=e;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},["&".concat(n,"-disabled, &[disabled]")]:{color:e.colorTextDisabled,cursor:"not-allowed"},["&".concat(n,"-status-error")]:{"&, & input, & textarea":{color:e.colorError}},["&".concat(n,"-status-warning")]:{"&, & input, & textarea":{color:e.colorWarning}}},t)}},sA=(e,t)=>{var n;return{background:t.bg,borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:null!==(n=null===t||void 0===t?void 0:t.inputColor)&&void 0!==n?n:"unset"},"&:hover":{background:t.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:t.activeBorderColor,backgroundColor:e.activeBg}}},lA=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},sA(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}})}),cA=(e,t)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},sA(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:Object.assign({},eA(e))}),lA(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,inputColor:e.colorErrorText,affixColor:e.colorError})),lA(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,inputColor:e.colorWarningText,affixColor:e.colorWarning})),t)}),dA=(e,t)=>({["&".concat(e.componentCls,"-group-wrapper-status-").concat(t.status)]:{["".concat(e.componentCls,"-group-addon")]:{background:t.addonBg,color:t.addonColor}}}),uA=e=>({"&-filled":Object.assign(Object.assign(Object.assign({["".concat(e.componentCls,"-group-addon")]:{background:e.colorFillTertiary,"&:last-child":{position:"static"}}},dA(e,{status:"error",addonBg:e.colorErrorBg,addonColor:e.colorErrorText})),dA(e,{status:"warning",addonBg:e.colorWarningBg,addonColor:e.colorWarningText})),{["&".concat(e.componentCls,"-group-wrapper-disabled")]:{["".concat(e.componentCls,"-group")]:{"&-addon":{background:e.colorFillTertiary,color:e.colorTextDisabled},"&-addon:first-child":{borderInlineStart:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},"&-addon:last-child":{borderInlineEnd:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderTop:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderBottom:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)}}}})}),mA=(e,t)=>({background:e.colorBgContainer,borderWidth:"".concat(lx(e.lineWidth)," 0"),borderStyle:"".concat(e.lineType," none"),borderColor:"transparent transparent ".concat(t.borderColor," transparent"),borderRadius:0,"&:hover":{borderColor:"transparent transparent ".concat(t.hoverBorderColor," transparent"),backgroundColor:e.hoverBg},"&:focus, &:focus-within":{borderColor:"transparent transparent ".concat(t.activeBorderColor," transparent"),outline:0,backgroundColor:e.activeBg}}),gA=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status,":not(").concat(e.componentCls,"-disabled)")]:Object.assign(Object.assign({},mA(e,t)),{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-suffix")]:{color:t.affixColor}}),["&".concat(e.componentCls,"-status-").concat(t.status).concat(e.componentCls,"-disabled")]:{borderColor:"transparent transparent ".concat(t.borderColor," transparent")}}),pA=(e,t)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},mA(e,{borderColor:e.colorBorder,hoverBorderColor:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeShadow:e.activeShadow})),{["&".concat(e.componentCls,"-disabled, &[disabled]")]:{color:e.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:"transparent transparent ".concat(e.colorBorder," transparent")}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),gA(e,{status:"error",borderColor:e.colorError,hoverBorderColor:e.colorErrorBorderHover,activeBorderColor:e.colorError,activeShadow:e.errorActiveShadow,affixColor:e.colorError})),gA(e,{status:"warning",borderColor:e.colorWarning,hoverBorderColor:e.colorWarningBorderHover,activeBorderColor:e.colorWarning,activeShadow:e.warningActiveShadow,affixColor:e.colorWarning})),t)}),fA=e=>{const{paddingBlockLG:t,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:a}=e;return{padding:"".concat(lx(t)," ").concat(lx(a)),fontSize:e.inputFontSizeLG,lineHeight:n,borderRadius:r}},hA=e=>({padding:"".concat(lx(e.paddingBlockSM)," ").concat(lx(e.paddingInlineSM)),fontSize:e.inputFontSizeSM,borderRadius:e.borderRadiusSM}),vA=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:"".concat(lx(e.paddingBlock)," ").concat(lx(e.paddingInline)),color:e.colorText,fontSize:e.inputFontSize,lineHeight:e.lineHeight,borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationMid)},(e=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}))(e.colorTextPlaceholder)),{"&-lg":Object.assign({},fA(e)),"&-sm":Object.assign({},hA(e)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),xA=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},["&-lg ".concat(t,", &-lg > ").concat(t,"-group-addon")]:Object.assign({},fA(e)),["&-sm ".concat(t,", &-sm > ").concat(t,"-group-addon")]:Object.assign({},hA(e)),["&-lg ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightLG},["&-sm ".concat(n,"-select-single ").concat(n,"-select-selector")]:{height:e.controlHeightSM},["> ".concat(t)]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},["".concat(t,"-group")]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:"0 ".concat(lx(e.paddingInline)),color:e.colorText,fontWeight:"normal",fontSize:e.inputFontSize,textAlign:"center",borderRadius:e.borderRadius,transition:"all ".concat(e.motionDurationSlow),lineHeight:1,["".concat(n,"-select")]:{margin:"".concat(lx(e.calc(e.paddingBlock).add(1).mul(-1).equal())," ").concat(lx(e.calc(e.paddingInline).mul(-1).equal())),["&".concat(n,"-select-single:not(").concat(n,"-select-customize-input):not(").concat(n,"-pagination-size-changer)")]:{["".concat(n,"-select-selector")]:{backgroundColor:"inherit",border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," transparent"),boxShadow:"none"}}},["".concat(n,"-cascader-picker")]:{margin:"-9px ".concat(lx(e.calc(e.paddingInline).mul(-1).equal())),backgroundColor:"transparent",["".concat(n,"-cascader-input")]:{textAlign:"start",border:0,boxShadow:"none"}}}},[t]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,["".concat(t,"-search-with-button &")]:{zIndex:0}}},["> ".concat(t,":first-child, ").concat(t,"-group-addon:first-child")]:{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,"-affix-wrapper")]:{["&:not(:first-child) ".concat(t)]:{borderStartStartRadius:0,borderEndStartRadius:0},["&:not(:last-child) ".concat(t)]:{borderStartEndRadius:0,borderEndEndRadius:0}},["> ".concat(t,":last-child, ").concat(t,"-group-addon:last-child")]:{borderStartStartRadius:0,borderEndStartRadius:0,["".concat(n,"-select ").concat(n,"-select-selector")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["".concat(t,"-affix-wrapper")]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,["".concat(t,"-search &")]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},["&:not(:first-child), ".concat(t,"-search &:not(:first-child)")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&".concat(t,"-group-compact")]:Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{["".concat(t,"-group-addon, ").concat(t,"-group-wrap, > ").concat(t)]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},["\n        & > ".concat(t,"-affix-wrapper,\n        & > ").concat(t,"-number-affix-wrapper,\n        & > ").concat(n,"-picker-range\n      ")]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderInlineEndWidth:e.lineWidth},[t]:{float:"none"},["& > ".concat(n,"-select > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete ").concat(t,",\n      & > ").concat(n,"-cascader-picker ").concat(t,",\n      & > ").concat(t,"-group-wrapper ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},["& > ".concat(n,"-select-focused")]:{zIndex:1},["& > ".concat(n,"-select > ").concat(n,"-select-arrow")]:{zIndex:1},["& > *:first-child,\n      & > ".concat(n,"-select:first-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-select-auto-complete:first-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker:first-child ").concat(t)]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},["& > *:last-child,\n      & > ".concat(n,"-select:last-child > ").concat(n,"-select-selector,\n      & > ").concat(n,"-cascader-picker:last-child ").concat(t,",\n      & > ").concat(n,"-cascader-picker-focused:last-child ").concat(t)]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},["& > ".concat(n,"-select-auto-complete ").concat(t)]:{verticalAlign:"top"},["".concat(t,"-group-wrapper + ").concat(t,"-group-wrapper")]:{marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),["".concat(t,"-affix-wrapper")]:{borderRadius:0}},["".concat(t,"-group-wrapper:not(:last-child)")]:{["&".concat(t,"-search > ").concat(t,"-group")]:{["& > ".concat(t,"-group-addon > ").concat(t,"-search-button")]:{borderRadius:0},["& > ".concat(t)]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},yA=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r,calc:a}=e,o=a(n).sub(a(r).mul(2)).sub(16).div(2).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fb(e)),vA(e)),rA(e)),cA(e)),iA(e)),pA(e)),{'&[type="color"]':{height:e.controlHeight,["&".concat(t,"-lg")]:{height:e.controlHeightLG},["&".concat(t,"-sm")]:{height:n,paddingTop:o,paddingBottom:o}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},bA=e=>{const{componentCls:t}=e;return{["".concat(t,"-clear-icon")]:{margin:0,padding:0,lineHeight:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:e.colorIcon},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:"0 ".concat(lx(e.inputAffixPadding))}}}},kA=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:a,colorIcon:o,colorIconHover:i,iconCls:s}=e,l="".concat(t,"-affix-wrapper"),c="".concat(t,"-affix-wrapper-disabled");return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},vA(e)),{display:"inline-flex",["&:not(".concat(t,"-disabled):hover")]:{zIndex:1,["".concat(t,"-search-with-button &")]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},["> input".concat(t)]:{padding:0},["> input".concat(t,", > textarea").concat(t)]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[t]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),bA(e)),{["".concat(s).concat(t,"-password-icon")]:{color:o,cursor:"pointer",transition:"all ".concat(a),"&:hover":{color:i}}}),["".concat(t,"-underlined")]:{borderRadius:0},[c]:{["".concat(s).concat(t,"-password-icon")]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},wA=e=>{const{componentCls:t,borderRadiusLG:n,borderRadiusSM:r}=e;return{["".concat(t,"-group")]:Object.assign(Object.assign(Object.assign({},fb(e)),xA(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{["".concat(t,"-group-addon")]:{borderRadius:n,fontSize:e.inputFontSizeLG}},"&-sm":{["".concat(t,"-group-addon")]:{borderRadius:r}}},oA(e)),uA(e)),{["&:not(".concat(t,"-compact-first-item):not(").concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-first-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-last-item")]:{["".concat(t,", ").concat(t,"-group-addon")]:{borderStartStartRadius:0,borderEndStartRadius:0}},["&:not(".concat(t,"-compact-last-item)").concat(t,"-compact-item")]:{["".concat(t,"-affix-wrapper")]:{borderStartEndRadius:0,borderEndEndRadius:0}},["&:not(".concat(t,"-compact-first-item)").concat(t,"-compact-item")]:{["".concat(t,"-affix-wrapper")]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},jA=e=>{const{componentCls:t,antCls:n}=e,r="".concat(t,"-search");return{[r]:{[t]:{"&:not([disabled]):hover, &:not([disabled]):focus":{["+ ".concat(t,"-group-addon ").concat(r,"-button:not(").concat(n,"-btn-color-primary):not(").concat(n,"-btn-variant-text)")]:{borderInlineStartColor:e.colorPrimaryHover}}},["".concat(t,"-affix-wrapper")]:{height:e.controlHeight,borderRadius:0},["".concat(t,"-lg")]:{lineHeight:e.calc(e.lineHeightLG).sub(2e-4).equal()},["> ".concat(t,"-group")]:{["> ".concat(t,"-group-addon:last-child")]:{insetInlineStart:-1,padding:0,border:0,["".concat(r,"-button")]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},["".concat(r,"-button:not(").concat(n,"-btn-color-primary)")]:{color:e.colorTextDescription,"&:not([disabled]):hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},["&".concat(n,"-btn-loading::before")]:{inset:0}}}},["".concat(r,"-button")]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{["".concat(t,"-affix-wrapper, ").concat(r,"-button")]:{height:e.controlHeightLG}},"&-small":{["".concat(t,"-affix-wrapper, ").concat(r,"-button")]:{height:e.controlHeightSM}},"&-rtl":{direction:"rtl"},["&".concat(t,"-compact-item")]:{["&:not(".concat(t,"-compact-last-item)")]:{["".concat(t,"-group-addon")]:{["".concat(t,"-search-button")]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal(),borderRadius:0}}},["&:not(".concat(t,"-compact-first-item)")]:{["".concat(t,",").concat(t,"-affix-wrapper")]:{borderRadius:0}},["> ".concat(t,"-group-addon ").concat(t,"-search-button,\n        > ").concat(t,",\n        ").concat(t,"-affix-wrapper")]:{"&:hover, &:focus, &:active":{zIndex:2}},["> ".concat(t,"-affix-wrapper-focused")]:{zIndex:2}}}}},NA=e=>{const{componentCls:t}=e;return{["".concat(t,"-out-of-range")]:{["&, & input, & textarea, ".concat(t,"-show-count-suffix, ").concat(t,"-data-count")]:{color:e.colorError}}}},CA=_k(["Input","Shared"],e=>{const t=rb(e,JT(e));return[yA(t),kA(t)]},ZT,{resetFont:!1}),SA=_k(["Input","Component"],e=>{const t=rb(e,JT(e));return[wA(t),jA(t),NA(t),UN(t)]},ZT,{resetFont:!1}),EA=e=>{const{getPrefixCls:t,direction:n}=(0,r.useContext)(av),{prefixCls:a,className:o}=e,i=t("input-group",a),s=t("input"),[l,c,d]=SA(s),u=Ah()(i,d,{["".concat(i,"-lg")]:"large"===e.size,["".concat(i,"-sm")]:"small"===e.size,["".concat(i,"-compact")]:e.compact,["".concat(i,"-rtl")]:"rtl"===n},c,o),m=(0,r.useContext)(p_),g=(0,r.useMemo)(()=>Object.assign(Object.assign({},m),{isFormItemInput:!1}),[m]);return l(r.createElement("span",{className:u,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(p_.Provider,{value:g},e.children)))};function _A(e,t,n){var r=t.cloneNode(!0),a=Object.create(e,{target:{value:r},currentTarget:{value:r}});return r.value=n,"number"===typeof t.selectionStart&&"number"===typeof t.selectionEnd&&(r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd),r.setSelectionRange=function(){t.setSelectionRange.apply(t,arguments)},a}function OA(e,t,n,r){if(n){var a=t;"click"!==t.type?"file"===e.type||void 0===r?n(a):n(a=_A(t,e,r)):n(a=_A(t,e,""))}}function IA(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}var MA=r.forwardRef(function(e,t){var n,a,o,i=e.inputElement,s=e.children,l=e.prefixCls,c=e.prefix,d=e.suffix,u=e.addonBefore,m=e.addonAfter,g=e.className,p=e.style,f=e.disabled,h=e.readOnly,v=e.focused,x=e.triggerFocus,y=e.allowClear,b=e.value,k=e.handleReset,w=e.hidden,j=e.classes,N=e.classNames,C=e.dataAttrs,S=e.styles,E=e.components,_=e.onClear,O=null!==s&&void 0!==s?s:i,I=(null===E||void 0===E?void 0:E.affixWrapper)||"span",M=(null===E||void 0===E?void 0:E.groupWrapper)||"span",P=(null===E||void 0===E?void 0:E.wrapper)||"span",T=(null===E||void 0===E?void 0:E.groupAddon)||"span",A=(0,r.useRef)(null),R=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(e),z=(0,r.cloneElement)(O,{value:b,className:Ah()(null===(n=O.props)||void 0===n?void 0:n.className,!R&&(null===N||void 0===N?void 0:N.variant))||null}),D=(0,r.useRef)(null);if(r.useImperativeHandle(t,function(){return{nativeElement:D.current||A.current}}),R){var L=null;if(y){var B=!f&&!h&&b,F="".concat(l,"-clear-icon"),H="object"===Ae(y)&&null!==y&&void 0!==y&&y.clearIcon?y.clearIcon:"\u2716";L=r.createElement("button",{type:"button",tabIndex:-1,onClick:function(e){null===k||void 0===k||k(e),null===_||void 0===_||_()},onMouseDown:function(e){return e.preventDefault()},className:Ah()(F,ze(ze({},"".concat(F,"-hidden"),!B),"".concat(F,"-has-suffix"),!!d))},H)}var W="".concat(l,"-affix-wrapper"),V=Ah()(W,ze(ze(ze(ze(ze({},"".concat(l,"-disabled"),f),"".concat(W,"-disabled"),f),"".concat(W,"-focused"),v),"".concat(W,"-readonly"),h),"".concat(W,"-input-with-clear-btn"),d&&y&&b),null===j||void 0===j?void 0:j.affixWrapper,null===N||void 0===N?void 0:N.affixWrapper,null===N||void 0===N?void 0:N.variant),q=(d||y)&&r.createElement("span",{className:Ah()("".concat(l,"-suffix"),null===N||void 0===N?void 0:N.suffix),style:null===S||void 0===S?void 0:S.suffix},L,d);z=r.createElement(I,jx({className:V,style:null===S||void 0===S?void 0:S.affixWrapper,onClick:function(e){var t;null!==(t=A.current)&&void 0!==t&&t.contains(e.target)&&(null===x||void 0===x||x())}},null===C||void 0===C?void 0:C.affixWrapper,{ref:A}),c&&r.createElement("span",{className:Ah()("".concat(l,"-prefix"),null===N||void 0===N?void 0:N.prefix),style:null===S||void 0===S?void 0:S.prefix},c),z,q)}if(function(e){return!(!e.addonBefore&&!e.addonAfter)}(e)){var U="".concat(l,"-group"),K="".concat(U,"-addon"),G="".concat(U,"-wrapper"),X=Ah()("".concat(l,"-wrapper"),U,null===j||void 0===j?void 0:j.wrapper,null===N||void 0===N?void 0:N.wrapper),Y=Ah()(G,ze({},"".concat(G,"-disabled"),f),null===j||void 0===j?void 0:j.group,null===N||void 0===N?void 0:N.groupWrapper);z=r.createElement(M,{className:Y,ref:D},r.createElement(P,{className:X},u&&r.createElement(T,{className:K},u),z,m&&r.createElement(T,{className:K},m)))}return r.cloneElement(z,{className:Ah()(null===(a=z.props)||void 0===a?void 0:a.className,g)||null,style:Le(Le({},null===(o=z.props)||void 0===o?void 0:o.style),p),hidden:w})});const PA=MA;var TA=["show"];function AA(e,t){return r.useMemo(function(){var n={};t&&(n.show="object"===Ae(t)&&t.formatter?t.formatter:!!t);var r=n=Le(Le({},n),e),a=r.show,o=Be(r,TA);return Le(Le({},o),{},{show:!!a,showFormatter:"function"===typeof a?a:void 0,strategy:o.strategy||function(e){return e.length}})},[e,t])}var RA=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],zA=(0,r.forwardRef)(function(e,t){var n=e.autoComplete,a=e.onChange,o=e.onFocus,i=e.onBlur,s=e.onPressEnter,l=e.onKeyDown,c=e.onKeyUp,d=e.prefixCls,u=void 0===d?"rc-input":d,m=e.disabled,g=e.htmlSize,p=e.className,f=e.maxLength,h=e.suffix,v=e.showCount,x=e.count,y=e.type,b=void 0===y?"text":y,k=e.classes,w=e.classNames,j=e.styles,N=e.onCompositionStart,C=e.onCompositionEnd,S=Be(e,RA),E=fv((0,r.useState)(!1),2),_=E[0],O=E[1],I=(0,r.useRef)(!1),M=(0,r.useRef)(!1),P=(0,r.useRef)(null),T=(0,r.useRef)(null),A=function(e){P.current&&IA(P.current,e)},R=fv(Ky(e.defaultValue,{value:e.value}),2),z=R[0],D=R[1],L=void 0===z||null===z?"":String(z),B=fv((0,r.useState)(null),2),F=B[0],H=B[1],W=AA(x,v),V=W.max||f,q=W.strategy(L),U=!!V&&q>V;(0,r.useImperativeHandle)(t,function(){var e;return{focus:A,blur:function(){var e;null===(e=P.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=P.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=P.current)||void 0===e||e.select()},input:P.current,nativeElement:(null===(e=T.current)||void 0===e?void 0:e.nativeElement)||P.current}}),(0,r.useEffect)(function(){M.current&&(M.current=!1),O(function(e){return(!e||!m)&&e})},[m]);var K=function(e,t,n){var r,o,i=t;if(!I.current&&W.exceedFormatter&&W.max&&W.strategy(t)>W.max)t!==(i=W.exceedFormatter(t,{max:W.max}))&&H([(null===(r=P.current)||void 0===r?void 0:r.selectionStart)||0,(null===(o=P.current)||void 0===o?void 0:o.selectionEnd)||0]);else if("compositionEnd"===n.source)return;D(i),P.current&&OA(P.current,e,a,i)};(0,r.useEffect)(function(){var e;F&&(null===(e=P.current)||void 0===e||e.setSelectionRange.apply(e,vv(F)))},[F]);var G=function(e){K(e,e.target.value,{source:"change"})},X=function(e){I.current=!1,K(e,e.currentTarget.value,{source:"compositionEnd"}),null===C||void 0===C||C(e)},Y=function(e){s&&"Enter"===e.key&&!M.current&&(M.current=!0,s(e)),null===l||void 0===l||l(e)},$=function(e){"Enter"===e.key&&(M.current=!1),null===c||void 0===c||c(e)},J=function(e){O(!0),null===o||void 0===o||o(e)},Z=function(e){M.current&&(M.current=!1),O(!1),null===i||void 0===i||i(e)},Q=U&&"".concat(u,"-out-of-range");return r.createElement(PA,jx({},S,{prefixCls:u,className:Ah()(p,Q),handleReset:function(e){D(""),A(),P.current&&OA(P.current,e,a)},value:L,focused:_,triggerFocus:A,suffix:function(){var e=Number(V)>0;if(h||W.show){var t=W.showFormatter?W.showFormatter({value:L,count:q,maxLength:V}):"".concat(q).concat(e?" / ".concat(V):"");return r.createElement(r.Fragment,null,W.show&&r.createElement("span",{className:Ah()("".concat(u,"-show-count-suffix"),ze({},"".concat(u,"-show-count-has-suffix"),!!h),null===w||void 0===w?void 0:w.count),style:Le({},null===j||void 0===j?void 0:j.count)},t),h)}return null}(),disabled:m,classes:k,classNames:w,styles:j,ref:T}),function(){var t=Fh(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return r.createElement("input",jx({autoComplete:n},t,{onChange:G,onFocus:J,onBlur:Z,onKeyDown:Y,onKeyUp:$,className:Ah()(u,ze({},"".concat(u,"-disabled"),m),null===w||void 0===w?void 0:w.input),style:null===j||void 0===j?void 0:j.input,ref:P,size:g,type:b,onCompositionStart:function(e){I.current=!0,null===N||void 0===N||N(e)},onCompositionEnd:X}))}())});const DA=zA,LA=e=>{let t;return"object"===typeof e&&(null===e||void 0===e?void 0:e.clearIcon)?t=e:e&&(t={clearIcon:r.createElement(UC,null)}),t};function BA(e,t,n){return Ah()({["".concat(e,"-status-success")]:"success"===t,["".concat(e,"-status-warning")]:"warning"===t,["".concat(e,"-status-error")]:"error"===t,["".concat(e,"-status-validating")]:"validating"===t,["".concat(e,"-has-feedback")]:n})}const FA=(e,t)=>t||e,HA=(e,t,n)=>{var a,o;const{variant:i,[e]:s}=r.useContext(av),l=r.useContext(h_),c=null===s||void 0===s?void 0:s.variant;let d;d="undefined"!==typeof t?t:!1===n?"borderless":null!==(o=null!==(a=null!==l&&void 0!==l?l:c)&&void 0!==a?a:i)&&void 0!==o?o:"outlined";return[d,rv.includes(d)]};function WA(e,t){const n=(0,r.useRef)([]),a=()=>{n.current.push(setTimeout(()=>{var t,n,r,a;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=e.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(a=e.current)||void 0===a||a.input.removeAttribute("value"))}))};return(0,r.useEffect)(()=>(t&&a(),()=>n.current.forEach(e=>{e&&clearTimeout(e)})),[]),a}var VA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const qA=(0,r.forwardRef)((e,t)=>{const{prefixCls:n,bordered:a=!0,status:o,size:i,disabled:s,onBlur:l,onFocus:c,suffix:d,allowClear:u,addonAfter:m,addonBefore:g,className:p,style:f,styles:h,rootClassName:v,onChange:x,classNames:y,variant:b,_skipAddonWarning:k}=e,w=VA(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant","_skipAddonWarning"]);const{getPrefixCls:j,direction:N,allowClear:C,autoComplete:S,className:E,style:_,classNames:O,styles:I}=sv("input"),M=j("input",n),P=(0,r.useRef)(null),T=hS(M),[A,R,z]=CA(M,v),[D]=SA(M,T),{compactSize:L,compactItemClassnames:B}=wj(M,N),F=hj(e=>{var t;return null!==(t=null!==i&&void 0!==i?i:L)&&void 0!==t?t:e}),H=r.useContext(mj),W=null!==s&&void 0!==s?s:H,{status:V,hasFeedback:q,feedbackIcon:U}=(0,r.useContext)(p_),K=FA(V,o),G=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!q;(0,r.useRef)(G);const X=WA(P,!0),Y=(q||d)&&r.createElement(r.Fragment,null,d,q&&U),$=LA(null!==u&&void 0!==u?u:C),[J,Z]=HA("input",b,a);return A(D(r.createElement(DA,Object.assign({ref:Yh(t,P),prefixCls:M,autoComplete:S},w,{disabled:W,onBlur:e=>{X(),null===l||void 0===l||l(e)},onFocus:e=>{X(),null===c||void 0===c||c(e)},style:Object.assign(Object.assign({},_),f),styles:Object.assign(Object.assign({},I),h),suffix:Y,allowClear:$,className:Ah()(p,v,z,T,B,E),onChange:e=>{X(),null===x||void 0===x||x(e)},addonBefore:g&&r.createElement(jM,{form:!0,space:!0},g),addonAfter:m&&r.createElement(jM,{form:!0,space:!0},m),classNames:Object.assign(Object.assign(Object.assign({},y),O),{input:Ah()({["".concat(M,"-sm")]:"small"===F,["".concat(M,"-lg")]:"large"===F,["".concat(M,"-rtl")]:"rtl"===N},null===y||void 0===y?void 0:y.input,O.input,R),variant:Ah()({["".concat(M,"-").concat(J)]:Z},BA(M,K)),affixWrapper:Ah()({["".concat(M,"-affix-wrapper-sm")]:"small"===F,["".concat(M,"-affix-wrapper-lg")]:"large"===F,["".concat(M,"-affix-wrapper-rtl")]:"rtl"===N},R),wrapper:Ah()({["".concat(M,"-group-rtl")]:"rtl"===N},R),groupWrapper:Ah()({["".concat(M,"-group-wrapper-sm")]:"small"===F,["".concat(M,"-group-wrapper-lg")]:"large"===F,["".concat(M,"-group-wrapper-rtl")]:"rtl"===N,["".concat(M,"-group-wrapper-").concat(J)]:Z},BA("".concat(M,"-group-wrapper"),K,q),R)})}))))});const UA=qA,KA=_k(["Input","OTP"],e=>(e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,["".concat(t,"-input-wrapper")]:{position:"relative",["".concat(t,"-mask-icon")]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},["".concat(t,"-mask-input")]:{color:"transparent",caretColor:e.colorText},["".concat(t,"-mask-input[type=number]::-webkit-inner-spin-button")]:{"-webkit-appearance":"none",margin:0},["".concat(t,"-mask-input[type=number]")]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},["".concat(t,"-input")]:{textAlign:"center",paddingInline:e.paddingXXS},["&".concat(t,"-sm ").concat(t,"-input")]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},["&".concat(t,"-lg ").concat(t,"-input")]:{paddingInline:e.paddingXS}}}})(rb(e,JT(e))),ZT);var GA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const XA=r.forwardRef((e,t)=>{const{className:n,value:a,onChange:o,onActiveChange:i,index:s,mask:l}=e,c=GA(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:d}=r.useContext(av),u=d("otp"),m="string"===typeof l?l:a,g=r.useRef(null);r.useImperativeHandle(t,()=>g.current);const p=()=>{Lk(()=>{var e;const t=null===(e=g.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()})};return r.createElement("span",{className:"".concat(u,"-input-wrapper"),role:"presentation"},l&&""!==a&&void 0!==a&&r.createElement("span",{className:"".concat(u,"-mask-icon"),"aria-hidden":"true"},m),r.createElement(UA,Object.assign({"aria-label":"OTP Input ".concat(s+1),type:!0===l?"password":"text"},c,{ref:g,value:a,onInput:e=>{o(s,e.target.value)},onFocus:p,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:r}=e;"ArrowLeft"===t?i(s-1):"ArrowRight"===t?i(s+1):"z"===t&&(n||r)?e.preventDefault():"Backspace"!==t||a||i(s-1),p()},onMouseDown:p,onMouseUp:p,className:Ah()(n,{["".concat(u,"-mask-input")]:l})})))}),YA=XA;var $A=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function JA(e){return(e||"").split("")}const ZA=e=>{const{index:t,prefixCls:n,separator:a}=e,o="function"===typeof a?a(t):a;return o?r.createElement("span",{className:"".concat(n,"-separator")},o):null},QA=r.forwardRef((e,t)=>{const{prefixCls:n,length:a=6,size:o,defaultValue:i,value:s,onChange:l,formatter:c,separator:d,variant:u,disabled:m,status:g,autoFocus:p,mask:f,type:h,onInput:v,inputMode:x}=e,y=$A(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]);const{getPrefixCls:b,direction:k}=r.useContext(av),w=b("otp",n),j=nS(y,{aria:!0,data:!0,attr:!0}),[N,C,S]=KA(w),E=hj(e=>null!==o&&void 0!==o?o:e),_=r.useContext(p_),O=FA(_.status,g),I=r.useMemo(()=>Object.assign(Object.assign({},_),{status:O,hasFeedback:!1,feedbackIcon:null}),[_,O]),M=r.useRef(null),P=r.useRef({});r.useImperativeHandle(t,()=>({focus:()=>{var e;null===(e=P.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<a;t+=1)null===(e=P.current[t])||void 0===e||e.blur()},nativeElement:M.current}));const T=e=>c?c(e):e,[A,R]=r.useState(()=>JA(T(i||"")));r.useEffect(()=>{void 0!==s&&R(JA(s))},[s]);const z=Vy(e=>{R(e),v&&v(e),l&&e.length===a&&e.every(e=>e)&&e.some((e,t)=>A[t]!==e)&&l(e.join(""))}),D=Vy((e,t)=>{let n=vv(A);for(let a=0;a<e;a+=1)n[a]||(n[a]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(JA(t)),n=n.slice(0,a);for(let a=n.length-1;a>=0&&!n[a];a-=1)n.pop();const r=T(n.map(e=>e||" ").join(""));return n=JA(r).map((e,t)=>" "!==e||n[t]?e:n[t]),n}),L=(e,t)=>{var n;const r=D(e,t),o=Math.min(e+t.length,a-1);o!==e&&void 0!==r[e]&&(null===(n=P.current[o])||void 0===n||n.focus()),z(r)},B=e=>{var t;null===(t=P.current[e])||void 0===t||t.focus()},F={variant:u,disabled:m,status:O,mask:f,type:h,inputMode:x};return N(r.createElement("div",Object.assign({},j,{ref:M,className:Ah()(w,{["".concat(w,"-sm")]:"small"===E,["".concat(w,"-lg")]:"large"===E,["".concat(w,"-rtl")]:"rtl"===k},S,C),role:"group"}),r.createElement(p_.Provider,{value:I},Array.from({length:a}).map((e,t)=>{const n="otp-".concat(t),o=A[t]||"";return r.createElement(r.Fragment,{key:n},r.createElement(YA,Object.assign({ref:e=>{P.current[t]=e},index:t,size:E,htmlSize:1,className:"".concat(w,"-input"),onChange:L,value:o,onActiveChange:B,autoFocus:0===t&&p},F)),t<a-1&&r.createElement(ZA,{separator:d,index:t,prefixCls:w}))}))))}),eR=QA;const tR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};var nR=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:tR}))};const rR=r.forwardRef(nR);const aR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var oR=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:aR}))};const iR=r.forwardRef(oR);var sR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const lR=e=>e?r.createElement(iR,null):r.createElement(rR,null),cR={click:"onClick",hover:"onMouseOver"},dR=r.forwardRef((e,t)=>{const{disabled:n,action:a="click",visibilityToggle:o=!0,iconRender:i=lR,suffix:s}=e,l=r.useContext(mj),c=null!==n&&void 0!==n?n:l,d="object"===typeof o&&void 0!==o.visible,[u,m]=(0,r.useState)(()=>!!d&&o.visible),g=(0,r.useRef)(null);r.useEffect(()=>{d&&m(o.visible)},[d,o]);const p=WA(g),f=()=>{var e;if(c)return;u&&p();const t=!u;m(t),"object"===typeof o&&(null===(e=o.onVisibleChange)||void 0===e||e.call(o,t))},{className:h,prefixCls:v,inputPrefixCls:x,size:y}=e,b=sR(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:k}=r.useContext(av),w=k("input",x),j=k("input-password",v),N=o&&(e=>{const t=cR[a]||"",n=i(u),o={[t]:f,className:"".concat(e,"-icon"),key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return r.cloneElement(r.isValidElement(n)?n:r.createElement("span",null,n),o)})(j),C=Ah()(j,h,{["".concat(j,"-").concat(y)]:!!y}),S=Object.assign(Object.assign({},Fh(b,["suffix","iconRender","visibilityToggle"])),{type:u?"text":"password",className:C,prefixCls:w,suffix:r.createElement(r.Fragment,null,N,s)});return y&&(S.size=y),r.createElement(UA,Object.assign({ref:Yh(t,g)},S))});const uR=dR;const mR={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var gR=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:mR}))};const pR=r.forwardRef(gR);var fR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const hR=r.forwardRef((e,t)=>{const{prefixCls:n,inputPrefixCls:a,className:o,size:i,suffix:s,enterButton:l=!1,addonAfter:c,loading:d,disabled:u,onSearch:m,onChange:g,onCompositionStart:p,onCompositionEnd:f,variant:h,onPressEnter:v}=e,x=fR(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd","variant","onPressEnter"]),{getPrefixCls:y,direction:b}=r.useContext(av),k=r.useRef(!1),w=y("input-search",n),j=y("input",a),{compactSize:N}=wj(w,b),C=hj(e=>{var t;return null!==(t=null!==i&&void 0!==i?i:N)&&void 0!==t?t:e}),S=r.useRef(null),E=e=>{var t;document.activeElement===(null===(t=S.current)||void 0===t?void 0:t.input)&&e.preventDefault()},_=e=>{var t,n;m&&m(null===(n=null===(t=S.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},O="boolean"===typeof l?r.createElement(pR,null):null,I="".concat(w,"-button");let M;const P=l||{},T=P.type&&!0===P.type.__ANT_BUTTON;M=T||"button"===P.type?dv(P,Object.assign({onMouseDown:E,onClick:e=>{var t,n;null===(n=null===(t=null===P||void 0===P?void 0:P.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),_(e)},key:"enterButton"},T?{className:I,size:C}:{})):r.createElement(eC,{className:I,color:l?"primary":"default",size:C,disabled:u,key:"enterButton",onMouseDown:E,onClick:_,loading:d,icon:O,variant:"borderless"===h||"filled"===h||"underlined"===h?"text":l?"solid":void 0},l),c&&(M=[M,dv(c,{key:"addonAfter"})]);const A=Ah()(w,{["".concat(w,"-rtl")]:"rtl"===b,["".concat(w,"-").concat(C)]:!!C,["".concat(w,"-with-button")]:!!l},o),R=Object.assign(Object.assign({},x),{className:A,prefixCls:j,type:"search",size:C,variant:h,onPressEnter:e=>{k.current||d||(null===v||void 0===v||v(e),_(e))},onCompositionStart:e=>{k.current=!0,null===p||void 0===p||p(e)},onCompositionEnd:e=>{k.current=!1,null===f||void 0===f||f(e)},addonAfter:M,suffix:s,onChange:e=>{(null===e||void 0===e?void 0:e.target)&&"click"===e.type&&m&&m(e.target.value,e,{source:"clear"}),null===g||void 0===g||g(e)},disabled:u,_skipAddonWarning:!0});return r.createElement(UA,Object.assign({ref:Yh(S,t)},R))});const vR=hR;var xR,yR=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],bR={};function kR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;xR||((xR=document.createElement("textarea")).setAttribute("tab-index","-1"),xR.setAttribute("aria-hidden","true"),xR.setAttribute("name","hiddenTextarea"),document.body.appendChild(xR)),e.getAttribute("wrap")?xR.setAttribute("wrap",e.getAttribute("wrap")):xR.removeAttribute("wrap");var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&bR[n])return bR[n];var r=window.getComputedStyle(e),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),i=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:yR.map(function(e){return"".concat(e,":").concat(r.getPropertyValue(e))}).join(";"),paddingSize:o,borderSize:i,boxSizing:a};return t&&n&&(bR[n]=s),s}(e,t),o=a.paddingSize,i=a.borderSize,s=a.boxSizing,l=a.sizingStyle;xR.setAttribute("style","".concat(l,";").concat("\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n")),xR.value=e.value||e.placeholder||"";var c,d=void 0,u=void 0,m=xR.scrollHeight;if("border-box"===s?m+=i:"content-box"===s&&(m-=o),null!==n||null!==r){xR.value=" ";var g=xR.scrollHeight-o;null!==n&&(d=g*n,"border-box"===s&&(d=d+o+i),m=Math.max(d,m)),null!==r&&(u=g*r,"border-box"===s&&(u=u+o+i),c=m>u?"":"hidden",m=Math.min(u,m))}var p={height:m,overflowY:c,resize:"none"};return d&&(p.minHeight=d),u&&(p.maxHeight=u),p}var wR=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],jR=r.forwardRef(function(e,t){var n=e,a=n.prefixCls,o=n.defaultValue,i=n.value,s=n.autoSize,l=n.onResize,c=n.className,d=n.style,u=n.disabled,m=n.onChange,g=(n.onInternalAutoSize,Be(n,wR)),p=fv(Ky(o,{value:i,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),f=p[0],h=p[1],v=r.useRef();r.useImperativeHandle(t,function(){return{textArea:v.current}});var x=fv(r.useMemo(function(){return s&&"object"===Ae(s)?[s.minRows,s.maxRows]:[]},[s]),2),y=x[0],b=x[1],k=!!s,w=fv(r.useState(2),2),j=w[0],N=w[1],C=fv(r.useState(),2),S=C[0],E=C[1],_=function(){N(0)};Bh(function(){k&&_()},[i,y,b,k]),Bh(function(){if(0===j)N(1);else if(1===j){var e=kR(v.current,!1,y,b);N(2),E(e)}},[j]);var O=r.useRef(),I=function(){Lk.cancel(O.current)};r.useEffect(function(){return I},[]);var M=k?S:null,P=Le(Le({},d),M);return 0!==j&&1!==j||(P.overflowY="hidden",P.overflowX="hidden"),r.createElement(HI,{onResize:function(e){2===j&&(null===l||void 0===l||l(e),s&&(I(),O.current=Lk(function(){_()})))},disabled:!(s||l)},r.createElement("textarea",jx({},g,{ref:v,style:P,className:Ah()(a,c,ze({},"".concat(a,"-disabled"),u)),disabled:u,value:f,onChange:function(e){h(e.target.value),null===m||void 0===m||m(e)}})))});const NR=jR;var CR=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],SR=r.forwardRef(function(e,t){var n,a=e.defaultValue,o=e.value,i=e.onFocus,s=e.onBlur,l=e.onChange,c=e.allowClear,d=e.maxLength,u=e.onCompositionStart,m=e.onCompositionEnd,g=e.suffix,p=e.prefixCls,f=void 0===p?"rc-textarea":p,h=e.showCount,v=e.count,x=e.className,y=e.style,b=e.disabled,k=e.hidden,w=e.classNames,j=e.styles,N=e.onResize,C=e.onClear,S=e.onPressEnter,E=e.readOnly,_=e.autoSize,O=e.onKeyDown,I=Be(e,CR),M=fv(Ky(a,{value:o,defaultValue:a}),2),P=M[0],T=M[1],A=void 0===P||null===P?"":String(P),R=fv(r.useState(!1),2),z=R[0],D=R[1],L=r.useRef(!1),B=fv(r.useState(null),2),F=B[0],H=B[1],W=(0,r.useRef)(null),V=(0,r.useRef)(null),q=function(){var e;return null===(e=V.current)||void 0===e?void 0:e.textArea},U=function(){q().focus()};(0,r.useImperativeHandle)(t,function(){var e;return{resizableTextArea:V.current,focus:U,blur:function(){q().blur()},nativeElement:(null===(e=W.current)||void 0===e?void 0:e.nativeElement)||q()}}),(0,r.useEffect)(function(){D(function(e){return!b&&e})},[b]);var K=fv(r.useState(null),2),G=K[0],X=K[1];r.useEffect(function(){var e;G&&(e=q()).setSelectionRange.apply(e,vv(G))},[G]);var Y,$=AA(v,h),J=null!==(n=$.max)&&void 0!==n?n:d,Z=Number(J)>0,Q=$.strategy(A),ee=!!J&&Q>J,te=function(e,t){var n=t;!L.current&&$.exceedFormatter&&$.max&&$.strategy(t)>$.max&&t!==(n=$.exceedFormatter(t,{max:$.max}))&&X([q().selectionStart||0,q().selectionEnd||0]),T(n),OA(e.currentTarget,e,l,n)},ne=g;$.show&&(Y=$.showFormatter?$.showFormatter({value:A,count:Q,maxLength:J}):"".concat(Q).concat(Z?" / ".concat(J):""),ne=r.createElement(r.Fragment,null,ne,r.createElement("span",{className:Ah()("".concat(f,"-data-count"),null===w||void 0===w?void 0:w.count),style:null===j||void 0===j?void 0:j.count},Y)));var re=!_&&!h&&!c;return r.createElement(PA,{ref:W,value:A,allowClear:c,handleReset:function(e){T(""),U(),OA(q(),e,l)},suffix:ne,prefixCls:f,classNames:Le(Le({},w),{},{affixWrapper:Ah()(null===w||void 0===w?void 0:w.affixWrapper,ze(ze({},"".concat(f,"-show-count"),h),"".concat(f,"-textarea-allow-clear"),c))}),disabled:b,focused:z,className:Ah()(x,ee&&"".concat(f,"-out-of-range")),style:Le(Le({},y),F&&!re?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":"string"===typeof Y?Y:void 0}},hidden:k,readOnly:E,onClear:C},r.createElement(NR,jx({},I,{autoSize:_,maxLength:d,onKeyDown:function(e){"Enter"===e.key&&S&&S(e),null===O||void 0===O||O(e)},onChange:function(e){te(e,e.target.value)},onFocus:function(e){D(!0),null===i||void 0===i||i(e)},onBlur:function(e){D(!1),null===s||void 0===s||s(e)},onCompositionStart:function(e){L.current=!0,null===u||void 0===u||u(e)},onCompositionEnd:function(e){L.current=!1,te(e,e.currentTarget.value),null===m||void 0===m||m(e)},className:Ah()(null===w||void 0===w?void 0:w.textarea),style:Le(Le({},null===j||void 0===j?void 0:j.textarea),{},{resize:null===y||void 0===y?void 0:y.resize}),disabled:b,prefixCls:f,onResize:function(e){var t;null===N||void 0===N||N(e),null!==(t=q())&&void 0!==t&&t.style.height&&H(!0)},ref:V,readOnly:E})))});const ER=SR,_R=_k(["Input","TextArea"],e=>(e=>{const{componentCls:t,paddingLG:n}=e,r="".concat(t,"-textarea");return{["textarea".concat(t)]:{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:"all ".concat(e.motionDurationSlow),resize:"vertical",["&".concat(t,"-mouse-active")]:{transition:"all ".concat(e.motionDurationSlow,", height 0s, width 0s")}},["".concat(t,"-textarea-affix-wrapper-resize-dirty")]:{width:"auto"},[r]:{position:"relative","&-show-count":{["".concat(t,"-data-count")]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},["\n        &-allow-clear > ".concat(t,",\n        &-affix-wrapper").concat(r,"-has-feedback ").concat(t,"\n      ")]:{paddingInlineEnd:n},["&-affix-wrapper".concat(t,"-affix-wrapper")]:{padding:0,["> textarea".concat(t)]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},["".concat(t,"-suffix")]:{margin:0,"> *:not(:last-child)":{marginInline:0},["".concat(t,"-clear-icon")]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},["".concat(r,"-suffix")]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},["&-affix-wrapper".concat(t,"-affix-wrapper-rtl")]:{["".concat(t,"-suffix")]:{["".concat(t,"-data-count")]:{direction:"ltr",insetInlineStart:0}}},["&-affix-wrapper".concat(t,"-affix-wrapper-sm")]:{["".concat(t,"-suffix")]:{["".concat(t,"-clear-icon")]:{insetInlineEnd:e.paddingInlineSM}}}}}})(rb(e,JT(e))),ZT,{resetFont:!1});var OR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const IR=(0,r.forwardRef)((e,t)=>{var n;const{prefixCls:a,bordered:o=!0,size:i,disabled:s,status:l,allowClear:c,classNames:d,rootClassName:u,className:m,style:g,styles:p,variant:f,showCount:h,onMouseDown:v,onResize:x}=e,y=OR(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]);const{getPrefixCls:b,direction:k,allowClear:w,autoComplete:j,className:N,style:C,classNames:S,styles:E}=sv("textArea"),_=r.useContext(mj),O=null!==s&&void 0!==s?s:_,{status:I,hasFeedback:M,feedbackIcon:P}=r.useContext(p_),T=FA(I,l),A=r.useRef(null);r.useImperativeHandle(t,()=>{var e;return{resizableTextArea:null===(e=A.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;IA(null===(n=null===(t=A.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.blur()}}});const R=b("input",a),z=hS(R),[D,L,B]=CA(R,u),[F]=_R(R,z),{compactSize:H,compactItemClassnames:W}=wj(R,k),V=hj(e=>{var t;return null!==(t=null!==i&&void 0!==i?i:H)&&void 0!==t?t:e}),[q,U]=HA("textArea",f,o),K=LA(null!==c&&void 0!==c?c:w),[G,X]=r.useState(!1),[Y,$]=r.useState(!1);return D(F(r.createElement(ER,Object.assign({autoComplete:j},y,{style:Object.assign(Object.assign({},C),g),styles:Object.assign(Object.assign({},E),p),disabled:O,allowClear:K,className:Ah()(B,z,m,u,W,N,Y&&"".concat(R,"-textarea-affix-wrapper-resize-dirty")),classNames:Object.assign(Object.assign(Object.assign({},d),S),{textarea:Ah()({["".concat(R,"-sm")]:"small"===V,["".concat(R,"-lg")]:"large"===V},L,null===d||void 0===d?void 0:d.textarea,S.textarea,G&&"".concat(R,"-mouse-active")),variant:Ah()({["".concat(R,"-").concat(q)]:U},BA(R,T)),affixWrapper:Ah()("".concat(R,"-textarea-affix-wrapper"),{["".concat(R,"-affix-wrapper-rtl")]:"rtl"===k,["".concat(R,"-affix-wrapper-sm")]:"small"===V,["".concat(R,"-affix-wrapper-lg")]:"large"===V,["".concat(R,"-textarea-show-count")]:h||(null===(n=e.count)||void 0===n?void 0:n.show)},L)}),prefixCls:R,suffix:M&&r.createElement("span",{className:"".concat(R,"-textarea-suffix")},P),showCount:h,ref:A,onResize:e=>{var t,n;if(null===x||void 0===x||x(e),G&&"function"===typeof getComputedStyle){const e=null===(n=null===(t=A.current)||void 0===t?void 0:t.nativeElement)||void 0===n?void 0:n.querySelector("textarea");e&&"both"===getComputedStyle(e).resize&&$(!0)}},onMouseDown:e=>{X(!0),null===v||void 0===v||v(e);const t=()=>{X(!1),document.removeEventListener("mouseup",t)};document.addEventListener("mouseup",t)}}))))}),MR=IR,PR=UA;PR.Group=EA,PR.Search=vR,PR.TextArea=MR,PR.Password=uR,PR.OTP=eR;const TR=PR;const AR=function(e){var t=e.className,n=e.customizeIcon,a=e.customizeIconProps,o=e.children,i=e.onMouseDown,s=e.onClick,l="function"===typeof n?n(a):n;return r.createElement("span",{className:t,onMouseDown:function(e){e.preventDefault(),null===i||void 0===i||i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==l?l:r.createElement("span",{className:Ah()(t.split(/\s+/).map(function(e){return"".concat(e,"-icon")}))},o))};var RR=r.createContext(null);function zR(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=r.useRef(null),n=r.useRef(null);return r.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]),[function(){return t.current},function(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout(function(){t.current=null},e)}]}var DR=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],LR=void 0;function BR(e,t){var n=e.prefixCls,a=e.invalidate,o=e.item,i=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,d=e.itemKey,u=e.className,m=e.style,g=e.children,p=e.display,f=e.order,h=e.component,v=void 0===h?"div":h,x=Be(e,DR),y=s&&!p;function b(e){c(d,e)}r.useEffect(function(){return function(){b(null)}},[]);var k,w=i&&o!==LR?i(o,{index:f}):g;a||(k={opacity:y?0:1,height:y?0:LR,overflowY:y?"hidden":LR,order:s?f:LR,pointerEvents:y?"none":LR,position:y?"absolute":LR});var j={};y&&(j["aria-hidden"]=!0);var N=r.createElement(v,jx({className:Ah()(!a&&n,u),style:Le(Le({},k),m)},j,x,{ref:t}),w);return s&&(N=r.createElement(HI,{onResize:function(e){b(e.offsetWidth)},disabled:l},N)),N}var FR=r.forwardRef(BR);FR.displayName="Item";const HR=FR;function WR(){var e=r.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)Lk(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}(function(){(0,we.unstable_batchedUpdates)(function(){e.current.forEach(function(e){e()}),e.current=null})})),e.current.push(t)}}function VR(e,t){var n=fv(r.useState(t),2),a=n[0],o=n[1];return[a,Vy(function(t){e(function(){o(t)})})]}var qR=r.createContext(null),UR=["component"],KR=["className"],GR=["className"],XR=function(e,t){var n=r.useContext(qR);if(!n){var a=e.component,o=void 0===a?"div":a,i=Be(e,UR);return r.createElement(o,jx({},i,{ref:t}))}var s=n.className,l=Be(n,KR),c=e.className,d=Be(e,GR);return r.createElement(qR.Provider,{value:null},r.createElement(HR,jx({ref:t,className:Ah()(s,c)},l,d)))},YR=r.forwardRef(XR);YR.displayName="RawItem";const $R=YR;var JR=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","prefix","suffix","component","itemComponent","onVisibleChange"],ZR="responsive",QR="invalidate";function ez(e){return"+ ".concat(e.length," ...")}function tz(e,t){var n=e.prefixCls,a=void 0===n?"rc-overflow":n,o=e.data,i=void 0===o?[]:o,s=e.renderItem,l=e.renderRawItem,c=e.itemKey,d=e.itemWidth,u=void 0===d?10:d,m=e.ssr,g=e.style,p=e.className,f=e.maxCount,h=e.renderRest,v=e.renderRawRest,x=e.prefix,y=e.suffix,b=e.component,k=void 0===b?"div":b,w=e.itemComponent,j=e.onVisibleChange,N=Be(e,JR),C="full"===m,S=WR(),E=fv(VR(S,null),2),_=E[0],O=E[1],I=_||0,M=fv(VR(S,new Map),2),P=M[0],T=M[1],A=fv(VR(S,0),2),R=A[0],z=A[1],D=fv(VR(S,0),2),L=D[0],B=D[1],F=fv(VR(S,0),2),H=F[0],W=F[1],V=fv(VR(S,0),2),q=V[0],U=V[1],K=fv((0,r.useState)(null),2),G=K[0],X=K[1],Y=fv((0,r.useState)(null),2),$=Y[0],J=Y[1],Z=r.useMemo(function(){return null===$&&C?Number.MAX_SAFE_INTEGER:$||0},[$,_]),Q=fv((0,r.useState)(!1),2),ee=Q[0],te=Q[1],ne="".concat(a,"-item"),re=Math.max(R,L),ae=f===ZR,oe=i.length&&ae,ie=f===QR,se=oe||"number"===typeof f&&i.length>f,le=(0,r.useMemo)(function(){var e=i;return oe?e=null===_&&C?i:i.slice(0,Math.min(i.length,I/u)):"number"===typeof f&&(e=i.slice(0,f)),e},[i,u,_,f,oe]),ce=(0,r.useMemo)(function(){return oe?i.slice(Z+1):i.slice(le.length)},[i,le,oe,Z]),de=(0,r.useCallback)(function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t},[c]),ue=(0,r.useCallback)(s||function(e){return e},[s]);function me(e,t,n){($!==e||void 0!==t&&t!==G)&&(J(e),n||(te(e<i.length-1),null===j||void 0===j||j(e)),void 0!==t&&X(t))}function ge(e,t){T(function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r})}function pe(e){return P.get(de(le[e],e))}Bh(function(){if(I&&"number"===typeof re&&le){var e=H+q,t=le.length,n=t-1;if(!t)return void me(0,null);for(var r=0;r<t;r+=1){var a=pe(r);if(C&&(a=a||0),void 0===a){me(r-1,void 0,!0);break}if(e+=a,0===n&&e<=I||r===n-1&&e+pe(n)<=I){me(n,null);break}if(e+re>I){me(r-1,e-a-q+L);break}}y&&pe(0)+q>I&&X(null)}},[I,P,L,H,q,de,le]);var fe=ee&&!!ce.length,he={};null!==G&&oe&&(he={position:"absolute",left:G,top:0});var ve={prefixCls:ne,responsive:oe,component:w,invalidate:ie},xe=l?function(e,t){var n=de(e,t);return r.createElement(qR.Provider,{key:n,value:Le(Le({},ve),{},{order:t,item:e,itemKey:n,registerSize:ge,display:t<=Z})},l(e,t))}:function(e,t){var n=de(e,t);return r.createElement(HR,jx({},ve,{order:t,key:n,item:e,renderItem:ue,itemKey:n,registerSize:ge,display:t<=Z}))},ye={order:fe?Z:Number.MAX_SAFE_INTEGER,className:"".concat(ne,"-rest"),registerSize:function(e,t){B(t),z(L)},display:fe},be=h||ez,ke=v?r.createElement(qR.Provider,{value:Le(Le({},ve),ye)},v(ce)):r.createElement(HR,jx({},ve,ye),"function"===typeof be?be(ce):be),we=r.createElement(k,jx({className:Ah()(!ie&&a,p),style:g,ref:t},N),x&&r.createElement(HR,jx({},ve,{responsive:ae,responsiveDisabled:!oe,order:-1,className:"".concat(ne,"-prefix"),registerSize:function(e,t){W(t)},display:!0}),x),le.map(xe),se?ke:null,y&&r.createElement(HR,jx({},ve,{responsive:ae,responsiveDisabled:!oe,order:Z,className:"".concat(ne,"-suffix"),registerSize:function(e,t){U(t)},display:!0,style:he}),y));return ae?r.createElement(HI,{onResize:function(e,t){O(t.clientWidth)},disabled:!oe},we):we}var nz=r.forwardRef(tz);nz.displayName="Overflow",nz.Item=$R,nz.RESPONSIVE=ZR,nz.INVALIDATE=QR;const rz=nz;const az=function(e,t,n){var r=Le(Le({},e),n?t:{});return Object.keys(t).forEach(function(n){var a=t[n];"function"===typeof a&&(r[n]=function(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return a.apply(void 0,o),null===(t=e[n])||void 0===t?void 0:t.call.apply(t,[e].concat(o))})}),r};var oz=["prefixCls","id","inputElement","autoFocus","autoComplete","editable","activeDescendantId","value","open","attrs"],iz=function(e,t){var n=e.prefixCls,a=e.id,o=e.inputElement,i=e.autoFocus,s=e.autoComplete,l=e.editable,c=e.activeDescendantId,d=e.value,u=e.open,m=e.attrs,g=Be(e,oz),p=o||r.createElement("input",null),f=p,h=f.ref,v=f.props;return p.props,p=r.cloneElement(p,Le(Le(Le({type:"search"},az(g,v,!0)),{},{id:a,ref:Yh(t,h),autoComplete:s||"off",autoFocus:i,className:Ah()("".concat(n,"-selection-search-input"),null===v||void 0===v?void 0:v.className),role:"combobox","aria-expanded":u||!1,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":u?c:void 0},m),{},{value:l?d:"",readOnly:!l,unselectable:l?null:"on",style:Le(Le({},v.style),{},{opacity:l?null:0})}))};const sz=r.forwardRef(iz);function lz(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var cz="undefined"!==typeof window&&window.document&&window.document.documentElement;function dz(e){return["string","number"].includes(Ae(e))}function uz(e){var t=void 0;return e&&(dz(e.title)?t=e.title.toString():dz(e.label)&&(t=e.label.toString())),t}function mz(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var gz=function(e){e.preventDefault(),e.stopPropagation()};const pz=function(e){var t,n,a=e.id,o=e.prefixCls,i=e.values,s=e.open,l=e.searchValue,c=e.autoClearSearchValue,d=e.inputRef,u=e.placeholder,m=e.disabled,g=e.mode,p=e.showSearch,f=e.autoFocus,h=e.autoComplete,v=e.activeDescendantId,x=e.tabIndex,y=e.removeIcon,b=e.maxTagCount,k=e.maxTagTextLength,w=e.maxTagPlaceholder,j=void 0===w?function(e){return"+ ".concat(e.length," ...")}:w,N=e.tagRender,C=e.onToggleOpen,S=e.onRemove,E=e.onInputChange,_=e.onInputPaste,O=e.onInputKeyDown,I=e.onInputMouseDown,M=e.onInputCompositionStart,P=e.onInputCompositionEnd,T=e.onInputBlur,A=r.useRef(null),R=fv((0,r.useState)(0),2),z=R[0],D=R[1],L=fv((0,r.useState)(!1),2),B=L[0],F=L[1],H="".concat(o,"-selection"),W=s||"multiple"===g&&!1===c||"tags"===g?l:"",V="tags"===g||"multiple"===g&&!1===c||p&&(s||B);t=function(){D(A.current.scrollWidth)},n=[W],cz?r.useLayoutEffect(t,n):r.useEffect(t,n);var q=function(e,t,n,a,o){return r.createElement("span",{title:uz(e),className:Ah()("".concat(H,"-item"),ze({},"".concat(H,"-item-disabled"),n))},r.createElement("span",{className:"".concat(H,"-item-content")},t),a&&r.createElement(AR,{className:"".concat(H,"-item-remove"),onMouseDown:gz,onClick:o,customizeIcon:y},"\xd7"))},U=function(e,t,n,a,o,i){return r.createElement("span",{onMouseDown:function(e){gz(e),C(!s)}},N({label:t,value:e,disabled:n,closable:a,onClose:o,isMaxTag:!!i}))},K=r.createElement("div",{className:"".concat(H,"-search"),style:{width:z},onFocus:function(){F(!0)},onBlur:function(){F(!1)}},r.createElement(sz,{ref:d,open:s,prefixCls:o,id:a,inputElement:null,disabled:m,autoFocus:f,autoComplete:h,editable:V,activeDescendantId:v,value:W,onKeyDown:O,onMouseDown:I,onChange:E,onPaste:_,onCompositionStart:M,onCompositionEnd:P,onBlur:T,tabIndex:x,attrs:nS(e,!0)}),r.createElement("span",{ref:A,className:"".concat(H,"-search-mirror"),"aria-hidden":!0},W,"\xa0")),G=r.createElement(rz,{prefixCls:"".concat(H,"-overflow"),data:i,renderItem:function(e){var t=e.disabled,n=e.label,r=e.value,a=!m&&!t,o=n;if("number"===typeof k&&("string"===typeof n||"number"===typeof n)){var i=String(o);i.length>k&&(o="".concat(i.slice(0,k),"..."))}var s=function(t){t&&t.stopPropagation(),S(e)};return"function"===typeof N?U(r,o,t,a,s):q(e,o,t,a,s)},renderRest:function(e){if(!i.length)return null;var t="function"===typeof j?j(e):j;return"function"===typeof N?U(void 0,t,!1,!1,void 0,!0):q({title:t},t,!1)},suffix:K,itemKey:mz,maxCount:b});return r.createElement("span",{className:"".concat(H,"-wrap")},G,!i.length&&!W&&r.createElement("span",{className:"".concat(H,"-placeholder")},u))};const fz=function(e){var t=e.inputElement,n=e.prefixCls,a=e.id,o=e.inputRef,i=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,d=e.mode,u=e.open,m=e.values,g=e.placeholder,p=e.tabIndex,f=e.showSearch,h=e.searchValue,v=e.activeValue,x=e.maxLength,y=e.onInputKeyDown,b=e.onInputMouseDown,k=e.onInputChange,w=e.onInputPaste,j=e.onInputCompositionStart,N=e.onInputCompositionEnd,C=e.onInputBlur,S=e.title,E=fv(r.useState(!1),2),_=E[0],O=E[1],I="combobox"===d,M=I||f,P=m[0],T=h||"";I&&v&&!_&&(T=v),r.useEffect(function(){I&&O(!1)},[I,v]);var A=!("combobox"!==d&&!u&&!f)&&!!T,R=void 0===S?uz(P):S,z=r.useMemo(function(){return P?null:r.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:A?{visibility:"hidden"}:void 0},g)},[P,A,g,n]);return r.createElement("span",{className:"".concat(n,"-selection-wrap")},r.createElement("span",{className:"".concat(n,"-selection-search")},r.createElement(sz,{ref:o,prefixCls:n,id:a,open:u,inputElement:t,disabled:i,autoFocus:s,autoComplete:l,editable:M,activeDescendantId:c,value:T,onKeyDown:y,onMouseDown:b,onChange:function(e){O(!0),k(e)},onPaste:w,onCompositionStart:j,onCompositionEnd:N,onBlur:C,tabIndex:p,attrs:nS(e,!0),maxLength:I?x:void 0})),!I&&P?r.createElement("span",{className:"".concat(n,"-selection-item"),title:R,style:A?{visibility:"hidden"}:void 0},P.label):null,z)};var hz=function(e,t){var n=(0,r.useRef)(null),a=(0,r.useRef)(!1),o=e.prefixCls,i=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,d=e.disabled,u=e.prefix,m=e.autoClearSearchValue,g=e.onSearch,p=e.onSearchSubmit,f=e.onToggleOpen,h=e.onInputKeyDown,v=e.onInputBlur,x=e.domRef;r.useImperativeHandle(t,function(){return{focus:function(e){n.current.focus(e)},blur:function(){n.current.blur()}}});var y=fv(zR(0),2),b=y[0],k=y[1],w=(0,r.useRef)(null),j=function(e){!1!==g(e,!0,a.current)&&f(!0)},N={inputRef:n,onInputKeyDown:function(e){var t,r=e.which,o=n.current instanceof HTMLTextAreaElement;(o||!i||r!==QC.UP&&r!==QC.DOWN||e.preventDefault(),h&&h(e),r!==QC.ENTER||"tags"!==s||a.current||i||null===p||void 0===p||p(e.target.value),o&&!i&&~[QC.UP,QC.DOWN,QC.LEFT,QC.RIGHT].indexOf(r))||(t=r)&&![QC.ESC,QC.SHIFT,QC.BACKSPACE,QC.TAB,QC.WIN_KEY,QC.ALT,QC.META,QC.WIN_KEY_RIGHT,QC.CTRL,QC.SEMICOLON,QC.EQUALS,QC.CAPS_LOCK,QC.CONTEXT_MENU,QC.F1,QC.F2,QC.F3,QC.F4,QC.F5,QC.F6,QC.F7,QC.F8,QC.F9,QC.F10,QC.F11,QC.F12].includes(t)&&f(!0)},onInputMouseDown:function(){k(!0)},onInputChange:function(e){var t=e.target.value;if(c&&w.current&&/[\r\n]/.test(w.current)){var n=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,w.current)}w.current=null,j(t)},onInputPaste:function(e){var t=e.clipboardData,n=null===t||void 0===t?void 0:t.getData("text");w.current=n||""},onInputCompositionStart:function(){a.current=!0},onInputCompositionEnd:function(e){a.current=!1,"combobox"!==s&&j(e.target.value)},onInputBlur:v},C="multiple"===s||"tags"===s?r.createElement(pz,jx({},e,N)):r.createElement(fz,jx({},e,N));return r.createElement("div",{ref:x,className:"".concat(o,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout(function(){n.current.focus()}):n.current.focus())},onMouseDown:function(e){var t=b();e.target===n.current||t||"combobox"===s&&d||e.preventDefault(),("combobox"===s||l&&t)&&i||(i&&!1!==m&&g("",!0,!1),f())}},u&&r.createElement("div",{className:"".concat(o,"-prefix")},u),C)};const vz=r.forwardRef(hz);var xz=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],yz=function(e,t){var n=e.prefixCls,a=(e.disabled,e.visible),o=e.children,i=e.popupElement,s=e.animation,l=e.transitionName,c=e.dropdownStyle,d=e.dropdownClassName,u=e.direction,m=void 0===u?"ltr":u,g=e.placement,p=e.builtinPlacements,f=e.dropdownMatchSelectWidth,h=e.dropdownRender,v=e.dropdownAlign,x=e.getPopupContainer,y=e.empty,b=e.getTriggerDOMNode,k=e.onPopupVisibleChange,w=e.onPopupMouseEnter,j=Be(e,xz),N="".concat(n,"-dropdown"),C=i;h&&(C=h(i));var S=r.useMemo(function(){return p||function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1},htmlRegion:"scroll"}}}(f)},[p,f]),E=s?"".concat(N,"-").concat(s):l,_="number"===typeof f,O=r.useMemo(function(){return _?null:!1===f?"minWidth":"width"},[f,_]),I=c;_&&(I=Le(Le({},I),{},{width:f}));var M=r.useRef(null);return r.useImperativeHandle(t,function(){return{getPopupElement:function(){var e;return null===(e=M.current)||void 0===e?void 0:e.popupElement}}}),r.createElement(fM,jx({},j,{showAction:k?["click"]:[],hideAction:k?["click"]:[],popupPlacement:g||("rtl"===m?"bottomRight":"bottomLeft"),builtinPlacements:S,prefixCls:N,popupTransitionName:E,popup:r.createElement("div",{onMouseEnter:w},C),ref:M,stretch:O,popupAlign:v,popupVisible:a,getPopupContainer:x,popupClassName:Ah()(d,ze({},"".concat(N,"-empty"),y)),popupStyle:I,getTriggerDOMNode:b,onPopupVisibleChange:k}),o)};const bz=r.forwardRef(yz);function kz(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function wz(e){return"undefined"!==typeof e&&!Number.isNaN(e)}function jz(e,t){var n=e||{},r=n.label||(t?"children":"label");return{label:r,value:n.value||"value",options:n.options||"options",groupLabel:n.groupLabel||r}}function Nz(e){var t=Le({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return zv(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}const Cz=r.createContext(null);function Sz(e){var t=e.visible,n=e.values;if(!t)return null;return r.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,50).map(function(e){var t=e.label,n=e.value;return["number","string"].includes(Ae(t))?t:n}).join(", ")),n.length>50?", ...":null)}var Ez=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],_z=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Oz=function(e){return"tags"===e||"multiple"===e},Iz=r.forwardRef(function(e,t){var n,a=e.id,o=e.prefixCls,i=e.className,s=e.showSearch,l=e.tagRender,c=e.direction,d=e.omitDomProps,u=e.displayValues,m=e.onDisplayValuesChange,g=e.emptyOptions,p=e.notFoundContent,f=void 0===p?"Not Found":p,h=e.onClear,v=e.mode,x=e.disabled,y=e.loading,b=e.getInputElement,k=e.getRawInputElement,w=e.open,j=e.defaultOpen,N=e.onDropdownVisibleChange,C=e.activeValue,S=e.onActiveValueChange,E=e.activeDescendantId,_=e.searchValue,O=e.autoClearSearchValue,I=e.onSearch,M=e.onSearchSplit,P=e.tokenSeparators,T=e.allowClear,A=e.prefix,R=e.suffixIcon,z=e.clearIcon,D=e.OptionList,L=e.animation,B=e.transitionName,F=e.dropdownStyle,H=e.dropdownClassName,W=e.dropdownMatchSelectWidth,V=e.dropdownRender,q=e.dropdownAlign,U=e.placement,K=e.builtinPlacements,G=e.getPopupContainer,X=e.showAction,Y=void 0===X?[]:X,$=e.onFocus,J=e.onBlur,Z=e.onKeyUp,Q=e.onKeyDown,ee=e.onMouseDown,te=Be(e,Ez),ne=Oz(v),re=(void 0!==s?s:ne)||"combobox"===v,ae=Le({},te);_z.forEach(function(e){delete ae[e]}),null===d||void 0===d||d.forEach(function(e){delete ae[e]});var oe=fv(r.useState(!1),2),ie=oe[0],se=oe[1];r.useEffect(function(){se(UI())},[]);var le=r.useRef(null),ce=r.useRef(null),de=r.useRef(null),ue=r.useRef(null),me=r.useRef(null),ge=r.useRef(!1),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=fv(r.useState(!1),2),n=t[0],a=t[1],o=r.useRef(null),i=function(){window.clearTimeout(o.current)};return r.useEffect(function(){return i},[]),[n,function(t,n){i(),o.current=window.setTimeout(function(){a(t),n&&n()},e)},i]}(),fe=fv(pe,3),he=fe[0],ve=fe[1],xe=fe[2];r.useImperativeHandle(t,function(){var e,t;return{focus:null===(e=ue.current)||void 0===e?void 0:e.focus,blur:null===(t=ue.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=me.current)||void 0===t?void 0:t.scrollTo(e)},nativeElement:le.current||ce.current}});var ye=r.useMemo(function(){var e;if("combobox"!==v)return _;var t=null===(e=u[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""},[_,v,u]),be="combobox"===v&&"function"===typeof b&&b()||null,ke="function"===typeof k&&k(),we=$h(ce,null===ke||void 0===ke||null===(n=ke.props)||void 0===n?void 0:n.ref),je=fv(r.useState(!1),2),Ne=je[0],Ce=je[1];Bh(function(){Ce(!0)},[]);var Se=fv(Ky(!1,{defaultValue:j,value:w}),2),Ee=Se[0],_e=Se[1],Oe=!!Ne&&Ee,Ie=!f&&g;(x||Ie&&Oe&&"combobox"===v)&&(Oe=!1);var Me=!Ie&&Oe,Pe=r.useCallback(function(e){var t=void 0!==e?e:!Oe;x||(_e(t),Oe!==t&&(null===N||void 0===N||N(t)))},[x,Oe,_e,N]),Te=r.useMemo(function(){return(P||[]).some(function(e){return["\n","\r\n"].includes(e)})},[P]),Re=r.useContext(Cz)||{},De=Re.maxCount,Fe=Re.rawValues,He=function(e,t,n){if(!(ne&&wz(De)&&(null===Fe||void 0===Fe?void 0:Fe.size)>=De)){var r=!0,a=e;null===S||void 0===S||S(null);var o=function(e,t,n){if(!t||!t.length)return null;var r=!1,a=function e(t,n){var a=Xy(n),o=a[0],i=a.slice(1);if(!o)return[t];var s=t.split(o);return r=r||s.length>1,s.reduce(function(t,n){return[].concat(vv(t),vv(e(n,i)))},[]).filter(Boolean)}(e,t);return r?"undefined"!==typeof n?a.slice(0,n):a:null}(e,P,wz(De)?De-Fe.size:void 0),i=n?null:o;return"combobox"!==v&&i&&(a="",null===M||void 0===M||M(i),Pe(!1),r=!1),I&&ye!==a&&I(a,{source:t?"typing":"effect"}),r}};r.useEffect(function(){Oe||ne||"combobox"===v||He("",!1,!1)},[Oe]),r.useEffect(function(){Ee&&x&&_e(!1),x&&!ge.current&&ve(!1)},[x]);var We=fv(zR(),2),Ve=We[0],qe=We[1],Ue=r.useRef(!1),Ke=r.useRef(!1),Ge=[];r.useEffect(function(){return function(){Ge.forEach(function(e){return clearTimeout(e)}),Ge.splice(0,Ge.length)}},[]);var Xe,Ye=fv(r.useState({}),2)[1];ke&&(Xe=function(e){Pe(e)}),function(e,t,n,a){var o=r.useRef(null);o.current={open:t,triggerOpen:n,customizedTrigger:a},r.useEffect(function(){function t(t){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=t.target;r.shadowRoot&&t.composed&&(r=t.composedPath()[0]||r),o.current.open&&e().filter(function(e){return e}).every(function(e){return!e.contains(r)&&e!==r})&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",t),function(){return window.removeEventListener("mousedown",t)}},[])}(function(){var e;return[le.current,null===(e=de.current)||void 0===e?void 0:e.getPopupElement()]},Me,Pe,!!ke);var $e,Je=r.useMemo(function(){return Le(Le({},e),{},{notFoundContent:f,open:Oe,triggerOpen:Me,id:a,showSearch:re,multiple:ne,toggleOpen:Pe})},[e,f,Me,Oe,a,re,ne,Pe]),Ze=!!R||y;Ze&&($e=r.createElement(AR,{className:Ah()("".concat(o,"-arrow"),ze({},"".concat(o,"-arrow-loading"),y)),customizeIcon:R,customizeIconProps:{loading:y,searchValue:ye,open:Oe,focused:he,showSearch:re}}));var Qe,et=function(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=r.useMemo(function(){return"object"===Ae(a)?a.clearIcon:o||void 0},[a,o]);return{allowClear:r.useMemo(function(){return!(i||!a||!n.length&&!s||"combobox"===l&&""===s)},[a,i,n.length,s,l]),clearIcon:r.createElement(AR,{className:"".concat(e,"-clear"),onMouseDown:t,customizeIcon:c},"\xd7")}}(o,function(){var e;null===h||void 0===h||h(),null===(e=ue.current)||void 0===e||e.focus(),m([],{type:"clear",values:u}),He("",!1,!1)},u,T,z,x,ye,v),tt=et.allowClear,nt=et.clearIcon,rt=r.createElement(D,{ref:me}),at=Ah()(o,i,ze(ze(ze(ze(ze(ze(ze(ze(ze(ze({},"".concat(o,"-focused"),he),"".concat(o,"-multiple"),ne),"".concat(o,"-single"),!ne),"".concat(o,"-allow-clear"),T),"".concat(o,"-show-arrow"),Ze),"".concat(o,"-disabled"),x),"".concat(o,"-loading"),y),"".concat(o,"-open"),Oe),"".concat(o,"-customize-input"),be),"".concat(o,"-show-search"),re)),ot=r.createElement(bz,{ref:de,disabled:x,prefixCls:o,visible:Me,popupElement:rt,animation:L,transitionName:B,dropdownStyle:F,dropdownClassName:H,direction:c,dropdownMatchSelectWidth:W,dropdownRender:V,dropdownAlign:q,placement:U,builtinPlacements:K,getPopupContainer:G,empty:g,getTriggerDOMNode:function(e){return ce.current||e},onPopupVisibleChange:Xe,onPopupMouseEnter:function(){Ye({})}},ke?r.cloneElement(ke,{ref:we}):r.createElement(vz,jx({},e,{domRef:ce,prefixCls:o,inputElement:be,ref:ue,id:a,prefix:A,showSearch:re,autoClearSearchValue:O,mode:v,activeDescendantId:E,tagRender:l,values:u,open:Oe,onToggleOpen:Pe,activeValue:C,searchValue:ye,onSearch:He,onSearchSubmit:function(e){e&&e.trim()&&I(e,{source:"submit"})},onRemove:function(e){var t=u.filter(function(t){return t!==e});m(t,{type:"remove",values:[e]})},tokenWithEnter:Te,onInputBlur:function(){Ue.current=!1}})));return Qe=ke?ot:r.createElement("div",jx({className:at},ae,{ref:le,onMouseDown:function(e){var t,n=e.target,r=null===(t=de.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var a=setTimeout(function(){var e,t=Ge.indexOf(a);-1!==t&&Ge.splice(t,1),xe(),ie||r.contains(document.activeElement)||null===(e=ue.current)||void 0===e||e.focus()});Ge.push(a)}for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];null===ee||void 0===ee||ee.apply(void 0,[e].concat(i))},onKeyDown:function(e){var t,n=Ve(),r=e.key,a="Enter"===r;if(a&&("combobox"!==v&&e.preventDefault(),Oe||Pe(!0)),qe(!!ye),"Backspace"===r&&!n&&ne&&!ye&&u.length){for(var o=vv(u),i=null,s=o.length-1;s>=0;s-=1){var l=o[s];if(!l.disabled){o.splice(s,1),i=l;break}}i&&m(o,{type:"remove",values:[i]})}for(var c=arguments.length,d=new Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];!Oe||a&&Ue.current||(a&&(Ue.current=!0),null===(t=me.current)||void 0===t||t.onKeyDown.apply(t,[e].concat(d))),null===Q||void 0===Q||Q.apply(void 0,[e].concat(d))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;Oe&&(null===(a=me.current)||void 0===a||a.onKeyUp.apply(a,[e].concat(n))),"Enter"===e.key&&(Ue.current=!1),null===Z||void 0===Z||Z.apply(void 0,[e].concat(n))},onFocus:function(){ve(!0),x||($&&!Ke.current&&$.apply(void 0,arguments),Y.includes("focus")&&Pe(!0)),Ke.current=!0},onBlur:function(){ge.current=!0,ve(!1,function(){Ke.current=!1,ge.current=!1,Pe(!1)}),x||(ye&&("tags"===v?I(ye,{source:"submit"}):"multiple"===v&&I("",{source:"blur"})),J&&J.apply(void 0,arguments))}}),r.createElement(Sz,{visible:he&&!Oe,values:u}),ot,$e,tt&&nt),r.createElement(RR.Provider,{value:Je},Qe)});const Mz=Iz;var Pz=function(){return null};Pz.isSelectOptGroup=!0;const Tz=Pz;var Az=function(){return null};Az.isSelectOption=!0;const Rz=Az;var zz=r.forwardRef(function(e,t){var n=e.height,a=e.offsetY,o=e.offsetX,i=e.children,s=e.prefixCls,l=e.onInnerResize,c=e.innerProps,d=e.rtl,u=e.extra,m={},g={display:"flex",flexDirection:"column"};return void 0!==a&&(m={height:n,position:"relative",overflow:"hidden"},g=Le(Le({},g),{},ze(ze(ze(ze(ze({transform:"translateY(".concat(a,"px)")},d?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),r.createElement("div",{style:m},r.createElement(HI,{onResize:function(e){e.offsetHeight&&l&&l()}},r.createElement("div",jx({style:g,className:Ah()(ze({},"".concat(s,"-holder-inner"),s)),ref:t},c),i,u)))});zz.displayName="Filler";const Dz=zz;function Lz(e){var t=e.children,n=e.setRef,a=r.useCallback(function(e){n(e)},[]);return r.cloneElement(t,{ref:a})}function Bz(e,t,n){var a=fv(r.useState(e),2),o=a[0],i=a[1],s=fv(r.useState(null),2),l=s[0],c=s[1];return r.useEffect(function(){var r=function(e,t,n){var r,a,o=e.length,i=t.length;if(0===o&&0===i)return null;o<i?(r=e,a=t):(r=t,a=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,d=1!==Math.abs(o-i),u=0;u<a.length;u+=1){var m=l(r[u]);if(m!==l(a[u])){c=u,d=d||m!==l(a[u+1]);break}}return null===c?null:{index:c,multiple:d}}(o||[],e||[],t);void 0!==(null===r||void 0===r?void 0:r.index)&&(null===n||void 0===n||n(r.index),c(e[r.index])),i(e)},[e]),[l]}const Fz="object"===("undefined"===typeof navigator?"undefined":Ae(navigator))&&/Firefox/i.test(navigator.userAgent),Hz=function(e,t,n,a){var o=(0,r.useRef)(!1),i=(0,r.useRef)(null);var s=(0,r.useRef)({top:e,bottom:t,left:n,right:a});return s.current.top=e,s.current.bottom=t,s.current.left=n,s.current.right=a,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e?t<0&&s.current.left||t>0&&s.current.right:t<0&&s.current.top||t>0&&s.current.bottom;return n&&r?(clearTimeout(i.current),o.current=!1):r&&!o.current||(clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)),!o.current&&r}};function Wz(e,t,n,a,o,i,s){var l=(0,r.useRef)(0),c=(0,r.useRef)(null),d=(0,r.useRef)(null),u=(0,r.useRef)(!1),m=Hz(t,n,a,o);var g=(0,r.useRef)(null),p=(0,r.useRef)(null);return[function(t){if(e){Lk.cancel(p.current),p.current=Lk(function(){g.current=null},2);var n=t.deltaX,r=t.deltaY,a=t.shiftKey,o=n,f=r;("sx"===g.current||!g.current&&a&&r&&!n)&&(o=r,f=0,g.current="sx");var h=Math.abs(o),v=Math.abs(f);null===g.current&&(g.current=i&&h>v?"x":"y"),"y"===g.current?function(e,t){if(Lk.cancel(c.current),!m(!1,t)){var n=e;n._virtualHandled||(n._virtualHandled=!0,l.current+=t,d.current=t,Fz||n.preventDefault(),c.current=Lk(function(){var e=u.current?10:1;s(l.current*e,!1),l.current=0}))}}(t,f):function(e,t){s(t,!0),Fz||e.preventDefault()}(t,o)}},function(t){e&&(u.current=t.detail===d.current)}]}const Vz=function(){function e(){Lv(this,e),ze(this,"maps",void 0),ze(this,"id",0),ze(this,"diffRecords",new Map),this.maps=Object.create(null)}return Fv(e,[{key:"set",value:function(e,t){this.diffRecords.set(e,this.maps[e]),this.maps[e]=t,this.id+=1}},{key:"get",value:function(e){return this.maps[e]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),e}();function qz(e){var t=parseFloat(e);return isNaN(t)?0:t}var Uz=14/15;function Kz(e){return Math.floor(Math.pow(e,.5))}function Gz(e,t){return("touches"in e?e.touches[0]:e)[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}var Xz=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.rtl,o=e.scrollOffset,i=e.scrollRange,s=e.onStartMove,l=e.onStopMove,c=e.onScroll,d=e.horizontal,u=e.spinSize,m=e.containerSize,g=e.style,p=e.thumbStyle,f=e.showScrollBar,h=fv(r.useState(!1),2),v=h[0],x=h[1],y=fv(r.useState(null),2),b=y[0],k=y[1],w=fv(r.useState(null),2),j=w[0],N=w[1],C=!a,S=r.useRef(),E=r.useRef(),_=fv(r.useState(f),2),O=_[0],I=_[1],M=r.useRef(),P=function(){!0!==f&&!1!==f&&(clearTimeout(M.current),I(!0),M.current=setTimeout(function(){I(!1)},3e3))},T=i-m||0,A=m-u||0,R=r.useMemo(function(){return 0===o||0===T?0:o/T*A},[o,T,A]),z=r.useRef({top:R,dragging:v,pageY:b,startTop:j});z.current={top:R,dragging:v,pageY:b,startTop:j};var D=function(e){x(!0),k(Gz(e,d)),N(z.current.top),s(),e.stopPropagation(),e.preventDefault()};r.useEffect(function(){var e=function(e){e.preventDefault()},t=S.current,n=E.current;return t.addEventListener("touchstart",e,{passive:!1}),n.addEventListener("touchstart",D,{passive:!1}),function(){t.removeEventListener("touchstart",e),n.removeEventListener("touchstart",D)}},[]);var L=r.useRef();L.current=T;var B=r.useRef();B.current=A,r.useEffect(function(){if(v){var e,t=function(t){var n=z.current,r=n.dragging,a=n.pageY,o=n.startTop;Lk.cancel(e);var i=S.current.getBoundingClientRect(),s=m/(d?i.width:i.height);if(r){var l=(Gz(t,d)-a)*s,u=o;!C&&d?u-=l:u+=l;var g=L.current,p=B.current,f=p?u/p:0,h=Math.ceil(f*g);h=Math.max(h,0),h=Math.min(h,g),e=Lk(function(){c(h,d)})}},n=function(){x(!1),l()};return window.addEventListener("mousemove",t,{passive:!0}),window.addEventListener("touchmove",t,{passive:!0}),window.addEventListener("mouseup",n,{passive:!0}),window.addEventListener("touchend",n,{passive:!0}),function(){window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),Lk.cancel(e)}}},[v]),r.useEffect(function(){return P(),function(){clearTimeout(M.current)}},[o]),r.useImperativeHandle(t,function(){return{delayHidden:P}});var F="".concat(n,"-scrollbar"),H={position:"absolute",visibility:O?null:"hidden"},W={position:"absolute",borderRadius:99,background:"var(--rc-virtual-list-scrollbar-bg, rgba(0, 0, 0, 0.5))",cursor:"pointer",userSelect:"none"};return d?(Object.assign(H,{height:8,left:0,right:0,bottom:0}),Object.assign(W,ze({height:"100%",width:u},C?"left":"right",R))):(Object.assign(H,ze({width:8,top:0,bottom:0},C?"right":"left",0)),Object.assign(W,{width:"100%",height:u,top:R})),r.createElement("div",{ref:S,className:Ah()(F,ze(ze(ze({},"".concat(F,"-horizontal"),d),"".concat(F,"-vertical"),!d),"".concat(F,"-visible"),O)),style:Le(Le({},H),g),onMouseDown:function(e){e.stopPropagation(),e.preventDefault()},onMouseMove:P},r.createElement("div",{ref:E,className:Ah()("".concat(F,"-thumb"),ze({},"".concat(F,"-thumb-moving"),v)),style:Le(Le({},W),p),onMouseDown:D}))});const Yz=Xz;function $z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=e/(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)*e;return isNaN(t)&&(t=0),t=Math.max(t,20),Math.floor(t)}var Jz=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Zz=[],Qz={overflowY:"auto",overflowAnchor:"none"};function eD(e,t){var n=e.prefixCls,a=void 0===n?"rc-virtual-list":n,o=e.className,i=e.height,s=e.itemHeight,l=e.fullHeight,c=void 0===l||l,d=e.style,u=e.data,m=e.children,g=e.itemKey,p=e.virtual,f=e.direction,h=e.scrollWidth,v=e.component,x=void 0===v?"div":v,y=e.onScroll,b=e.onVirtualScroll,k=e.onVisibleChange,w=e.innerProps,j=e.extraRender,N=e.styles,C=e.showScrollBar,S=void 0===C?"optional":C,E=Be(e,Jz),_=r.useCallback(function(e){return"function"===typeof g?g(e):null===e||void 0===e?void 0:e[g]},[g]),O=function(e,t,n){var a=fv(r.useState(0),2),o=a[0],i=a[1],s=(0,r.useRef)(new Map),l=(0,r.useRef)(new Vz),c=(0,r.useRef)(0);function d(){c.current+=1}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d();var t=function(){var e=!1;s.current.forEach(function(t,n){if(t&&t.offsetParent){var r=t.offsetHeight,a=getComputedStyle(t),o=a.marginTop,i=a.marginBottom,s=r+qz(o)+qz(i);l.current.get(n)!==s&&(l.current.set(n,s),e=!0)}}),e&&i(function(e){return e+1})};if(e)t();else{c.current+=1;var n=c.current;Promise.resolve().then(function(){n===c.current&&t()})}}return(0,r.useEffect)(function(){return d},[]),[function(r,a){var o=e(r),i=s.current.get(o);a?(s.current.set(o,a),u()):s.current.delete(o),!i!==!a&&(a?null===t||void 0===t||t(r):null===n||void 0===n||n(r))},u,l.current,o]}(_,null,null),I=fv(O,4),M=I[0],P=I[1],T=I[2],A=I[3],R=!(!1===p||!i||!s),z=r.useMemo(function(){return Object.values(T.maps).reduce(function(e,t){return e+t},0)},[T.id,T.maps]),D=R&&u&&(Math.max(s*u.length,z)>i||!!h),L="rtl"===f,B=Ah()(a,ze({},"".concat(a,"-rtl"),L),o),F=u||Zz,H=(0,r.useRef)(),W=(0,r.useRef)(),V=(0,r.useRef)(),q=fv((0,r.useState)(0),2),U=q[0],K=q[1],G=fv((0,r.useState)(0),2),X=G[0],Y=G[1],$=fv((0,r.useState)(!1),2),J=$[0],Z=$[1],Q=function(){Z(!0)},ee=function(){Z(!1)},te={getKey:_};function ne(e){K(function(t){var n=function(e){var t=e;Number.isNaN(ye.current)||(t=Math.min(t,ye.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return H.current.scrollTop=n,n})}var re=(0,r.useRef)({start:0,end:F.length}),ae=(0,r.useRef)(),oe=fv(Bz(F,_),1)[0];ae.current=oe;var ie=r.useMemo(function(){if(!R)return{scrollHeight:void 0,start:0,end:F.length-1,offset:void 0};var e;if(!D)return{scrollHeight:(null===(e=W.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:F.length-1,offset:void 0};for(var t,n,r,a=0,o=F.length,l=0;l<o;l+=1){var c=F[l],d=_(c),u=T.get(d),m=a+(void 0===u?s:u);m>=U&&void 0===t&&(t=l,n=a),m>U+i&&void 0===r&&(r=l),a=m}return void 0===t&&(t=0,n=0,r=Math.ceil(i/s)),void 0===r&&(r=F.length-1),{scrollHeight:a,start:t,end:r=Math.min(r+1,F.length-1),offset:n}},[D,R,U,F,A,i]),se=ie.scrollHeight,le=ie.start,ce=ie.end,de=ie.offset;re.current.start=le,re.current.end=ce,r.useLayoutEffect(function(){var e=T.getRecord();if(1===e.size){var t=Array.from(e.keys())[0],n=e.get(t),r=F[le];if(r&&void 0===n)if(_(r)===t){var a=T.get(t)-s;ne(function(e){return e+a})}}T.resetRecord()},[se]);var ue=fv(r.useState({width:0,height:i}),2),me=ue[0],ge=ue[1],pe=(0,r.useRef)(),fe=(0,r.useRef)(),he=r.useMemo(function(){return $z(me.width,h)},[me.width,h]),ve=r.useMemo(function(){return $z(me.height,se)},[me.height,se]),xe=se-i,ye=(0,r.useRef)(xe);ye.current=xe;var be=U<=0,ke=U>=xe,je=X<=0,Ne=X>=h,Ce=Hz(be,ke,je,Ne),Se=function(){return{x:L?-X:X,y:U}},Ee=(0,r.useRef)(Se()),_e=Vy(function(e){if(b){var t=Le(Le({},Se()),e);Ee.current.x===t.x&&Ee.current.y===t.y||(b(t),Ee.current=t)}});function Oe(e,t){var n=e;t?((0,we.flushSync)(function(){Y(n)}),_e()):ne(n)}var Ie=function(e){var t=e,n=h?h-me.width:0;return t=Math.max(t,0),t=Math.min(t,n)},Me=Vy(function(e,t){t?((0,we.flushSync)(function(){Y(function(t){return Ie(t+(L?-e:e))})}),_e()):ne(function(t){return t+e})}),Pe=fv(Wz(R,be,ke,je,Ne,!!h,Me),2),Te=Pe[0],Re=Pe[1];!function(e,t,n){var a,o=(0,r.useRef)(!1),i=(0,r.useRef)(0),s=(0,r.useRef)(0),l=(0,r.useRef)(null),c=(0,r.useRef)(null),d=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageX),r=Math.ceil(e.touches[0].pageY),a=i.current-t,l=s.current-r,d=Math.abs(a)>Math.abs(l);d?i.current=t:s.current=r;var u=n(d,d?a:l,!1,e);u&&e.preventDefault(),clearInterval(c.current),u&&(c.current=setInterval(function(){d?a*=Uz:l*=Uz;var e=Math.floor(d?a:l);(!n(d,e,!0)||Math.abs(e)<=.1)&&clearInterval(c.current)},16))}},u=function(){o.current=!1,a()},m=function(e){a(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageX),s.current=Math.ceil(e.touches[0].pageY),l.current=e.target,l.current.addEventListener("touchmove",d,{passive:!1}),l.current.addEventListener("touchend",u,{passive:!0}))};a=function(){l.current&&(l.current.removeEventListener("touchmove",d),l.current.removeEventListener("touchend",u))},Bh(function(){return e&&t.current.addEventListener("touchstart",m,{passive:!0}),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",m),a(),clearInterval(c.current)}},[e])}(R,H,function(e,t,n,r){var a=r;return!Ce(e,t,n)&&((!a||!a._virtualHandled)&&(a&&(a._virtualHandled=!0),Te({preventDefault:function(){},deltaX:e?t:0,deltaY:e?0:t}),!0))}),function(e,t,n){r.useEffect(function(){var r=t.current;if(e&&r){var a,o,i=!1,s=function(){Lk.cancel(a)},l=function e(){s(),a=Lk(function(){n(o),e()})},c=function(){i=!1,s()},d=function(e){if(!e.target.draggable&&0===e.button){var t=e;t._virtualHandled||(t._virtualHandled=!0,i=!0)}},u=function(e){if(i){var t=Gz(e,!1),n=r.getBoundingClientRect(),a=n.top,c=n.bottom;t<=a?(o=-Kz(a-t),l()):t>=c?(o=Kz(t-c),l()):s()}};return r.addEventListener("mousedown",d),r.ownerDocument.addEventListener("mouseup",c),r.ownerDocument.addEventListener("mousemove",u),r.ownerDocument.addEventListener("dragend",c),function(){r.removeEventListener("mousedown",d),r.ownerDocument.removeEventListener("mouseup",c),r.ownerDocument.removeEventListener("mousemove",u),r.ownerDocument.removeEventListener("dragend",c),s()}}},[e])}(D,H,function(e){ne(function(t){return t+e})}),Bh(function(){function e(e){var t=be&&e.detail<0,n=ke&&e.detail>0;!R||t||n||e.preventDefault()}var t=H.current;return t.addEventListener("wheel",Te,{passive:!1}),t.addEventListener("DOMMouseScroll",Re,{passive:!0}),t.addEventListener("MozMousePixelScroll",e,{passive:!1}),function(){t.removeEventListener("wheel",Te),t.removeEventListener("DOMMouseScroll",Re),t.removeEventListener("MozMousePixelScroll",e)}},[R,be,ke]),Bh(function(){if(h){var e=Ie(X);Y(e),_e({x:e})}},[me.width,h]);var De=function(){var e,t;null===(e=pe.current)||void 0===e||e.delayHidden(),null===(t=fe.current)||void 0===t||t.delayHidden()},Fe=function(e,t,n,a,o,i,s,l){var c=r.useRef(),d=fv(r.useState(null),2),u=d[0],m=d[1];return Bh(function(){if(u&&u.times<10){if(!e.current)return void m(function(e){return Le({},e)});i();var r=u.targetAlign,l=u.originAlign,c=u.index,d=u.offset,g=e.current.clientHeight,p=!1,f=r,h=null;if(g){for(var v=r||l,x=0,y=0,b=0,k=Math.min(t.length-1,c),w=0;w<=k;w+=1){var j=o(t[w]);y=x;var N=n.get(j);x=b=y+(void 0===N?a:N)}for(var C="top"===v?d:g-d,S=k;S>=0;S-=1){var E=o(t[S]),_=n.get(E);if(void 0===_){p=!0;break}if((C-=_)<=0)break}switch(v){case"top":h=y-d;break;case"bottom":h=b-g+d;break;default:var O=e.current.scrollTop;y<O?f="top":b>O+g&&(f="bottom")}null!==h&&s(h),h!==u.lastTop&&(p=!0)}p&&m(Le(Le({},u),{},{times:u.times+1,targetAlign:f,lastTop:h}))}},[u,e.current]),function(e){if(null!==e&&void 0!==e){if(Lk.cancel(c.current),"number"===typeof e)s(e);else if(e&&"object"===Ae(e)){var n,r=e.align;n="index"in e?e.index:t.findIndex(function(t){return o(t)===e.key});var a=e.offset;m({times:0,index:n,offset:void 0===a?0:a,originAlign:r})}}else l()}}(H,F,T,s,_,function(){return P(!0)},ne,De);r.useImperativeHandle(t,function(){return{nativeElement:V.current,getScrollInfo:Se,scrollTo:function(e){var t;(t=e)&&"object"===Ae(t)&&("left"in t||"top"in t)?(void 0!==e.left&&Y(Ie(e.left)),Fe(e.top)):Fe(e)}}}),Bh(function(){if(k){var e=F.slice(le,ce+1);k(e,F)}},[le,ce,F]);var He=function(e,t,n,a){var o=fv(r.useMemo(function(){return[new Map,[]]},[e,n.id,a]),2),i=o[0],s=o[1];return function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,l=i.get(r),c=i.get(o);if(void 0===l||void 0===c)for(var d=e.length,u=s.length;u<d;u+=1){var m,g=e[u],p=t(g);i.set(p,u);var f=null!==(m=n.get(p))&&void 0!==m?m:a;if(s[u]=(s[u-1]||0)+f,p===r&&(l=u),p===o&&(c=u),void 0!==l&&void 0!==c)break}return{top:s[l-1]||0,bottom:s[c]}}}(F,_,T,s),We=null===j||void 0===j?void 0:j({start:le,end:ce,virtual:D,offsetX:X,offsetY:de,rtl:L,getSize:He}),Ve=function(e,t,n,a,o,i,s,l){var c=l.getKey;return e.slice(t,n+1).map(function(e,n){var l=s(e,t+n,{style:{width:a},offsetX:o}),d=c(e);return r.createElement(Lz,{key:d,setRef:function(t){return i(e,t)}},l)})}(F,le,ce,h,X,M,m,te),qe=null;i&&(qe=Le(ze({},c?"height":"maxHeight",i),Qz),R&&(qe.overflowY="hidden",h&&(qe.overflowX="hidden"),J&&(qe.pointerEvents="none")));var Ue={};return L&&(Ue.dir="rtl"),r.createElement("div",jx({ref:V,style:Le(Le({},d),{},{position:"relative"}),className:B},Ue,E),r.createElement(HI,{onResize:function(e){ge({width:e.offsetWidth,height:e.offsetHeight})}},r.createElement(x,{className:"".concat(a,"-holder"),style:qe,ref:H,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==U&&ne(t),null===y||void 0===y||y(e),_e()},onMouseEnter:De},r.createElement(Dz,{prefixCls:a,height:se,offsetX:X,offsetY:de,scrollWidth:h,onInnerResize:P,ref:W,innerProps:w,rtl:L,extra:We},Ve))),D&&se>i&&r.createElement(Yz,{ref:pe,prefixCls:a,scrollOffset:U,scrollRange:se,rtl:L,onScroll:Oe,onStartMove:Q,onStopMove:ee,spinSize:ve,containerSize:me.height,style:null===N||void 0===N?void 0:N.verticalScrollBar,thumbStyle:null===N||void 0===N?void 0:N.verticalScrollBarThumb,showScrollBar:S}),D&&h>me.width&&r.createElement(Yz,{ref:fe,prefixCls:a,scrollOffset:X,scrollRange:h,rtl:L,onScroll:Oe,onStartMove:Q,onStopMove:ee,spinSize:he,containerSize:me.width,horizontal:!0,style:null===N||void 0===N?void 0:N.horizontalScrollBar,thumbStyle:null===N||void 0===N?void 0:N.horizontalScrollBarThumb,showScrollBar:S}))}var tD=r.forwardRef(eD);tD.displayName="List";const nD=tD;var rD=["disabled","title","children","style","className"];function aD(e){return"string"===typeof e||"number"===typeof e}var oD=function(e,t){var n=r.useContext(RR),a=n.prefixCls,o=n.id,i=n.open,s=n.multiple,l=n.mode,c=n.searchValue,d=n.toggleOpen,u=n.notFoundContent,m=n.onPopupScroll,g=r.useContext(Cz),p=g.maxCount,f=g.flattenOptions,h=g.onActiveValue,v=g.defaultActiveFirstOption,x=g.onSelect,y=g.menuItemSelectedIcon,b=g.rawValues,k=g.fieldNames,w=g.virtual,j=g.direction,N=g.listHeight,C=g.listItemHeight,S=g.optionRender,E="".concat(a,"-item"),_=Wh(function(){return f},[i,f],function(e,t){return t[0]&&e[1]!==t[1]}),O=r.useRef(null),I=r.useMemo(function(){return s&&wz(p)&&(null===b||void 0===b?void 0:b.size)>=p},[s,p,null===b||void 0===b?void 0:b.size]),M=function(e){e.preventDefault()},P=function(e){var t;null===(t=O.current)||void 0===t||t.scrollTo("number"===typeof e?{index:e}:e)},T=r.useCallback(function(e){return"combobox"!==l&&b.has(e)},[l,vv(b).toString(),b.size]),A=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=_.length,r=0;r<n;r+=1){var a=(e+r*t+n)%n,o=_[a]||{},i=o.group,s=o.data;if(!i&&(null===s||void 0===s||!s.disabled)&&(T(s.value)||!I))return a}return-1},R=fv(r.useState(function(){return A(0)}),2),z=R[0],D=R[1],L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];D(e);var n={source:t?"keyboard":"mouse"},r=_[e];r?h(r.value,e,n):h(null,-1,n)};(0,r.useEffect)(function(){L(!1!==v?A(0):-1)},[_.length,c]);var B=r.useCallback(function(e){return"combobox"===l?String(e).toLowerCase()===c.toLowerCase():b.has(e)},[l,c,vv(b).toString(),b.size]);(0,r.useEffect)(function(){var e,t=setTimeout(function(){if(!s&&i&&1===b.size){var e=Array.from(b)[0],t=_.findIndex(function(t){var n=t.data;return c?String(n.value).startsWith(c):n.value===e});-1!==t&&(L(t),P(t))}});i&&(null===(e=O.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}},[i,c]);var F=function(e){void 0!==e&&x(e,{selected:!b.has(e)}),s||d(!1)};if(r.useImperativeHandle(t,function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case QC.N:case QC.P:case QC.UP:case QC.DOWN:var r=0;if(t===QC.UP?r=-1:t===QC.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===QC.N?r=1:t===QC.P&&(r=-1)),0!==r){var a=A(z+r,r);P(a),L(a,!0)}break;case QC.TAB:case QC.ENTER:var o,s=_[z];!s||null!==s&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.disabled||I?F(void 0):F(s.value),i&&e.preventDefault();break;case QC.ESC:d(!1),i&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){P(e)}}}),0===_.length)return r.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(E,"-empty"),onMouseDown:M},u);var H=Object.keys(k).map(function(e){return k[e]}),W=function(e){return e.label};function V(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var q=function(e){var t=_[e];if(!t)return null;var n=t.data||{},a=n.value,o=t.group,i=nS(n,!0),s=W(t);return t?r.createElement("div",jx({"aria-label":"string"!==typeof s||o?null:s},i,{key:e},V(t,e),{"aria-selected":B(a)}),a):null},U={role:"listbox",id:"".concat(o,"_list")};return r.createElement(r.Fragment,null,w&&r.createElement("div",jx({},U,{style:{height:0,width:0,overflow:"hidden"}}),q(z-1),q(z),q(z+1)),r.createElement(nD,{itemKey:"key",ref:O,data:_,height:N,itemHeight:C,fullHeight:!1,onMouseDown:M,onScroll:m,virtual:w,direction:j,innerProps:w?null:U},function(e,t){var n=e.group,a=e.groupOption,o=e.data,i=e.label,s=e.value,l=o.key;if(n){var c,d=null!==(c=o.title)&&void 0!==c?c:aD(i)?i.toString():void 0;return r.createElement("div",{className:Ah()(E,"".concat(E,"-group"),o.className),title:d},void 0!==i?i:l)}var u=o.disabled,m=o.title,g=(o.children,o.style),p=o.className,f=Fh(Be(o,rD),H),h=T(s),v=u||!h&&I,x="".concat(E,"-option"),b=Ah()(E,x,p,ze(ze(ze(ze({},"".concat(x,"-grouped"),a),"".concat(x,"-active"),z===t&&!v),"".concat(x,"-disabled"),v),"".concat(x,"-selected"),h)),k=W(e),j=!y||"function"===typeof y||h,N="number"===typeof k?k:k||s,C=aD(N)?N.toString():void 0;return void 0!==m&&(C=m),r.createElement("div",jx({},nS(f),w?{}:V(e,t),{"aria-selected":B(s),className:b,title:C,onMouseMove:function(){z===t||v||L(t)},onClick:function(){v||F(s)},style:g}),r.createElement("div",{className:"".concat(x,"-content")},"function"===typeof S?S(e,{index:t}):N),r.isValidElement(y)||h,j&&r.createElement(AR,{className:"".concat(E,"-option-state"),customizeIcon:y,customizeIconProps:{value:s,disabled:v,isSelected:h}},h?"\u2713":null))}))};const iD=r.forwardRef(oD);function sD(e,t){return lz(e).join("").toUpperCase().includes(t)}var lD=0,cD=Rh();function dD(e){var t=fv(r.useState(),2),n=t[0],a=t[1];return r.useEffect(function(){a("rc_select_".concat(function(){var e;return cD?(e=lD,lD+=1):e="TEST_OR_SSR",e}()))},[]),e||n}var uD=["children","value"],mD=["children"];function gD(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return vj(e).map(function(e,n){if(!r.isValidElement(e)||!e.type)return null;var a=e,o=a.type.isSelectOptGroup,i=a.key,s=a.props,l=s.children,c=Be(s,mD);return t||!o?function(e){var t=e,n=t.key,r=t.props,a=r.children,o=r.value;return Le({key:n,value:void 0!==o?o:n,children:a},Be(r,uD))}(e):Le(Le({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},c),{},{options:gD(l)})}).filter(function(e){return e})}const pD=function(e,t,n,a,o){return r.useMemo(function(){var r=e;!e&&(r=gD(t));var i=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var d=t[c];!d[n.options]||r?(i.set(d[n.value],d),l(s,d,n.label),l(s,d,a),l(s,d,o)):e(d[n.options],!0)}}(r),{options:r,valueOptions:i,labelOptions:s}},[e,t,n,a,o])};function fD(e){var t=r.useRef();t.current=e;var n=r.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}var hD=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],vD=["inputValue"];var xD=r.forwardRef(function(e,t){var n=e.id,a=e.mode,o=e.prefixCls,i=void 0===o?"rc-select":o,s=e.backfill,l=e.fieldNames,c=e.inputValue,d=e.searchValue,u=e.onSearch,m=e.autoClearSearchValue,g=void 0===m||m,p=e.onSelect,f=e.onDeselect,h=e.dropdownMatchSelectWidth,v=void 0===h||h,x=e.filterOption,y=e.filterSort,b=e.optionFilterProp,k=e.optionLabelProp,w=e.options,j=e.optionRender,N=e.children,C=e.defaultActiveFirstOption,S=e.menuItemSelectedIcon,E=e.virtual,_=e.direction,O=e.listHeight,I=void 0===O?200:O,M=e.listItemHeight,P=void 0===M?20:M,T=e.labelRender,A=e.value,R=e.defaultValue,z=e.labelInValue,D=e.onChange,L=e.maxCount,B=Be(e,hD),F=dD(n),H=Oz(a),W=!(w||!N),V=r.useMemo(function(){return(void 0!==x||"combobox"!==a)&&x},[x,a]),q=r.useMemo(function(){return jz(l,W)},[JSON.stringify(l),W]),U=fv(Ky("",{value:void 0!==d?d:c,postState:function(e){return e||""}}),2),K=U[0],G=U[1],X=pD(w,N,q,b,k),Y=X.valueOptions,$=X.labelOptions,J=X.options,Z=r.useCallback(function(e){return lz(e).map(function(e){var t,n,r,a,o,i;(function(e){return!e||"object"!==Ae(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(i=e.value)&&void 0!==i?i:r);var s,l=Y.get(t);l&&(void 0===n&&(n=null===l||void 0===l?void 0:l[k||q.label]),void 0===r&&(r=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),a=null===l||void 0===l?void 0:l.disabled,o=null===l||void 0===l?void 0:l.title);return{label:n,value:t,key:r,disabled:a,title:o}})},[q,k,Y]),Q=fv(Ky(R,{value:A}),2),ee=Q[0],te=Q[1],ne=r.useMemo(function(){var e,t=Z(H&&null===ee?[]:ee);return"combobox"===a&&function(e){return!e&&0!==e}(null===(e=t[0])||void 0===e?void 0:e.value)?[]:t},[ee,Z,a,H]),re=function(e,t){var n=r.useRef({values:new Map,options:new Map});return[r.useMemo(function(){var r=n.current,a=r.values,o=r.options,i=e.map(function(e){var t;return void 0===e.label?Le(Le({},e),{},{label:null===(t=a.get(e.value))||void 0===t?void 0:t.label}):e}),s=new Map,l=new Map;return i.forEach(function(e){s.set(e.value,e),l.set(e.value,t.get(e.value)||o.get(e.value))}),n.current.values=s,n.current.options=l,i},[e,t]),r.useCallback(function(e){return t.get(e)||n.current.options.get(e)},[t])]}(ne,Y),ae=fv(re,2),oe=ae[0],ie=ae[1],se=r.useMemo(function(){if(!a&&1===oe.length){var e=oe[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return oe.map(function(e){var t;return Le(Le({},e),{},{label:null!==(t="function"===typeof T?T(e):e.label)&&void 0!==t?t:e.value})})},[a,oe,T]),le=r.useMemo(function(){return new Set(oe.map(function(e){return e.value}))},[oe]);r.useEffect(function(){if("combobox"===a){var e,t=null===(e=oe[0])||void 0===e?void 0:e.value;G(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}},[oe]);var ce=fD(function(e,t){var n=null!==t&&void 0!==t?t:e;return ze(ze({},q.value,e),q.label,n)}),de=function(e,t,n,a,o){return r.useMemo(function(){if(!n||!1===a)return e;var r=t.options,i=t.label,s=t.value,l=[],c="function"===typeof a,d=n.toUpperCase(),u=c?a:function(e,t){return o?sD(t[o],d):t[r]?sD(t["children"!==i?i:"label"],d):sD(t[s],d)},m=c?function(e){return Nz(e)}:function(e){return e};return e.forEach(function(e){if(e[r])if(u(n,m(e)))l.push(e);else{var t=e[r].filter(function(e){return u(n,m(e))});t.length&&l.push(Le(Le({},e),{},ze({},r,t)))}else u(n,m(e))&&l.push(e)}),l},[e,a,o,n,t])}(r.useMemo(function(){if("tags"!==a)return J;var e=vv(J);return vv(oe).sort(function(e,t){return e.value<t.value?-1:1}).forEach(function(t){var n=t.value;(function(e){return Y.has(e)})(n)||e.push(ce(n,t.label))}),e},[ce,J,Y,oe,a]),q,K,V,b),ue=r.useMemo(function(){return"tags"!==a||!K||de.some(function(e){return e[b||"value"]===K})||de.some(function(e){return e[q.value]===K})?de:[ce(K)].concat(vv(de))},[ce,b,a,de,K,q]),me=function e(t){return vv(t).sort(function(e,t){return y(e,t,{searchValue:K})}).map(function(t){return Array.isArray(t.options)?Le(Le({},t),{},{options:t.options.length>0?e(t.options):t.options}):t})},ge=r.useMemo(function(){return y?me(ue):ue},[ue,y,K]),pe=r.useMemo(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,a=[],o=jz(n,!1),i=o.label,s=o.value,l=o.options,c=o.groupLabel;return function e(t,n){Array.isArray(t)&&t.forEach(function(t){if(n||!(l in t)){var o=t[s];a.push({key:kz(t,a.length),groupOption:n,data:t,label:t[i],value:o})}else{var d=t[c];void 0===d&&r&&(d=t.label),a.push({key:kz(t,a.length),group:!0,data:t,label:d}),e(t[l],!0)}})}(e,!1),a}(ge,{fieldNames:q,childrenAsData:W})},[ge,q,W]),fe=function(e){var t=Z(e);if(te(t),D&&(t.length!==oe.length||t.some(function(e,t){var n;return(null===(n=oe[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)}))){var n=z?t:t.map(function(e){return e.value}),r=t.map(function(e){return Nz(ie(e.value))});D(H?n:n[0],H?r:r[0])}},he=fv(r.useState(null),2),ve=he[0],xe=he[1],ye=fv(r.useState(0),2),be=ye[0],ke=ye[1],we=void 0!==C?C:"combobox"!==a,je=r.useCallback(function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,r=void 0===n?"keyboard":n;ke(t),s&&"combobox"===a&&null!==e&&"keyboard"===r&&xe(String(e))},[s,a]),Ne=function(e,t,n){var r=function(){var t,n=ie(e);return[z?{label:null===n||void 0===n?void 0:n[q.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Nz(n)]};if(t&&p){var a=fv(r(),2),o=a[0],i=a[1];p(o,i)}else if(!t&&f&&"clear"!==n){var s=fv(r(),2),l=s[0],c=s[1];f(l,c)}},Ce=fD(function(e,t){var n,r=!H||t.selected;n=r?H?[].concat(vv(oe),[e]):[e]:oe.filter(function(t){return t.value!==e}),fe(n),Ne(e,r),"combobox"===a?xe(""):Oz&&!g||(G(""),xe(""))}),Se=r.useMemo(function(){var e=!1!==E&&!1!==v;return Le(Le({},X),{},{flattenOptions:pe,onActiveValue:je,defaultActiveFirstOption:we,onSelect:Ce,menuItemSelectedIcon:S,rawValues:le,fieldNames:q,virtual:e,direction:_,listHeight:I,listItemHeight:P,childrenAsData:W,maxCount:L,optionRender:j})},[L,X,pe,je,we,Ce,S,le,q,E,v,_,I,P,W,j]);return r.createElement(Cz.Provider,{value:Se},r.createElement(Mz,jx({},B,{id:F,prefixCls:i,ref:t,omitDomProps:vD,mode:a,displayValues:se,onDisplayValuesChange:function(e,t){fe(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach(function(e){Ne(e.value,!1,n)})},direction:_,searchValue:K,onSearch:function(e,t){if(G(e),xe(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===a&&fe(e),null===u||void 0===u||u(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat(vv(le),[n])));fe(r),Ne(n,!0),G("")}}},autoClearSearchValue:g,onSearchSplit:function(e){var t=e;"tags"!==a&&(t=e.map(function(e){var t=$.get(e);return null===t||void 0===t?void 0:t.value}).filter(function(e){return void 0!==e}));var n=Array.from(new Set([].concat(vv(le),vv(t))));fe(n),n.forEach(function(e){Ne(e,!0)})},dropdownMatchSelectWidth:v,OptionList:iD,emptyOptions:!pe.length,activeValue:ve,activeDescendantId:"".concat(F,"_list_").concat(be)})))});var yD=xD;yD.Option=Rz,yD.OptGroup=Tz;const bD=yD;const kD=()=>{const[,e]=Ek(),[t]=$O("Empty"),n=new _b(e.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return r.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,(null===t||void 0===t?void 0:t.description)||"Empty"),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),r.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),r.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),r.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),r.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),r.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))};const wD=()=>{const[,e]=Ek(),[t]=$O("Empty"),{colorFill:n,colorFillTertiary:a,colorFillQuaternary:o,colorBgContainer:i}=e,{borderColor:s,shadowColor:l,contentColor:c}=(0,r.useMemo)(()=>({borderColor:new _b(n).onBackground(i).toHexString(),shadowColor:new _b(a).onBackground(i).toHexString(),contentColor:new _b(o).onBackground(i).toHexString()}),[n,a,o,i]);return r.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("title",null,(null===t||void 0===t?void 0:t.description)||"Empty"),r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{fillRule:"nonzero",stroke:s},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:c}))))},jD=_k("Empty",e=>{const{componentCls:t,controlHeightLG:n,calc:r}=e;return(e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:a,fontSize:o,lineHeight:i}=e;return{[t]:{marginInline:r,fontSize:o,lineHeight:i,textAlign:"center",["".concat(t,"-image")]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},["".concat(t,"-description")]:{color:e.colorTextDescription},["".concat(t,"-footer")]:{marginTop:n},"&-normal":{marginBlock:a,color:e.colorTextDescription,["".concat(t,"-description")]:{color:e.colorTextDescription},["".concat(t,"-image")]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDescription,["".concat(t,"-image")]:{height:e.emptyImgHeightSM}}}}})(rb(e,{emptyImgCls:"".concat(t,"-img"),emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()}))});var ND=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const CD=r.createElement(kD,null),SD=r.createElement(wD,null),ED=e=>{var t;const{className:n,rootClassName:a,prefixCls:o,image:i,description:s,children:l,imageStyle:c,style:d,classNames:u,styles:m}=e,g=ND(e,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:p,direction:f,className:h,style:v,classNames:x,styles:y,image:b}=sv("empty"),k=p("empty",o),[w,j,N]=jD(k),[C]=$O("Empty"),S="undefined"!==typeof s?s:null===C||void 0===C?void 0:C.description,E="string"===typeof S?S:"empty",_=null!==(t=null!==i&&void 0!==i?i:b)&&void 0!==t?t:CD;let O=null;return O="string"===typeof _?r.createElement("img",{draggable:!1,alt:E,src:_}):_,w(r.createElement("div",Object.assign({className:Ah()(j,N,k,h,{["".concat(k,"-normal")]:_===SD,["".concat(k,"-rtl")]:"rtl"===f},n,a,x.root,null===u||void 0===u?void 0:u.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},y.root),v),null===m||void 0===m?void 0:m.root),d)},g),r.createElement("div",{className:Ah()("".concat(k,"-image"),x.image,null===u||void 0===u?void 0:u.image),style:Object.assign(Object.assign(Object.assign({},c),y.image),null===m||void 0===m?void 0:m.image)},O),S&&r.createElement("div",{className:Ah()("".concat(k,"-description"),x.description,null===u||void 0===u?void 0:u.description),style:Object.assign(Object.assign({},y.description),null===m||void 0===m?void 0:m.description)},S),l&&r.createElement("div",{className:Ah()("".concat(k,"-footer"),x.footer,null===u||void 0===u?void 0:u.footer),style:Object.assign(Object.assign({},y.footer),null===m||void 0===m?void 0:m.footer)},l)))};ED.PRESENTED_IMAGE_DEFAULT=CD,ED.PRESENTED_IMAGE_SIMPLE=SD;const _D=ED,OD=e=>{const{componentName:t}=e,{getPrefixCls:n}=(0,r.useContext)(av),a=n("empty");switch(t){case"Table":case"List":return r.createElement(_D,{image:_D.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return r.createElement(_D,{image:_D.PRESENTED_IMAGE_SIMPLE,className:"".concat(a,"-small")});case"Table.filter":return null;default:return r.createElement(_D,null)}};const ID=function(e,t){return e||(e=>{const t={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:"scroll"===e?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},t),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},t),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},t),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},t),{points:["br","tr"],offset:[0,-4]})}})(t)},MD=new Ey("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),PD=new Ey("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),TD=new Ey("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),AD=new Ey("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),RD=new Ey("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),zD=new Ey("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),DD=new Ey("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),LD=new Ey("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),BD={"slide-up":{inKeyframes:MD,outKeyframes:PD},"slide-down":{inKeyframes:TD,outKeyframes:AD},"slide-left":{inKeyframes:RD,outKeyframes:zD},"slide-right":{inKeyframes:DD,outKeyframes:LD}},FD=(e,t)=>{const{antCls:n}=e,r="".concat(n,"-").concat(t),{inKeyframes:a,outKeyframes:o}=BD[t];return[S_(r,a,o,e.motionDurationMid),{["\n      ".concat(r,"-enter,\n      ").concat(r,"-appear\n    ")]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},["".concat(r,"-leave")]:{animationTimingFunction:e.motionEaseInQuint}}]},HD=new Ey("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),WD=new Ey("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),VD=new Ey("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),qD=new Ey("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),UD=new Ey("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),KD=new Ey("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),GD={"move-up":{inKeyframes:new Ey("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new Ey("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:HD,outKeyframes:WD},"move-left":{inKeyframes:VD,outKeyframes:qD},"move-right":{inKeyframes:UD,outKeyframes:KD}},XD=(e,t)=>{const{antCls:n}=e,r="".concat(n,"-").concat(t),{inKeyframes:a,outKeyframes:o}=GD[t];return[S_(r,a,o,e.motionDurationMid),{["\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      ")]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},["".concat(r,"-leave")]:{animationTimingFunction:e.motionEaseInOutCirc}}]},YD=e=>{const{optionHeight:t,optionFontSize:n,optionLineHeight:r,optionPadding:a}=e;return{position:"relative",display:"block",minHeight:t,padding:a,color:e.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},$D=e=>{const{antCls:t,componentCls:n}=e,r="".concat(n,"-item"),a="&".concat(t,"-slide-up-enter").concat(t,"-slide-up-enter-active"),o="&".concat(t,"-slide-up-appear").concat(t,"-slide-up-appear-active"),i="&".concat(t,"-slide-up-leave").concat(t,"-slide-up-leave-active"),s="".concat(n,"-dropdown-placement-"),l="".concat(r,"-option-selected");return[{["".concat(n,"-dropdown")]:Object.assign(Object.assign({},fb(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,["\n          ".concat(a).concat(s,"bottomLeft,\n          ").concat(o).concat(s,"bottomLeft\n        ")]:{animationName:MD},["\n          ".concat(a).concat(s,"topLeft,\n          ").concat(o).concat(s,"topLeft,\n          ").concat(a).concat(s,"topRight,\n          ").concat(o).concat(s,"topRight\n        ")]:{animationName:TD},["".concat(i).concat(s,"bottomLeft")]:{animationName:PD},["\n          ".concat(i).concat(s,"topLeft,\n          ").concat(i).concat(s,"topRight\n        ")]:{animationName:AD},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},YD(e)),{cursor:"pointer",transition:"background ".concat(e.motionDurationSlow," ease"),borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},pb),"&-state":{flex:"none",display:"flex",alignItems:"center"},["&-active:not(".concat(r,"-option-disabled)")]:{backgroundColor:e.optionActiveBg},["&-selected:not(".concat(r,"-option-disabled)")]:{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg,["".concat(r,"-option-state")]:{color:e.colorPrimary}},"&-disabled":{["&".concat(r,"-option-selected")]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:e.calc(e.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},YD(e)),{color:e.colorTextDisabled})}),["".concat(l,":has(+ ").concat(l,")")]:{borderEndStartRadius:0,borderEndEndRadius:0,["& + ".concat(l)]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},FD(e,"slide-up"),FD(e,"slide-down"),XD(e,"move-up"),XD(e,"move-down")]},JD=e=>{const{componentCls:t,iconCls:n,borderRadiusSM:r,motionDurationSlow:a,paddingXS:o,multipleItemColorDisabled:i,multipleItemBorderColorDisabled:s,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:d}=e,u="".concat(t,"-selection-overflow");return{[u]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"calc(100% - 4px)",display:"inline-flex"},["".concat(t,"-selection-item")]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:d,borderRadius:r,cursor:"default",transition:"font-size ".concat(a,", line-height ").concat(a,", height ").concat(a),marginInlineEnd:e.calc(d).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:e.calc(o).div(2).equal(),["".concat(t,"-disabled&")]:{color:i,borderColor:s,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",["> ".concat(n)]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},ZD=(e,t)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=e,a="".concat(n,"-selection-overflow"),o=e.multipleSelectItemHeight,i=(e=>{const{multipleSelectItemHeight:t,selectHeight:n,lineWidth:r}=e;return e.calc(n).sub(t).div(2).sub(r).equal()})(e),s=t?"".concat(n,"-").concat(t):"",l=(e=>{const{multipleSelectItemHeight:t,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:a}=e,o=e.max(e.calc(n).sub(r).equal(),0);return{basePadding:o,containerPadding:e.max(e.calc(o).sub(a).equal(),0),itemHeight:lx(t),itemLineHeight:lx(e.calc(t).sub(e.calc(e.lineWidth).mul(2)).equal())}})(e);return{["".concat(n,"-multiple").concat(s)]:Object.assign(Object.assign({},JD(e)),{["".concat(n,"-selector")]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:e.borderRadius,["".concat(n,"-disabled&")]:{background:e.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"".concat(lx(r)," 0"),lineHeight:lx(o),visibility:"hidden",content:'"\\a0"'}},["".concat(n,"-selection-item")]:{height:l.itemHeight,lineHeight:lx(l.itemLineHeight)},["".concat(n,"-selection-wrap")]:{alignSelf:"flex-start","&:after":{lineHeight:lx(o),marginBlock:r}},["".concat(n,"-prefix")]:{marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal()},["".concat(a,"-item + ").concat(a,"-item,\n        ").concat(n,"-prefix + ").concat(n,"-selection-wrap\n      ")]:{["".concat(n,"-selection-search")]:{marginInlineStart:0},["".concat(n,"-selection-placeholder")]:{insetInlineStart:0}},["".concat(a,"-item-suffix")]:{minHeight:l.itemHeight,marginBlock:r},["".concat(n,"-selection-search")]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(i).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:e.fontFamily,lineHeight:lx(o),transition:"all ".concat(e.motionDurationSlow)},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},["".concat(n,"-selection-placeholder")]:{position:"absolute",top:"50%",insetInlineStart:e.calc(e.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:"all ".concat(e.motionDurationSlow)}})}};function QD(e,t){const{componentCls:n}=e,r=t?"".concat(n,"-").concat(t):"",a={["".concat(n,"-multiple").concat(r)]:{fontSize:e.fontSize,["".concat(n,"-selector")]:{["".concat(n,"-show-search&")]:{cursor:"text"}},["\n        &".concat(n,"-show-arrow ").concat(n,"-selector,\n        &").concat(n,"-allow-clear ").concat(n,"-selector\n      ")]:{paddingInlineEnd:e.calc(e.fontSizeIcon).add(e.controlPaddingHorizontal).equal()}}};return[ZD(e,t),a]}const eL=e=>{const{componentCls:t}=e,n=rb(e,{selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),r=rb(e,{fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius});return[QD(e),QD(n,"sm"),{["".concat(t,"-multiple").concat(t,"-sm")]:{["".concat(t,"-selection-placeholder")]:{insetInline:e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal()},["".concat(t,"-selection-search")]:{marginInlineStart:2}}},QD(r,"lg")]};function tL(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:a}=e,o=e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),i=t?"".concat(n,"-").concat(t):"";return{["".concat(n,"-single").concat(i)]:{fontSize:e.fontSize,height:e.controlHeight,["".concat(n,"-selector")]:Object.assign(Object.assign({},fb(e,!0)),{display:"flex",borderRadius:a,flex:"1 1 auto",["".concat(n,"-selection-wrap:after")]:{lineHeight:lx(o)},["".concat(n,"-selection-search")]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},["\n          ".concat(n,"-selection-item,\n          ").concat(n,"-selection-placeholder\n        ")]:{display:"block",padding:0,lineHeight:lx(o),transition:"all ".concat(e.motionDurationSlow,", visibility 0s"),alignSelf:"center"},["".concat(n,"-selection-placeholder")]:{transition:"none",pointerEvents:"none"},[["&:after","".concat(n,"-selection-item:empty:after"),"".concat(n,"-selection-placeholder:empty:after")].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),["\n        &".concat(n,"-show-arrow ").concat(n,"-selection-item,\n        &").concat(n,"-show-arrow ").concat(n,"-selection-search,\n        &").concat(n,"-show-arrow ").concat(n,"-selection-placeholder\n      ")]:{paddingInlineEnd:e.showArrowPaddingInlineEnd},["&".concat(n,"-open ").concat(n,"-selection-item")]:{color:e.colorTextPlaceholder},["&:not(".concat(n,"-customize-input)")]:{["".concat(n,"-selector")]:{width:"100%",height:"100%",alignItems:"center",padding:"0 ".concat(lx(r)),["".concat(n,"-selection-search-input")]:{height:o,fontSize:e.fontSize},"&:after":{lineHeight:lx(o)}}},["&".concat(n,"-customize-input")]:{["".concat(n,"-selector")]:{"&:after":{display:"none"},["".concat(n,"-selection-search")]:{position:"static",width:"100%"},["".concat(n,"-selection-placeholder")]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:"0 ".concat(lx(r)),"&:after":{display:"none"}}}}}}}function nL(e){const{componentCls:t}=e,n=e.calc(e.controlPaddingHorizontalSM).sub(e.lineWidth).equal();return[tL(e),tL(rb(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{["".concat(t,"-single").concat(t,"-sm")]:{["&:not(".concat(t,"-customize-input)")]:{["".concat(t,"-selector")]:{padding:"0 ".concat(lx(n))},["&".concat(t,"-show-arrow ").concat(t,"-selection-search")]:{insetInlineEnd:e.calc(n).add(e.calc(e.fontSize).mul(1.5)).equal()},["\n            &".concat(t,"-show-arrow ").concat(t,"-selection-item,\n            &").concat(t,"-show-arrow ").concat(t,"-selection-placeholder\n          ")]:{paddingInlineEnd:e.calc(e.fontSize).mul(1.5).equal()}}}},tL(rb(e,{controlHeight:e.singleItemHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const rL=(e,t)=>{const{componentCls:n,antCls:r,controlOutlineWidth:a}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(t.borderColor),background:e.selectorBg},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(r,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{borderColor:t.hoverBorderHover},["".concat(n,"-focused& ").concat(n,"-selector")]:{borderColor:t.activeBorderColor,boxShadow:"0 0 0 ".concat(lx(a)," ").concat(t.activeOutlineColor),outline:0},["".concat(n,"-prefix")]:{color:t.color}}}},aL=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},rL(e,t))}),oL=e=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},rL(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),aL(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),aL(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}})}),iL=(e,t)=>{const{componentCls:n,antCls:r}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{background:t.bg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," transparent"),color:t.color},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(r,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{background:t.hoverBg},["".concat(n,"-focused& ").concat(n,"-selector")]:{background:e.selectorBg,borderColor:t.activeBorderColor,outline:0}}}},sL=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},iL(e,t))}),lL=e=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},iL(e,{bg:e.colorFillTertiary,hoverBg:e.colorFillSecondary,activeBorderColor:e.activeBorderColor,color:e.colorText})),sL(e,{status:"error",bg:e.colorErrorBg,hoverBg:e.colorErrorBgHover,activeBorderColor:e.colorError,color:e.colorError})),sL(e,{status:"warning",bg:e.colorWarningBg,hoverBg:e.colorWarningBgHover,activeBorderColor:e.colorWarning,color:e.colorWarning})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{borderColor:e.colorBorder,background:e.colorBgContainerDisabled,color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.colorBgContainer,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}})}),cL=e=>({"&-borderless":{["".concat(e.componentCls,"-selector")]:{background:"transparent",border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," transparent")},["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)},["&".concat(e.componentCls,"-status-error")]:{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-selection-item")]:{color:e.colorError}},["&".concat(e.componentCls,"-status-warning")]:{["".concat(e.componentCls,"-prefix, ").concat(e.componentCls,"-selection-item")]:{color:e.colorWarning}}}}),dL=(e,t)=>{const{componentCls:n,antCls:r}=e;return{["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:{borderWidth:"".concat(lx(e.lineWidth)," 0"),borderStyle:"".concat(e.lineType," none"),borderColor:"transparent transparent ".concat(t.borderColor," transparent"),background:e.selectorBg,borderRadius:0},["&:not(".concat(n,"-disabled):not(").concat(n,"-customize-input):not(").concat(r,"-pagination-size-changer)")]:{["&:hover ".concat(n,"-selector")]:{borderColor:"transparent transparent ".concat(t.hoverBorderHover," transparent")},["".concat(n,"-focused& ").concat(n,"-selector")]:{borderColor:"transparent transparent ".concat(t.activeBorderColor," transparent"),outline:0},["".concat(n,"-prefix")]:{color:t.color}}}},uL=(e,t)=>({["&".concat(e.componentCls,"-status-").concat(t.status)]:Object.assign({},dL(e,t))}),mL=e=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},dL(e,{borderColor:e.colorBorder,hoverBorderHover:e.hoverBorderColor,activeBorderColor:e.activeBorderColor,activeOutlineColor:e.activeOutlineColor,color:e.colorText})),uL(e,{status:"error",borderColor:e.colorError,hoverBorderHover:e.colorErrorHover,activeBorderColor:e.colorError,activeOutlineColor:e.colorErrorOutline,color:e.colorError})),uL(e,{status:"warning",borderColor:e.colorWarning,hoverBorderHover:e.colorWarningHover,activeBorderColor:e.colorWarning,activeOutlineColor:e.colorWarningOutline,color:e.colorWarning})),{["&".concat(e.componentCls,"-disabled")]:{["&:not(".concat(e.componentCls,"-customize-input) ").concat(e.componentCls,"-selector")]:{color:e.colorTextDisabled}},["&".concat(e.componentCls,"-multiple ").concat(e.componentCls,"-selection-item")]:{background:e.multipleItemBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.multipleItemBorderColor)}})}),gL=e=>({[e.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},oL(e)),lL(e)),cL(e)),mL(e))}),pL=e=>{const{componentCls:t}=e;return{position:"relative",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseInOut),input:{cursor:"pointer"},["".concat(t,"-show-search&")]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},["".concat(t,"-disabled&")]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},fL=e=>{const{componentCls:t}=e;return{["".concat(t,"-selection-search-input")]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},hL=e=>{const{antCls:t,componentCls:n,inputPaddingHorizontalBase:r,iconCls:a}=e,o={["".concat(n,"-clear")]:{opacity:1,background:e.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},fb(e)),{position:"relative",display:"inline-flex",cursor:"pointer",["&:not(".concat(n,"-customize-input) ").concat(n,"-selector")]:Object.assign(Object.assign({},pL(e)),fL(e)),["".concat(n,"-selection-item")]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},pb),{["> ".concat(t,"-typography")]:{display:"inline"}}),["".concat(n,"-selection-placeholder")]:Object.assign(Object.assign({},pb),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),["".concat(n,"-arrow")]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:"opacity ".concat(e.motionDurationSlow," ease"),[a]:{verticalAlign:"top",transition:"transform ".concat(e.motionDurationSlow),"> svg":{verticalAlign:"top"},["&:not(".concat(n,"-suffix)")]:{pointerEvents:"auto"}},["".concat(n,"-disabled &")]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),["".concat(n,"-selection-wrap")]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},["".concat(n,"-prefix")]:{flex:"none",marginInlineEnd:e.selectAffixPadding},["".concat(n,"-clear")]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:e.calc(e.fontSizeIcon).mul(-1).div(2).equal(),color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:"color ".concat(e.motionDurationMid," ease, opacity ").concat(e.motionDurationSlow," ease"),textRendering:"auto",transform:"translateZ(0)","&:before":{display:"block"},"&:hover":{color:e.colorIcon}},"@media(hover:none)":o,"&:hover":o}),["".concat(n,"-status")]:{"&-error, &-warning, &-success, &-validating":{["&".concat(n,"-has-feedback")]:{["".concat(n,"-clear")]:{insetInlineEnd:e.calc(r).add(e.fontSize).add(e.paddingXS).equal()}}}}}},vL=e=>{const{componentCls:t}=e;return[{[t]:{["&".concat(t,"-in-form-item")]:{width:"100%"}}},hL(e),nL(e),eL(e),$D(e),{["".concat(t,"-rtl")]:{direction:"rtl"}},UN(e,{borderElCls:"".concat(t,"-selector"),focusElCls:"".concat(t,"-focused")})]},xL=_k("Select",(e,t)=>{let{rootPrefixCls:n}=t;const r=rb(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[vL(r),gL(r)]},e=>{const{fontSize:t,lineHeight:n,lineWidth:r,controlHeight:a,controlHeightSM:o,controlHeightLG:i,paddingXXS:s,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:d,fontWeightStrong:u,controlItemBgActive:m,controlItemBgHover:g,colorBgContainer:p,colorFillSecondary:f,colorBgContainerDisabled:h,colorTextDisabled:v,colorPrimaryHover:x,colorPrimary:y,controlOutline:b}=e,k=2*s,w=2*r,j=Math.min(a-k,a-w),N=Math.min(o-k,o-w),C=Math.min(i-k,i-w);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(s/2),zIndexPopup:c+50,optionSelectedColor:d,optionSelectedFontWeight:u,optionSelectedBg:m,optionActiveBg:g,optionPadding:"".concat((a-t*n)/2,"px ").concat(l,"px"),optionFontSize:t,optionLineHeight:n,optionHeight:a,selectorBg:p,clearBg:p,singleItemHeightLG:i,multipleItemBg:f,multipleItemBorderColor:"transparent",multipleItemHeight:j,multipleItemHeightSM:N,multipleItemHeightLG:C,multipleSelectorBgDisabled:h,multipleItemColorDisabled:v,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(1.25*e.fontSize),hoverBorderColor:x,activeBorderColor:y,activeOutlineColor:b,selectAffixPadding:s}},{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});const yL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var bL=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:yL}))};const kL=r.forwardRef(bL);const wL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var jL=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:wL}))};const NL=r.forwardRef(jL);const CL=function(e){return r.useMemo(()=>{if(e)return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.createElement(jM,{space:!0},e.apply(void 0,n))}},[e])};var SL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const EL="SECRET_COMBOBOX_MODE_DO_NOT_USE",_L=(e,t)=>{var n,a,o,i,s;const{prefixCls:l,bordered:c,className:d,rootClassName:u,getPopupContainer:m,popupClassName:g,dropdownClassName:p,listHeight:f=256,placement:h,listItemHeight:v,size:x,disabled:y,notFoundContent:b,status:k,builtinPlacements:w,dropdownMatchSelectWidth:j,popupMatchSelectWidth:N,direction:C,style:S,allowClear:E,variant:_,dropdownStyle:O,transitionName:I,tagRender:M,maxCount:P,prefix:T,dropdownRender:A,popupRender:R,onDropdownVisibleChange:z,onOpenChange:D,styles:L,classNames:B}=e,F=SL(e,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:H,getPrefixCls:W,renderEmpty:V,direction:q,virtual:U,popupMatchSelectWidth:K,popupOverflow:G}=r.useContext(av),{showSearch:X,style:Y,styles:$,className:J,classNames:Z}=sv("select"),[,Q]=Ek(),ee=null!==v&&void 0!==v?v:null===Q||void 0===Q?void 0:Q.controlHeight,te=W("select",l),ne=W(),re=null!==C&&void 0!==C?C:q,{compactSize:ae,compactItemClassnames:oe}=wj(te,re),[ie,se]=HA("select",_,c),le=hS(te),[ce,de,ue]=xL(te,le),me=r.useMemo(()=>{const{mode:t}=e;if("combobox"!==t)return t===EL?"combobox":t},[e.mode]),ge="multiple"===me||"tags"===me,pe=function(e,t){return void 0!==t?t:null!==e}(e.suffixIcon,e.showArrow),fe=null!==(n=null!==N&&void 0!==N?N:j)&&void 0!==n?n:K,he=(null===(a=null===L||void 0===L?void 0:L.popup)||void 0===a?void 0:a.root)||(null===(o=$.popup)||void 0===o?void 0:o.root)||O,ve=CL(R||A),xe=D||z,{status:ye,hasFeedback:be,isFormItemInput:ke,feedbackIcon:we}=r.useContext(p_),je=FA(ye,k);let Ne;Ne=void 0!==b?b:"combobox"===me?null:(null===V||void 0===V?void 0:V("Select"))||r.createElement(OD,{componentName:"Select"});const{suffixIcon:Ce,itemIcon:Se,removeIcon:Ee,clearIcon:_e}=function(e){let{suffixIcon:t,clearIcon:n,menuItemSelectedIcon:a,removeIcon:o,loading:i,multiple:s,hasFeedback:l,prefixCls:c,showSuffixIcon:d,feedbackIcon:u,showArrow:m,componentName:g}=e;const p=null!==n&&void 0!==n?n:r.createElement(UC,null),f=e=>null!==t||l||m?r.createElement(r.Fragment,null,!1!==d&&e,l&&u):null;let h=null;if(void 0!==t)h=f(t);else if(i)h=f(r.createElement(eN,{spin:!0}));else{const e="".concat(c,"-suffix");h=t=>{let{open:n,showSearch:a}=t;return f(n&&a?r.createElement(pR,{className:e}):r.createElement(NL,{className:e}))}}let v=null;v=void 0!==a?a:s?r.createElement(kL,null):null;let x=null;return x=void 0!==o?o:r.createElement(IS,null),{clearIcon:p,suffixIcon:h,itemIcon:v,removeIcon:x}}(Object.assign(Object.assign({},F),{multiple:ge,hasFeedback:be,feedbackIcon:we,showSuffixIcon:pe,prefixCls:te,componentName:"Select"})),Oe=!0===E?{clearIcon:_e}:E,Ie=Fh(F,["suffixIcon","itemIcon"]),Me=Ah()((null===(i=null===B||void 0===B?void 0:B.popup)||void 0===i?void 0:i.root)||(null===(s=null===Z||void 0===Z?void 0:Z.popup)||void 0===s?void 0:s.root)||g||p,{["".concat(te,"-dropdown-").concat(re)]:"rtl"===re},u,Z.root,null===B||void 0===B?void 0:B.root,ue,le,de),Pe=hj(e=>{var t;return null!==(t=null!==x&&void 0!==x?x:ae)&&void 0!==t?t:e}),Te=r.useContext(mj),Ae=null!==y&&void 0!==y?y:Te,Re=Ah()({["".concat(te,"-lg")]:"large"===Pe,["".concat(te,"-sm")]:"small"===Pe,["".concat(te,"-rtl")]:"rtl"===re,["".concat(te,"-").concat(ie)]:se,["".concat(te,"-in-form-item")]:ke},BA(te,je,be),oe,J,d,Z.root,null===B||void 0===B?void 0:B.root,u,ue,le,de),ze=r.useMemo(()=>void 0!==h?h:"rtl"===re?"bottomRight":"bottomLeft",[h,re]);const[De]=wS("SelectLike",null===he||void 0===he?void 0:he.zIndex);return ce(r.createElement(bD,Object.assign({ref:t,virtual:U,showSearch:X},Ie,{style:Object.assign(Object.assign(Object.assign(Object.assign({},$.root),null===L||void 0===L?void 0:L.root),Y),S),dropdownMatchSelectWidth:fe,transitionName:k_(ne,"slide-up",I),builtinPlacements:ID(w,G),listHeight:f,listItemHeight:ee,mode:me,prefixCls:te,placement:ze,direction:re,prefix:T,suffixIcon:Ce,menuItemSelectedIcon:Se,removeIcon:Ee,allowClear:Oe,notFoundContent:Ne,className:Re,getPopupContainer:m||H,dropdownClassName:Me,disabled:Ae,dropdownStyle:Object.assign(Object.assign({},he),{zIndex:De}),maxCount:ge?P:void 0,tagRender:ge?M:void 0,dropdownRender:ve,onDropdownVisibleChange:xe})))};const OL=r.forwardRef(_L),IL=BT(OL,"dropdownAlign");OL.SECRET_COMBOBOX_MODE_DO_NOT_USE=EL,OL.Option=Rz,OL.OptGroup=Tz,OL._InternalPanelDoNotUseOrYouWillBeFired=IL;const ML=OL;function PL(e,t,n){return(e-t)/(n-t)}function TL(e,t,n,r){var a=PL(t,n,r),o={};switch(e){case"rtl":o.right="".concat(100*a,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(100*a,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(100*a,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(100*a,"%"),o.transform="translateX(-50%)"}return o}function AL(e,t){return Array.isArray(e)?e[t]:e}const RL=r.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}});var zL=r.createContext({}),DL=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],LL=r.forwardRef(function(e,t){var n,a=e.prefixCls,o=e.value,i=e.valueIndex,s=e.onStartMove,l=e.onDelete,c=e.style,d=e.render,u=e.dragging,m=e.draggingDelete,g=e.onOffsetChange,p=e.onChangeComplete,f=e.onFocus,h=e.onMouseEnter,v=Be(e,DL),x=r.useContext(RL),y=x.min,b=x.max,k=x.direction,w=x.disabled,j=x.keyboard,N=x.range,C=x.tabIndex,S=x.ariaLabelForHandle,E=x.ariaLabelledByForHandle,_=x.ariaRequired,O=x.ariaValueTextFormatterForHandle,I=x.styles,M=x.classNames,P="".concat(a,"-handle"),T=function(e){w||s(e,i)},A=TL(k,o,y,b),R={};null!==i&&(R={tabIndex:w?null:AL(C,i),role:"slider","aria-valuemin":y,"aria-valuemax":b,"aria-valuenow":o,"aria-disabled":w,"aria-label":AL(S,i),"aria-labelledby":AL(E,i),"aria-required":AL(_,i),"aria-valuetext":null===(n=AL(O,i))||void 0===n?void 0:n(o),"aria-orientation":"ltr"===k||"rtl"===k?"horizontal":"vertical",onMouseDown:T,onTouchStart:T,onFocus:function(e){null===f||void 0===f||f(e,i)},onMouseEnter:function(e){h(e,i)},onKeyDown:function(e){if(!w&&j){var t=null;switch(e.which||e.keyCode){case QC.LEFT:t="ltr"===k||"btt"===k?-1:1;break;case QC.RIGHT:t="ltr"===k||"btt"===k?1:-1;break;case QC.UP:t="ttb"!==k?1:-1;break;case QC.DOWN:t="ttb"!==k?-1:1;break;case QC.HOME:t="min";break;case QC.END:t="max";break;case QC.PAGE_UP:t=2;break;case QC.PAGE_DOWN:t=-2;break;case QC.BACKSPACE:case QC.DELETE:null===l||void 0===l||l(i)}null!==t&&(e.preventDefault(),g(t,i))}},onKeyUp:function(e){switch(e.which||e.keyCode){case QC.LEFT:case QC.RIGHT:case QC.UP:case QC.DOWN:case QC.HOME:case QC.END:case QC.PAGE_UP:case QC.PAGE_DOWN:null===p||void 0===p||p()}}});var z=r.createElement("div",jx({ref:t,className:Ah()(P,ze(ze(ze({},"".concat(P,"-").concat(i+1),null!==i&&N),"".concat(P,"-dragging"),u),"".concat(P,"-dragging-delete"),m),M.handle),style:Le(Le(Le({},A),c),I.handle)},R,v));return d&&(z=d(z,{index:i,prefixCls:a,value:o,dragging:u,draggingDelete:m})),z});const BL=LL;var FL=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],HL=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.style,o=e.onStartMove,i=e.onOffsetChange,s=e.values,l=e.handleRender,c=e.activeHandleRender,d=e.draggingIndex,u=e.draggingDelete,m=e.onFocus,g=Be(e,FL),p=r.useRef({}),f=fv(r.useState(!1),2),h=f[0],v=f[1],x=fv(r.useState(-1),2),y=x[0],b=x[1],k=function(e){b(e),v(!0)};r.useImperativeHandle(t,function(){return{focus:function(e){var t;null===(t=p.current[e])||void 0===t||t.focus()},hideHelp:function(){(0,we.flushSync)(function(){v(!1)})}}});var w=Le({prefixCls:n,onStartMove:o,onOffsetChange:i,render:l,onFocus:function(e,t){k(t),null===m||void 0===m||m(e)},onMouseEnter:function(e,t){k(t)}},g);return r.createElement(r.Fragment,null,s.map(function(e,t){var n=d===t;return r.createElement(BL,jx({ref:function(e){e?p.current[t]=e:delete p.current[t]},dragging:n,draggingDelete:n&&u,style:AL(a,t),key:t,value:e,valueIndex:t},w))}),c&&h&&r.createElement(BL,jx({key:"a11y"},w,{value:s[y],valueIndex:null,dragging:-1!==d,draggingDelete:u,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))});const WL=HL;const VL=function(e){var t=e.prefixCls,n=e.style,a=e.children,o=e.value,i=e.onClick,s=r.useContext(RL),l=s.min,c=s.max,d=s.direction,u=s.includedStart,m=s.includedEnd,g=s.included,p="".concat(t,"-text"),f=TL(d,o,l,c);return r.createElement("span",{className:Ah()(p,ze({},"".concat(p,"-active"),g&&u<=o&&o<=m)),style:Le(Le({},f),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){i(o)}},a)};const qL=function(e){var t=e.prefixCls,n=e.marks,a=e.onClick,o="".concat(t,"-mark");return n.length?r.createElement("div",{className:o},n.map(function(e){var t=e.value,n=e.style,i=e.label;return r.createElement(VL,{key:t,prefixCls:o,style:n,value:t,onClick:a},i)})):null};const UL=function(e){var t=e.prefixCls,n=e.value,a=e.style,o=e.activeStyle,i=r.useContext(RL),s=i.min,l=i.max,c=i.direction,d=i.included,u=i.includedStart,m=i.includedEnd,g="".concat(t,"-dot"),p=d&&u<=n&&n<=m,f=Le(Le({},TL(c,n,s,l)),"function"===typeof a?a(n):a);return p&&(f=Le(Le({},f),"function"===typeof o?o(n):o)),r.createElement("span",{className:Ah()(g,ze({},"".concat(g,"-active"),p)),style:f})};const KL=function(e){var t=e.prefixCls,n=e.marks,a=e.dots,o=e.style,i=e.activeStyle,s=r.useContext(RL),l=s.min,c=s.max,d=s.step,u=r.useMemo(function(){var e=new Set;if(n.forEach(function(t){e.add(t.value)}),a&&null!==d)for(var t=l;t<=c;)e.add(t),t+=d;return Array.from(e)},[l,c,d,a,n]);return r.createElement("div",{className:"".concat(t,"-step")},u.map(function(e){return r.createElement(UL,{prefixCls:t,key:e,value:e,style:o,activeStyle:i})}))};const GL=function(e){var t=e.prefixCls,n=e.style,a=e.start,o=e.end,i=e.index,s=e.onStartMove,l=e.replaceCls,c=r.useContext(RL),d=c.direction,u=c.min,m=c.max,g=c.disabled,p=c.range,f=c.classNames,h="".concat(t,"-track"),v=PL(a,u,m),x=PL(o,u,m),y=function(e){!g&&s&&s(e,-1)},b={};switch(d){case"rtl":b.right="".concat(100*v,"%"),b.width="".concat(100*x-100*v,"%");break;case"btt":b.bottom="".concat(100*v,"%"),b.height="".concat(100*x-100*v,"%");break;case"ttb":b.top="".concat(100*v,"%"),b.height="".concat(100*x-100*v,"%");break;default:b.left="".concat(100*v,"%"),b.width="".concat(100*x-100*v,"%")}var k=l||Ah()(h,ze(ze({},"".concat(h,"-").concat(i+1),null!==i&&p),"".concat(t,"-track-draggable"),s),f.track);return r.createElement("div",{className:k,style:Le(Le({},b),n),onMouseDown:y,onTouchStart:y})};const XL=function(e){var t=e.prefixCls,n=e.style,a=e.values,o=e.startPoint,i=e.onStartMove,s=r.useContext(RL),l=s.included,c=s.range,d=s.min,u=s.styles,m=s.classNames,g=r.useMemo(function(){if(!c){if(0===a.length)return[];var e=null!==o&&void 0!==o?o:d,t=a[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],r=0;r<a.length-1;r+=1)n.push({start:a[r],end:a[r+1]});return n},[a,c,o,d]);if(!l)return null;var p=null!==g&&void 0!==g&&g.length&&(m.tracks||u.tracks)?r.createElement(GL,{index:null,prefixCls:t,start:g[0].start,end:g[g.length-1].end,replaceCls:Ah()(m.tracks,"".concat(t,"-tracks")),style:u.tracks}):null;return r.createElement(r.Fragment,null,p,g.map(function(e,a){var o=e.start,s=e.end;return r.createElement(GL,{index:a,prefixCls:t,style:Le(Le({},AL(n,a)),u.track),start:o,end:s,key:a,onStartMove:i})}))};function YL(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}const $L=function(e,t,n,a,o,i,s,l,c,d,u){var m=fv(r.useState(null),2),g=m[0],p=m[1],f=fv(r.useState(-1),2),h=f[0],v=f[1],x=fv(r.useState(!1),2),y=x[0],b=x[1],k=fv(r.useState(n),2),w=k[0],j=k[1],N=fv(r.useState(n),2),C=N[0],S=N[1],E=r.useRef(null),_=r.useRef(null),O=r.useRef(null),I=r.useContext(zL),M=I.onDragStart,P=I.onDragChange;Bh(function(){-1===h&&j(n)},[n,h]),r.useEffect(function(){return function(){document.removeEventListener("mousemove",E.current),document.removeEventListener("mouseup",_.current),O.current&&(O.current.removeEventListener("touchmove",E.current),O.current.removeEventListener("touchend",_.current))}},[]);var T=function(e,t,n){void 0!==t&&p(t),j(e);var r=e;n&&(r=e.filter(function(e,t){return t!==h})),s(r),P&&P({rawValues:e,deleteIndex:n?h:-1,draggingIndex:h,draggingValue:t})},A=Vy(function(e,t,n){if(-1===e){var r=C[0],s=C[C.length-1],l=a-r,d=o-s,u=t*(o-a);u=Math.max(u,l),u=Math.min(u,d);var m=i(r+u);u=m-r;var g=C.map(function(e){return e+u});T(g)}else{var p=(o-a)*t,f=vv(w);f[e]=C[e];var h=c(f,p,e,"dist");T(h.values,h.value,n)}}),R=r.useMemo(function(){var e=vv(n).sort(function(e,t){return e-t}),t=vv(w).sort(function(e,t){return e-t}),r={};t.forEach(function(e){r[e]=(r[e]||0)+1}),e.forEach(function(e){r[e]=(r[e]||0)-1});var a=d?1:0,o=Object.values(r).reduce(function(e,t){return e+Math.abs(t)},0);return o<=a?w:n},[n,w,d]);return[h,g,y,R,function(r,a,o){r.stopPropagation();var i=o||n,s=i[a];v(a),p(s),S(i),j(i),b(!1);var c=YL(r),m=c.pageX,g=c.pageY,f=!1;M&&M({rawValues:i,draggingIndex:a,draggingValue:s});var h=function(n){n.preventDefault();var r,o,i=YL(n),s=i.pageX,l=i.pageY,c=s-m,p=l-g,h=e.current.getBoundingClientRect(),v=h.width,x=h.height;switch(t){case"btt":r=-p/x,o=c;break;case"ttb":r=p/x,o=c;break;case"rtl":r=-c/v,o=p;break;default:r=c/v,o=p}f=!!d&&(Math.abs(o)>130&&u<w.length),b(f),A(a,r,f)},x=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",h),O.current&&(O.current.removeEventListener("touchmove",E.current),O.current.removeEventListener("touchend",_.current)),E.current=null,_.current=null,O.current=null,l(f),v(-1),b(!1)};document.addEventListener("mouseup",x),document.addEventListener("mousemove",h),r.currentTarget.addEventListener("touchend",x),r.currentTarget.addEventListener("touchmove",h),E.current=h,_.current=x,O.current=r.currentTarget}]};var JL=r.forwardRef(function(e,t){var n=e.prefixCls,a=void 0===n?"rc-slider":n,o=e.className,i=e.style,s=e.classNames,l=e.styles,c=e.id,d=e.disabled,u=void 0!==d&&d,m=e.keyboard,g=void 0===m||m,p=e.autoFocus,f=e.onFocus,h=e.onBlur,v=e.min,x=void 0===v?0:v,y=e.max,b=void 0===y?100:y,k=e.step,w=void 0===k?1:k,j=e.value,N=e.defaultValue,C=e.range,S=e.count,E=e.onChange,_=e.onBeforeChange,O=e.onAfterChange,I=e.onChangeComplete,M=e.allowCross,P=void 0===M||M,T=e.pushable,A=void 0!==T&&T,R=e.reverse,z=e.vertical,D=e.included,L=void 0===D||D,B=e.startPoint,F=e.trackStyle,H=e.handleStyle,W=e.railStyle,V=e.dotStyle,q=e.activeDotStyle,U=e.marks,K=e.dots,G=e.handleRender,X=e.activeHandleRender,Y=e.track,$=e.tabIndex,J=void 0===$?0:$,Z=e.ariaLabelForHandle,Q=e.ariaLabelledByForHandle,ee=e.ariaRequired,te=e.ariaValueTextFormatterForHandle,ne=r.useRef(null),re=r.useRef(null),ae=r.useMemo(function(){return z?R?"ttb":"btt":R?"rtl":"ltr"},[R,z]),oe=function(e){return(0,r.useMemo)(function(){if(!0===e||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack;return[!0,t,!t&&n,e.minCount||0,e.maxCount]},[e])}(C),ie=fv(oe,5),se=ie[0],le=ie[1],ce=ie[2],de=ie[3],ue=ie[4],me=r.useMemo(function(){return isFinite(x)?x:0},[x]),ge=r.useMemo(function(){return isFinite(b)?b:100},[b]),pe=r.useMemo(function(){return null!==w&&w<=0?1:w},[w]),fe=r.useMemo(function(){return"boolean"===typeof A?!!A&&pe:A>=0&&A},[A,pe]),he=r.useMemo(function(){return Object.keys(U||{}).map(function(e){var t=U[e],n={value:Number(e)};return t&&"object"===Ae(t)&&!r.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n}).filter(function(e){var t=e.label;return t||"number"===typeof t}).sort(function(e,t){return e.value-t.value})},[U]),ve=function(e,t,n,a,o,i){var s=r.useCallback(function(n){return Math.max(e,Math.min(t,n))},[e,t]),l=r.useCallback(function(r){if(null!==n){var a=e+Math.round((s(r)-e)/n)*n,o=function(e){return(String(e).split(".")[1]||"").length},i=Math.max(o(n),o(t),o(e)),l=Number(a.toFixed(i));return e<=l&&l<=t?l:null}return null},[n,e,t,s]),c=r.useCallback(function(r){var o=s(r),i=a.map(function(e){return e.value});null!==n&&i.push(l(r)),i.push(e,t);var c=i[0],d=t-e;return i.forEach(function(e){var t=Math.abs(o-e);t<=d&&(c=e,d=t)}),c},[e,t,a,n,s,l]),d=function r(o,i,s){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof i){var d,u=o[s],m=u+i,g=[];a.forEach(function(e){g.push(e.value)}),g.push(e,t),g.push(l(u));var p=i>0?1:-1;"unit"===c?g.push(l(u+p*n)):g.push(l(m)),g=g.filter(function(e){return null!==e}).filter(function(e){return i<0?e<=u:e>=u}),"unit"===c&&(g=g.filter(function(e){return e!==u}));var f="unit"===c?u:m;d=g[0];var h=Math.abs(d-f);if(g.forEach(function(e){var t=Math.abs(e-f);t<h&&(d=e,h=t)}),void 0===d)return i<0?e:t;if("dist"===c)return d;if(Math.abs(i)>1){var v=vv(o);return v[s]=d,r(v,i-p,s,c)}return d}return"min"===i?e:"max"===i?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e[n],o=d(e,t,n,r);return{value:o,changed:o!==a}},m=function(e){return null===i&&0===e||"number"===typeof i&&e<i};return[c,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",a=e.map(c),s=a[n],l=d(a,t,n,r);if(a[n]=l,!1===o){var g=i||0;n>0&&a[n-1]!==s&&(a[n]=Math.max(a[n],a[n-1]+g)),n<a.length-1&&a[n+1]!==s&&(a[n]=Math.min(a[n],a[n+1]-g))}else if("number"===typeof i||null===i){for(var p=n+1;p<a.length;p+=1)for(var f=!0;m(a[p]-a[p-1])&&f;){var h=u(a,1,p);a[p]=h.value,f=h.changed}for(var v=n;v>0;v-=1)for(var x=!0;m(a[v]-a[v-1])&&x;){var y=u(a,-1,v-1);a[v-1]=y.value,x=y.changed}for(var b=a.length-1;b>0;b-=1)for(var k=!0;m(a[b]-a[b-1])&&k;){var w=u(a,-1,b-1);a[b-1]=w.value,k=w.changed}for(var j=0;j<a.length-1;j+=1)for(var N=!0;m(a[j+1]-a[j])&&N;){var C=u(a,1,j+1);a[j+1]=C.value,N=C.changed}}return{value:a[n],values:a}}]}(me,ge,pe,he,P,fe),xe=fv(ve,2),ye=xe[0],be=xe[1],ke=fv(Ky(N,{value:j}),2),we=ke[0],je=ke[1],Ne=r.useMemo(function(){var e=null===we||void 0===we?[]:Array.isArray(we)?we:[we],t=fv(e,1)[0],n=null===we?[]:[void 0===t?me:t];if(se){if(n=vv(e),S||void 0===we){var r=S>=0?S+1:2;for(n=n.slice(0,r);n.length<r;){var a;n.push(null!==(a=n[n.length-1])&&void 0!==a?a:me)}}n.sort(function(e,t){return e-t})}return n.forEach(function(e,t){n[t]=ye(e)}),n},[we,se,me,S,ye]),Ce=function(e){return se?e:e[0]},Se=Vy(function(e){var t=vv(e).sort(function(e,t){return e-t});E&&!Dv(t,Ne,!0)&&E(Ce(t)),je(t)}),Ee=Vy(function(e){e&&ne.current.hideHelp();var t=Ce(Ne);null===O||void 0===O||O(t),zv(!O,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===I||void 0===I||I(t)}),_e=fv($L(re,ae,Ne,me,ge,ye,Se,Ee,be,le,de),5),Oe=_e[0],Ie=_e[1],Me=_e[2],Pe=_e[3],Te=_e[4],Re=function(e,t){if(!u){var n=vv(Ne),r=0,a=0,o=ge-me;Ne.forEach(function(t,n){var i=Math.abs(e-t);i<=o&&(o=i,r=n),t<e&&(a=n)});var i=r;le&&0!==o&&(!ue||Ne.length<ue)?(n.splice(a+1,0,e),i=a+1):n[r]=e,se&&!Ne.length&&void 0===S&&n.push(e);var s,l,c=Ce(n);if(null===_||void 0===_||_(c),Se(n),t)null===(s=document.activeElement)||void 0===s||null===(l=s.blur)||void 0===l||l.call(s),ne.current.focus(i),Te(t,i,n);else null===O||void 0===O||O(c),zv(!O,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),null===I||void 0===I||I(c)}},De=fv(r.useState(null),2),Be=De[0],Fe=De[1];r.useEffect(function(){if(null!==Be){var e=Ne.indexOf(Be);e>=0&&ne.current.focus(e)}Fe(null)},[Be]);var He=r.useMemo(function(){return(!ce||null!==pe)&&ce},[ce,pe]),We=Vy(function(e,t){Te(e,t),null===_||void 0===_||_(Ce(Ne))}),Ve=-1!==Oe;r.useEffect(function(){if(!Ve){var e=Ne.lastIndexOf(Ie);ne.current.focus(e)}},[Ve]);var qe=r.useMemo(function(){return vv(Pe).sort(function(e,t){return e-t})},[Pe]),Ue=fv(r.useMemo(function(){return se?[qe[0],qe[qe.length-1]]:[me,qe[0]]},[qe,se,me]),2),Ke=Ue[0],Ge=Ue[1];r.useImperativeHandle(t,function(){return{focus:function(){ne.current.focus(0)},blur:function(){var e,t=document.activeElement;null!==(e=re.current)&&void 0!==e&&e.contains(t)&&(null===t||void 0===t||t.blur())}}}),r.useEffect(function(){p&&ne.current.focus(0)},[]);var Xe=r.useMemo(function(){return{min:me,max:ge,direction:ae,disabled:u,keyboard:g,step:pe,included:L,includedStart:Ke,includedEnd:Ge,range:se,tabIndex:J,ariaLabelForHandle:Z,ariaLabelledByForHandle:Q,ariaRequired:ee,ariaValueTextFormatterForHandle:te,styles:l||{},classNames:s||{}}},[me,ge,ae,u,g,pe,L,Ke,Ge,se,J,Z,Q,ee,te,l,s]);return r.createElement(RL.Provider,{value:Xe},r.createElement("div",{ref:re,className:Ah()(a,o,ze(ze(ze(ze({},"".concat(a,"-disabled"),u),"".concat(a,"-vertical"),z),"".concat(a,"-horizontal"),!z),"".concat(a,"-with-marks"),he.length)),style:i,onMouseDown:function(e){e.preventDefault();var t,n=re.current.getBoundingClientRect(),r=n.width,a=n.height,o=n.left,i=n.top,s=n.bottom,l=n.right,c=e.clientX,d=e.clientY;switch(ae){case"btt":t=(s-d)/a;break;case"ttb":t=(d-i)/a;break;case"rtl":t=(l-c)/r;break;default:t=(c-o)/r}Re(ye(me+t*(ge-me)),e)},id:c},r.createElement("div",{className:Ah()("".concat(a,"-rail"),null===s||void 0===s?void 0:s.rail),style:Le(Le({},W),null===l||void 0===l?void 0:l.rail)}),!1!==Y&&r.createElement(XL,{prefixCls:a,style:F,values:Ne,startPoint:B,onStartMove:He?We:void 0}),r.createElement(KL,{prefixCls:a,marks:he,dots:K,style:V,activeStyle:q}),r.createElement(WL,{ref:ne,prefixCls:a,style:H,values:Pe,draggingIndex:Oe,draggingDelete:Me,onStartMove:We,onOffsetChange:function(e,t){if(!u){var n=be(Ne,e,t);null===_||void 0===_||_(Ce(Ne)),Se(n.values),Fe(n.value)}},onFocus:f,onBlur:h,handleRender:G,activeHandleRender:X,onChangeComplete:Ee,onDelete:le?function(e){if(!(u||!le||Ne.length<=de)){var t=vv(Ne);t.splice(e,1),null===_||void 0===_||_(Ce(t)),Se(t);var n=Math.max(0,e-1);ne.current.hideHelp(),ne.current.focus(n)}}:void 0}),r.createElement(qL,{prefixCls:a,marks:he,onClick:Re})))});const ZL=JL,QL=(0,r.createContext)({});const eB=r.forwardRef((e,t)=>{const{open:n,draggingDelete:a,value:o}=e,i=(0,r.useRef)(null),s=n&&!a,l=(0,r.useRef)(null);function c(){Lk.cancel(l.current),l.current=null}return r.useEffect(()=>(s?l.current=Lk(()=>{var e;null===(e=i.current)||void 0===e||e.forceAlign(),l.current=null}):c(),c),[s,e.title,o]),r.createElement(KM,Object.assign({ref:Yh(i,t)},e,{open:s}))}),tB=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:a,marginFull:o,marginPart:i,colorFillContentHover:s,handleColorDisabled:l,calc:c,handleSize:d,handleSizeHover:u,handleActiveColor:m,handleActiveOutlineColor:g,handleLineWidth:p,handleLineWidthHover:f,motionDurationMid:h}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{position:"relative",height:r,margin:"".concat(lx(i)," ").concat(lx(o)),padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:"".concat(lx(o)," ").concat(lx(i))},["".concat(t,"-rail")]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:"background-color ".concat(h)},["".concat(t,"-track,").concat(t,"-tracks")]:{position:"absolute",transition:"background-color ".concat(h)},["".concat(t,"-track")]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},["".concat(t,"-track-draggable")]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{["".concat(t,"-rail")]:{backgroundColor:e.railHoverBg},["".concat(t,"-track")]:{backgroundColor:e.trackHoverBg},["".concat(t,"-dot")]:{borderColor:s},["".concat(t,"-handle::after")]:{boxShadow:"0 0 0 ".concat(lx(p)," ").concat(e.colorPrimaryBorderHover)},["".concat(t,"-dot-active")]:{borderColor:e.dotActiveBorderColor}},["".concat(t,"-handle")]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(p).mul(-1).equal(),insetBlockStart:c(p).mul(-1).equal(),width:c(d).add(c(p).mul(2)).equal(),height:c(d).add(c(p).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:"0 0 0 ".concat(lx(p)," ").concat(e.handleColor),outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:"\n            inset-inline-start ".concat(h,",\n            inset-block-start ").concat(h,",\n            width ").concat(h,",\n            height ").concat(h,",\n            box-shadow ").concat(h,",\n            outline ").concat(h,"\n          ")},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(u).sub(d).div(2).add(f).mul(-1).equal(),insetBlockStart:c(u).sub(d).div(2).add(f).mul(-1).equal(),width:c(u).add(c(f).mul(2)).equal(),height:c(u).add(c(f).mul(2)).equal()},"&::after":{boxShadow:"0 0 0 ".concat(lx(f)," ").concat(m),outline:"6px solid ".concat(g),width:u,height:u,insetInlineStart:e.calc(d).sub(u).div(2).equal(),insetBlockStart:e.calc(d).sub(u).div(2).equal()}}},["&-lock ".concat(t,"-handle")]:{"&::before, &::after":{transition:"none"}},["".concat(t,"-mark")]:{position:"absolute",fontSize:e.fontSize},["".concat(t,"-mark-text")]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},["".concat(t,"-step")]:{position:"absolute",background:"transparent",pointerEvents:"none"},["".concat(t,"-dot")]:{position:"absolute",width:a,height:a,backgroundColor:e.colorBgElevated,border:"".concat(lx(p)," solid ").concat(e.dotBorderColor),borderRadius:"50%",cursor:"pointer",transition:"border-color ".concat(e.motionDurationSlow),pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},["&".concat(t,"-disabled")]:{cursor:"not-allowed",["".concat(t,"-rail")]:{backgroundColor:"".concat(e.railBg," !important")},["".concat(t,"-track")]:{backgroundColor:"".concat(e.trackBgDisabled," !important")},["\n          ".concat(t,"-dot\n        ")]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},["".concat(t,"-handle::after")]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:"0 0 0 ".concat(lx(p)," ").concat(l),insetInlineStart:0,insetBlockStart:0},["\n          ".concat(t,"-mark-text,\n          ").concat(t,"-dot\n        ")]:{cursor:"not-allowed !important"}},["&-tooltip ".concat(n,"-tooltip-inner")]:{minWidth:"unset"}})}},nB=(e,t)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:o,marginFull:i,calc:s}=e,l=t?"paddingBlock":"paddingInline",c=t?"width":"height",d=t?"height":"width",u=t?"insetBlockStart":"insetInlineStart",m=t?"top":"insetInlineStart",g=s(r).mul(3).sub(a).div(2).equal(),p=s(a).sub(r).div(2).equal(),f=t?{borderWidth:"".concat(lx(p)," 0"),transform:"translateY(".concat(lx(s(p).mul(-1).equal()),")")}:{borderWidth:"0 ".concat(lx(p)),transform:"translateX(".concat(lx(e.calc(p).mul(-1).equal()),")")};return{[l]:r,[d]:s(r).mul(3).equal(),["".concat(n,"-rail")]:{[c]:"100%",[d]:r},["".concat(n,"-track,").concat(n,"-tracks")]:{[d]:r},["".concat(n,"-track-draggable")]:Object.assign({},f),["".concat(n,"-handle")]:{[u]:g},["".concat(n,"-mark")]:{insetInlineStart:0,top:0,[m]:s(r).mul(3).add(t?0:i).equal(),[c]:"100%"},["".concat(n,"-step")]:{insetInlineStart:0,top:0,[m]:r,[c]:"100%",[d]:r},["".concat(n,"-dot")]:{position:"absolute",[u]:s(r).sub(o).div(2).equal()}}},rB=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{["".concat(t,"-horizontal")]:Object.assign(Object.assign({},nB(e,!0)),{["&".concat(t,"-with-marks")]:{marginBottom:n}})}},aB=e=>{const{componentCls:t}=e;return{["".concat(t,"-vertical")]:Object.assign(Object.assign({},nB(e,!1)),{height:"100%"})}},oB=_k("Slider",e=>{const t=rb(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[tB(t),rB(t),aB(t)]},e=>{const t=e.controlHeightLG/4,n=e.controlHeightSM/2,r=e.lineWidth+1,a=e.lineWidth+1.5,o=e.colorPrimary,i=new _b(o).setA(.2).toRgbString();return{controlSize:t,railSize:4,handleSize:t,handleSizeHover:n,dotSize:8,handleLineWidth:r,handleLineWidthHover:a,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:o,handleActiveOutlineColor:i,handleColorDisabled:new _b(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}});function iB(){const[e,t]=r.useState(!1),n=r.useRef(null),a=()=>{Lk.cancel(n.current)};return r.useEffect(()=>a,[]),[e,e=>{a(),e?t(e):n.current=Lk(()=>{t(e)})}]}var sB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const lB=r.forwardRef((e,t)=>{const{prefixCls:n,range:a,className:o,rootClassName:i,style:s,disabled:l,tooltipPrefixCls:c,tipFormatter:d,tooltipVisible:u,getTooltipPopupContainer:m,tooltipPlacement:g,tooltip:p={},onChangeComplete:f,classNames:h,styles:v}=e,x=sB(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:y}=e,{getPrefixCls:b,direction:k,className:w,style:j,classNames:N,styles:C,getPopupContainer:S}=sv("slider"),E=r.useContext(mj),_=null!==l&&void 0!==l?l:E,{handleRender:O,direction:I}=r.useContext(QL),M="rtl"===(I||k),[P,T]=iB(),[A,R]=iB(),z=Object.assign({},p),{open:D,placement:L,getPopupContainer:B,prefixCls:F,formatter:H}=z,W=null!==D&&void 0!==D?D:u,V=(P||A)&&!1!==W,q=function(e,t){return e||null===e?e:t||null===t?t:e=>"number"===typeof e?e.toString():""}(H,d),[U,K]=iB(),G=(e,t)=>e||(t?M?"left":"right":"top"),X=b("slider",n),[Y,$,J]=oB(X),Z=Ah()(o,w,N.root,null===h||void 0===h?void 0:h.root,i,{["".concat(X,"-rtl")]:M,["".concat(X,"-lock")]:U},$,J);M&&!x.vertical&&(x.reverse=!x.reverse),r.useEffect(()=>{const e=()=>{Lk(()=>{R(!1)},1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]);const Q=a&&!W,ee=O||((e,t)=>{const{index:n}=t,a=e.props;function o(e,t,n){var r,o,i,s;n&&(null===(o=(r=x)[e])||void 0===o||o.call(r,t)),null===(s=(i=a)[e])||void 0===s||s.call(i,t)}const i=Object.assign(Object.assign({},a),{onMouseEnter:e=>{T(!0),o("onMouseEnter",e)},onMouseLeave:e=>{T(!1),o("onMouseLeave",e)},onMouseDown:e=>{R(!0),K(!0),o("onMouseDown",e)},onFocus:e=>{var t;R(!0),null===(t=x.onFocus)||void 0===t||t.call(x,e),o("onFocus",e,!0)},onBlur:e=>{var t;R(!1),null===(t=x.onBlur)||void 0===t||t.call(x,e),o("onBlur",e,!0)}}),s=r.cloneElement(e,i),l=(!!W||V)&&null!==q;return Q?s:r.createElement(eB,Object.assign({},z,{prefixCls:b("tooltip",null!==F&&void 0!==F?F:c),title:q?q(t.value):"",value:t.value,open:l,placement:G(null!==L&&void 0!==L?L:g,y),key:n,classNames:{root:"".concat(X,"-tooltip")},getPopupContainer:B||m||S}),s)}),te=Q?(e,t)=>{const n=r.cloneElement(e,{style:Object.assign(Object.assign({},e.props.style),{visibility:"hidden"})});return r.createElement(eB,Object.assign({},z,{prefixCls:b("tooltip",null!==F&&void 0!==F?F:c),title:q?q(t.value):"",open:null!==q&&V,placement:G(null!==L&&void 0!==L?L:g,y),key:"tooltip",classNames:{root:"".concat(X,"-tooltip")},getPopupContainer:B||m||S,draggingDelete:t.draggingDelete}),n)}:void 0,ne=Object.assign(Object.assign(Object.assign(Object.assign({},C.root),j),null===v||void 0===v?void 0:v.root),s),re=Object.assign(Object.assign({},C.tracks),null===v||void 0===v?void 0:v.tracks),ae=Ah()(N.tracks,null===h||void 0===h?void 0:h.tracks);return Y(r.createElement(ZL,Object.assign({},x,{classNames:Object.assign({handle:Ah()(N.handle,null===h||void 0===h?void 0:h.handle),rail:Ah()(N.rail,null===h||void 0===h?void 0:h.rail),track:Ah()(N.track,null===h||void 0===h?void 0:h.track)},ae?{tracks:ae}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},C.handle),null===v||void 0===v?void 0:v.handle),rail:Object.assign(Object.assign({},C.rail),null===v||void 0===v?void 0:v.rail),track:Object.assign(Object.assign({},C.track),null===v||void 0===v?void 0:v.track)},Object.keys(re).length?{tracks:re}:{}),step:x.step,range:a,className:Z,style:ne,disabled:_,ref:t,prefixCls:X,handleRender:ee,activeHandleRender:te,onChangeComplete:e=>{null===f||void 0===f||f(e),K(!1)}})))});const cB=lB;var dB=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],uB=(0,r.forwardRef)(function(e,t){var n=e.prefixCls,a=void 0===n?"rc-checkbox":n,o=e.className,i=e.style,s=e.checked,l=e.disabled,c=e.defaultChecked,d=void 0!==c&&c,u=e.type,m=void 0===u?"checkbox":u,g=e.title,p=e.onChange,f=Be(e,dB),h=(0,r.useRef)(null),v=(0,r.useRef)(null),x=fv(Ky(d,{value:s}),2),y=x[0],b=x[1];(0,r.useImperativeHandle)(t,function(){return{focus:function(e){var t;null===(t=h.current)||void 0===t||t.focus(e)},blur:function(){var e;null===(e=h.current)||void 0===e||e.blur()},input:h.current,nativeElement:v.current}});var k=Ah()(a,o,ze(ze({},"".concat(a,"-checked"),y),"".concat(a,"-disabled"),l));return r.createElement("span",{className:k,title:g,style:i,ref:v},r.createElement("input",jx({},f,{className:"".concat(a,"-input"),ref:h,onChange:function(t){l||("checked"in e||b(t.target.checked),null===p||void 0===p||p({target:Le(Le({},e),{},{type:m,checked:t.target.checked}),stopPropagation:function(){t.stopPropagation()},preventDefault:function(){t.preventDefault()},nativeEvent:t.nativeEvent}))},disabled:l,checked:!!y,type:m})),r.createElement("span",{className:"".concat(a,"-inner")}))});const mB=uB,gB=r.createContext(null);function pB(e,t){return(e=>{const{checkboxCls:t}=e,n="".concat(t,"-wrapper");return[{["".concat(t,"-group")]:Object.assign(Object.assign({},fb(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,["> ".concat(e.antCls,"-row")]:{flex:1}}),[n]:Object.assign(Object.assign({},fb(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},["& + ".concat(n)]:{marginInlineStart:0},["&".concat(n,"-in-form-item")]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},fb(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",["".concat(t,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,["&:focus-visible + ".concat(t,"-inner")]:hb(e)},["".concat(t,"-inner")]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:"all ".concat(e.motionDurationSlow),"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:"".concat(lx(e.lineWidthBold)," solid ").concat(e.colorWhite),borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:"all ".concat(e.motionDurationFast," ").concat(e.motionEaseInBack,", opacity ").concat(e.motionDurationFast)}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{["\n        ".concat(n,":not(").concat(n,"-disabled),\n        ").concat(t,":not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{borderColor:e.colorPrimary}},["".concat(n,":not(").concat(n,"-disabled)")]:{["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled) ").concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},["&:hover ".concat(t,"-checked:not(").concat(t,"-disabled):after")]:{borderColor:e.colorPrimaryHover}}},{["".concat(t,"-checked")]:{["".concat(t,"-inner")]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack," ").concat(e.motionDurationFast)}}},["\n        ".concat(n,"-checked:not(").concat(n,"-disabled),\n        ").concat(t,"-checked:not(").concat(t,"-disabled)\n      ")]:{["&:hover ".concat(t,"-inner")]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{["".concat(t,"-inner")]:{backgroundColor:"".concat(e.colorBgContainer),borderColor:"".concat(e.colorBorder),"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},["&:hover ".concat(t,"-inner")]:{backgroundColor:"".concat(e.colorBgContainer),borderColor:"".concat(e.colorPrimary)}}}}},{["".concat(n,"-disabled")]:{cursor:"not-allowed"},["".concat(t,"-disabled")]:{["&, ".concat(t,"-input")]:{cursor:"not-allowed",pointerEvents:"none"},["".concat(t,"-inner")]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},["&".concat(t,"-indeterminate ").concat(t,"-inner::after")]:{background:e.colorTextDisabled}}}]})(rb(t,{checkboxCls:".".concat(e),checkboxSize:t.controlInteractiveSize}))}const fB=_k("Checkbox",(e,t)=>{let{prefixCls:n}=t;return[pB(n,e)]});function hB(e){const t=r.useRef(null),n=()=>{Lk.cancel(t.current),t.current=null};return[()=>{n(),t.current=Lk(()=>{t.current=null})},r=>{t.current&&(r.stopPropagation(),n()),null===e||void 0===e||e(r)}]}var vB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const xB=(e,t)=>{var n;const{prefixCls:a,className:o,rootClassName:i,children:s,indeterminate:l=!1,style:c,onMouseEnter:d,onMouseLeave:u,skipGroup:m=!1,disabled:g}=e,p=vB(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:f,direction:h,checkbox:v}=r.useContext(av),x=r.useContext(gB),{isFormItemInput:y}=r.useContext(p_),b=r.useContext(mj),k=null!==(n=(null===x||void 0===x?void 0:x.disabled)||g)&&void 0!==n?n:b,w=r.useRef(p.value),j=r.useRef(null),N=Yh(t,j);r.useEffect(()=>{null===x||void 0===x||x.registerValue(p.value)},[]),r.useEffect(()=>{if(!m)return p.value!==w.current&&(null===x||void 0===x||x.cancelValue(w.current),null===x||void 0===x||x.registerValue(p.value),w.current=p.value),()=>null===x||void 0===x?void 0:x.cancelValue(p.value)},[p.value]),r.useEffect(()=>{var e;(null===(e=j.current)||void 0===e?void 0:e.input)&&(j.current.input.indeterminate=l)},[l]);const C=f("checkbox",a),S=hS(C),[E,_,O]=fB(C,S),I=Object.assign({},p);x&&!m&&(I.onChange=function(){if(p.onChange){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p.onChange.apply(p,t)}x.toggleOption&&x.toggleOption({label:s,value:p.value})},I.name=x.name,I.checked=x.value.includes(p.value));const M=Ah()("".concat(C,"-wrapper"),{["".concat(C,"-rtl")]:"rtl"===h,["".concat(C,"-wrapper-checked")]:I.checked,["".concat(C,"-wrapper-disabled")]:k,["".concat(C,"-wrapper-in-form-item")]:y},null===v||void 0===v?void 0:v.className,o,i,O,S,_),P=Ah()({["".concat(C,"-indeterminate")]:l},Bk,_),[T,A]=hB(I.onClick);return E(r.createElement(cj,{component:"Checkbox",disabled:k},r.createElement("label",{className:M,style:Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),c),onMouseEnter:d,onMouseLeave:u,onClick:T},r.createElement(mB,Object.assign({},I,{onClick:A,prefixCls:C,className:P,disabled:k,ref:N})),void 0!==s&&null!==s&&r.createElement("span",{className:"".concat(C,"-label")},s))))};const yB=r.forwardRef(xB);var bB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const kB=r.forwardRef((e,t)=>{const{defaultValue:n,children:a,options:o=[],prefixCls:i,className:s,rootClassName:l,style:c,onChange:d}=e,u=bB(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:m,direction:g}=r.useContext(av),[p,f]=r.useState(u.value||n||[]),[h,v]=r.useState([]);r.useEffect(()=>{"value"in u&&f(u.value||[])},[u.value]);const x=r.useMemo(()=>o.map(e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e),[o]),y=e=>{v(t=>t.filter(t=>t!==e))},b=e=>{v(t=>[].concat(vv(t),[e]))},k=e=>{const t=p.indexOf(e.value),n=vv(p);-1===t?n.push(e.value):n.splice(t,1),"value"in u||f(n),null===d||void 0===d||d(n.filter(e=>h.includes(e)).sort((e,t)=>x.findIndex(t=>t.value===e)-x.findIndex(e=>e.value===t)))},w=m("checkbox",i),j="".concat(w,"-group"),N=hS(w),[C,S,E]=fB(w,N),_=Fh(u,["value","disabled"]),O=o.length?x.map(e=>r.createElement(yB,{prefixCls:w,key:e.value.toString(),disabled:"disabled"in e?e.disabled:u.disabled,value:e.value,checked:p.includes(e.value),onChange:e.onChange,className:Ah()("".concat(j,"-item"),e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label)):a,I=r.useMemo(()=>({toggleOption:k,value:p,disabled:u.disabled,name:u.name,registerValue:b,cancelValue:y}),[k,p,u.disabled,u.name,b,y]),M=Ah()(j,{["".concat(j,"-rtl")]:"rtl"===g},s,l,E,N,S);return C(r.createElement("div",Object.assign({className:M,style:c},_,{ref:t}),r.createElement(gB.Provider,{value:I},O)))}),wB=kB,jB=yB;jB.Group=wB,jB.__ANT_CHECKBOX=!0;const NB=jB,CB=Ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),SB=Ve("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),EB=Ve("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);function _B(e){return["small","middle","large"].includes(e)}function OB(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}const IB=e=>{const{componentCls:t,borderRadius:n,paddingSM:r,colorBorder:a,paddingXS:o,fontSizeLG:i,fontSizeSM:s,borderRadiusLG:l,borderRadiusSM:c,colorBgContainerDisabled:d,lineWidth:u}=e;return{[t]:[{display:"inline-flex",alignItems:"center",gap:0,paddingInline:r,margin:0,background:d,borderWidth:u,borderStyle:"solid",borderColor:a,borderRadius:n,"&-large":{fontSize:i,borderRadius:l},"&-small":{paddingInline:o,borderRadius:c,fontSize:s},"&-compact-last-item":{borderEndStartRadius:0,borderStartStartRadius:0},"&-compact-first-item":{borderEndEndRadius:0,borderStartEndRadius:0},"&-compact-item:not(:first-child):not(:last-child)":{borderRadius:0},"&-compact-item:not(:last-child)":{borderInlineEndWidth:0}},UN(e,{focus:!1})]}},MB=_k(["Space","Addon"],e=>[IB(e)]);var PB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const TB=r.forwardRef((e,t)=>{const{className:n,children:a,style:o,prefixCls:i}=e,s=PB(e,["className","children","style","prefixCls"]),{getPrefixCls:l,direction:c}=r.useContext(av),d=l("space-addon",i),[u,m,g]=MB(d),{compactItemClassnames:p,compactSize:f}=wj(d,c),h=Ah()(d,m,p,g,{["".concat(d,"-").concat(f)]:f},n);return u(r.createElement("div",Object.assign({ref:t,className:h,style:o},s),a))}),AB=TB,RB=r.createContext({latestIndex:0}),zB=RB.Provider,DB=e=>{let{className:t,index:n,children:a,split:o,style:i}=e;const{latestIndex:s}=r.useContext(RB);return null===a||void 0===a?null:r.createElement(r.Fragment,null,r.createElement("div",{className:t,style:i},a),n<s&&o&&r.createElement("span",{className:"".concat(t,"-split")},o))},LB=e=>{const{componentCls:t,antCls:n}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},["".concat(t,"-item:empty")]:{display:"none"},["".concat(t,"-item > ").concat(n,"-badge-not-a-wrapper:only-child")]:{display:"block"}}}},BB=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}}}},FB=_k("Space",e=>{const t=rb(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[LB(t),BB(t)]},()=>({}),{resetStyle:!1});var HB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const WB=r.forwardRef((e,t)=>{var n;const{getPrefixCls:a,direction:o,size:i,className:s,style:l,classNames:c,styles:d}=sv("space"),{size:u=(null!==i&&void 0!==i?i:"small"),align:m,className:g,rootClassName:p,children:f,direction:h="horizontal",prefixCls:v,split:x,style:y,wrap:b=!1,classNames:k,styles:w}=e,j=HB(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[N,C]=Array.isArray(u)?u:[u,u],S=_B(C),E=_B(N),_=OB(C),O=OB(N),I=vj(f,{keepEmpty:!0}),M=void 0===m&&"horizontal"===h?"center":m,P=a("space",v),[T,A,R]=FB(P),z=Ah()(P,s,A,"".concat(P,"-").concat(h),{["".concat(P,"-rtl")]:"rtl"===o,["".concat(P,"-align-").concat(M)]:M,["".concat(P,"-gap-row-").concat(C)]:S,["".concat(P,"-gap-col-").concat(N)]:E},g,p,R),D=Ah()("".concat(P,"-item"),null!==(n=null===k||void 0===k?void 0:k.item)&&void 0!==n?n:c.item),L=Object.assign(Object.assign({},d.item),null===w||void 0===w?void 0:w.item),B=I.map((e,t)=>{const n=(null===e||void 0===e?void 0:e.key)||"".concat(D,"-").concat(t);return r.createElement(DB,{className:D,key:n,index:t,split:x,style:L},e)}),F=r.useMemo(()=>({latestIndex:I.reduce((e,t,n)=>null!==t&&void 0!==t?n:e,0)}),[I]);if(0===I.length)return null;const H={};return b&&(H.flexWrap="wrap"),!E&&O&&(H.columnGap=N),!S&&_&&(H.rowGap=C),T(r.createElement("div",Object.assign({ref:t,className:z,style:Object.assign(Object.assign(Object.assign({},H),l),y)},j),r.createElement(zB,{value:F},B)))}),VB=WB;VB.Compact=Cj,VB.Addon=AB;const qB=VB,{Option:UB}=ML,KB=e=>{let{open:t,onClose:n,policies:a={policies:a},loading:o=!1,onActivate:i,onDeactivate:s,onCopy:l,onEdit:c,onSimulate:d,onSearch:u,isPageView:m=!1,onViewLogs:g,onBackToMain:p=null,pagination:f={current:1,pageSize:10,total:0},onPaginationChange:h=null,onClearSort:v=null,onBulkActivate:x,onBulkDeactivate:y,selectedPolicies:b,setSelectedPolicies:k,onFilterChange:w=null,filterType:j,filterEffect:N,filterStatus:C}=e;const[S,E]=(0,r.useState)(""),[_,O]=(0,r.useState)(null),[I,M]=(0,r.useState)(null),[P,T]=(0,r.useState)("asc"),[A,R]=(0,r.useState)(!1),[z,D]=(0,r.useState)([]),L=(0,r.useRef)(null),B=a.every(e=>b.some(t=>t.id===e.id)),F=a.some(e=>b.some(t=>t.id===e.id))&&!B,H=()=>{k(B?[]:a)},W=e=>{w&&w(e,N,C)},V=e=>{w&&w(j,e,C)},q=e=>{w&&w(j,N,e)},U=()=>{M(null),T("asc"),h&&h(1,f.pageSize,null,null)},K=e=>{const t=e.target.value;E(t),u&&(L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{u(t)},500))},G=()=>{var e;return(0,Ue.jsx)($T,{title:"Action Logs: ".concat((null===z||void 0===z?void 0:z.name)||""),open:A,onCancel:()=>R(!1),footer:null,width:700,children:(0,Ue.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:(null===z||void 0===z||null===(e=z.action_logs)||void 0===e?void 0:e.length)>0?z.action_logs.map((e,t)=>{var n;return(0,Ue.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-md text-sm text-gray-800 dark:text-gray-200",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("strong",{children:"Action:"})," ",e.action_type]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("strong",{children:"Success:"})," ",e.success?"\u2705 Yes":"\u274c No"]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("strong",{children:"Actor:"})," ",e.actor_email||"Unknown"]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("strong",{children:"Time:"})," ",new Date(e.timestamp).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]}),(null===(n=e.details)||void 0===n?void 0:n.changes)&&(0,Ue.jsxs)("div",{className:"mt-2",children:[(0,Ue.jsx)("strong",{children:"Changes:"}),(0,Ue.jsx)("ul",{className:"list-disc list-inside",children:Object.entries(e.details.changes).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("li",{children:[t," ",void 0!==n.from&&void 0!==n.to&&'changed from "'.concat(n.from,'" to "').concat(n.to,'"'),void 0!==n.from_count&&" count changed from ".concat(n.from_count," to ").concat(n.to_count)]},t)})})]})]},t)}):(0,Ue.jsx)("div",{className:"text-gray-500",children:"No logs available for this policy."})})})},X=e=>{let{field:t,children:n,className:r=""}=e;return(0,Ue.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 ".concat(r),onClick:()=>(e=>{let t="asc";I===e&&(t="asc"===P?"desc":"asc"),M(e),T(t),m&&h&&h(1,f.pageSize,e,t)})(t),children:(0,Ue.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,Ue.jsx)("span",{children:n}),I===t&&(0,Ue.jsx)("span",{className:"text-indigo-500",children:"asc"===P?"\u2191":"\u2193"})]})})},Y=()=>o?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Ue.jsx)(EB,{className:"w-6 h-6 animate-spin text-indigo-600 dark:text-indigo-400"}),(0,Ue.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading policies..."})]}),h&&(0,Ue.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:(0,Ue.jsxs)("div",{className:"flex justify-end items-center gap-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Records per page:"}),(0,Ue.jsxs)("select",{value:f.pageSize,onChange:e=>h(1,Number(e.target.value),I,P),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",disabled:o,children:[(0,Ue.jsx)("option",{value:10,children:"10"}),(0,Ue.jsx)("option",{value:20,children:"20"}),(0,Ue.jsx)("option",{value:50,children:"50"}),(0,Ue.jsx)("option",{value:100,children:"100"}),(0,Ue.jsx)("option",{value:200,children:"200"}),(0,Ue.jsx)("option",{value:300,children:"300"}),(0,Ue.jsx)("option",{value:500,children:"500"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>h(Math.max(f.current-1,1),f.pageSize,I,P),disabled:1===f.current||o,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 disabled:opacity-50",children:"Previous"}),(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",f.current," of ",Math.ceil(f.total/f.pageSize)]}),(0,Ue.jsx)("button",{onClick:()=>h(Math.min(f.current+1,Math.ceil(f.total/f.pageSize)),f.pageSize,I,P),disabled:f.current>=Math.ceil(f.total/f.pageSize)||o,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 disabled:opacity-50",children:"Next"})]})]})})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex flex-wrap gap-4 item-center",children:[(0,Ue.jsx)("div",{className:"flex-1 min-w-[150px]",children:(0,Ue.jsx)("div",{className:"relative",children:(0,Ue.jsx)(TR,{prefix:(0,Ue.jsx)(Rr,{className:"w-4 h-4 text-gray-400"}),placeholder:"Search policies",value:S,onChange:K,autoFocus:!0,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",suffix:S?(0,Ue.jsx)(Cr,{className:"w-4 h-4 text-gray-400 cursor-pointer hover:text-gray-600",onClick:()=>{E(""),u&&u("")}}):null})})}),(0,Ue.jsxs)(ML,{value:j,style:{width:120},onChange:W,placeholder:"Type",className:"dark:bg-gray-700",children:[(0,Ue.jsx)(UB,{value:"all",children:"All Types"}),(0,Ue.jsx)(UB,{value:"ABAC",children:"ABAC"}),(0,Ue.jsx)(UB,{value:"RBAC",children:"RBAC"})]}),(0,Ue.jsxs)(ML,{value:N,style:{width:120},onChange:V,placeholder:"Effect",className:"dark:bg-gray-700",children:[(0,Ue.jsx)(UB,{value:"all",children:"All Effects"}),(0,Ue.jsx)(UB,{value:"allow",children:"Allow"}),(0,Ue.jsx)(UB,{value:"deny",children:"Deny"})]}),(0,Ue.jsxs)(ML,{value:C,style:{width:120},onChange:q,placeholder:"Status",className:"dark:bg-gray-700",children:[(0,Ue.jsx)(UB,{value:"all",children:"All Status"}),(0,Ue.jsx)(UB,{value:"active",children:"Active"}),(0,Ue.jsx)(UB,{value:"inactive",children:"Inactive"})]}),(0,Ue.jsx)(eC,{onClick:U,type:I?"primary":"default",className:I?"bg-indigo-600 hover:bg-indigo-700 text-white":"text-gray-700 dark:text-gray-500 border-gray-300 dark:border-gray-600",style:{width:120},children:"Clear Sort"})]}),(0,Ue.jsx)("div",{className:"overflow-hidden",children:(0,Ue.jsxs)("table",{className:"min-w-full",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",children:(0,Ue.jsx)("div",{className:"flex items-center justify-center",children:(0,Ue.jsx)(NB,{indeterminate:F,checked:B,onChange:H})})}),(0,Ue.jsx)(X,{field:"name",children:"Name"}),(0,Ue.jsx)(X,{field:"type",children:"Type"}),(0,Ue.jsx)(X,{field:"effect",children:"Effect"}),(0,Ue.jsx)(X,{field:"status",children:"Status"}),m&&(0,Ue.jsx)(X,{field:"created_by",className:"min-w-[140px]",children:"Created/Modified By"}),m&&(0,Ue.jsx)(X,{field:"updated_at",className:"min-w-[160px]",children:"Created/Updated At"}),(0,Ue.jsx)("th",{className:"px-3 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),0===a.length?(0,Ue.jsx)("tbody",{children:(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:m?8:6,className:"text-center p-8",children:(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No policies found"})})})}):(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(e=>(0,Ue.jsxs)(r.Fragment,{children:[(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Ue.jsx)("td",{className:"px-3 py-4 text-center",children:(0,Ue.jsx)("div",{className:"flex items-center justify-center",children:(0,Ue.jsx)(NB,{checked:b.some(t=>t.id===e.id),onChange:()=>(e=>{k(t=>t.some(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])})(e),onClick:e=>e.stopPropagation()})})}),(0,Ue.jsx)("td",{className:"px-3 py-4 whitespace-nowrap",onClick:()=>{return t=e.id,void O(_===t?null:t);var t},children:(0,Ue.jsxs)("div",{className:"flex items-center cursor-pointer",children:[_===e.id?(0,Ue.jsx)(ja,{className:"w-4 h-4 text-gray-500 mr-2"}):(0,Ue.jsx)(Na,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,Ue.jsx)(ta,{className:"w-4 h-4 text-indigo-500 mr-2"}),(0,Ue.jsx)("span",{className:"text-xs font-medium text-gray-900 dark:text-gray-300",children:e.name})]})}),(0,Ue.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-xs text-gray-500 dark:text-gray-400 text-center",children:e.type}),(0,Ue.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-center",children:"deny"===e.effect?(0,Ue.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:e.effect}):(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.effect})}),(0,Ue.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-center",children:(0,Ue.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"),children:e.active?"Active":"Inactive"})}),m&&(0,Ue.jsx)("td",{className:"px-3 py-4 text-xs text-gray-500 dark:text-gray-400 text-center min-w-[140px]",children:(0,Ue.jsx)("div",{className:"leading-tight",children:(()=>{var t,n,r,a,o,i,s,l;return e.updated_at!==e.created_at?(null===(t=e.metadata)||void 0===t?void 0:t.last_modified_by_name)||(null!==(n=e.metadata)&&void 0!==n&&n.last_modified_by_first_name&&null!==(r=e.metadata)&&void 0!==r&&r.last_modified_by_last_name?"".concat(e.metadata.last_modified_by_first_name," ").concat(e.metadata.last_modified_by_last_name):(null===(a=e.metadata)||void 0===a?void 0:a.last_modified_by_email)||e.last_modified_by||"Unknown User"):(null===(o=e.metadata)||void 0===o?void 0:o.created_by_name)||(null!==(i=e.metadata)&&void 0!==i&&i.created_by_first_name&&null!==(s=e.metadata)&&void 0!==s&&s.created_by_last_name?"".concat(e.metadata.created_by_first_name," ").concat(e.metadata.created_by_last_name):(null===(l=e.metadata)||void 0===l?void 0:l.created_by_email)||e.created_by||"Unknown User")})()})}),m&&(0,Ue.jsx)("td",{className:"px-3 py-4 text-xs text-gray-500 dark:text-gray-400 text-center min-w-[120px]",children:(0,Ue.jsx)("div",{className:"leading-tight",children:e.updated_at?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{children:new Date(e.updated_at).toLocaleDateString()}),(0,Ue.jsx)("div",{className:"text-gray-400 text-[10px]",children:new Date(e.updated_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):e.created_at?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{children:new Date(e.created_at).toLocaleDateString()}),(0,Ue.jsx)("div",{className:"text-gray-400 text-[10px]",children:new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}):"N/A"})}),(0,Ue.jsx)("td",{className:"px-3 py-4 whitespace-nowrap text-center text-xs",children:(0,Ue.jsxs)("div",{className:"flex justify-center space-x-2",onClick:e=>e.stopPropagation(),children:[d&&(0,Ue.jsx)(KM,{title:"Open Simulator",children:(0,Ue.jsx)(eC,{type:"text",icon:(0,Ue.jsx)(SB,{className:"w-4 h-4"}),onClick:()=>d(e),className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400"})}),(0,Ue.jsx)(KM,{title:"Copy Policy",children:(0,Ue.jsx)(eC,{type:"text",icon:(0,Ue.jsx)(Sa,{className:"w-4 h-4"}),onClick:()=>l(e),className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400"})}),(0,Ue.jsx)(KM,{title:"Edit Policy",children:(0,Ue.jsx)(eC,{type:"text",icon:(0,Ue.jsx)(Ea,{className:"w-4 h-4"}),onClick:()=>c(e),className:"text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400"})}),(0,Ue.jsx)(KM,{title:e.active?"Deactivate Policy":"Activate Policy",children:(0,Ue.jsx)(eC,{type:"text",icon:(0,Ue.jsx)(Nr,{className:"w-4 h-4"}),onClick:()=>e.active?s(e.id,I,P):i(e.id,I,P),className:"text-gray-600 hover:".concat(e.active?"text-yellow-600":"text-green-600"," dark:text-gray-400 dark:hover:").concat(e.active?"text-yellow-400":"text-green-400")})}),(0,Ue.jsx)(KM,{title:"View Logs",children:(0,Ue.jsx)(eC,{type:"text",icon:(0,Ue.jsx)(ea,{className:"w-4 h-4"}),onClick:()=>g(e),className:"text-gray-600 hover:text-indigo-600 dark:text-gray-400 dark:hover:text-indigo-400"})}),G()]})})]}),_===e.id&&(0,Ue.jsx)("tr",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsx)("td",{colSpan:m?8:6,className:"px-3 py-4",children:(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("pre",{className:"w-full whitespace-pre-wrap text-xs text-gray-800 dark:text-gray-300 overflow-auto max-h-80",children:JSON.stringify({id:e.id,name:e.name,type:e.type,effect:e.effect,active:e.active,subjects:e.subjects||[],resources:e.resources||[],conditions:e.conditions||[],created_by:e.metadata.created_by_first_name||e.metadata.created_by_last_name?"".concat(e.metadata.created_by_first_name||""," ").concat(e.metadata.created_by_last_name||"").trim():"",lastModifiedBy:"".concat(e.metadata.last_modified_by_first_name," ").concat(e.metadata.last_modified_by_last_name)},null,2)})})})})]},e.id))})]})}),h&&(0,Ue.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:(0,Ue.jsxs)("div",{className:"flex justify-end items-center gap-4",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total: ",f.total," policies"]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Records per page:"}),(0,Ue.jsxs)("select",{value:f.pageSize,onChange:e=>h(1,Number(e.target.value),I,P),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200",disabled:o,children:[(0,Ue.jsx)("option",{value:10,children:"10"}),(0,Ue.jsx)("option",{value:20,children:"20"}),(0,Ue.jsx)("option",{value:50,children:"50"}),(0,Ue.jsx)("option",{value:100,children:"100"}),(0,Ue.jsx)("option",{value:200,children:"200"}),(0,Ue.jsx)("option",{value:300,children:"300"}),(0,Ue.jsx)("option",{value:500,children:"500"})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>h(Math.max(f.current-1,1),f.pageSize),disabled:1===f.current||o,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 disabled:opacity-50",children:"Previous"}),(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Page ",f.current," of ",Math.ceil(f.total/f.pageSize)]}),(0,Ue.jsx)("button",{onClick:()=>h(Math.min(f.current+1,Math.ceil(f.total/f.pageSize)),f.pageSize),disabled:f.current>=Math.ceil(f.total/f.pageSize)||o,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 disabled:opacity-50",children:"Next"})]})]})})]});return m?(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[(0,Ue.jsx)("div",{className:"py-6 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex justify-between items-center h-12 min-h-12",children:[(0,Ue.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Policies"})}),(0,Ue.jsx)("div",{className:"flex items-center space-x-2 transition-all",children:b.length>0&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("span",{className:"text-sm font-medium text-indigo-800 dark:text-indigo-200",children:[b.length," policy(s) selected"]}),(0,Ue.jsxs)(qB,{children:[(0,Ue.jsx)(eC,{onClick:x,type:"primary",className:"bg-green-600 hover:bg-green-700",children:"Activate"}),(0,Ue.jsx)(eC,{onClick:y,type:"primary",danger:!0,children:"Deactivate"})]})]})})]})}),Y()]}):(0,Ue.jsx)($T,{title:"My Policies",open:t,onCancel:n,footer:null,width:900,className:"dark:bg-gray-800",children:Y()})},{Option:GB}=ML,XB=e=>{let{open:t,onClose:n,templates:a=[],loading:o=!1,onUseTemplate:i,isPageView:s=!1,onBackToMain:l=null}=e;const[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)("all"),[g,p]=(0,r.useState)(null),[f,h]=(0,r.useState)([]);r.useEffect(()=>{const e=document.createElement("style");return e.innerHTML="\n  .custom-circle-checkbox .ant-checkbox-inner {\n    border-radius: 50% !important;\n  }\n",document.head.appendChild(e),()=>{e&&document.head.contains(e)&&document.head.removeChild(e)}},[]);const v=e=>{d(e.target.value)},x=e=>{m(e)},y=()=>{if(f.length>0){const e=a.find(e=>(e.id||e.name)===f[0]);e&&i(e)}},b=a.filter(e=>{var t,n;const r=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase()),a="all"===u||(null===(n=e.template)||void 0===n?void 0:n.type)===u;return r&&a}),k=()=>o?(0,Ue.jsxs)("div",{className:"flex items-center justify-center p-8",children:[(0,Ue.jsx)(EB,{className:"w-6 h-6 animate-spin text-indigo-600 dark:text-indigo-400"}),(0,Ue.jsx)("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading templates..."})]}):a&&0!==a.length?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex flex-wrap gap-4",children:[(0,Ue.jsx)("div",{className:"flex-1 min-w-[240px]",children:(0,Ue.jsx)("div",{className:"relative",children:(0,Ue.jsx)(TR,{prefix:(0,Ue.jsx)(Rr,{className:"w-4 h-4 text-gray-400"}),placeholder:"Search templates",value:c,onChange:v,className:"dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300"})})}),(0,Ue.jsxs)(ML,{defaultValue:"all",style:{width:150},onChange:x,className:"dark:bg-gray-700",children:[(0,Ue.jsx)(GB,{value:"all",children:"All types"}),(0,Ue.jsx)(GB,{value:"access",children:"Access"}),(0,Ue.jsx)(GB,{value:"resource",children:"Resource"})]})]}),0===b.length?(0,Ue.jsx)("div",{className:"text-center p-8",children:(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No templates found"})}):(0,Ue.jsx)("div",{className:"overflow-hidden",children:(0,Ue.jsxs)("table",{className:"min-w-full",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Select"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Template Name"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Description"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"})]})}),(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:b.map(e=>{var t;return(0,Ue.jsxs)(r.Fragment,{children:[(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",onClick:()=>{return t=e.id||e.name,void p(g===t?null:t);var t},children:[(0,Ue.jsx)("td",{className:"px-2 py-4 whitespace-nowrap",children:(0,Ue.jsx)(NB,{checked:f.includes(e.id||e.name),onChange:t=>((e,t)=>{t.stopPropagation(),f.includes(e)?h([]):h([e])})(e.id||e.name,t),onClick:e=>e.stopPropagation(),style:{"--ant-checkbox-border-radius":"50%"},className:"custom-circle-checkbox"})}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ue.jsxs)("div",{className:"flex items-center",children:[g===(e.id||e.name)?(0,Ue.jsx)(ja,{className:"w-4 h-4 text-gray-500 mr-2"}):(0,Ue.jsx)(Na,{className:"w-4 h-4 text-gray-500 mr-2"}),(0,Ue.jsx)(Ar,{className:"w-4 h-4 text-indigo-500 mr-2"}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:e.name})]})}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.description}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:(null===(t=e.template)||void 0===t?void 0:t.type)||"N/A"})]}),g===(e.id||e.name)&&(0,Ue.jsx)("tr",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsx)("td",{colSpan:4,className:"px-6 py-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-md border border-gray-200 dark:border-gray-700 relative",children:[(0,Ue.jsx)("pre",{className:"whitespace-pre-wrap text-xs text-gray-800 dark:text-gray-300 overflow-auto max-h-80",children:JSON.stringify(e.template,null,2)}),(0,Ue.jsx)("div",{className:"absolute bottom-4 right-10",children:(0,Ue.jsx)(eC,{type:"primary",size:"small",onClick:()=>i(e),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Use Template"})})]})})})]},e.id||e.name)})})]})})]}):(0,Ue.jsx)("div",{className:"text-center p-8",children:(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No templates found"})});return s?(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[(0,Ue.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Policy Templates"}),(0,Ue.jsxs)("div",{className:"flex gap-2",children:[f.length>0&&(0,Ue.jsx)(eC,{onClick:y,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500  rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:focus:ring-offset-gray-900 transition-colors duration-200",children:"Use Template"}),l&&(0,Ue.jsx)(eC,{onClick:l,className:"text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600",children:"Back"})]})]})}),k()]}):(0,Ue.jsx)($T,{title:"Policy Templates",open:t,onCancel:n,footer:null,width:900,className:"dark:bg-gray-800",children:k()})},YB=e=>{const{lineWidth:t,fontSizeIcon:n,calc:r}=e,a=e.fontSizeSM;return rb(e,{tagFontSize:a,tagLineHeight:lx(r(e.lineHeightSM).mul(a).equal()),tagIconSize:r(n).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},$B=e=>({defaultBg:new _b(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText}),JB=_k("Tag",e=>(e=>{const{paddingXXS:t,lineWidth:n,tagPaddingHorizontal:r,componentCls:a,calc:o}=e,i=o(r).sub(n).equal(),s=o(t).sub(n).equal();return{[a]:Object.assign(Object.assign({},fb(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadiusSM,opacity:1,transition:"all ".concat(e.motionDurationMid),textAlign:"start",position:"relative",["&".concat(a,"-rtl")]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},["".concat(a,"-close-icon")]:{marginInlineStart:s,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),"&:hover":{color:e.colorTextHeading}},["&".concat(a,"-has-color")]:{borderColor:"transparent",["&, a, a:hover, ".concat(e.iconCls,"-close, ").concat(e.iconCls,"-close:hover")]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",["&:not(".concat(a,"-checkable-checked):hover")]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},["> ".concat(e.iconCls," + span, > span + ").concat(e.iconCls)]:{marginInlineStart:i}}),["".concat(a,"-borderless")]:{borderColor:"transparent",background:e.tagBorderlessBg}}})(YB(e)),$B);var ZB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const QB=r.forwardRef((e,t)=>{const{prefixCls:n,style:a,className:o,checked:i,children:s,icon:l,onChange:c,onClick:d}=e,u=ZB(e,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:m,tag:g}=r.useContext(av),p=m("tag",n),[f,h,v]=JB(p),x=Ah()(p,"".concat(p,"-checkable"),{["".concat(p,"-checkable-checked")]:i},null===g||void 0===g?void 0:g.className,o,h,v);return f(r.createElement("span",Object.assign({},u,{ref:t,style:Object.assign(Object.assign({},a),null===g||void 0===g?void 0:g.style),className:x,onClick:e=>{null===c||void 0===c||c(!i),null===d||void 0===d||d(e)}}),l,r.createElement("span",null,s)))}),eF=QB,tF=Ik(["Tag","preset"],e=>(e=>TM(e,(t,n)=>{let{textColor:r,lightBorderColor:a,lightColor:o,darkColor:i}=n;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:r,background:o,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}}))(YB(e)),$B);const nF=(e,t,n)=>{const r="string"!==typeof(a=n)?a:a.charAt(0).toUpperCase()+a.slice(1);var a;return{["".concat(e.componentCls).concat(e.componentCls,"-").concat(t)]:{color:e["color".concat(n)],background:e["color".concat(r,"Bg")],borderColor:e["color".concat(r,"Border")],["&".concat(e.componentCls,"-borderless")]:{borderColor:"transparent"}}}},rF=Ik(["Tag","status"],e=>{const t=YB(e);return[nF(t,"success","Success"),nF(t,"processing","Info"),nF(t,"error","Error"),nF(t,"warning","Warning")]},$B);var aF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const oF=r.forwardRef((e,t)=>{const{prefixCls:n,className:a,rootClassName:o,style:i,children:s,icon:l,color:c,onClose:d,bordered:u=!0,visible:m}=e,g=aF(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:p,direction:f,tag:h}=r.useContext(av),[v,x]=r.useState(!0),y=Fh(g,["closeIcon","closable"]);r.useEffect(()=>{void 0!==m&&x(m)},[m]);const b=BM(c),k=function(e){return LM.includes(e)}(c),w=b||k,j=Object.assign(Object.assign({backgroundColor:c&&!w?c:void 0},null===h||void 0===h?void 0:h.style),i),N=p("tag",n),[C,S,E]=JB(N),_=Ah()(N,null===h||void 0===h?void 0:h.className,{["".concat(N,"-").concat(c)]:w,["".concat(N,"-has-color")]:c&&!w,["".concat(N,"-hidden")]:!v,["".concat(N,"-rtl")]:"rtl"===f,["".concat(N,"-borderless")]:!u},a,o,S,E),O=e=>{e.stopPropagation(),null===d||void 0===d||d(e),e.defaultPrevented||x(!1)},[,I]=IP(EP(e),EP(h),{closable:!1,closeIconRender:e=>{const t=r.createElement("span",{className:"".concat(N,"-close-icon"),onClick:O},e);return cv(e,t,e=>({onClick:t=>{var n;null===(n=null===e||void 0===e?void 0:e.onClick)||void 0===n||n.call(e,t),O(t)},className:Ah()(null===e||void 0===e?void 0:e.className,"".concat(N,"-close-icon"))}))}}),M="function"===typeof g.onClick||s&&"a"===s.type,P=l||null,T=P?r.createElement(r.Fragment,null,P,s&&r.createElement("span",null,s)):s,A=r.createElement("span",Object.assign({},y,{ref:t,className:_,style:j}),T,I,b&&r.createElement(tF,{key:"preset",prefixCls:N}),k&&r.createElement(rF,{key:"status",prefixCls:N}));return C(M?r.createElement(cj,{component:"Tag"},A):A)}),iF=oF;iF.CheckableTag=eF;const sF=iF;const lF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};var cF=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:lF}))};const dF=r.forwardRef(cF);const uF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};var mF=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:uF}))};const gF=r.forwardRef(mF);const pF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var fF=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:pF}))};const hF=r.forwardRef(fF);const vF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var xF=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:vF}))};const yF=r.forwardRef(xF);const bF={items_per_page:"\u6761/\u9875",jump_to:"\u8df3\u81f3",jump_to_confirm:"\u786e\u5b9a",page:"\u9875",prev_page:"\u4e0a\u4e00\u9875",next_page:"\u4e0b\u4e00\u9875",prev_5:"\u5411\u524d 5 \u9875",next_5:"\u5411\u540e 5 \u9875",prev_3:"\u5411\u524d 3 \u9875",next_3:"\u5411\u540e 3 \u9875",page_size:"\u9875\u7801"};var kF=[10,20,50,100];const wF=function(e){var t=e.pageSizeOptions,n=void 0===t?kF:t,a=e.locale,o=e.changeSize,i=e.pageSize,s=e.goButton,l=e.quickGo,c=e.rootPrefixCls,d=e.disabled,u=e.buildOptionText,m=e.showSizeChanger,g=e.sizeChangerRender,p=fv(r.useState(""),2),f=p[0],h=p[1],v=function(){return!f||Number.isNaN(f)?void 0:Number(f)},x="function"===typeof u?u:function(e){return"".concat(e," ").concat(a.items_per_page)},y=function(e){""!==f&&(e.keyCode!==QC.ENTER&&"click"!==e.type||(h(""),null===l||void 0===l||l(v())))},b="".concat(c,"-options");if(!m&&!l)return null;var k=null,w=null,j=null;return m&&g&&(k=g({disabled:d,size:i,onSizeChange:function(e){null===o||void 0===o||o(Number(e))},"aria-label":a.page_size,className:"".concat(b,"-size-changer"),options:(n.some(function(e){return e.toString()===i.toString()})?n:n.concat([i]).sort(function(e,t){return(Number.isNaN(Number(e))?0:Number(e))-(Number.isNaN(Number(t))?0:Number(t))})).map(function(e){return{label:x(e),value:e}})})),l&&(s&&(j="boolean"===typeof s?r.createElement("button",{type:"button",onClick:y,onKeyUp:y,disabled:d,className:"".concat(b,"-quick-jumper-button")},a.jump_to_confirm):r.createElement("span",{onClick:y,onKeyUp:y},s)),w=r.createElement("div",{className:"".concat(b,"-quick-jumper")},a.jump_to,r.createElement("input",{disabled:d,type:"text",value:f,onChange:function(e){h(e.target.value)},onKeyUp:y,onBlur:function(e){s||""===f||(h(""),e.relatedTarget&&(e.relatedTarget.className.indexOf("".concat(c,"-item-link"))>=0||e.relatedTarget.className.indexOf("".concat(c,"-item"))>=0)||null===l||void 0===l||l(v()))},"aria-label":a.page}),a.page,j)),r.createElement("li",{className:b},k,w)};const jF=function(e){var t=e.rootPrefixCls,n=e.page,a=e.active,o=e.className,i=e.showTitle,s=e.onClick,l=e.onKeyPress,c=e.itemRender,d="".concat(t,"-item"),u=Ah()(d,"".concat(d,"-").concat(n),ze(ze({},"".concat(d,"-active"),a),"".concat(d,"-disabled"),!n),o),m=c(n,"page",r.createElement("a",{rel:"nofollow"},n));return m?r.createElement("li",{title:i?String(n):null,className:u,onClick:function(){s(n)},onKeyDown:function(e){l(e,s,n)},tabIndex:0},m):null};var NF=function(e,t,n){return n};function CF(){}function SF(e){var t=Number(e);return"number"===typeof t&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function EF(e,t,n){var r="undefined"===typeof e?t:e;return Math.floor((n-1)/r)+1}const _F=function(e){var t=e.prefixCls,n=void 0===t?"rc-pagination":t,a=e.selectPrefixCls,o=void 0===a?"rc-select":a,i=e.className,s=e.current,l=e.defaultCurrent,c=void 0===l?1:l,d=e.total,u=void 0===d?0:d,m=e.pageSize,g=e.defaultPageSize,p=void 0===g?10:g,f=e.onChange,h=void 0===f?CF:f,v=e.hideOnSinglePage,x=e.align,y=e.showPrevNextJumpers,b=void 0===y||y,k=e.showQuickJumper,w=e.showLessItems,j=e.showTitle,N=void 0===j||j,C=e.onShowSizeChange,S=void 0===C?CF:C,E=e.locale,_=void 0===E?bF:E,O=e.style,I=e.totalBoundaryShowSizeChanger,M=void 0===I?50:I,P=e.disabled,T=e.simple,A=e.showTotal,R=e.showSizeChanger,z=void 0===R?u>M:R,D=e.sizeChangerRender,L=e.pageSizeOptions,B=e.itemRender,F=void 0===B?NF:B,H=e.jumpPrevIcon,W=e.jumpNextIcon,V=e.prevIcon,q=e.nextIcon,U=r.useRef(null),K=fv(Ky(10,{value:m,defaultValue:p}),2),G=K[0],X=K[1],Y=fv(Ky(1,{value:s,defaultValue:c,postState:function(e){return Math.max(1,Math.min(e,EF(void 0,G,u)))}}),2),$=Y[0],J=Y[1],Z=fv(r.useState($),2),Q=Z[0],ee=Z[1];(0,r.useEffect)(function(){ee($)},[$]);var te=Math.max(1,$-(w?3:5)),ne=Math.min(EF(void 0,G,u),$+(w?3:5));function re(t,a){var o=t||r.createElement("button",{type:"button","aria-label":a,className:"".concat(n,"-item-link")});return"function"===typeof t&&(o=r.createElement(t,Le({},e))),o}function ae(e){var t=e.target.value,n=EF(void 0,G,u);return""===t?t:Number.isNaN(Number(t))?Q:t>=n?n:Number(t)}var oe=u>G&&k;function ie(e){var t=ae(e);switch(t!==Q&&ee(t),e.keyCode){case QC.ENTER:se(t);break;case QC.UP:se(t-1);break;case QC.DOWN:se(t+1)}}function se(e){if(function(e){return SF(e)&&e!==$&&SF(u)&&u>0}(e)&&!P){var t=EF(void 0,G,u),n=e;return e>t?n=t:e<1&&(n=1),n!==Q&&ee(n),J(n),null===h||void 0===h||h(n,G),n}return $}var le=$>1,ce=$<EF(void 0,G,u);function de(){le&&se($-1)}function ue(){ce&&se($+1)}function me(){se(te)}function ge(){se(ne)}function pe(e,t){if("Enter"===e.key||e.charCode===QC.ENTER||e.keyCode===QC.ENTER){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];t.apply(void 0,r)}}function fe(e){"click"!==e.type&&e.keyCode!==QC.ENTER||se(Q)}var he=null,ve=nS(e,{aria:!0,data:!0}),xe=A&&r.createElement("li",{className:"".concat(n,"-total-text")},A(u,[0===u?0:($-1)*G+1,$*G>u?u:$*G])),ye=null,be=EF(void 0,G,u);if(v&&u<=G)return null;var ke=[],we={rootPrefixCls:n,onClick:se,onKeyPress:pe,showTitle:N,itemRender:F,page:-1},je=$-1>0?$-1:0,Ne=$+1<be?$+1:be,Ce=k&&k.goButton,Se="object"===Ae(T)?T.readOnly:!T,Ee=Ce,_e=null;T&&(Ce&&(Ee="boolean"===typeof Ce?r.createElement("button",{type:"button",onClick:fe,onKeyUp:fe},_.jump_to_confirm):r.createElement("span",{onClick:fe,onKeyUp:fe},Ce),Ee=r.createElement("li",{title:N?"".concat(_.jump_to).concat($,"/").concat(be):null,className:"".concat(n,"-simple-pager")},Ee)),_e=r.createElement("li",{title:N?"".concat($,"/").concat(be):null,className:"".concat(n,"-simple-pager")},Se?Q:r.createElement("input",{type:"text","aria-label":_.jump_to,value:Q,disabled:P,onKeyDown:function(e){e.keyCode!==QC.UP&&e.keyCode!==QC.DOWN||e.preventDefault()},onKeyUp:ie,onChange:ie,onBlur:function(e){se(ae(e))},size:3}),r.createElement("span",{className:"".concat(n,"-slash")},"/"),be));var Oe=w?1:2;if(be<=3+2*Oe){be||ke.push(r.createElement(jF,jx({},we,{key:"noPager",page:1,className:"".concat(n,"-item-disabled")})));for(var Ie=1;Ie<=be;Ie+=1)ke.push(r.createElement(jF,jx({},we,{key:Ie,page:Ie,active:$===Ie})))}else{var Me=w?_.prev_3:_.prev_5,Pe=w?_.next_3:_.next_5,Te=F(te,"jump-prev",re(H,"prev page")),Re=F(ne,"jump-next",re(W,"next page"));b&&(he=Te?r.createElement("li",{title:N?Me:null,key:"prev",onClick:me,tabIndex:0,onKeyDown:function(e){pe(e,me)},className:Ah()("".concat(n,"-jump-prev"),ze({},"".concat(n,"-jump-prev-custom-icon"),!!H))},Te):null,ye=Re?r.createElement("li",{title:N?Pe:null,key:"next",onClick:ge,tabIndex:0,onKeyDown:function(e){pe(e,ge)},className:Ah()("".concat(n,"-jump-next"),ze({},"".concat(n,"-jump-next-custom-icon"),!!W))},Re):null);var De=Math.max(1,$-Oe),Be=Math.min($+Oe,be);$-1<=Oe&&(Be=1+2*Oe),be-$<=Oe&&(De=be-2*Oe);for(var Fe=De;Fe<=Be;Fe+=1)ke.push(r.createElement(jF,jx({},we,{key:Fe,page:Fe,active:$===Fe})));if($-1>=2*Oe&&3!==$&&(ke[0]=r.cloneElement(ke[0],{className:Ah()("".concat(n,"-item-after-jump-prev"),ke[0].props.className)}),ke.unshift(he)),be-$>=2*Oe&&$!==be-2){var He=ke[ke.length-1];ke[ke.length-1]=r.cloneElement(He,{className:Ah()("".concat(n,"-item-before-jump-next"),He.props.className)}),ke.push(ye)}1!==De&&ke.unshift(r.createElement(jF,jx({},we,{key:1,page:1}))),Be!==be&&ke.push(r.createElement(jF,jx({},we,{key:be,page:be})))}var We=function(e){var t=F(e,"prev",re(V,"prev page"));return r.isValidElement(t)?r.cloneElement(t,{disabled:!le}):t}(je);if(We){var Ve=!le||!be;We=r.createElement("li",{title:N?_.prev_page:null,onClick:de,tabIndex:Ve?null:0,onKeyDown:function(e){pe(e,de)},className:Ah()("".concat(n,"-prev"),ze({},"".concat(n,"-disabled"),Ve)),"aria-disabled":Ve},We)}var qe,Ue,Ke=function(e){var t=F(e,"next",re(q,"next page"));return r.isValidElement(t)?r.cloneElement(t,{disabled:!ce}):t}(Ne);Ke&&(T?(qe=!ce,Ue=le?0:null):Ue=(qe=!ce||!be)?null:0,Ke=r.createElement("li",{title:N?_.next_page:null,onClick:ue,tabIndex:Ue,onKeyDown:function(e){pe(e,ue)},className:Ah()("".concat(n,"-next"),ze({},"".concat(n,"-disabled"),qe)),"aria-disabled":qe},Ke));var Ge=Ah()(n,i,ze(ze(ze(ze(ze({},"".concat(n,"-start"),"start"===x),"".concat(n,"-center"),"center"===x),"".concat(n,"-end"),"end"===x),"".concat(n,"-simple"),T),"".concat(n,"-disabled"),P));return r.createElement("ul",jx({className:Ge,style:O,ref:U},ve),xe,We,T?_e:ke,Ke,r.createElement(wF,{locale:_,rootPrefixCls:n,disabled:P,selectPrefixCls:o,changeSize:function(e){var t=EF(e,G,u),n=$>t&&0!==t?t:$;X(e),ee(n),null===S||void 0===S||S($,e),J(n),null===h||void 0===h||h(n,e)},pageSize:G,pageSizeOptions:L,quickGo:oe?se:null,goButton:Ee,showSizeChanger:z,sizeChangerRender:D}))},OF=e=>{const{componentCls:t}=e;return{["".concat(t,"-disabled")]:{"&, &:hover":{cursor:"not-allowed",["".concat(t,"-item-link")]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",["".concat(t,"-item-link")]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},["&".concat(t,"-disabled")]:{cursor:"not-allowed",["".concat(t,"-item")]:{cursor:"not-allowed",backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},["".concat(t,"-item-link")]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},["".concat(t,"-simple&")]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},["".concat(t,"-simple-pager")]:{color:e.colorTextDisabled},["".concat(t,"-jump-prev, ").concat(t,"-jump-next")]:{["".concat(t,"-item-link-icon")]:{opacity:0},["".concat(t,"-item-ellipsis")]:{opacity:1}}}}},IF=e=>{const{componentCls:t}=e;return{["&".concat(t,"-mini ").concat(t,"-total-text, &").concat(t,"-mini ").concat(t,"-simple-pager")]:{height:e.itemSizeSM,lineHeight:lx(e.itemSizeSM)},["&".concat(t,"-mini ").concat(t,"-item")]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:lx(e.calc(e.itemSizeSM).sub(2).equal())},["&".concat(t,"-mini ").concat(t,"-prev, &").concat(t,"-mini ").concat(t,"-next")]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:lx(e.itemSizeSM)},["&".concat(t,"-mini:not(").concat(t,"-disabled)")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{["&:hover ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextHover},["&:active ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextActive},["&".concat(t,"-disabled:hover ").concat(t,"-item-link")]:{backgroundColor:"transparent"}}},["\n    &".concat(t,"-mini ").concat(t,"-prev ").concat(t,"-item-link,\n    &").concat(t,"-mini ").concat(t,"-next ").concat(t,"-item-link\n    ")]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:lx(e.itemSizeSM)}},["&".concat(t,"-mini ").concat(t,"-jump-prev, &").concat(t,"-mini ").concat(t,"-jump-next")]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:lx(e.itemSizeSM)},["&".concat(t,"-mini ").concat(t,"-options")]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:lx(e.itemSizeSM),input:Object.assign(Object.assign({},hA(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},MF=e=>{const{componentCls:t}=e;return{["&".concat(t,"-simple")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{height:e.itemSize,lineHeight:lx(e.itemSize),verticalAlign:"top",["".concat(t,"-item-link")]:{height:e.itemSize,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSize,lineHeight:lx(e.itemSize)}}},["".concat(t,"-simple-pager")]:{display:"inline-flex",alignItems:"center",height:e.itemSize,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",width:e.quickJumperInputWidth,padding:"0 ".concat(lx(e.paginationItemPaddingInline)),textAlign:"center",backgroundColor:e.itemInputBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:e.borderRadius,outline:"none",transition:"border-color ".concat(e.motionDurationMid),color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:"".concat(lx(e.inputOutlineOffset)," 0 ").concat(lx(e.controlOutlineWidth)," ").concat(e.controlOutline)},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}},["&".concat(t,"-disabled")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{["".concat(t,"-item-link")]:{"&:hover, &:active":{backgroundColor:"transparent"}}}},["&".concat(t,"-mini")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{height:e.itemSizeSM,lineHeight:lx(e.itemSizeSM),["".concat(t,"-item-link")]:{height:e.itemSizeSM,"&::after":{height:e.itemSizeSM,lineHeight:lx(e.itemSizeSM)}}},["".concat(t,"-simple-pager")]:{height:e.itemSizeSM,input:{width:e.paginationMiniQuickJumperInputWidth}}}}}},PF=e=>{const{componentCls:t}=e;return{["".concat(t,"-jump-prev, ").concat(t,"-jump-next")]:{outline:0,["".concat(t,"-item-container")]:{position:"relative",["".concat(t,"-item-link-icon")]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:"all ".concat(e.motionDurationMid),"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},["".concat(t,"-item-ellipsis")]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:"all ".concat(e.motionDurationMid)}},"&:hover":{["".concat(t,"-item-link-icon")]:{opacity:1},["".concat(t,"-item-ellipsis")]:{opacity:0}}},["\n    ".concat(t,"-prev,\n    ").concat(t,"-jump-prev,\n    ").concat(t,"-jump-next\n    ")]:{marginInlineEnd:e.marginXS},["\n    ".concat(t,"-prev,\n    ").concat(t,"-next,\n    ").concat(t,"-jump-prev,\n    ").concat(t,"-jump-next\n    ")]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:lx(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:"all ".concat(e.motionDurationMid)},["".concat(t,"-prev, ").concat(t,"-next")]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},["".concat(t,"-item-link")]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:"none",transition:"all ".concat(e.motionDurationMid)},["&:hover ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextHover},["&:active ".concat(t,"-item-link")]:{backgroundColor:e.colorBgTextActive},["&".concat(t,"-disabled:hover")]:{["".concat(t,"-item-link")]:{backgroundColor:"transparent"}}},["".concat(t,"-slash")]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},["".concat(t,"-options")]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:lx(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},vA(e)),tA(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},eA(e)),width:e.quickJumperInputWidth,height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},TF=e=>{const{componentCls:t}=e;return{["".concat(t,"-item")]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:lx(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," transparent"),borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:"0 ".concat(lx(e.paginationItemPaddingInline)),color:e.colorText,"&:hover":{textDecoration:"none"}},["&:not(".concat(t,"-item-active)")]:{"&:hover":{transition:"all ".concat(e.motionDurationMid),backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.itemActiveColor},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.itemActiveColorHover}}}}},AF=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fb(e)),{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},["".concat(t,"-total-text")]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:lx(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),TF(e)),PF(e)),MF(e)),IF(e)),OF(e)),{["@media only screen and (max-width: ".concat(e.screenLG,"px)")]:{["".concat(t,"-item")]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},["@media only screen and (max-width: ".concat(e.screenSM,"px)")]:{["".concat(t,"-options")]:{display:"none"}}}),["&".concat(e.componentCls,"-rtl")]:{direction:"rtl"}}},RF=e=>{const{componentCls:t}=e;return{["".concat(t,":not(").concat(t,"-disabled)")]:{["".concat(t,"-item")]:Object.assign({},vb(e)),["".concat(t,"-jump-prev, ").concat(t,"-jump-next")]:{"&:focus-visible":Object.assign({["".concat(t,"-item-link-icon")]:{opacity:1},["".concat(t,"-item-ellipsis")]:{opacity:0}},hb(e))},["".concat(t,"-prev, ").concat(t,"-next")]:{["&:focus-visible ".concat(t,"-item-link")]:hb(e)}}}},zF=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemActiveColor:e.colorPrimary,itemActiveColorHover:e.colorPrimaryHover,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},ZT(e)),DF=e=>rb(e,{inputOutlineOffset:0,quickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.25).equal(),paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},JT(e)),LF=_k("Pagination",e=>{const t=DF(e);return[AF(t),RF(t)]},zF),BF=Ik(["Pagination","bordered"],e=>(e=>{const{componentCls:t}=e;return{["".concat(t).concat(t,"-bordered").concat(t,"-disabled:not(").concat(t,"-mini)")]:{"&, &:hover":{["".concat(t,"-item-link")]:{borderColor:e.colorBorder}},"&:focus-visible":{["".concat(t,"-item-link")]:{borderColor:e.colorBorder}},["".concat(t,"-item, ").concat(t,"-item-link")]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,["&:hover:not(".concat(t,"-item-active)")]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},["&".concat(t,"-item-active")]:{backgroundColor:e.itemActiveBgDisabled}},["".concat(t,"-prev, ").concat(t,"-next")]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},["".concat(t,"-item-link")]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},["".concat(t).concat(t,"-bordered:not(").concat(t,"-mini)")]:{["".concat(t,"-prev, ").concat(t,"-next")]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},["".concat(t,"-item-link")]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},["&:hover ".concat(t,"-item-link")]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},["&".concat(t,"-disabled")]:{["".concat(t,"-item-link")]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},["".concat(t,"-item")]:{backgroundColor:e.itemBg,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),["&:hover:not(".concat(t,"-item-active)")]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}})(DF(e)),zF);function FF(e){return(0,r.useMemo)(()=>"boolean"===typeof e?[e,{}]:e&&"object"===typeof e?[!0,e]:[void 0,void 0],[e])}var HF=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const WF=e=>{const{align:t,prefixCls:n,selectPrefixCls:a,className:o,rootClassName:i,style:s,size:l,locale:c,responsive:d,showSizeChanger:u,selectComponentClass:m,pageSizeOptions:g}=e,p=HF(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:f}=EO(d),[,h]=Ek(),{getPrefixCls:v,direction:x,showSizeChanger:y,className:b,style:k}=sv("pagination"),w=v("pagination",n),[j,N,C]=LF(w),S=hj(l),E="small"===S||!(!f||S||!d),[_]=$O("Pagination",iC),O=Object.assign(Object.assign({},_),c),[I,M]=FF(u),[P,T]=FF(y),A=null!==I&&void 0!==I?I:P,R=null!==M&&void 0!==M?M:T,z=m||ML,D=r.useMemo(()=>g?g.map(e=>Number(e)):void 0,[g]);const L=r.useMemo(()=>{const e=r.createElement("span",{className:"".concat(w,"-item-ellipsis")},"\u2022\u2022\u2022");return{prevIcon:r.createElement("button",{className:"".concat(w,"-item-link"),type:"button",tabIndex:-1},"rtl"===x?r.createElement(yF,null):r.createElement(hF,null)),nextIcon:r.createElement("button",{className:"".concat(w,"-item-link"),type:"button",tabIndex:-1},"rtl"===x?r.createElement(hF,null):r.createElement(yF,null)),jumpPrevIcon:r.createElement("a",{className:"".concat(w,"-item-link")},r.createElement("div",{className:"".concat(w,"-item-container")},"rtl"===x?r.createElement(gF,{className:"".concat(w,"-item-link-icon")}):r.createElement(dF,{className:"".concat(w,"-item-link-icon")}),e)),jumpNextIcon:r.createElement("a",{className:"".concat(w,"-item-link")},r.createElement("div",{className:"".concat(w,"-item-container")},"rtl"===x?r.createElement(dF,{className:"".concat(w,"-item-link-icon")}):r.createElement(gF,{className:"".concat(w,"-item-link-icon")}),e))}},[x,w]),B=v("select",a),F=Ah()({["".concat(w,"-").concat(t)]:!!t,["".concat(w,"-mini")]:E,["".concat(w,"-rtl")]:"rtl"===x,["".concat(w,"-bordered")]:h.wireframe},b,o,i,N,C),H=Object.assign(Object.assign({},k),s);return j(r.createElement(r.Fragment,null,h.wireframe&&r.createElement(BF,{prefixCls:w}),r.createElement(_F,Object.assign({},L,p,{style:H,prefixCls:w,selectPrefixCls:B,className:F,locale:O,pageSizeOptions:D,showSizeChanger:A,sizeChangerRender:e=>{var t;const{disabled:n,size:a,onSizeChange:o,"aria-label":i,className:s,options:l}=e,{className:c,onChange:d}=R||{},u=null===(t=l.find(e=>String(e.value)===String(a)))||void 0===t?void 0:t.value;return r.createElement(z,Object.assign({disabled:n,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:e=>e.parentNode,"aria-label":i,options:l},R,{value:u,onChange:(e,t)=>{null===o||void 0===o||o(e),null===d||void 0===d||d(e,t)},size:E?"small":"middle",className:Ah()(s,c)}))}}))))},VF=WF;function qF(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,a=n||{},o=a.noTrailing,i=void 0!==o&&o,s=a.noLeading,l=void 0!==s&&s,c=a.debounceMode,d=void 0===c?void 0:c,u=!1,m=0;function g(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];var s=this,c=Date.now()-m;function p(){m=Date.now(),t.apply(s,a)}function f(){r=void 0}u||(l||!d||r||p(),g(),void 0===d&&c>e?l?(m=Date.now(),i||(r=setTimeout(d?f:p,e))):p():!0!==i&&(r=setTimeout(d?f:p,void 0===d?e-c:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;g(),u=!n},p}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}const UF=100,KF=80*Math.PI,GF=e=>{const{dotClassName:t,style:n,hasCircleCls:a}=e;return r.createElement("circle",{className:Ah()("".concat(t,"-circle"),{["".concat(t,"-circle-bg")]:a}),r:40,cx:50,cy:50,strokeWidth:20,style:n})},XF=e=>{let{percent:t,prefixCls:n}=e;const a="".concat(n,"-dot"),o="".concat(a,"-holder"),i="".concat(o,"-hidden"),[s,l]=r.useState(!1);Bh(()=>{0!==t&&l(!0)},[0!==t]);const c=Math.max(Math.min(t,100),0);if(!s)return null;const d={strokeDashoffset:"".concat(KF/4),strokeDasharray:"".concat(KF*c/100," ").concat(KF*(100-c)/100)};return r.createElement("span",{className:Ah()(o,"".concat(a,"-progress"),c<=0&&i)},r.createElement("svg",{viewBox:"0 0 ".concat(UF," ").concat(UF),role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":c},r.createElement(GF,{dotClassName:a,hasCircleCls:!0}),r.createElement(GF,{dotClassName:a,style:d})))};function YF(e){const{prefixCls:t,percent:n=0}=e,a="".concat(t,"-dot"),o="".concat(a,"-holder"),i="".concat(o,"-hidden");return r.createElement(r.Fragment,null,r.createElement("span",{className:Ah()(o,n>0&&i)},r.createElement("span",{className:Ah()(a,"".concat(t,"-dot-spin"))},[1,2,3,4].map(e=>r.createElement("i",{className:"".concat(t,"-dot-item"),key:e})))),r.createElement(XF,{prefixCls:t,percent:n}))}function $F(e){var t;const{prefixCls:n,indicator:a,percent:o}=e,i="".concat(n,"-dot");return a&&r.isValidElement(a)?dv(a,{className:Ah()(null===(t=a.props)||void 0===t?void 0:t.className,i),percent:o}):r.createElement(YF,{prefixCls:n,percent:o})}const JF=new Ey("antSpinMove",{to:{opacity:1}}),ZF=new Ey("antRotate",{to:{transform:"rotate(405deg)"}}),QF=_k("Spin",e=>(e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:"transform ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOutCirc),"&-spinning":{position:"relative",display:"inline-block",opacity:1},["".concat(t,"-text")]:{fontSize:e.fontSize,paddingTop:n(n(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:"all ".concat(e.motionDurationMid),"&-show":{opacity:1,visibility:"visible"},[t]:{["".concat(t,"-dot-holder")]:{color:e.colorWhite},["".concat(t,"-text")]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",["> div > ".concat(t)]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,["".concat(t,"-dot")]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:n(e.dotSize).mul(-1).div(2).equal()},["".concat(t,"-text")]:{position:"absolute",top:"50%",width:"100%",textShadow:"0 1px 2px ".concat(e.colorBgContainer)},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:n(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{["".concat(t,"-dot")]:{margin:n(e.dotSizeSM).mul(-1).div(2).equal()},["".concat(t,"-text")]:{paddingTop:n(n(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:n(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{["".concat(t,"-dot")]:{margin:n(e.dotSizeLG).mul(-1).div(2).equal()},["".concat(t,"-text")]:{paddingTop:n(n(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},["&".concat(t,"-show-text ").concat(t,"-dot")]:{marginTop:n(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},["".concat(t,"-container")]:{position:"relative",transition:"opacity ".concat(e.motionDurationSlow),"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:"all ".concat(e.motionDurationSlow),content:'""',pointerEvents:"none"}},["".concat(t,"-blur")]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},["".concat(t,"-dot-holder")]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:"transform ".concat(e.motionDurationSlow," ease, opacity ").concat(e.motionDurationSlow," ease"),transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},["".concat(t,"-dot-progress")]:{position:"absolute",inset:0},["".concat(t,"-dot")]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),height:n(e.dotSize).sub(n(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:JF,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:ZF,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(t=>"".concat(t," ").concat(e.motionDurationSlow," ease")).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},["&-sm ".concat(t,"-dot")]:{"&, &-holder":{fontSize:e.dotSizeSM}},["&-sm ".concat(t,"-dot-holder")]:{i:{width:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal(),height:n(n(e.dotSizeSM).sub(n(e.marginXXS).div(2))).div(2).equal()}},["&-lg ".concat(t,"-dot")]:{"&, &-holder":{fontSize:e.dotSizeLG}},["&-lg ".concat(t,"-dot-holder")]:{i:{width:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:n(n(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},["&".concat(t,"-show-text ").concat(t,"-text")]:{display:"block"}})}})(rb(e,{spinDotDefault:e.colorTextDescription})),e=>{const{controlHeightLG:t,controlHeight:n}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:.35*t,dotSizeLG:n}}),eH=[[30,.05],[70,.03],[96,.01]];var tH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};let nH;const rH=e=>{var t;const{prefixCls:n,spinning:a=!0,delay:o=0,className:i,rootClassName:s,size:l="default",tip:c,wrapperClassName:d,style:u,children:m,fullscreen:g=!1,indicator:p,percent:f}=e,h=tH(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:v,direction:x,className:y,style:b,indicator:k}=sv("spin"),w=v("spin",n),[j,N,C]=QF(w),[S,E]=r.useState(()=>a&&!function(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}(a,o)),_=function(e,t){const[n,a]=r.useState(0),o=r.useRef(null),i="auto"===t;return r.useEffect(()=>(i&&e&&(a(0),o.current=setInterval(()=>{a(e=>{const t=100-e;for(let n=0;n<eH.length;n+=1){const[r,a]=eH[n];if(e<=r)return e+t*a}return e})},200)),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[i,e]),i?n:t}(S,f);r.useEffect(()=>{if(a){const e=qF(o,()=>{E(!0)});return e(),()=>{var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}E(!1)},[o,a]);const O=r.useMemo(()=>"undefined"!==typeof m&&!g,[m,g]);const I=Ah()(w,y,{["".concat(w,"-sm")]:"small"===l,["".concat(w,"-lg")]:"large"===l,["".concat(w,"-spinning")]:S,["".concat(w,"-show-text")]:!!c,["".concat(w,"-rtl")]:"rtl"===x},i,!g&&s,N,C),M=Ah()("".concat(w,"-container"),{["".concat(w,"-blur")]:S}),P=null!==(t=null!==p&&void 0!==p?p:k)&&void 0!==t?t:nH,T=Object.assign(Object.assign({},b),u),A=r.createElement("div",Object.assign({},h,{style:T,className:I,"aria-live":"polite","aria-busy":S}),r.createElement($F,{prefixCls:w,indicator:P,percent:_}),c&&(O||g)?r.createElement("div",{className:"".concat(w,"-text")},c):null);return j(O?r.createElement("div",Object.assign({},h,{className:Ah()("".concat(w,"-nested-loading"),d,N,C)}),S&&r.createElement("div",{key:"loading"},A),r.createElement("div",{className:M,key:"container"},m)):g?r.createElement("div",{className:Ah()("".concat(w,"-fullscreen"),{["".concat(w,"-fullscreen-show")]:S},s,N,C)},A):A)};rH.setDefaultIndicator=e=>{nH=e};const aH=rH,oH=r.createContext({});oH.Consumer;var iH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const sH=r.forwardRef((e,t)=>{const{prefixCls:n,children:a,actions:o,extra:i,styles:s,className:l,classNames:c,colStyle:d}=e,u=iH(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:m,itemLayout:g}=(0,r.useContext)(oH),{getPrefixCls:p,list:f}=(0,r.useContext)(av),h=e=>{var t,n;return Ah()(null===(n=null===(t=null===f||void 0===f?void 0:f.item)||void 0===t?void 0:t.classNames)||void 0===n?void 0:n[e],null===c||void 0===c?void 0:c[e])},v=e=>{var t,n;return Object.assign(Object.assign({},null===(n=null===(t=null===f||void 0===f?void 0:f.item)||void 0===t?void 0:t.styles)||void 0===n?void 0:n[e]),null===s||void 0===s?void 0:s[e])},x=p("list",n),y=o&&o.length>0&&r.createElement("ul",{className:Ah()("".concat(x,"-item-action"),h("actions")),key:"actions",style:v("actions")},o.map((e,t)=>r.createElement("li",{key:"".concat(x,"-item-action-").concat(t)},e,t!==o.length-1&&r.createElement("em",{className:"".concat(x,"-item-action-split")})))),b=m?"div":"li",k=r.createElement(b,Object.assign({},u,m?{}:{ref:t},{className:Ah()("".concat(x,"-item"),{["".concat(x,"-item-no-flex")]:!("vertical"===g?i:!(()=>{let e=!1;return r.Children.forEach(a,t=>{"string"===typeof t&&(e=!0)}),e&&r.Children.count(a)>1})())},l)}),"vertical"===g&&i?[r.createElement("div",{className:"".concat(x,"-item-main"),key:"content"},a,y),r.createElement("div",{className:Ah()("".concat(x,"-item-extra"),h("extra")),key:"extra",style:v("extra")},i)]:[a,y,dv(i,{key:"extra"})]);return m?r.createElement(WO,{ref:t,flex:1,style:d},k):k}),lH=sH;lH.Meta=e=>{var{prefixCls:t,className:n,avatar:a,title:o,description:i}=e,s=iH(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:l}=(0,r.useContext)(av),c=l("list",t),d=Ah()("".concat(c,"-item-meta"),n),u=r.createElement("div",{className:"".concat(c,"-item-meta-content")},o&&r.createElement("h4",{className:"".concat(c,"-item-meta-title")},o),i&&r.createElement("div",{className:"".concat(c,"-item-meta-description")},i));return r.createElement("div",Object.assign({},s,{className:d}),a&&r.createElement("div",{className:"".concat(c,"-item-meta-avatar")},a),(o||i)&&u)};const cH=lH,dH=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:r,margin:a,itemPaddingSM:o,itemPaddingLG:i,marginLG:s,borderRadiusLG:l}=e,c=lx(e.calc(l).sub(e.lineWidth).equal());return{[t]:{border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:l,["".concat(n,"-header")]:{borderRadius:"".concat(c," ").concat(c," 0 0")},["".concat(n,"-footer")]:{borderRadius:"0 0 ".concat(c," ").concat(c)},["".concat(n,"-header,").concat(n,"-footer,").concat(n,"-item")]:{paddingInline:r},["".concat(n,"-pagination")]:{margin:"".concat(lx(a)," ").concat(lx(s))}},["".concat(t).concat(n,"-sm")]:{["".concat(n,"-item,").concat(n,"-header,").concat(n,"-footer")]:{padding:o}},["".concat(t).concat(n,"-lg")]:{["".concat(n,"-item,").concat(n,"-header,").concat(n,"-footer")]:{padding:i}}}},uH=e=>{const{componentCls:t,screenSM:n,screenMD:r,marginLG:a,marginSM:o,margin:i}=e;return{["@media screen and (max-width:".concat(r,"px)")]:{[t]:{["".concat(t,"-item")]:{["".concat(t,"-item-action")]:{marginInlineStart:a}}},["".concat(t,"-vertical")]:{["".concat(t,"-item")]:{["".concat(t,"-item-extra")]:{marginInlineStart:a}}}},["@media screen and (max-width: ".concat(n,"px)")]:{[t]:{["".concat(t,"-item")]:{flexWrap:"wrap",["".concat(t,"-action")]:{marginInlineStart:o}}},["".concat(t,"-vertical")]:{["".concat(t,"-item")]:{flexWrap:"wrap-reverse",["".concat(t,"-item-main")]:{minWidth:e.contentWidth},["".concat(t,"-item-extra")]:{margin:"auto auto ".concat(lx(i))}}}}}},mH=e=>{const{componentCls:t,antCls:n,controlHeight:r,minHeight:a,paddingSM:o,marginLG:i,padding:s,itemPadding:l,colorPrimary:c,itemPaddingSM:d,itemPaddingLG:u,paddingXS:m,margin:g,colorText:p,colorTextDescription:f,motionDurationSlow:h,lineWidth:v,headerBg:x,footerBg:y,emptyTextPadding:b,metaMarginBottom:k,avatarMarginRight:w,titleMarginBottom:j,descriptionFontSize:N}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{position:"relative","--rc-virtual-list-scrollbar-bg":e.colorSplit,"*":{outline:"none"},["".concat(t,"-header")]:{background:x},["".concat(t,"-footer")]:{background:y},["".concat(t,"-header, ").concat(t,"-footer")]:{paddingBlock:o},["".concat(t,"-pagination")]:{marginBlockStart:i,["".concat(n,"-pagination-options")]:{textAlign:"start"}},["".concat(t,"-spin")]:{minHeight:a,textAlign:"center"},["".concat(t,"-items")]:{margin:0,padding:0,listStyle:"none"},["".concat(t,"-item")]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:l,color:p,["".concat(t,"-item-meta")]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",["".concat(t,"-item-meta-avatar")]:{marginInlineEnd:w},["".concat(t,"-item-meta-content")]:{flex:"1 0",width:0,color:p},["".concat(t,"-item-meta-title")]:{margin:"0 0 ".concat(lx(e.marginXXS)," 0"),color:p,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:p,transition:"all ".concat(h),"&:hover":{color:c}}},["".concat(t,"-item-meta-description")]:{color:f,fontSize:N,lineHeight:e.lineHeight}},["".concat(t,"-item-action")]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:"0 ".concat(lx(m)),color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},["".concat(t,"-item-action-split")]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:v,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},["".concat(t,"-empty")]:{padding:"".concat(lx(s)," 0"),color:f,fontSize:e.fontSizeSM,textAlign:"center"},["".concat(t,"-empty-text")]:{padding:b,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},["".concat(t,"-item-no-flex")]:{display:"block"}}),["".concat(t,"-grid ").concat(n,"-col > ").concat(t,"-item")]:{display:"block",maxWidth:"100%",marginBlockEnd:g,paddingBlock:0,borderBlockEnd:"none"},["".concat(t,"-vertical ").concat(t,"-item")]:{alignItems:"initial",["".concat(t,"-item-main")]:{display:"block",flex:1},["".concat(t,"-item-extra")]:{marginInlineStart:i},["".concat(t,"-item-meta")]:{marginBlockEnd:k,["".concat(t,"-item-meta-title")]:{marginBlockStart:0,marginBlockEnd:j,color:p,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},["".concat(t,"-item-action")]:{marginBlockStart:s,marginInlineStart:"auto","> li":{padding:"0 ".concat(lx(s)),"&:first-child":{paddingInlineStart:0}}}},["".concat(t,"-split ").concat(t,"-item")]:{borderBlockEnd:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"&:last-child":{borderBlockEnd:"none"}},["".concat(t,"-split ").concat(t,"-header")]:{borderBlockEnd:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-split").concat(t,"-empty ").concat(t,"-footer")]:{borderTop:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-loading ").concat(t,"-spin-nested-loading")]:{minHeight:r},["".concat(t,"-split").concat(t,"-something-after-last-item ").concat(n,"-spin-container > ").concat(t,"-items > ").concat(t,"-item:last-child")]:{borderBlockEnd:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)},["".concat(t,"-lg ").concat(t,"-item")]:{padding:u},["".concat(t,"-sm ").concat(t,"-item")]:{padding:d},["".concat(t,":not(").concat(t,"-vertical)")]:{["".concat(t,"-item-no-flex")]:{["".concat(t,"-item-action")]:{float:"right"}}}}},gH=_k("List",e=>{const t=rb(e,{listBorderedCls:"".concat(e.componentCls,"-bordered"),minHeight:e.controlHeightLG});return[mH(t),dH(t),uH(t)]},e=>({contentWidth:220,itemPadding:"".concat(lx(e.paddingContentVertical)," 0"),itemPaddingSM:"".concat(lx(e.paddingContentVerticalSM)," ").concat(lx(e.paddingContentHorizontal)),itemPaddingLG:"".concat(lx(e.paddingContentVerticalLG)," ").concat(lx(e.paddingContentHorizontalLG)),headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize}));var pH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function fH(e,t){const{pagination:n=!1,prefixCls:a,bordered:o=!1,split:i=!0,className:s,rootClassName:l,style:c,children:d,itemLayout:u,loadMore:m,grid:g,dataSource:p=[],size:f,header:h,footer:v,loading:x=!1,rowKey:y,renderItem:b,locale:k}=e,w=pH(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),j=n&&"object"===typeof n?n:{},[N,C]=r.useState(j.defaultCurrent||1),[S,E]=r.useState(j.defaultPageSize||10),{getPrefixCls:_,direction:O,className:I,style:M}=sv("list"),{renderEmpty:P}=r.useContext(av),T=e=>(t,r)=>{var a;C(t),E(r),n&&(null===(a=null===n||void 0===n?void 0:n[e])||void 0===a||a.call(n,t,r))},A=T("onChange"),R=T("onShowSizeChange"),z=(e,t)=>{if(!b)return null;let n;return n="function"===typeof y?y(e):y?e[y]:e.key,n||(n="list-item-".concat(t)),r.createElement(r.Fragment,{key:n},b(e,t))},D=!!(m||n||v),L=_("list",a),[B,F,H]=gH(L);let W=x;"boolean"===typeof W&&(W={spinning:W});const V=!!(null===W||void 0===W?void 0:W.spinning);let q="";switch(hj(f)){case"large":q="lg";break;case"small":q="sm"}const U=Ah()(L,{["".concat(L,"-vertical")]:"vertical"===u,["".concat(L,"-").concat(q)]:q,["".concat(L,"-split")]:i,["".concat(L,"-bordered")]:o,["".concat(L,"-loading")]:V,["".concat(L,"-grid")]:!!g,["".concat(L,"-something-after-last-item")]:D,["".concat(L,"-rtl")]:"rtl"===O},I,s,l,F,H),K=SP({current:1,total:0,position:"bottom"},{total:p.length,current:N,pageSize:S},n||{}),G=Math.ceil(K.total/K.pageSize);K.current=Math.min(K.current,G);const X=n&&r.createElement("div",{className:Ah()("".concat(L,"-pagination"))},r.createElement(VF,Object.assign({align:"end"},K,{onChange:A,onShowSizeChange:R})));let Y=vv(p);n&&p.length>(K.current-1)*K.pageSize&&(Y=vv(p).splice((K.current-1)*K.pageSize,K.pageSize));const $=Object.keys(g||{}).some(e=>["xs","sm","md","lg","xl","xxl"].includes(e)),J=EO($),Z=r.useMemo(()=>{for(let e=0;e<jO.length;e+=1){const t=jO[e];if(J[t])return t}},[J]),Q=r.useMemo(()=>{if(!g)return;const e=Z&&g[Z]?g[Z]:g.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0},[JSON.stringify(g),Z]);let ee=V&&r.createElement("div",{style:{minHeight:53}});if(Y.length>0){const e=Y.map(z);ee=g?r.createElement(DO,{gutter:g.gutter},r.Children.map(e,e=>r.createElement("div",{key:null===e||void 0===e?void 0:e.key,style:Q},e))):r.createElement("ul",{className:"".concat(L,"-items")},e)}else d||V||(ee=r.createElement("div",{className:"".concat(L,"-empty-text")},(null===k||void 0===k?void 0:k.emptyText)||(null===P||void 0===P?void 0:P("List"))||r.createElement(OD,{componentName:"List"})));const te=K.position,ne=r.useMemo(()=>({grid:g,itemLayout:u}),[JSON.stringify(g),u]);return B(r.createElement(oH.Provider,{value:ne},r.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},M),c),className:U},w),("top"===te||"both"===te)&&X,h&&r.createElement("div",{className:"".concat(L,"-header")},h),r.createElement(aH,Object.assign({},W),ee,d),v&&r.createElement("div",{className:"".concat(L,"-footer")},v),m||("bottom"===te||"both"===te)&&X)))}const hH=r.forwardRef(fH);hH.Item=cH;const vH=hH,xH=Ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var yH=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],bH=r.forwardRef(function(e,t){var n,a=e.prefixCls,o=void 0===a?"rc-switch":a,i=e.className,s=e.checked,l=e.defaultChecked,c=e.disabled,d=e.loadingIcon,u=e.checkedChildren,m=e.unCheckedChildren,g=e.onClick,p=e.onChange,f=e.onKeyDown,h=Be(e,yH),v=fv(Ky(!1,{value:s,defaultValue:l}),2),x=v[0],y=v[1];function b(e,t){var n=x;return c||(y(n=e),null===p||void 0===p||p(n,t)),n}var k=Ah()(o,i,(ze(n={},"".concat(o,"-checked"),x),ze(n,"".concat(o,"-disabled"),c),n));return r.createElement("button",jx({},h,{type:"button",role:"switch","aria-checked":x,disabled:c,className:k,ref:t,onKeyDown:function(e){e.which===QC.LEFT?b(!1,e):e.which===QC.RIGHT&&b(!0,e),null===f||void 0===f||f(e)},onClick:function(e){var t=b(!x,e);null===g||void 0===g||g(t,e)}}),d,r.createElement("span",{className:"".concat(o,"-inner")},r.createElement("span",{className:"".concat(o,"-inner-checked")},u),r.createElement("span",{className:"".concat(o,"-inner-unchecked")},m)))});bH.displayName="Switch";const kH=bH,wH=e=>{const{componentCls:t,trackHeightSM:n,trackPadding:r,trackMinWidthSM:a,innerMinMarginSM:o,innerMaxMarginSM:i,handleSizeSM:s,calc:l}=e,c="".concat(t,"-inner"),d=lx(l(s).add(l(r).mul(2)).equal()),u=lx(l(i).mul(2).equal());return{[t]:{["&".concat(t,"-small")]:{minWidth:a,height:n,lineHeight:lx(n),["".concat(t,"-inner")]:{paddingInlineStart:i,paddingInlineEnd:o,["".concat(c,"-checked, ").concat(c,"-unchecked")]:{minHeight:n},["".concat(c,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(d," - ").concat(u,")"),marginInlineEnd:"calc(100% - ".concat(d," + ").concat(u,")")},["".concat(c,"-unchecked")]:{marginTop:l(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["".concat(t,"-handle")]:{width:s,height:s},["".concat(t,"-loading-icon")]:{top:l(l(s).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},["&".concat(t,"-checked")]:{["".concat(t,"-inner")]:{paddingInlineStart:o,paddingInlineEnd:i,["".concat(c,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(c,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(d," + ").concat(u,")"),marginInlineEnd:"calc(-100% + ".concat(d," - ").concat(u,")")}},["".concat(t,"-handle")]:{insetInlineStart:"calc(100% - ".concat(lx(l(s).add(r).equal()),")")}},["&:not(".concat(t,"-disabled):active")]:{["&:not(".concat(t,"-checked) ").concat(c)]:{["".concat(c,"-unchecked")]:{marginInlineStart:l(e.marginXXS).div(2).equal(),marginInlineEnd:l(e.marginXXS).mul(-1).div(2).equal()}},["&".concat(t,"-checked ").concat(c)]:{["".concat(c,"-checked")]:{marginInlineStart:l(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:l(e.marginXXS).div(2).equal()}}}}}}},jH=e=>{const{componentCls:t,handleSize:n,calc:r}=e;return{[t]:{["".concat(t,"-loading-icon").concat(e.iconCls)]:{position:"relative",top:r(r(n).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},["&".concat(t,"-checked ").concat(t,"-loading-icon")]:{color:e.switchColor}}}},NH=e=>{const{componentCls:t,trackPadding:n,handleBg:r,handleShadow:a,handleSize:o,calc:i}=e,s="".concat(t,"-handle");return{[t]:{[s]:{position:"absolute",top:n,insetInlineStart:n,width:o,height:o,transition:"all ".concat(e.switchDuration," ease-in-out"),"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:r,borderRadius:i(o).div(2).equal(),boxShadow:a,transition:"all ".concat(e.switchDuration," ease-in-out"),content:'""'}},["&".concat(t,"-checked ").concat(s)]:{insetInlineStart:"calc(100% - ".concat(lx(i(o).add(n).equal()),")")},["&:not(".concat(t,"-disabled):active")]:{["".concat(s,"::before")]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},["&".concat(t,"-checked ").concat(s,"::before")]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},CH=e=>{const{componentCls:t,trackHeight:n,trackPadding:r,innerMinMargin:a,innerMaxMargin:o,handleSize:i,calc:s}=e,l="".concat(t,"-inner"),c=lx(s(i).add(s(r).mul(2)).equal()),d=lx(s(o).mul(2).equal());return{[t]:{[l]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:o,paddingInlineEnd:a,transition:"padding-inline-start ".concat(e.switchDuration," ease-in-out, padding-inline-end ").concat(e.switchDuration," ease-in-out"),["".concat(l,"-checked, ").concat(l,"-unchecked")]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:"margin-inline-start ".concat(e.switchDuration," ease-in-out, margin-inline-end ").concat(e.switchDuration," ease-in-out"),pointerEvents:"none",minHeight:n},["".concat(l,"-checked")]:{marginInlineStart:"calc(-100% + ".concat(c," - ").concat(d,")"),marginInlineEnd:"calc(100% - ".concat(c," + ").concat(d,")")},["".concat(l,"-unchecked")]:{marginTop:s(n).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},["&".concat(t,"-checked ").concat(l)]:{paddingInlineStart:a,paddingInlineEnd:o,["".concat(l,"-checked")]:{marginInlineStart:0,marginInlineEnd:0},["".concat(l,"-unchecked")]:{marginInlineStart:"calc(100% - ".concat(c," + ").concat(d,")"),marginInlineEnd:"calc(-100% + ".concat(c," - ").concat(d,")")}},["&:not(".concat(t,"-disabled):active")]:{["&:not(".concat(t,"-checked) ").concat(l)]:{["".concat(l,"-unchecked")]:{marginInlineStart:s(r).mul(2).equal(),marginInlineEnd:s(r).mul(-1).mul(2).equal()}},["&".concat(t,"-checked ").concat(l)]:{["".concat(l,"-checked")]:{marginInlineStart:s(r).mul(-1).mul(2).equal(),marginInlineEnd:s(r).mul(2).equal()}}}}}},SH=e=>{const{componentCls:t,trackHeight:n,trackMinWidth:r}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},fb(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:r,height:n,lineHeight:lx(n),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:"all ".concat(e.motionDurationMid),userSelect:"none",["&:hover:not(".concat(t,"-disabled)")]:{background:e.colorTextTertiary}}),vb(e)),{["&".concat(t,"-checked")]:{background:e.switchColor,["&:hover:not(".concat(t,"-disabled)")]:{background:e.colorPrimaryHover}},["&".concat(t,"-loading, &").concat(t,"-disabled")]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},["&".concat(t,"-rtl")]:{direction:"rtl"}})}},EH=_k("Switch",e=>{const t=rb(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:"rgba(0, 0, 0, ".concat(e.opacityLoading,")"),switchHandleActiveInset:"-30%"});return[SH(t),CH(t),NH(t),jH(t),wH(t)]},e=>{const{fontSize:t,lineHeight:n,controlHeight:r,colorWhite:a}=e,o=t*n,i=r/2,s=o-4,l=i-4;return{trackHeight:o,trackHeightSM:i,trackMinWidth:2*s+8,trackMinWidthSM:2*l+4,trackPadding:2,handleBg:a,handleSize:s,handleSizeSM:l,handleShadow:"0 2px 4px 0 ".concat(new _b("#00230b").setA(.2).toRgbString()),innerMinMargin:s/2,innerMaxMargin:s+2+4,innerMinMarginSM:l/2,innerMaxMarginSM:l+2+4}});var _H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const OH=r.forwardRef((e,t)=>{const{prefixCls:n,size:a,disabled:o,loading:i,className:s,rootClassName:l,style:c,checked:d,value:u,defaultChecked:m,defaultValue:g,onChange:p}=e,f=_H(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[h,v]=Ky(!1,{value:null!==d&&void 0!==d?d:u,defaultValue:null!==m&&void 0!==m?m:g}),{getPrefixCls:x,direction:y,switch:b}=r.useContext(av),k=r.useContext(mj),w=(null!==o&&void 0!==o?o:k)||i,j=x("switch",n),N=r.createElement("div",{className:"".concat(j,"-handle")},i&&r.createElement(eN,{className:"".concat(j,"-loading-icon")})),[C,S,E]=EH(j),_=hj(a),O=Ah()(null===b||void 0===b?void 0:b.className,{["".concat(j,"-small")]:"small"===_,["".concat(j,"-loading")]:i,["".concat(j,"-rtl")]:"rtl"===y},s,l,S,E),I=Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),c);return C(r.createElement(cj,{component:"Switch",disabled:w},r.createElement(kH,Object.assign({},f,{checked:h,onChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];v(t[0]),null===p||void 0===p||p.apply(void 0,t)},prefixCls:j,className:O,style:I,disabled:w,ref:t,loadingIcon:N}))))}),IH=OH;IH.__ANT_SWITCH=!0;const MH=IH,PH=e=>{const{componentCls:t}=e;return{[t]:{"&-horizontal":{["&".concat(t)]:{"&-sm":{marginBlock:e.marginXS},"&-md":{marginBlock:e.margin}}}}}},TH=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:n,colorSplit:r,lineWidth:a,textPaddingInline:o,orientationMargin:i,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{borderBlockStart:"".concat(lx(a)," solid ").concat(r),"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:"".concat(lx(a)," solid ").concat(r)},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:"".concat(lx(e.marginLG)," 0")},["&-horizontal".concat(t,"-with-text")]:{display:"flex",alignItems:"center",margin:"".concat(lx(e.dividerHorizontalWithTextGutterMargin)," 0"),color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:"0 ".concat(r),"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:"".concat(lx(a)," solid transparent"),borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},["&-horizontal".concat(t,"-with-text-start")]:{"&::before":{width:"calc(".concat(i," * 100%)")},"&::after":{width:"calc(100% - ".concat(i," * 100%)")}},["&-horizontal".concat(t,"-with-text-end")]:{"&::before":{width:"calc(100% - ".concat(i," * 100%)")},"&::after":{width:"calc(".concat(i," * 100%)")}},["".concat(t,"-inner-text")]:{display:"inline-block",paddingBlock:0,paddingInline:o},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:"".concat(lx(a)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dashed")]:{"&::before, &::after":{borderStyle:"dashed none none"}},["&-vertical".concat(t,"-dashed")]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:"".concat(lx(a)," 0 0")},["&-horizontal".concat(t,"-with-text").concat(t,"-dotted")]:{"&::before, &::after":{borderStyle:"dotted none none"}},["&-vertical".concat(t,"-dotted")]:{borderInlineStartWidth:a,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},["&-plain".concat(t,"-with-text")]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},["&-horizontal".concat(t,"-with-text-start").concat(t,"-no-default-orientation-margin-start")]:{"&::before":{width:0},"&::after":{width:"100%"},["".concat(t,"-inner-text")]:{paddingInlineStart:n}},["&-horizontal".concat(t,"-with-text-end").concat(t,"-no-default-orientation-margin-end")]:{"&::before":{width:"100%"},"&::after":{width:0},["".concat(t,"-inner-text")]:{paddingInlineEnd:n}}})}},AH=_k("Divider",e=>{const t=rb(e,{dividerHorizontalWithTextGutterMargin:e.margin,sizePaddingEdgeHorizontal:0});return[TH(t),PH(t)]},e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS}),{unitless:{orientationMargin:!0}});var RH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const zH={small:"sm",middle:"md"};const DH=e=>{const{getPrefixCls:t,direction:n,className:a,style:o}=sv("divider"),{prefixCls:i,type:s="horizontal",orientation:l="center",orientationMargin:c,className:d,rootClassName:u,children:m,dashed:g,variant:p="solid",plain:f,style:h,size:v}=e,x=RH(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),y=t("divider",i),[b,k,w]=AH(y),j=hj(v),N=zH[j],C=!!m,S=r.useMemo(()=>"left"===l?"rtl"===n?"end":"start":"right"===l?"rtl"===n?"start":"end":l,[n,l]),E="start"===S&&null!=c,_="end"===S&&null!=c,O=Ah()(y,a,k,w,"".concat(y,"-").concat(s),{["".concat(y,"-with-text")]:C,["".concat(y,"-with-text-").concat(S)]:C,["".concat(y,"-dashed")]:!!g,["".concat(y,"-").concat(p)]:"solid"!==p,["".concat(y,"-plain")]:!!f,["".concat(y,"-rtl")]:"rtl"===n,["".concat(y,"-no-default-orientation-margin-start")]:E,["".concat(y,"-no-default-orientation-margin-end")]:_,["".concat(y,"-").concat(N)]:!!N},d,u),I=r.useMemo(()=>"number"===typeof c?c:/^\d+$/.test(c)?Number(c):c,[c]),M={marginInlineStart:E?I:void 0,marginInlineEnd:_?I:void 0};return b(r.createElement("div",Object.assign({className:O,style:Object.assign(Object.assign({},o),h)},x,{role:"separator"}),m&&"vertical"!==s&&r.createElement("span",{className:"".concat(y,"-inner-text"),style:M},m)))},LH=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),BH=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),FH="Syntactic Metadata",HH="Semantic Metadata",WH=[{label:"PDF",value:"pdf"},{label:"DOCX",value:"docx"},{label:"DOC",value:"doc"},{label:"PPTX",value:"pptx"},{label:"PPT",value:"ppt"},{label:"XLSX",value:"xlsx"},{label:"XLS",value:"xls"},{label:"CSV",value:"csv"},{label:"TEXT",value:"txt"},{label:"HTML",value:"html"},{label:"JSON",value:"json"},{label:"Go",value:"go"},{label:"PYTHON",value:"py"},{label:"JSX",value:"jsx"},{label:"YAML",value:"yaml"},{label:"JAVASCRIPT",value:"js"},{label:"MARKDOWN",value:"md"}],VH=[{label:"OneDrive",value:"onedrive"},{label:"Google Drive",value:"google-drive"},{label:"Confluence",value:"confluence"},{label:"Teams",value:"msteams"},{label:"Slack",value:"slack"},{label:"Elasticsearch",value:"elasticsearch"},{label:"AlloyDB",value:"alloydb"},{label:"PgVector",value:"pgvector"},{label:"Amazon RDS",value:"amazonrds"},{label:"BigQuery",value:"bigquery"},{label:"OpenSearch",value:"opensearch"}],qH={[FH]:["query","file type","owner","size","provider"],[HH]:["entities.value","language","document_summary:summary","document_sensitivity:sensitivity","attributes:attribute search","attributes.attribute:attribute name","attributes.value:attribute value","ontology:ontology search","ontology.subject:subject","ontology.relationship:relationship","ontology.object:object"]},UH=[{label:"Equals (=)",value:"="},{label:"Not Equals (\u2260)",value:"!="},{label:"Greater Than (>)",value:">"},{label:"Less Than (<)",value:"<"},{label:"Greater Than or Equal (\u2265)",value:">="},{label:"Less Than or Equal (\u2264)",value:"<="},{label:"Contains",value:"contains"}],KH={query:["=","!=","contains"],"file type":["=","!="],owner:["=","!=","contains"],size:["=","!=",">","<",">=","<="],provider:["=","!=","contains"],categories:["=","!=","contains"],"entities.type":["=","!=","contains"],"entities.value":["=","!=","contains"],language:["contains"],document_summary:["=","!=","contains"],document_sensitivity:["contains"],attributes:["contains"],"attributes.attribute":["=","!=","contains"],"attributes.value":["=","!=","contains"],ontology:["contains"],"ontology.subject":["=","!=","contains"],"ontology.relationship":["=","!=","contains"],"ontology.object":["=","!=","contains"]},GH=e=>{let{onFilterChange:t,onPushToVector:n,onSaveFilter:a,onSearch:o,onClearResults:i,savedFilters:s=[]}=e;const[l,c]=(0,r.useState)({}),[d,u]=(0,r.useState)([{id:Date.now(),category:FH,conditions:[{id:Date.now(),field:"",operator:"=",value:""}]}]),[m,g]=(0,r.useState)(!1),[p,f]=(0,r.useState)(""),[h,v]=(0,r.useState)("");(0,r.useEffect)(()=>{if(h){const e=s.find(e=>e.name===h);e&&u(e.filterGroups)}},[h,s]);const x=(e,t,n,r)=>{if("field"===n&&c(n=>{const r=Le({},n);return delete r["".concat(e,"-").concat(t)],r}),"value"===n){var a;const n=null===(a=d.find(t=>t.id===e))||void 0===a?void 0:a.conditions.find(e=>e.id===t);if(n){let a=null;"size"===n.field?r&&!/^-?\d+$/.test(r)&&(a="Please enter integer value"):n.field&&!["size","created after","created before","modified after","modified before","query","name","entities.value","attributes","attributes.attribute","attributes.value","ontology","ontology.subject","ontology.relationship","ontology.object"].includes(n.field)&&r&&/^\d+$/.test(r)&&(a="Please enter string value"),c(n=>Le(Le({},n),{},{["".concat(e,"-").concat(t)]:a}))}}u(a=>a.map(a=>a.id===e?Le(Le({},a),{},{conditions:a.conditions.map(e=>e.id===t?Le(Le({},e),{},"field"===n?"mime_types"===r?{[n]:r,operator:KH[r]?KH[r][0]:"=",value:"application/"}:{[n]:r,operator:KH[r]?KH[r][0]:"=",value:""}:{[n]:r}):e)}):a))};(0,r.useEffect)(()=>{t(d)},[d]);const y=e=>{"Enter"===e.key&&o()};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Advanced Filters"}),(0,Ue.jsxs)("div",{className:"flex gap-2",children:[(0,Ue.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700  dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50  dark:hover:bg-gray-600",children:[(0,Ue.jsx)(BH,{className:"w-4 h-4"}),"Save Filter"]}),(0,Ue.jsxs)("select",{value:h,onChange:e=>v(e.target.value),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700  dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50  dark:hover:bg-gray-600 mt-1",children:[(0,Ue.jsx)("option",{value:"",children:"Select Saved Filter"}),s.map(e=>(0,Ue.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,Ue.jsx)("button",{onClick:()=>{u([{id:Date.now(),category:FH,conditions:[{id:Date.now(),field:"",operator:"=",value:""}]}]),v(""),t([]),i&&i()},className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700  dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50  dark:hover:bg-gray-600",children:"Clear Filters"}),(0,Ue.jsxs)("button",{onClick:o,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-indigo-600  dark:bg-indigo-500 rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600",children:[(0,Ue.jsx)(Rr,{className:"w-4 h-4"}),"Search Files"]})]})]}),d.map(e=>(0,Ue.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4 border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center",children:(0,Ue.jsx)("div",{className:"flex-1",children:(0,Ue.jsx)("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100",children:"Filter Group"})})}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[e.conditions.map(t=>(0,Ue.jsxs)("div",{className:"grid grid-cols-4 gap-3",children:[(0,Ue.jsxs)("select",{value:t.field,onChange:n=>x(e.id,t.id,"field",n.target.value),className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:[(0,Ue.jsx)("option",{value:"",children:"Select field"}),qH[FH].map(e=>(0,Ue.jsx)("option",{value:e,children:e.split(".").pop().replace(/([A-Z])/g," $1").toLowerCase()},e)),qH[HH].map(e=>(0,Ue.jsx)("option",{value:e.split(":")[0],children:e.includes(":")?e.split(":")[1]:"entities.value"===e?"tags":e.split(".").pop().replace(/([A-Z])/g," $1").toLowerCase()},e))]}),(0,Ue.jsx)("select",{value:t.operator,onChange:n=>x(e.id,t.id,"operator",n.target.value),className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600",children:UH.filter(e=>!t.field||!KH[t.field]||KH[t.field].includes(e.value)).map(e=>(0,Ue.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,Ue.jsxs)("div",{className:"relative",children:["document_sensitivity"===t.field?(0,Ue.jsxs)("select",{value:t.value,onChange:n=>x(e.id,t.id,"value",n.target.value),onKeyDown:y,className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 w-full h-[38px]",children:[(0,Ue.jsx)("option",{value:"",children:"Select sensitivity"}),(0,Ue.jsx)("option",{value:"HIGH",children:"High"}),(0,Ue.jsx)("option",{value:"LOW",children:"Low"})]}):"language"===t.field?(0,Ue.jsxs)("select",{value:t.value,onChange:n=>x(e.id,t.id,"value",n.target.value),onKeyDown:y,className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 w-full h-[38px]",children:[(0,Ue.jsx)("option",{value:"",children:"Select language"}),(0,Ue.jsx)("option",{value:"en",children:"English"})]}):"file type"===t.field?(0,Ue.jsxs)("select",{value:t.value,onChange:n=>x(e.id,t.id,"value",n.target.value),onKeyDown:y,className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 w-full h-[38px]",children:[(0,Ue.jsx)("option",{value:"",children:"Select file type"}),WH.map(e=>(0,Ue.jsx)("option",{value:e.value,children:e.label},e.value))]}):"provider"===t.field?(0,Ue.jsxs)("select",{value:t.value,onChange:n=>x(e.id,t.id,"value",n.target.value),onKeyDown:y,className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 w-full h-[38px]",children:[(0,Ue.jsx)("option",{value:"",children:"Select provider"}),VH.map(e=>(0,Ue.jsx)("option",{value:e.value,children:e.label},e.value))]}):(0,Ue.jsx)("input",{type:"text",value:t.value,onChange:n=>x(e.id,t.id,"value",n.target.value),onKeyDown:y,className:"p-2 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600 w-full h-[38px]",placeholder:"Enter value"}),l["".concat(e.id,"-").concat(t.id)]&&(0,Ue.jsx)("p",{className:"text-red-500 text-xs absolute left-0 top-full mt-0.5",children:l["".concat(e.id,"-").concat(t.id)]})]}),(0,Ue.jsx)("div",{className:"flex gap-2",children:e.conditions.length>1&&(0,Ue.jsx)("button",{onClick:()=>{return n=e.id,r=t.id,void u(e=>e.map(e=>e.id===n?Le(Le({},e),{},{conditions:e.conditions.filter(e=>e.id!==r)}):e));var n,r},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Ue.jsx)(Cr,{className:"w-5 h-5"})})})]},t.id)),(0,Ue.jsx)("button",{onClick:()=>{return t=e.id,void u(e=>e.map(e=>e.id===t?Le(Le({},e),{},{conditions:[...e.conditions,{id:Date.now(),field:"",operator:"=",value:""}]}):e));var t},disabled:e.conditions.length>=5,className:"".concat(e.conditions.length>=5?"text-gray-400 cursor-not-allowed":"text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 dark:hover:text-indigo-300"),children:e.conditions.length>=5?"Max filters reached":"Add New Filter"})]})]},e.id)),m&&(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-xl w-96",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-gray-100",children:"Save Filter"}),(0,Ue.jsx)("input",{type:"text",value:p,onChange:e=>f(e.target.value),placeholder:"Enter filter name",className:"w-full p-2 mb-4 text-sm border rounded-lg dark:bg-gray-700 dark:border-gray-600"}),(0,Ue.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700  dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50  dark:hover:bg-gray-600",children:"Cancel"}),(0,Ue.jsx)("button",{onClick:()=>{p.trim()&&(a({name:p,filterGroups:d}),f(""),g(!1))},className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500  rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600",children:"Save"})]})]})})]})},XH=e=>{let{files:t,expandedFileId:n,expandedFileData:a,onPushToVector:o,hideFilters:i=!1,onFileExpand:s,onFileSelect:l,loadingMetadata:c=new Set,scrollContainerRef:d,selectedFileId:u=null}=e;const[m,g]=(0,r.useState)(null),[p,f]=(0,r.useState)([]),[h,v]=(0,r.useState)([]),[x,y]=(0,r.useState)(t),[b,k]=(0,r.useState)(!1),[w,j]=(0,r.useState)(null),[N,C]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[_,O]=(0,r.useState)(!1),[I,M]=(0,r.useState)({}),[P,T]=(0,r.useState)({}),[A,R]=(0,r.useState)(new Set),z="function"===typeof s,D=z?n:m,L="N/A",B=/Document sensitivity:\s*(HIGH|LOW)\s*\n*/gi,F=/Document category:\s*([^\n\r]+)\s*\n*/gi;(0,r.useEffect)(()=>{y(t)},[t]);const H=(0,r.useCallback)(()=>{y([]),C(!1),E(!1),g(null)},[]),W=e=>e?e.syntacticMeta&&e.semanticMeta?e:{id:e.id,syntacticMeta:e.syntactic_metadata||e.syntacticMeta,semanticMeta:e.semantic_metadata||e.semanticMeta,updatedAt:e.updated_at||e.updatedAt}:null,V=e=>{const t=W(e);return t&&t.syntacticMeta?t.syntacticMeta.name||"Document-".concat(t.id.substring(0,8)):"Unknown Document"},q=e=>{if(e.document_summary){const t=e.document_summary.match(F);if(t&&t[1])return t[1].trim()}return e.document_category||L},U=e=>{if(!e)return L;let t=e.replace(B,"");return t=t.replace(F,""),t.trim()||L},K=(0,r.useCallback)(e=>{f(e)},[]),G=(0,r.useCallback)(e=>{v(t=>[...t,e])},[]),X=e=>null===e||void 0===e?L:"boolean"===typeof e?e?"True":"False":Array.isArray(e)?e.length>0?e.join(", "):L:"object"===typeof e?JSON.stringify(e,null,2):String(e),Y=(0,r.useCallback)(async()=>{g(null),k(!0),j(null),E(!0);try{if(p.length>0){const e={limit:1e4,offset:0,sort:[{_id:"asc"}],mode:"structured"};p.forEach(t=>{t.conditions.forEach(t=>{if(t.field&&t.operator&&t.value)switch(t.field){case"query":"!="===t.operator?e.exclude_query_contains=t.value:(t.operator,e.name_contains=t.value);break;case"file type":if(!t.value)break;let n=t.value.toLowerCase();switch(t.operator){case"!=":e.exclude_file_types=e.exclude_file_types||[],e.exclude_file_types.push(n);break;case"contains":e.file_type_contains=n;break;default:e.file_types=e.file_types||[],e.file_types.push(n)}break;case"owner":"!="===t.operator?e.exclude_owner=t.value:"contains"===t.operator?e.owner_contains=t.value:e.owner=t.value;break;case"size":const r=parseInt(t.value);0===r&&"="===t.operator?e.size_exact_zero=!0:">"===t.operator?e.min_size=r+1:">="===t.operator?e.min_size=r:"<"===t.operator?e.max_size=r-1:"<="===t.operator?e.max_size=r:"="===t.operator?(e.min_size=r,e.max_size=r):"!="===t.operator&&(e.size_ne=r);break;case"name":"!="===t.operator?e.exclude_name_contains=t.value.toLowerCase():"contains"!==t.operator&&"="!==t.operator||(e.name_contains=t.value.toLowerCase());break;case"mime_types":"!="===t.operator?(e.exclude_mime_types=e.exclude_mime_types||[],e.exclude_mime_types.push(t.value)):"contains"===t.operator?e.mime_type_contains=t.value:(e.mime_types=e.mime_types||[],e.mime_types.push(t.value));break;case"provider":"!="===t.operator?e.exclude_provider=t.value.toLowerCase():e.provider=t.value.toLowerCase();break;case"created after":"!="===t.operator?e.exclude_created_after=new Date(t.value).toISOString():e.created_after=new Date(t.value).toISOString();break;case"created before":"!="===t.operator?e.exclude_created_before=new Date(t.value).toISOString():e.created_before=new Date(t.value).toISOString();break;case"modified after":"!="===t.operator?e.exclude_modified_after=new Date(t.value).toISOString():e.modified_after=new Date(t.value).toISOString();break;case"modified before":"!="===t.operator?e.exclude_modified_before=new Date(t.value).toISOString():e.modified_before=new Date(t.value).toISOString();break;case"tags":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"tags",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"tags",operator:"contains",value:t.value})):(e.tags=e.tags||[],e.tags.push(t.value));break;case"categories":e.categories=t.value.split(",").map(e=>e.trim());break;case"entities.type":"!="===t.operator?(e.exclude_entity_types=e.exclude_entity_types||[],e.exclude_entity_types.push(t.value)):(e.entity_types=e.entity_types||[],e.entity_types.push(t.value));break;case"entities.value":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"entities.value",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"entities.value",operator:"contains",value:t.value})):(e.entity_values=e.entity_values||[],e.entity_values.push(t.value));break;case"key_phrase":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"key_phrases",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"key_phrases",operator:"contains",value:t.value})):e.key_phrase=t.value;break;case"document_sensitivity":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_sensitivity",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_sensitivity",operator:"contains",value:t.value})):e.document_sensitivity=t.value;break;case"language":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"language",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"language",operator:"contains",value:t.value})):e.language=t.value;break;case"document_summary":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_summary",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_summary",operator:"contains",value:t.value})):e.document_summary=t.value;break;case"classification_categories":"!="===t.operator?(e.exclude_classification_categories=e.exclude_classification_categories||[],e.exclude_classification_categories.push(t.value)):(e.classification_categories=e.classification_categories||[],e.classification_categories.push(t.value));break;case"classification_labels":"!="===t.operator?(e.exclude_classification_labels=e.exclude_classification_labels||[],e.exclude_classification_labels.push(t.value)):(e.classification_labels=e.classification_labels||[],e.classification_labels.push(t.value));break;case"attributes":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"attributes",operator:t.operator||"contains",value:t.value});break;case"attributes.attribute":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"attributes.attribute",operator:t.operator||"contains",value:t.value});break;case"attributes.value":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"attributes.value",operator:t.operator||"contains",value:t.value});break;case"ontology":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology",operator:t.operator||"contains",value:t.value});break;case"ontology.subject":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology.subject",operator:t.operator||"contains",value:t.value});break;case"ontology.relationship":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology.relationship",operator:t.operator||"contains",value:t.value});break;case"ontology.object":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology.object",operator:t.operator||"contains",value:t.value})}})}),console.log("Advanced filters single API call params:",e);try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>({}));return console.error("Advanced filter search error:",e.error||"Failed to search files"),void y([])}const n=await t.json();console.log("Advanced filter search API response:",n);const r=n.results||n||[];let a;a=r.length>0&&r[0].name&&!r[0].syntactic_metadata?r.map(e=>({id:e.id,syntacticMeta:{name:e.name,path:e.path,provider:e.provider,size:e.size,modified_at:e.modified_at},semanticMeta:{document_sensitivity:e.sensitivity,pii_detected:e.pii_detected,_isLightweight:!0},updatedAt:e.modified_at})):r.map(e=>({id:e.id,syntacticMeta:e.syntactic_metadata,semanticMeta:e.semantic_metadata||e,updatedAt:e.updated_at})),y(a)}catch(w){console.error("Advanced filter search error:",w),j({type:"error",message:"Failed to search files"}),y([])}}}finally{k(!1),g(null)}},[p]);(0,r.useEffect)(()=>{g(null)},[x]),(0,r.useEffect)(()=>{var e;const t=D;if(!t)return;const n=P[t];if(n&&(null===(e=n.semanticMeta)||void 0===e||!e._isLightweight))return;if(a&&a.id===t){var r;const e=W(a);if(null===(r=e.semanticMeta)||void 0===r||!r._isLightweight)return void T(n=>Le(Le({},n),{},{[t]:e}))}if(A.has(t))return;const o=new Set(Array.from(A));o.add(t),R(o),(async()=>{try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/").concat(t),{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!e.ok)return;const n=await e.json(),r=W({id:n.id||n.ID||t,syntactic_metadata:n.syntactic_metadata||n.syntacticMeta,semantic_metadata:n.semantic_metadata||n.semanticMeta,updated_at:n.updated_at||n.updatedAt});T(e=>Le(Le({},e),{},{[t]:r}))}catch(aO){console.error("Error fetching metadata:",aO)}finally{const e=new Set(Array.from(o));e.delete(t),R(e)}})()},[D,a,P,A]);const $=e=>{if(_)return;if(z)return void s(e);O(!0);const t=document.getElementById("file-".concat(e)),n=()=>{t&&t.scrollIntoView({behavior:"smooth",block:"start"}),O(!1)};m===e?(g(null),O(!1)):m?(g(null),setTimeout(()=>{g(e),setTimeout(n,50)},100)):(g(e),setTimeout(n,50))},J=(e,t)=>{if(t&&e)try{return t.split(".").reduce((e,t)=>Array.isArray(e)?e.map(e=>e[t]).filter(Boolean).flat():e?e[t]:void 0,e)}catch(w){return void console.error("Error getting nested value for path: ".concat(t),w)}},Z=(e,t,n)=>{if(!e)return!1;const r=e.toString().toLowerCase(),a=n.toString().toLowerCase();switch(t){case"=":return r===a;case"!=":return r!==a;case">":return Number(e)>Number(n);case"<":return Number(e)<Number(n);case">=":return Number(e)>=Number(n);case"<=":return Number(e)<=Number(n);case"contains":return r.includes(a);default:return!1}};(0,r.useCallback)(e=>p.length?e.filter(e=>p.every(t=>t.conditions.some(t=>{if(!t.field||!t.operator||!t.value)return!0;let n;return n=t.field.startsWith("permissions")?J(e.syntacticMeta,t.field):t.field.startsWith("classification")?J(e.semanticMeta,t.field):J(e.syntacticMeta,t.field),Array.isArray(n)?n.some(e=>Z(e,t.operator,t.value)):Z(n,t.operator,t.value)}))):e,[p]);(0,r.useEffect)(()=>{g(null)},[p]);const Q=e=>{const t=W(e),n={entities:0,attributes:0,relationships:0,tags:0};var r,a,o;t.semanticMeta&&(n.entities=(null===(r=t.semanticMeta.entities)||void 0===r?void 0:r.length)||0,n.attributes=(null===(a=t.semanticMeta.attributes)||void 0===a?void 0:a.length)||0,n.relationships=(null===(o=t.semanticMeta.ontology)||void 0===o?void 0:o.length)||0,n.tags=t.semanticMeta.tags?Object.keys(t.semanticMeta.tags).length:0);return n},ee=[{id:"overview",label:"Overview",icon:Ar},{id:"technical",label:"Technical",icon:Ba},{id:"semantic",label:"Semantic",icon:fh},{id:"attributes",label:"Attributes",icon:jr},{id:"knowledge",label:"Knowledge Graph",icon:hh},{id:"security",label:"Sensitivity",icon:oa}],te=e=>{var t,n,r,a,o,i,s,l;const c=Q(e),d=(null===(t=e.semanticMeta)||void 0===t||null===(n=t.entities)||void 0===n?void 0:n.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{}))||{};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:c.entities}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Entities"})]}),(0,Ue.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:c.attributes}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Attributes"})]}),(0,Ue.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:c.relationships}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Relationships"})]}),(0,Ue.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:c.tags}),(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Tag Categories"})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Document Summary"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:U(null===(r=e.semanticMeta)||void 0===r?void 0:r.document_summary)}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-4 text-sm",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Category:"})," ",q(e.semanticMeta||{})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Sensitivity:"})," ",(null===(a=e.semanticMeta)||void 0===a?void 0:a.document_sensitivity)||(null===(o=e.semanticMeta)||void 0===o?void 0:o.sensitivity)||L]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Language:"})," ",(null===(i=e.semanticMeta)||void 0===i?void 0:i.language)||L]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-medium",children:"Last Analyzed:"})," ",null!==(s=e.semanticMeta)&&void 0!==s&&s.last_analyzed?new Date(e.semanticMeta.last_analyzed).toLocaleString():L]})]})]}),Object.keys(d).length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Entity Distribution"}),(0,Ue.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(d).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white dark:bg-gray-700 rounded",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:t}),(0,Ue.jsx)("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:n})]},t)})})]}),(null===(l=e.semanticMeta)||void 0===l?void 0:l.key_phrases)&&e.semanticMeta.key_phrases.length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Key Phrases"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-2",children:e.semanticMeta.key_phrases.slice(0,10).map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:e},t))})]})]})},ne=e=>{var t,n,r,a,o,i,s,l,c,d,u;return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"File Information"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(null===(t=e.syntacticMeta)||void 0===t||null===(n=t.properties)||void 0===n?void 0:n.web_url)&&(null===(r=e.syntacticMeta)||void 0===r?void 0:r.name)&&(0,Ue.jsxs)("div",{className:"col-span-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Name:"}),(0,Ue.jsx)("div",{className:"mt-1",children:(0,Ue.jsxs)("a",{href:e.syntacticMeta.properties.web_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 hover:underline inline-flex items-center gap-1 text-sm break-all",children:[e.syntacticMeta.name,(0,Ue.jsx)(Fr,{className:"w-3 h-3 flex-shrink-0"})]})})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"ID:"}),(0,Ue.jsx)("div",{className:"font-mono text-xs mt-1",children:e.id})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Provider:"}),(0,Ue.jsx)("div",{className:"mt-1",children:(null===(a=e.syntacticMeta)||void 0===a?void 0:a.provider)||L})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Path:"}),(0,Ue.jsx)("div",{className:"font-mono text-xs mt-1 break-all",children:(null===(o=e.syntacticMeta)||void 0===o?void 0:o.path)||L})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Size:"}),(0,Ue.jsxs)("div",{className:"mt-1",children:[(null===(i=e.syntacticMeta)||void 0===i?void 0:i.size)||0," bytes"]})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Owner:"}),(0,Ue.jsx)("div",{className:"mt-1",children:(null===(s=e.syntacticMeta)||void 0===s?void 0:s.owner)||L})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Content Type:"}),(0,Ue.jsx)("div",{className:"mt-1",children:(null===(l=e.semanticMeta)||void 0===l?void 0:l.content_type)||L})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Timestamps"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Created:"}),(0,Ue.jsx)("div",{className:"mt-1",children:null!==(c=e.syntacticMeta)&&void 0!==c&&c.created_at?new Date(e.syntacticMeta.created_at).toLocaleString():L})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Modified:"}),(0,Ue.jsx)("div",{className:"mt-1",children:null!==(d=e.syntacticMeta)&&void 0!==d&&d.modified_at?new Date(e.syntacticMeta.modified_at).toLocaleString():L})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Accessed:"}),(0,Ue.jsx)("div",{className:"mt-1",children:null!==(u=e.syntacticMeta)&&void 0!==u&&u.accessed_at?new Date(e.syntacticMeta.accessed_at).toLocaleString():L})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Updated:"}),(0,Ue.jsx)("div",{className:"mt-1",children:new Date(e.updatedAt).toLocaleString()})]})]})]})]})},re=e=>{var t,n,r;return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(null===(t=e.semanticMeta)||void 0===t?void 0:t.entities)&&e.semanticMeta.entities.length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:["Entities (",e.semanticMeta.entities.length,")"]}),(0,Ue.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.semanticMeta.entities.map((e,t)=>(0,Ue.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ue.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-medium rounded",children:e.type}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Confidence: ",(100*e.confidence).toFixed(1),"%"]})]}),(0,Ue.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 mb-1",children:Array.isArray(e.value)?e.value.join(", "):e.value}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Count: ",e.count]})]},t))})]}),(null===(n=e.semanticMeta)||void 0===n?void 0:n.tags)&&Object.keys(e.semanticMeta.tags).length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Tags"}),(0,Ue.jsx)("div",{className:"space-y-3",children:Object.entries(e.semanticMeta.tags).map((e,t)=>{let[n,r]=e;return(0,Ue.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-700 rounded",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ue.jsx)("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:n}),(0,Ue.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Weight: ",r.weight?(100*r.weight).toFixed(1)+"%":L]})]}),r.tags&&Array.isArray(r.tags)&&(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1",children:r.tags.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 text-xs rounded",children:e},t))})]},t)})})]}),(null===(r=e.semanticMeta)||void 0===r?void 0:r.classification)&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Classification"}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[e.semanticMeta.classification.labels&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Labels:"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:e.semanticMeta.classification.labels.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-xs rounded-full",children:e},t))})]}),e.semanticMeta.classification.categories&&(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Categories:"}),(0,Ue.jsx)("div",{className:"mt-2 space-y-2",children:Object.entries(e.semanticMeta.classification.categories).map((e,t)=>{let[n,r]=e;return(0,Ue.jsxs)("div",{className:"p-2 bg-white dark:bg-gray-700 rounded",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:n}),(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.weight?(100*r.weight).toFixed(1)+"%":""})]}),r.categories&&(0,Ue.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:r.categories.join(", ")})]},t)})})]})]})]})]})},ae=e=>{var t,n,r;const a=(null===(t=e.semanticMeta)||void 0===t?void 0:t.attributes)||[],o=(null===(n=e.semanticMeta)||void 0===n?void 0:n.custom_metadata)||(null===(r=e.semanticMeta)||void 0===r?void 0:r.customMetadata)||{},i=Object.entries(o);if(0===a.length&&0===i.length)return(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No attributes found for this document."});const s=e=>"object"===typeof e&&null!==e?(0,Ue.jsx)("pre",{className:"text-xs font-mono bg-gray-100 dark:bg-gray-700 p-1 rounded whitespace-pre-wrap",children:JSON.stringify(e,null,2)}):"boolean"===typeof e?e?"True":"False":String(e);return(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,Ue.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Document Attributes (",a.length+i.length,")"]})}),(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"w-full text-sm",children:[(0,Ue.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-4 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Attribute"}),(0,Ue.jsx)("th",{className:"px-4 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Value"})]})}),(0,Ue.jsxs)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[a.map((e,t)=>(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,Ue.jsx)("td",{className:"px-4 py-3 text-gray-600 dark:text-gray-400 font-medium",children:e.attribute}),(0,Ue.jsx)("td",{className:"px-4 py-3 text-gray-900 dark:text-gray-100",children:e.value})]},"attr-".concat(t))),i.map((e,t)=>{let[n,r]=e;return(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,Ue.jsx)("td",{className:"px-4 py-3 text-teal-600 dark:text-teal-400 font-medium",children:n}),(0,Ue.jsx)("td",{className:"px-4 py-3 text-gray-900 dark:text-gray-100",children:s(r)})]},"custom-attr-".concat(t))})]})]})})]})},oe=e=>{var t;const n=(null===(t=e.semanticMeta)||void 0===t?void 0:t.ontology)||[];return 0===n.length?(0,Ue.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No relationships found for this document."}):(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center",children:(0,Ue.jsxs)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Knowledge Relationships (",n.length,")"]})}),(0,Ue.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map((e,t)=>(0,Ue.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-600",children:(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsxs)("div",{className:"flex-1 bg-blue-100 dark:bg-blue-900/30 px-3 py-2 rounded text-sm",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Subject"}),(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.subject})]}),(0,Ue.jsx)("div",{className:"flex-shrink-0 px-3 py-2 bg-purple-100 dark:bg-purple-900/30 rounded",children:(0,Ue.jsx)("div",{className:"text-xs text-purple-600 dark:text-purple-400 font-medium",children:e.relationship})}),(0,Ue.jsxs)("div",{className:"flex-1 bg-green-100 dark:bg-green-900/30 px-3 py-2 rounded text-sm",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Object"}),(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-gray-100 font-medium",children:e.object})]})]})},t))}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg mt-4",children:[(0,Ue.jsx)("h6",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Table View"}),(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"w-full text-sm",children:[(0,Ue.jsx)("thead",{className:"bg-gray-100 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-3 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Subject"}),(0,Ue.jsx)("th",{className:"px-3 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Relationship"}),(0,Ue.jsx)("th",{className:"px-3 py-2 text-left text-gray-700 dark:text-gray-300 font-medium",children:"Object"})]})}),(0,Ue.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:n.map((e,t)=>(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[(0,Ue.jsx)("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100",children:e.subject}),(0,Ue.jsx)("td",{className:"px-3 py-2 text-purple-600 dark:text-purple-400 font-medium",children:e.relationship}),(0,Ue.jsx)("td",{className:"px-3 py-2 text-gray-900 dark:text-gray-100",children:e.object})]},t))})]})})]})]})},ie=e=>{var t,n,r,a,o,i,s,l,c,d,u,m,g,p;const f=(null===(t=e.semanticMeta)||void 0===t?void 0:t.document_sensitivity)||(null===(n=e.semanticMeta)||void 0===n?void 0:n.sensitivity),h=(null===(r=e.semanticMeta)||void 0===r?void 0:r.sensitivity)||{},v=(null===(a=e.semanticMeta)||void 0===a?void 0:a.pii_detected)||(null===(o=e.semanticMeta)||void 0===o?void 0:o.tags)&&e.semanticMeta.tags.PII||(null===(i=e.semanticMeta)||void 0===i||null===(s=i.classification)||void 0===s||null===(l=s.labels)||void 0===l?void 0:l.includes("PII")),x=h.classification_provenance||{};return(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Sensitivity Level"}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)(ta,{className:"w-8 h-8 ".concat("high"===(null===f||void 0===f?void 0:f.toLowerCase())?"text-red-500":"text-green-500")}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-2xl font-bold ".concat("high"===(null===f||void 0===f?void 0:f.toLowerCase())?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:f||"UNKNOWN"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Document Sensitivity"})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"PII Detection"}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)(aa,{className:"w-8 h-8 ".concat(v?"text-amber-500":"text-gray-400")}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-xl font-bold ".concat(v?"text-amber-600 dark:text-amber-400":"text-gray-600 dark:text-gray-400"),children:v?"PII Detected":"No PII Detected"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Personal Identifiable Information"})]})]}),v&&(null===(c=e.semanticMeta)||void 0===c||null===(d=c.tags)||void 0===d?void 0:d.PII)&&(0,Ue.jsxs)("div",{className:"mt-4",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"PII Types Found:"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(u=e.semanticMeta.tags.PII.tags)||void 0===u?void 0:u.map((e,t)=>(0,Ue.jsx)("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs rounded-full",children:e},t))}),(0,Ue.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Weight: ",e.semanticMeta.tags.PII.weight?(100*e.semanticMeta.tags.PII.weight).toFixed(1)+"%":"N/A"]})]})]}),(null===(m=e.semanticMeta)||void 0===m||null===(g=m.classification)||void 0===g?void 0:g.labels)&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Security Labels"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-2",children:e.semanticMeta.classification.labels.map((e,t)=>(0,Ue.jsx)("span",{className:"px-3 py-1.5 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 text-sm rounded-full font-medium",children:e},t))})]}),(null===(p=e.syntacticMeta)||void 0===p?void 0:p.permissions)&&e.syntacticMeta.permissions.length>0&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Permissions"}),(0,Ue.jsx)("div",{className:"space-y-2",children:e.syntacticMeta.permissions.map((e,t)=>(0,Ue.jsx)("div",{className:"p-3 bg-white dark:bg-gray-700 rounded text-sm",children:(0,Ue.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"})," ",e.type]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"User:"})," ",e.userID]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Role:"})," ",e.role]})]})},t))})]}),Object.keys(h).length>0&&(0,Ue.jsxs)("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 p-4 rounded-lg border border-indigo-200 dark:border-indigo-800 space-y-3",children:[(0,Ue.jsxs)("h4",{className:"text-base font-bold text-indigo-900 dark:text-indigo-100 mb-4 flex items-center gap-2",children:[(0,Ue.jsx)(ta,{className:"w-5 h-5"}),"Sensitivity Classification"]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Detailed Sensitivity Information"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Level:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:X(h.level)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Keyword:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:X(h.keyword)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Security Classification:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:X(h.security_classification)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Sensitivity Score:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100 font-medium",children:X(h.sensitivity_score)})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Classification Provenance"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Classification Method:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.classification_method)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Classified At:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:x.classified_at?new Date(x.classified_at).toLocaleString():L})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Classified By:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.classified_by)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Confidence Score:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.confidence_score)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"ML Model Version:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.ml_model_version)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Requires Review:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.requires_review)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Level Escalated:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.level_escalated)})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"LLM Original Level:"}),(0,Ue.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:X(x.llm_original_level)})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg mb-0",children:[(0,Ue.jsx)("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Additional Metadata"}),(0,Ue.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Regulatory Scope:"}),(0,Ue.jsx)("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:X(h.regulatory_scope)})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"Data Categories:"}),(0,Ue.jsx)("div",{className:"mt-1 text-gray-900 dark:text-gray-100",children:X(h.data_categories)})]})]})]})]})]})};return(0,Ue.jsxs)("div",{ref:d,className:"space-y-4 max-h-screen h-full overflow-y-auto pb-20",children:[!i&&(0,Ue.jsx)(GH,{onFilterChange:K,onPushToVector:o,onSaveFilter:G,onSearch:Y,onClearResults:H,savedFilters:h}),b?(0,Ue.jsxs)("div",{className:"text-center py-4",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto"}),(0,Ue.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Searching files..."})]}):S&&(0,Ue.jsxs)("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Found ",x.length," matching files"]}),p.length>0&&(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Using ",p[0].conditions.filter(e=>e.field&&e.value).length," filter condition",1!==p[0].conditions.filter(e=>e.field&&e.value).length?"s":""]})]}),(0,Ue.jsx)("div",{className:"space-y-4",children:x.map(e=>{const t=W(e);return(0,Ue.jsxs)("div",{id:"file-".concat(t.id),className:"border dark:border-gray-700 rounded-lg overflow-hidden ".concat(u===t.id?"ring-2 ring-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":""),children:[(0,Ue.jsxs)("div",{className:"flex items-center p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800",children:[l&&(0,Ue.jsx)("input",{type:"checkbox",checked:u===t.id,onChange:e=>{e.stopPropagation(),l&&l(t.id)},onClick:e=>e.stopPropagation(),className:"mr-3 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded cursor-pointer"}),(0,Ue.jsxs)("div",{className:"flex items-center flex-1 min-w-0",onClick:()=>$(t.id),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),$(t.id))},role:"button",tabIndex:0,children:[(e=>{const n=null===(e=t.syntacticMeta)||void 0===e?void 0:e.provider,r=(e=>({onedrive:Qa,confluence:$a,"google-drive":Za,slack:eo,teams:to,msteams:to}[null===e||void 0===e?void 0:e.toLowerCase()]||Ba))(n),a=(e=>({onedrive:"text-[#0078D4]",confluence:"text-[#172B4D]","google-drive":"text-[#4285F4]",slack:"text-[#4A154B]",teams:"text-[#6264A7]",msteams:"text-[#6264A7]"}[null===e||void 0===e?void 0:e.toLowerCase()]||"text-gray-500 dark:text-gray-400"))(n);return(0,Ue.jsx)(r,{className:"w-5 h-5 mr-2 ".concat(a)})})(),(0,Ue.jsxs)("div",{className:"flex-grow",children:[(0,Ue.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:V(t)}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,Ue.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",t.id]}),(()=>{const e=Q(t);return(0,Ue.jsxs)("div",{className:"flex items-center gap-1",children:[e.entities>0&&(0,Ue.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300",children:[e.entities," entities"]}),e.attributes>0&&(0,Ue.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:[e.attributes," attrs"]}),e.relationships>0&&(0,Ue.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300",children:[e.relationships," links"]})]})})()]})]}),(()=>{const e=(e=>{const t=W(e),n=[];if(t.semanticMeta){const e=t.semanticMeta.sensitivity||t.semanticMeta.document_sensitivity;e&&"high"===e.toLowerCase()&&n.push({text:"sensitive",icon:ta,color:"text-red-600 dark:text-red-400",bgColor:"bg-red-50 dark:bg-red-900/20"});let r=!1;!0===t.semanticMeta.pii_detected&&(r=!0),t.semanticMeta.tags&&t.semanticMeta.tags.PII&&(r=!0),t.semanticMeta.classification&&t.semanticMeta.classification.labels&&t.semanticMeta.classification.labels.includes("PII")&&(r=!0),r&&n.push({text:"PII",icon:aa,color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-50 dark:bg-amber-900/20"})}return n})(t);return e.length>0&&(0,Ue.jsx)("div",{className:"flex flex-wrap gap-1 mr-2",children:e.map((e,t)=>(0,Ue.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ".concat(e.color," ").concat(e.bgColor),children:[(0,Ue.jsx)(e.icon,{className:"w-3 h-3 mr-1"}),e.text]},t))})})(),c.has(t.id)?(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-600"}):D===t.id?(0,Ue.jsx)(ja,{className:"w-5 h-5 text-gray-400"}):(0,Ue.jsx)(Na,{className:"w-5 h-5 text-gray-400"})]})]}),D===t.id&&(0,Ue.jsx)("div",{className:"border-t dark:border-gray-700",children:A.has(t.id)?(0,Ue.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 mr-3"}),(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Loading detailed metadata..."})]}):(0,Ue.jsx)(Ue.Fragment,{children:(()=>{const e=P[t.id]||(a&&a.id===t.id?a:t),n=W(e),r=(o=t.id,I[o]||"overview");var o;return(0,Ue.jsxs)("div",{className:"p-4",children:[(0,Ue.jsx)("div",{className:"flex space-x-1 mb-4 overflow-x-auto border-b border-gray-200 dark:border-gray-700",children:ee.map(e=>{const n=e.icon,a=r===e.id;return(0,Ue.jsxs)("button",{onClick:n=>{n.stopPropagation(),((e,t)=>{M(n=>Le(Le({},n),{},{[e]:t}))})(t.id,e.id)},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ".concat(a?"border-indigo-600 text-indigo-600 dark:border-indigo-400 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:[(0,Ue.jsx)(n,{className:"w-4 h-4"}),e.label]},e.id)})}),(0,Ue.jsxs)("div",{className:"mt-4",children:["overview"===r&&te(n),"technical"===r&&ne(n),"semantic"===r&&re(n),"attributes"===r&&ae(n),"knowledge"===r&&oe(n),"security"===r&&ie(n)]})]})})()})})]},t.id)})})]})},YH=e=>{let{hideFilters:t=!1,embeddedMode:n=!1,onFileSelect:a,selectedFileId:o=null}=e;const{user:i}=(0,r.useContext)(Sr),[s,l]=(0,r.useState)([]),[c,d]=(0,r.useState)([]),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),[f,h]=(0,r.useState)(!1),[v,x]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[k,w]=(0,r.useState)("table"),[j,N]=(0,r.useState)([]),[C,S]=(0,r.useState)(!1),[E,_]=(0,r.useState)(null),O=(0,r.useRef)(null),[I]=(0,r.useState)(["query","file type","owner","size","provider","tags","language","summary","key_phrase","sensitivity","attribute","attr","attr_name","attr_value","ontology","knowledge","subject","relationship","relation","object"]),[M,P]=(0,r.useState)(""),[T,A]=(0,r.useState)(!1),[R,z]=(0,r.useState)([]),[D,L]=(0,r.useState)(null),[B,F]=(0,r.useState)(!1),[H,W]=(0,r.useState)(null),[V,q]=(0,r.useState)(!1),[U,K]=(0,r.useState)(!0),[G,X]=(0,r.useState)(null),[Y,$]=(0,r.useState)(null),[J,Z]=(0,r.useState)("scroll"),[Q,ee]=(0,r.useState)(0),[te,ne]=(0,r.useState)(!1),[re,ae]=(0,r.useState)(null),[oe,ie]=(0,r.useState)(!0),[se]=(0,r.useState)(50),[le]=(0,r.useState)(.4),[ce,de]=(0,r.useState)(null),ue=e=>{if(!e||!e.trim())return"empty";const t=[/file\s?type:/i,/owner:/i,/provider:/i,/size:/i,/created:/i,/modified:/i,/tags?:/i,/language:/i,/sensitivity:/i,/attribute:/i,/attr:/i,/ontology:/i,/subject:/i,/relationship:/i,/object:/i,/query:/i,/name:/i,/mime_type:/i];for(const r of t)if(r.test(e))return"structured";const n=[/show me/i,/find/i,/get/i,/search for/i,/list/i,/give me/i,/looking for/i,/can you/i,/i need/i,/i want/i,/all.*files/i,/my.*files/i,/files related to/i,/documents about/i,/containing/i,/with/i,/that have/i,/from last/i,/in the past/i,/from yesterday/i,/from today/i,/last week/i,/last month/i,/last year/i,/this week/i,/this month/i,/recent/i,/latest/i,/newest/i,/oldest/i,/\b(?:invoices?|receipts?|contracts?|agreements?|reports?|proposals?|presentations?|spreadsheets?|memos?|letters?|forms?)\b/i,/\b(?:pdfs?|docs?|docx|xlsx?|pptx?|txt|csv|json|xml)\b/i,/\bfrom\s+\w+/i,/\bby\s+\w+/i,/\bcreated\s+by/i,/\bowned\s+by/i,/\ball\s+(?:the\s+)?(?:pdfs?|docs?|files?|invoices?|reports?)/i,/\bany\s+(?:pdfs?|docs?|files?)/i,/\bevery\s+(?:pdfs?|docs?|files?)/i,/\babout\s+\w+/i,/\bregarding\s+\w+/i,/\brelated\s+to/i,/\bmentioning/i,/\bdiscussing/i,/\bconcerning/i];for(const r of n)if(r.test(e))return"natural_language";return e.trim().split(/\s+/).length<=3?"structured":"natural_language"},me=(0,r.useRef)(null),ge=(0,r.useRef)(null),pe=(0,r.useRef)(null),fe=(0,r.useRef)(null),he=(0,r.useRef)(!1),ve=e=>{if(!e||"string"!==typeof e||!e.trim())return 0;let t=0;return[/file\s?type:/gi,/owner:/gi,/size:/gi,/created:/gi,/modified:/gi,/provider:/gi,/language:/gi,/sensitivity:/gi,/tags?:/gi,/(?:summary|document_summary):/gi,/query:/gi,/key_phrase:/gi,/(?:attribute|attr):/gi,/attr_name:/gi,/attr_value:/gi,/(?:ontology|knowledge):/gi,/subject:/gi,/(?:relationship|relation):/gi,/object:/gi].forEach(n=>{const r=e.match(n);r&&(t+=r.length)}),t};(0,r.useEffect)(()=>{const e=localStorage.getItem("savedFilters");e&&b(JSON.parse(e));const t=localStorage.getItem("recentSearches");t&&N(JSON.parse(t)),O.current&&O.current.focus()},[]),(0,r.useEffect)(()=>{const e=()=>{pe.current&&clearTimeout(pe.current),pe.current=setTimeout(()=>{if(!fe.current||V||!Y||ge.current)return;const e=fe.current;e.scrollTop+e.clientHeight>=e.scrollHeight-200&&!V&&U&&Y&&G&&ke()},100)},t=fe.current;if(t)return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e),pe.current&&clearTimeout(pe.current)}},[V,U,Y,G]);const xe=()=>{me.current&&(me.current=null),ge.current&&(ge.current=null),d([]),z([]),_(null),A(!1),K(!0),X(null),$(null),q(!1),ee(0)},ye=e=>{he.current=!0,l(e),P(""),S(!1),be(e),setTimeout(()=>{he.current=!1},100)},be=(0,r.useCallback)(async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||s;L(null),m(!0),p(null),A(!0),X(null),K(!0),ae(null),de(null);try{const t=f&&v.length>0,n=(!f||0===v.length)&&e&&e.trim();let r={},a="".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified");if(t){const e={limit:100,sort:[{_id:"asc"}],mode:"structured"};v.forEach(t=>{t.conditions.forEach(t=>{if(t.field&&t.operator&&t.value)switch(t.field){case"query":"!="===t.operator?e.exclude_query_contains=t.value:(t.operator,e.name_contains=t.value);break;case"file type":if(!t.value)break;let n=t.value.toLowerCase();switch(t.operator){case"!=":e.exclude_file_types=e.exclude_file_types||[],e.exclude_file_types.push(n);break;case"contains":e.file_type_contains=n;break;default:e.file_types=e.file_types||[],e.file_types.push(n)}break;case"owner":"!="===t.operator?e.exclude_owner=t.value:"contains"===t.operator?e.owner_contains=t.value:e.owner=t.value;break;case"size":const r=parseInt(t.value);0===r&&"="===t.operator?e.size_exact_zero=!0:">"===t.operator?e.min_size=r+1:">="===t.operator?e.min_size=r:"<"===t.operator?e.max_size=r-1:"<="===t.operator?e.max_size=r:"="===t.operator?(e.min_size=r,e.max_size=r):"!="===t.operator&&(e.size_ne=r);break;case"name":"!="===t.operator?e.exclude_name_contains=t.value.toLowerCase():"contains"!==t.operator&&"="!==t.operator||(e.name_contains=t.value.toLowerCase());break;case"mime_types":"!="===t.operator?(e.exclude_mime_types=e.exclude_mime_types||[],e.exclude_mime_types.push(t.value)):"contains"===t.operator?e.mime_type_contains=t.value:(e.mime_types=e.mime_types||[],e.mime_types.push(t.value));break;case"provider":"!="===t.operator?e.exclude_provider=t.value.toLowerCase():e.provider=t.value.toLowerCase();break;case"created after":"!="===t.operator?e.exclude_created_after=new Date(t.value).toISOString():e.created_after=new Date(t.value).toISOString();break;case"created before":"!="===t.operator?e.exclude_created_before=new Date(t.value).toISOString():e.created_before=new Date(t.value).toISOString();break;case"modified after":"!="===t.operator?e.exclude_modified_after=new Date(t.value).toISOString():e.modified_after=new Date(t.value).toISOString();break;case"modified before":"!="===t.operator?e.exclude_modified_before=new Date(t.value).toISOString():e.modified_before=new Date(t.value).toISOString();break;case"tags":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"tags",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"tags",operator:"contains",value:t.value})):(e.tags=e.tags||[],e.tags.push(t.value));break;case"categories":e.categories=t.value.split(",").map(e=>e.trim());break;case"entities.type":"!="===t.operator?(e.exclude_entity_types=e.exclude_entity_types||[],e.exclude_entity_types.push(t.value)):(e.entity_types=e.entity_types||[],e.entity_types.push(t.value));break;case"entities.value":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"entities.value",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"entities.value",operator:"contains",value:t.value})):(e.entity_values=e.entity_values||[],e.entity_values.push(t.value));break;case"key_phrase":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"key_phrases",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"key_phrases",operator:"contains",value:t.value})):e.key_phrase=t.value;break;case"document_sensitivity":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_sensitivity",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_sensitivity",operator:"contains",value:t.value})):e.document_sensitivity=t.value;break;case"language":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"language",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"language",operator:"contains",value:t.value})):e.language=t.value;break;case"document_summary":"!="===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_summary",operator:"!=",value:t.value})):"contains"===t.operator?(e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"document_summary",operator:"contains",value:t.value})):e.document_summary=t.value;break;case"classification_categories":"!="===t.operator?(e.exclude_classification_categories=e.exclude_classification_categories||[],e.exclude_classification_categories.push(t.value)):(e.classification_categories=e.classification_categories||[],e.classification_categories.push(t.value));break;case"classification_labels":"!="===t.operator?(e.exclude_classification_labels=e.exclude_classification_labels||[],e.exclude_classification_labels.push(t.value)):(e.classification_labels=e.classification_labels||[],e.classification_labels.push(t.value));break;case"attributes":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"attributes",operator:t.operator||"contains",value:t.value});break;case"attributes.attribute":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"attributes.attribute",operator:t.operator||"contains",value:t.value});break;case"attributes.value":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"attributes.value",operator:t.operator||"contains",value:t.value});break;case"ontology":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology",operator:t.operator||"contains",value:t.value});break;case"ontology.subject":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology.subject",operator:t.operator||"contains",value:t.value});break;case"ontology.relationship":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology.relationship",operator:t.operator||"contains",value:t.value});break;case"ontology.object":e.semantic_filters=e.semantic_filters||[],e.semantic_filters.push({field:"ontology.object",operator:t.operator||"contains",value:t.value})}})}),console.log("Advanced filters API params:",e),$(e);try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.error||"Failed to search files")}const n=await t.json();console.log("Advanced filters API response:",n);const r=n.results||n||[],a=n.search_after||null,o=n.count||0;ee(o);const i=r.map(e=>({id:e.id,syntacticMeta:{name:e.name,path:e.path,provider:e.provider,size:e.size,modified_at:e.modified_at,mime_type:e.file_type},semanticMeta:{document_sensitivity:e.sensitivity,pii_detected:e.pii_detected,_isLightweight:!0},updatedAt:e.modified_at,_id:e._id||e.id}));d(i),z(i),X(a),K(null!==a)}catch(g){console.error("Advanced filters search error:",g),p({type:"error",message:"Failed to search files"}),d([]),z([]),K(!1)}return}if(n){const t=ue(e);if("natural_language"===t)console.log("Auto-detected NL query, using hybrid search:",e),de("generating"),r={nl_query:e,mode:"nl",limit:100,sort:[{_score:"desc"},{_id:"asc"}],semantic_query:e,hybrid_search_mode:"hybrid",hybrid_rank_weight:.5,semantic_similarity_k:se,semantic_min_score:le},console.log("Using hybrid search with balanced weighting");else{if("structured"!==t)return d([]),z([]),void K(!1);{console.log("Auto-detected structured query, using filters:",e);const t=Se(e),n={limit:100,sort:[{_id:"asc"}],mode:"structured"};Object.assign(n,(e=>{const t={};return e.forEach(e=>{Object.keys(e).forEach(n=>{Array.isArray(e[n])&&Array.isArray(t[n])?t[n]=[...t[n],...e[n]]:"semantic_filters"===n?(t[n]=t[n]||[],Array.isArray(e[n])&&(t[n]=[...t[n],...e[n]])):t[n]=e[n]})}),t})(t)),r=n}}$(r);const n=await fetch(a,{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.error||"Failed to search files")}const o=await n.json();console.log("Search API response:",o),"natural_language"===t&&de("completed"),o.parsed_query&&"natural_language"===o.query_source&&(ae(o.parsed_query),ie(!0));const i=o.results||o||[],s=o.search_after||null,l=o.count||0;ee(l);const c=i.map((e,t)=>({id:e.id,syntacticMeta:{name:e.name,path:e.path,provider:e.provider,size:e.size,modified_at:e.modified_at,mime_type:e.file_type},semanticMeta:{document_sensitivity:e.sensitivity,pii_detected:e.pii_detected,_isLightweight:!0},updatedAt:e.modified_at,_id:e._id||e.id,_score:e._score||null,_rank:t+1}));d(c),z(c),X(s),K(null!==s)}else d([]),z([]),K(!1);s&&s.trim()&&(e=>{const t=[e,...j.filter(t=>t!==e)].slice(0,5);N(t),localStorage.setItem("recentSearches",JSON.stringify(t))})(s)}catch(g){console.error("Search error:",g),p({type:"error",message:"Failed to search files"}),d([]),z([]),K(!1),de("failed")}finally{m(!1)}},[s,v,f,se,le]),ke=(0,r.useCallback)(async()=>{if(!V&&U&&Y&&G){q(!0);try{const e=Le(Le({},Y),{},{search_after:G}),t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.error||"Failed to load more files")}const n=await t.json(),r=n.results||[],a=n.search_after||null;void 0!==n.count&&ee(n.count);const o=r.map(e=>({id:e.id,syntacticMeta:{name:e.name||"Unknown",path:e.path||"",provider:e.provider||"Unknown",size:e.size||0,modified_at:e.modified_at||null,mime_type:e.file_type||"Unknown"},semanticMeta:{document_sensitivity:e.sensitivity||"Unknown",pii_detected:e.pii_detected||!1,_isLightweight:!0},updatedAt:e.modified_at||null,_id:e._id||e.id}));d(e=>[...e,...o]),z(e=>[...e,...o]),X(a),K(null!==a)}catch(g){K(!1)}finally{q(!1)}}},[V,U,Y,G,R.length]),we=[{query:"invoices from Microsoft about cloud services",description:"AI understands context and finds relevant docs",badge:"Smart",category:"Natural Language"},{query:"documents discussing project timelines",description:"Semantic search finds conceptually similar files",badge:"Smart",category:"Natural Language"},{query:"financial reports with revenue information",description:"Finds reports about financials, even without exact words",badge:"Smart",category:"Natural Language"},{query:"show me all PDFs from last week",description:"Recent PDFs",badge:"Smart",category:"Natural Language"},{query:"find my confidential Excel files",description:"Confidential spreadsheets",badge:"Smart",category:"Natural Language"},{query:"files with invoice number containing 8efd",description:"Invoice by number",badge:"Smart",category:"Attributes"},{query:"documents with GSTIN 30AAJCN9749H1Z5",description:"Search by GSTIN",badge:"Smart",category:"Attributes"},{query:"show me files where total charges exceed 1000",description:"High value documents",badge:"Smart",category:"Attributes"},{query:"find all purchase orders from last month",description:"Recent POs",badge:"Smart",category:"Attributes"},{query:"documents with PAN number",description:"Tax documents",badge:"Smart",category:"Attributes"},{query:"find files where Microsoft sells to Neural Machines",description:"Vendor relationships",badge:"Smart",category:"Ontology"},{query:"documents with companies located in Delhi",description:"Delhi-based entities",badge:"Smart",category:"Ontology"},{query:"files about invoices issued in February",description:"February invoices",badge:"Smart",category:"Ontology"},{query:"show documents with registered office relationships",description:"Registration data",badge:"Smart",category:"Ontology"},{query:"confidential PDFs with invoice numbers from Microsoft",description:"Secure vendor docs",badge:"Smart",category:"Advanced"},{query:"large Excel files over 5MB with tax rate information",description:"Large tax files",badge:"Smart",category:"Advanced"},{query:"file type:pdf owner:john created:>2024-01-01",description:"Precise filter-based search",badge:"Filtered",category:"Structured"},{query:"provider:google-drive sensitivity:HIGH",description:"Exact match on specific attributes",badge:"Filtered",category:"Structured"}],je=()=>te?(0,Ue.jsx)("div",{className:"mt-3 mb-2 px-3 py-2 bg-gradient-to-r from-purple-50 via-indigo-50 to-blue-50 dark:from-purple-900/10 dark:via-indigo-900/10 dark:to-blue-900/10 border border-purple-200/50 dark:border-purple-800/30 rounded-lg shadow-sm",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:["generating"===ce&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-2 border-purple-600 border-t-transparent"}),(0,Ue.jsx)("span",{className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:"Analyzing with AI..."})]}),"completed"===ce&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:"flex items-center justify-center w-3.5 h-3.5 bg-green-500 rounded-full",children:(0,Ue.jsx)("svg",{className:"w-2.5 h-2.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,Ue.jsx)("span",{className:"text-xs text-gray-700 dark:text-gray-300 font-medium",children:"Smart hybrid search active"}),(0,Ue.jsx)("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"(meaning + keywords)"})]}),"failed"===ce&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("div",{className:"flex items-center justify-center w-3.5 h-3.5 bg-yellow-500 rounded-full",children:(0,Ue.jsx)("span",{className:"text-white text-[10px] font-bold",children:"!"})}),(0,Ue.jsx)("span",{className:"text-xs text-yellow-700 dark:text-yellow-300 font-medium",children:"Keyword search mode"})]})]}),"completed"===ce&&(0,Ue.jsxs)("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-green-100 dark:bg-green-900/30 rounded-full",children:[(0,Ue.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),(0,Ue.jsx)("span",{className:"text-[9px] text-green-700 dark:text-green-400 font-semibold uppercase tracking-wide",children:"Live"})]})]})}):null,Ne=()=>(0,Ue.jsx)("button",{onClick:()=>be(s),disabled:f,className:"ml-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 flex items-center gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:te?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,Ue.jsx)("span",{children:"Smart Search"})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,Ue.jsx)("span",{children:"Search"})]})}),Ce=(0,Ue.jsx)("div",{className:"mt-3 mb-3 px-4 py-3 bg-gradient-to-br from-indigo-50 via-purple-50 to-blue-50 dark:from-gray-800 dark:via-gray-800 dark:to-gray-800 rounded-lg border border-indigo-100 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,Ue.jsx)(ea,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0 text-indigo-600 dark:text-indigo-400"}),(0,Ue.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-4 min-w-0",children:[(0,Ue.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,Ue.jsxs)("p",{className:"text-[11px] font-semibold text-indigo-700 dark:text-indigo-300 mb-1.5 flex items-center",children:[(0,Ue.jsx)("span",{className:"mr-1",children:"\u2699\ufe0f"}),"Structured Patterns"]}),(0,Ue.jsxs)("div",{className:"space-y-1 pl-4",children:[(0,Ue.jsx)("div",{className:"text-[10px] text-indigo-600 dark:text-indigo-400",children:(0,Ue.jsx)("code",{className:"bg-indigo-100 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded text-[10px]",children:"file type:pdf"})}),(0,Ue.jsx)("div",{className:"text-[10px] text-indigo-600 dark:text-indigo-400",children:(0,Ue.jsx)("code",{className:"bg-indigo-100 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded text-[10px]",children:"owner:email"})}),(0,Ue.jsx)("div",{className:"text-[10px] text-indigo-600 dark:text-indigo-400",children:(0,Ue.jsx)("code",{className:"bg-indigo-100 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded text-[10px]",children:"sensitivity:High"})}),(0,Ue.jsx)("div",{className:"text-[10px] text-indigo-600 dark:text-indigo-400",children:(0,Ue.jsx)("code",{className:"bg-indigo-100 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded text-[10px]",children:"size:>1000"})})]})]}),(0,Ue.jsxs)("div",{className:"flex flex-col min-w-0 lg:border-l lg:border-r border-indigo-200 dark:border-gray-700 lg:px-4",children:[(0,Ue.jsxs)("p",{className:"text-[11px] font-semibold text-purple-700 dark:text-purple-300 mb-1.5 flex items-center",children:[(0,Ue.jsx)("span",{className:"mr-1",children:"\ud83d\udccb"}),"Attribute Queries"]}),(0,Ue.jsxs)("div",{className:"text-[10px] text-purple-600 dark:text-purple-400 space-y-0.5 pl-4",children:[(0,Ue.jsx)("div",{children:'\u2022 "invoice number X"'}),(0,Ue.jsx)("div",{children:'\u2022 "GSTIN containing Y"'}),(0,Ue.jsx)("div",{children:'\u2022 "purchase orders"'}),(0,Ue.jsx)("div",{children:'\u2022 "total charges > 1000"'})]})]}),(0,Ue.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,Ue.jsxs)("p",{className:"text-[11px] font-semibold text-blue-700 dark:text-blue-300 mb-1.5 flex items-center",children:[(0,Ue.jsx)("span",{className:"mr-1",children:"\ud83d\udd17"}),"Ontology Queries"]}),(0,Ue.jsxs)("div",{className:"text-[10px] text-blue-600 dark:text-blue-400 space-y-0.5 pl-4",children:[(0,Ue.jsx)("div",{children:'\u2022 "X sells to Y"'}),(0,Ue.jsx)("div",{children:'\u2022 "companies in Delhi"'}),(0,Ue.jsx)("div",{children:'\u2022 "registered offices"'}),(0,Ue.jsx)("div",{children:'\u2022 "invoices in February"'})]})]})]}),(0,Ue.jsx)("div",{className:"flex-shrink-0",children:(0,Ue.jsxs)("div",{className:"px-2.5 py-1 rounded-full text-[10px] font-medium whitespace-nowrap ".concat(ve(s)>=5?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":ve(s)>=4?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300":"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-300"),children:[ve(s),"/5"]})})]})}),Se=e=>{const t=[];let n=e;const r=[...e.matchAll(/size:\s*([<>!=]=?|=?)(\d+)/gi)];if(r.length>0){const e={};r.forEach(t=>{const r=t[1],a=parseInt(t[2]);">"===r?e.min_size=Math.max(e.min_size||0,a+1):"<"===r?e.max_size=Math.min(e.max_size||1/0,a-1):">="===r||"\u2265"===r?e.min_size=Math.max(e.min_size||0,a):"<="===r||"\u2264"===r?e.max_size=Math.min(e.max_size||1/0,a):"!="===r?e.size_ne=a:"="!==r&&""!==r||e.min_size||e.max_size||(e.min_size=a,e.max_size=a),n=n.replace(t[0],"").trim()}),Object.keys(e).length>0&&t.push(e)}const a=e.match(/created:\s*([<>]?)(\d{4}-\d{2}-\d{2})/i);if(a){const e=a[1],r=a[2],o={};">"===e?o.created_after="".concat(r,"T00:00:00Z"):("<"===e||(o.created_after="".concat(r,"T00:00:00Z")),o.created_before="".concat(r,"T23:59:59Z")),t.push(o),n=n.replace(a[0],"").trim()}const o=e.match(/modified:\s*([<>]?)(\d{4}-\d{2}-\d{2})/i);if(o){const e=o[1],r=o[2],a={};">"===e?a.modified_after="".concat(r,"T00:00:00Z"):("<"===e||(a.modified_after="".concat(r,"T00:00:00Z")),a.modified_before="".concat(r,"T23:59:59Z")),t.push(a),n=n.replace(o[0],"").trim()}if([{regex:/file\s?type:\s*([a-z]+)/i,handler:e=>({file_types:[e[1].toLowerCase()]})},{regex:/owner:\s*([^,\s]+)/i,handler:e=>({owner:e[1].trim()})},{regex:/provider:\s*([^,]+?)(?=\s*,|\s+\w+:|$)/i,handler:e=>{let t=e[1].trim().toLowerCase();t=t.replace(/,+$/,"");return{provider:{"google drive":"google-drive",googledrive:"google-drive","google-drive":"google-drive",onedrive:"onedrive","one drive":"onedrive",msteams:"msteams","ms teams":"msteams",teams:"msteams",confluence:"confluence",slack:"slack",elasticsearch:"elasticsearch","elastic search":"elasticsearch",elastic:"elasticsearch"}[t]||t.replace(/\s+/g,"-")}}},{regex:/language:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"language",operator:"contains",value:e[1].trim().toLowerCase()}]})},{regex:/sensitivity:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"document_sensitivity",operator:"contains",value:e[1].trim().toUpperCase()}]})},{regex:/tags?\s*:\s*([^,\s]+)/i,handler:e=>({entity_values:[e[1].trim().toLowerCase()]})},{regex:/(?:document_)?summary:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"document_summary",operator:"contains",value:e[1].trim()}]})},{regex:/query:\s*([^,\s]+)/i,handler:e=>({name_contains:e[1].trim()})},{regex:/key_phrase:\s*([^,\s]+)/i,handler:e=>({key_phrase:e[1].trim()})},{regex:/(?:attribute|attr):\s*"([^"]+)"|(?:attribute|attr):\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"attributes",operator:"contains",value:(e[1]||e[2]).trim()}]})},{regex:/attr_name:\s*"([^"]+)"|attr_name:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"attributes.attribute",operator:"contains",value:(e[1]||e[2]).trim()}]})},{regex:/attr_value:\s*"([^"]+)"|attr_value:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"attributes.value",operator:"contains",value:(e[1]||e[2]).trim()}]})},{regex:/(?:ontology|knowledge):\s*"([^"]+)"|(?:ontology|knowledge):\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"ontology",operator:"contains",value:(e[1]||e[2]).trim()}]})},{regex:/subject:\s*"([^"]+)"|subject:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"ontology.subject",operator:"contains",value:(e[1]||e[2]).trim()}]})},{regex:/(?:relationship|relation):\s*"([^"]+)"|(?:relationship|relation):\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"ontology.relationship",operator:"contains",value:(e[1]||e[2]).trim()}]})},{regex:/object:\s*"([^"]+)"|object:\s*([^,\s]+)/i,handler:e=>({semantic_filters:[{field:"ontology.object",operator:"contains",value:(e[1]||e[2]).trim()}]})}].forEach(e=>{let{regex:r,handler:a}=e;const o=new RegExp(r.source,r.flags+"g");[...n.matchAll(o)].forEach(e=>{const r=a(e);t.push(r),n=n.replace(e[0],"").trim()}),n=n.replace(/^,+\s*|,+\s*$/g,"").trim(),n=n.replace(/,+\s*,+/g,",").trim()}),n.trim()){const e=n.replace(/^,+\s*|,+\s*$/g,"").trim();e&&t.push({name_contains:e})}return t},Ee=(0,Ue.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,Ue.jsxs)("div",{className:"p-6 pb-0",children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Discover Data"}),(0,Ue.jsxs)("div",{className:"relative mb-3",children:[(0,Ue.jsxs)("div",{className:"flex items-center relative",children:[(0,Ue.jsxs)("div",{className:"relative flex-grow",children:[(0,Ue.jsx)("input",{ref:O,type:"text",value:s,onChange:e=>{const t=e.target.value;if(ve(t)>5)return F(!0),void setTimeout(()=>F(!1),5e3);l(t);const n=ue(t);ne("natural_language"===n),!f&&v.length>0&&x([]);const r=t.split(" "),a=r[r.length-1].toLowerCase();if(a.length>0&&!a.includes(":")){const e=I.find(e=>e.toLowerCase().startsWith(a)&&e.toLowerCase()!==a);if(e){const t=e.slice(a.length)+":";P(t)}else P("")}else P("");t.length>0?S(!0):S(!1)},onFocus:()=>{s.length>0&&S(!0)},onBlur:()=>{setTimeout(()=>{he.current||S(!1)},300)},onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),S(!1),be()):"Tab"===e.key&&M&&(e.preventDefault(),(()=>{if(M){var e;const t=s+M;if(ve(t)>5)return F(!0),void setTimeout(()=>F(!1),3e3);l(t),P(""),null===(e=O.current)||void 0===e||e.focus()}})())},placeholder:f?"You cannot edit this field. To edit close Advanced Filter":"Try: 'show me PDFs from last week' or 'file type:pdf owner:john'",disabled:f,className:"w-full p-3 pl-10 pr-24 text-sm border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700 dark:text-white relative z-10 bg-transparent disabled:bg-gray-100 dark:disabled:bg-gray-900/50 disabled:cursor-not-allowed"}),s&&!f&&(0,Ue.jsx)("div",{className:"absolute right-16 top-1/2 transform -translate-y-1/2 z-30",children:(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium ".concat(te?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"),children:te?"\ud83e\udd16 NL":"\u2699\ufe0f Structured"})}),M&&(0,Ue.jsxs)("div",{className:"absolute left-10 top-1/2 transform -translate-y-1/2 pointer-events-none z-20 flex items-center text-sm",children:[(0,Ue.jsx)("span",{className:"invisible",style:{fontFamily:"inherit",fontSize:"inherit"},children:s}),(0,Ue.jsx)("span",{className:"text-gray-400",style:{fontFamily:"inherit",fontSize:"inherit"},children:M}),(0,Ue.jsx)("span",{className:"ml-2 text-xs text-gray-400 bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded border",children:"Press Tab"})]}),(0,Ue.jsx)(Rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 z-20"}),s&&(0,Ue.jsx)("button",{onClick:()=>{l(""),P(""),S(!1),xe(),p(null)},className:"absolute right-12 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 z-30 cursor-pointer",children:(0,Ue.jsx)(Cr,{className:"w-4 h-4"})})]}),(0,Ue.jsx)("button",{onClick:()=>{if(me.current&&(me.current=null),ge.current&&(ge.current=null),f){const e=(e=>{if(!e||0===e.length)return"";const t={query:"query","file type":"file type",owner:"owner",size:"size",name:"query",mime_types:"file type",provider:"provider","created after":"created","created before":"created","modified after":"modified","modified before":"modified",tags:"tags",categories:"tags","entities.type":"tags","entities.value":"tags",key_phrase:"key_phrase",document_sensitivity:"sensitivity",language:"language",document_summary:"summary",classification_categories:"tags",classification_labels:"tags",attributes:"attribute","attributes.attribute":"attr_name","attributes.value":"attr_value",ontology:"ontology","ontology.subject":"subject","ontology.relationship":"relationship","ontology.object":"object"},n=e.flatMap(e=>e.conditions.map(e=>{if(!e.field||!e.value)return null;const n=t[e.field]||e.field;let r="";if(e.operator&&"="!==e.operator&&"contains"!==e.operator&&(r=e.operator),e.field.includes("after")||e.field.includes("before")){const t=e.field.includes("created")?"created":"modified",n=e.field.includes("after")?">":"<";return"".concat(t,":").concat(n).concat(e.value)}const a=e.value.includes(" ")?'"'.concat(e.value,'"'):e.value;return"".concat(n,":").concat(r).concat(a)}));return n.filter(Boolean).join(" ")})(v);l(e),x([])}else l(""),x([]);h(e=>!e)},className:"ml-2 p-2 rounded-lg border hover:bg-gray-50 dark:hover:bg-gray-700 text-gray-500 dark:text-gray-400 ".concat(f?"bg-indigo-100 dark:bg-indigo-900/50 border-indigo-300 dark:border-indigo-700":"border-gray-300 dark:border-gray-600"),title:"Advanced filters",children:(0,Ue.jsx)(LH,{className:"w-5 h-5"})}),(0,Ue.jsx)(Ne,{})]}),(0,Ue.jsx)(je,{}),re&&oe&&(e=>{var t;if(!e)return null;const n=[];return e.query&&n.push({icon:"\ud83d\udd0d",label:"Text",value:e.query}),(null===(t=e.file_types)||void 0===t?void 0:t.length)>0&&n.push({icon:"\ud83d\udcc4",label:"File types",value:e.file_types.join(", ")}),e.owner&&n.push({icon:"\ud83d\udc64",label:"Owner",value:e.owner}),e.provider&&n.push({icon:"\u2601\ufe0f",label:"Provider",value:e.provider}),e.modified_after&&n.push({icon:"\ud83d\udcc5",label:"Modified after",value:new Date(e.modified_after).toLocaleDateString()}),e.document_sensitivity&&n.push({icon:"\ud83d\udd12",label:"Sensitivity",value:e.document_sensitivity}),(0,Ue.jsx)("div",{className:"mt-2 mb-2 px-3 py-2 bg-gradient-to-r from-indigo-50 via-purple-50 to-blue-50 dark:from-indigo-900/10 dark:via-purple-900/10 dark:to-blue-900/10 border border-indigo-200/50 dark:border-indigo-800/30 rounded-lg shadow-sm",children:(0,Ue.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Ue.jsx)("div",{className:"flex items-center justify-center w-3.5 h-3.5 mt-0.5 bg-indigo-500 rounded-full flex-shrink-0",children:(0,Ue.jsx)("svg",{className:"w-2 h-2 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ue.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,Ue.jsx)("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300",children:"Query Interpretation"}),(0,Ue.jsx)("button",{onClick:()=>ie(!1),className:"text-[10px] text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 font-medium transition-colors",children:"\u2715 Dismiss"})]}),n.length>0&&(0,Ue.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1.5",children:n.map((e,t)=>(0,Ue.jsxs)("div",{className:"flex items-start gap-1.5 text-[10px] text-gray-600 dark:text-gray-400",children:[(0,Ue.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,Ue.jsxs)("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[e.label,":"]}),(0,Ue.jsx)("code",{className:"bg-white dark:bg-gray-800 px-1 py-0.5 rounded text-indigo-600 dark:text-indigo-400 font-mono truncate",children:e.value})]},t))}),e.attribute_filters&&e.attribute_filters.length>0&&(0,Ue.jsxs)("div",{className:"mt-2 pt-2 border-t border-indigo-200/50 dark:border-indigo-700/30",children:[(0,Ue.jsx)("div",{className:"text-[10px] font-semibold text-purple-700 dark:text-purple-300 mb-1",children:"\ud83d\udccb Attributes"}),(0,Ue.jsx)("div",{className:"space-y-0.5",children:e.attribute_filters.map((e,t)=>(0,Ue.jsxs)("div",{className:"text-[10px] text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[(0,Ue.jsx)("span",{children:"\u2022"}),(0,Ue.jsx)("span",{className:"font-medium text-purple-600 dark:text-purple-400",children:e.attribute}),e.operator&&"="!==e.operator&&(0,Ue.jsx)("span",{children:e.operator}),e.value&&(0,Ue.jsx)("code",{className:"bg-white dark:bg-gray-800 px-1 py-0.5 rounded text-purple-600 dark:text-purple-400 font-mono",children:e.value})]},t))})]}),e.ontology_filters&&e.ontology_filters.length>0&&(0,Ue.jsxs)("div",{className:"mt-2 pt-2 border-t border-indigo-200/50 dark:border-indigo-700/30",children:[(0,Ue.jsx)("div",{className:"text-[10px] font-semibold text-blue-700 dark:text-blue-300 mb-1",children:"\ud83d\udd17 Ontology"}),(0,Ue.jsx)("div",{className:"space-y-0.5",children:e.ontology_filters.map((e,t)=>(0,Ue.jsxs)("div",{className:"text-[10px] text-gray-600 dark:text-gray-400 flex items-center gap-1",children:[(0,Ue.jsx)("span",{children:"\u2022"}),(0,Ue.jsx)("span",{className:"font-medium text-blue-600 dark:text-blue-400 capitalize",children:e.ontology_field}),e.value&&(0,Ue.jsx)("code",{className:"bg-white dark:bg-gray-800 px-1 py-0.5 rounded text-blue-600 dark:text-blue-400 font-mono",children:e.value})]},t))})]})]})]})})})(re),(()=>{if(!C)return null;const e=we.reduce((e,t)=>{const n=t.category||"Other";return e[n]||(e[n]=[]),e[n].push(t),e},{});return(0,Ue.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 max-h-96 overflow-y-auto",children:[j.length>0&&(0,Ue.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1",children:"Recent Searches"}),j.map((e,t)=>(0,Ue.jsxs)("div",{className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded cursor-pointer text-gray-800 dark:text-gray-200 flex items-center",onClick:()=>ye(e),children:[(0,Ue.jsx)(Rr,{className:"w-3 h-3 mr-2 text-gray-400"}),e]},"recent-".concat(t)))]}),Object.entries(e).map(e=>{let[t,n]=e;return(0,Ue.jsxs)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[(0,Ue.jsxs)("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 flex items-center",children:["Natural Language"===t&&(0,Ue.jsx)("span",{className:"mr-1",children:"Smart"}),"Attributes"===t&&(0,Ue.jsx)("span",{className:"mr-1",children:"Attributes"}),"Ontology"===t&&(0,Ue.jsx)("span",{className:"mr-1",children:"Ontology"}),"Advanced"===t&&(0,Ue.jsx)("span",{className:"mr-1",children:"Advanced"}),"Structured"===t&&(0,Ue.jsx)("span",{className:"mr-1",children:"Structured"}),t," Queries"]}),n.map((e,n)=>(0,Ue.jsxs)("div",{className:"px-3 py-2 hover:bg-purple-50 dark:hover:bg-purple-900/20 rounded cursor-pointer",onClick:()=>ye(e.query),children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-800 dark:text-gray-200",children:e.query}),(0,Ue.jsx)("span",{className:"px-2 py-0.5 text-xs rounded-full font-medium ".concat("Smart"===e.badge?"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"),children:e.badge})]}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]},"".concat(t,"-").concat(n)))]},t)})]})})()]}),B&&(0,Ue.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm mx-4 shadow-xl",children:[(0,Ue.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Ue.jsx)("div",{className:"flex-shrink-0",children:(0,Ue.jsx)("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ue.jsx)("div",{className:"ml-3",children:(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Search Limit Reached"})})]}),(0,Ue.jsx)("div",{className:"mb-4",children:(0,Ue.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Maximum 5 search conditions can be applied at once. Please remove some conditions to add new ones."})}),(0,Ue.jsx)("div",{className:"flex justify-end",children:(0,Ue.jsx)("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"OK"})})]})}),!f&&Ce,f&&(0,Ue.jsx)("div",{className:"mb-6 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 shadow-sm transition-all duration-300",children:(0,Ue.jsx)(GH,{onFilterChange:e=>{x(e)},onPushToVector:async e=>{try{console.log("Pushing files to vector database:",e),alert("Successfully pushed ".concat(e.length," files to vector database"))}catch(g){console.error("Error pushing files to vector database:",g),alert("Error pushing files to vector database. Please try again.")}},onSaveFilter:e=>{const t=[...y,e];b(t),localStorage.setItem("savedFilters",JSON.stringify(t))},onSearch:be,onClearResults:xe,savedFilters:y})})]}),(0,Ue.jsxs)("div",{className:"flex-1 overflow-hidden px-6",children:[g&&(0,Ue.jsx)("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Ue.jsx)("p",{className:"text-red-600 dark:text-red-400",children:g.message})}),u&&!V&&(0,Ue.jsxs)("div",{className:"text-center py-12",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,Ue.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Searching files..."})]}),!u&&T&&0===R.length&&(0,Ue.jsxs)("div",{className:"text-center py-12",children:[(0,Ue.jsx)(Ar,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No files found"}),(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Try adjusting your search criteria"})]}),!u&&T&&R.length>0&&(0,Ue.jsx)("div",{className:"mb-4 px-4 py-3 bg-gradient-to-r from-gray-50 to-purple-50 dark:from-gray-800 dark:to-purple-900/20 rounded-lg border border-gray-200 dark:border-purple-800",children:(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Found ",(0,Ue.jsx)("span",{className:"font-semibold text-purple-700 dark:text-purple-300",children:Q>0?Q:R.length})," matching files"]}),te&&(0,Ue.jsx)("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-xs rounded-full font-medium",children:"Smart Search"})]}),te&&R.length>0&&R[0]._score&&(0,Ue.jsx)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Results ranked by relevance using AI + keyword matching"})]}),U&&(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Scroll for more"})]})}),T&&R.length>0&&(0,Ue.jsx)(XH,{files:R,expandedFileId:D,expandedFileData:H,onFileExpand:async e=>{const t=R.findIndex(t=>t.id===e);if(-1===t)return;const n=R[t];if(D===e)return L(null),void W(null);L(e),W(n)},onFileSelect:n?e=>{if(n&&a){const t=R.find(t=>t.id===e);t&&a(t)}}:void 0,scrollContainerRef:fe,hideFilters:!0,selectedFileId:n?o:void 0}),V&&(0,Ue.jsxs)("div",{className:"text-center py-4",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-600 mx-auto"}),(0,Ue.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading more results..."})]}),!T&&(0,Ue.jsxs)("div",{className:"text-center py-12",children:[(0,Ue.jsx)(Rr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Start searching to discover your data"}),(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-500 text-sm mt-2",children:"Use natural language or structured queries above"})]})]})]});return n?Ee:(0,Ue.jsx)(Wr,{children:Ee})},$H=Ve("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),JH=Ve("FormInput",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M17 12h.01",key:"1m0b6t"}],["path",{d:"M7 12h.01",key:"eqddd0"}]]),ZH=Ve("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),QH=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),eW={subject_id:"",subject_type:"user",subject_attributes:{},resource_id:"",resource_type:"document",action:"view",context:{},include_trace:!0},tW={adminUser:{name:"Admin User",description:"High-privilege administrator accessing core systems",request:{subject_id:"admin-001",subject_type:"user",subject_attributes:{role:"admin",department:"IT",clearance_level:"secret"},action:"view"}},guestUser:{name:"Guest User",description:"External guest attempting access with minimal privileges",request:{subject_id:"guest-001",subject_type:"user",subject_attributes:{role:"guest",clearance_level:"public",is_external:!0},action:"view"}},financeUser:{name:"Finance Department User",description:"Finance analyst accessing departmental resources",request:{subject_id:"user-finance-001",subject_type:"user",subject_attributes:{department:"finance",role:"analyst",clearance_level:"confidential"},action:"view"}},hrUser:{name:"HR Manager",description:"HR manager viewing employee records",request:{subject_id:"hr-manager-001",subject_type:"user",subject_attributes:{department:"HR",role:"manager",clearance_level:"confidential"},action:"view"}},externalUser:{name:"External Contractor",description:"Contractor using personal device off-network",request:{subject_id:"contractor-001",subject_type:"user",subject_attributes:{role:"contractor",clearance_level:"public",is_external:!0},action:"download",context:{location:"US",device_type:"mobile"}}}},nW={ipAddress:{key:"ip_address",label:"IP Address",placeholder:"192.168.1.1",type:"string"},userAgent:{key:"user_agent",label:"User Agent",placeholder:"Mozilla/5.0...",type:"string"},timestamp:{key:"timestamp",label:"Timestamp",placeholder:"2025-11-07T10:30:00Z",type:"datetime"},location:{key:"location",label:"Location",placeholder:"US",type:"string"},deviceType:{key:"device_type",label:"Device Type",placeholder:"desktop",type:"string"}},rW=[{label:"View",value:"view"},{label:"Edit",value:"edit"},{label:"Delete",value:"delete"},{label:"Download",value:"download"},{label:"Share",value:"share"}],aW=[{label:"User",value:"user"},{label:"Role",value:"role"}],oW=[{label:"Document",value:"document"},{label:"Document Chunk",value:"document_chunk"}],iW=()=>Le(Le({},eW),{},{subject_attributes:{},context:{}}),sW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t;if("object"===typeof e)return e;try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse JSON field:",n),t}},lW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;try{return JSON.stringify(e||{},null,t)}catch(n){return console.warn("Failed to stringify JSON field:",n),"{}"}},cW=e=>{var t,n;const r={subject_id:null===(t=e.subject_id)||void 0===t?void 0:t.trim(),subject_type:e.subject_type,subject_attributes:sW(e.subject_attributes,{}),resource_id:null===(n=e.resource_id)||void 0===n?void 0:n.trim(),resource_type:e.resource_type,action:e.action,context:sW(e.context,{}),include_trace:!0};return e.policy_id&&(r.policy_id=e.policy_id),r},dW=e=>{const t=[];if(!e||"object"!==typeof e)return t;const n=Array.isArray(e.subjects)?e.subjects:[],r=Array.isArray(e.resources)?e.resources:[],a=n[0]||null,o=r[0]||null;if(t.push({id:"positive",name:"deny"===e.effect?"Should Deny":"Should Allow",description:"deny"===e.effect?"Scenario expected to be denied based on current policy configuration.":"Scenario expected to be allowed based on current policy configuration.",scenario:{subject_id:(null===a||void 0===a?void 0:a.value)||"policy-subject",subject_type:(null===a||void 0===a?void 0:a.type)||"user",resource_id:(null===o||void 0===o?void 0:o.value)||"policy-resource",resource_type:(null===o||void 0===o?void 0:o.type)||"document",action:Array.isArray(e.actions)?e.actions[0]:"view"}}),t.push({id:"negative",name:"deny"===e.effect?"Should Allow":"Should Deny",description:"Scenario expected to take the opposite decision for contrast testing.",scenario:{subject_id:"unmatched-subject",subject_type:"user",resource_id:(null===o||void 0===o?void 0:o.value)||"policy-resource",resource_type:(null===o||void 0===o?void 0:o.type)||"document",action:"deny"===e.effect?"view":"delete"}}),Array.isArray(e.conditions)&&e.conditions.length>0){const n=e.conditions.find(e=>["created_at","modified_at","accessed_at"].includes(e.field));t.push({id:"boundary",name:"Boundary Condition",description:"Scenario targeting boundary values derived from policy conditions.",scenario:{subject_id:(null===a||void 0===a?void 0:a.value)||"policy-subject",subject_type:(null===a||void 0===a?void 0:a.type)||"user",resource_id:(null===o||void 0===o?void 0:o.value)||"policy-resource",resource_type:(null===o||void 0===o?void 0:o.type)||"document",action:Array.isArray(e.actions)?e.actions[0]:"view",context:n?{timestamp:(new Date).toISOString()}:{}}})}return t},uW=e=>{if(!e||"object"!==typeof e)return iW();const t=Array.isArray(e.subjects)?e.subjects:[],n=Array.isArray(e.resources)?e.resources:[],r=t[0]||null,a=n[0]||null;return Le(Le({},iW()),{},{subject_id:(null===r||void 0===r?void 0:r.value)||"",subject_type:(null===r||void 0===r?void 0:r.type)||"user",resource_id:(null===a||void 0===a?void 0:a.value)||"",resource_type:(null===a||void 0===a?void 0:a.type)||"document",action:Array.isArray(e.actions)?e.actions[0]:"view",context:{}})},mW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Le(Le(Le({},iW()),e),{},{subject_attributes:e.subject_attributes||{},context:e.context||{}})},gW=e=>{let{scenarios:t,onSelect:n}=e;return(0,Ue.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(t).map(e=>{let[t,r]=e;return(0,Ue.jsxs)(eC,{onClick:()=>n(t,r),className:"text-left",children:[r.name,(0,Ue.jsx)("div",{className:"block text-xs text-gray-500 dark:text-gray-400",children:r.description})]},t)})})},pW=e=>{let{request:t=iW(),onRequestChange:n,onRunSimulation:a,onSaveScenario:o,onPreviewMetadata:i,loading:s=!1,compact:l=!1,showQuickScenarios:c=!0}=e;const[d]=oP.useForm(),[u,m]=(0,r.useState)("form"),[g,p]=(0,r.useState)([]),[f,h]=(0,r.useState)("{}"),[v,x]=(0,r.useState)("{}"),[y,b]=(0,r.useState)([]),[k,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(null),[E,_]=(0,r.useState)(""),[O,I]=(0,r.useState)(!1),[M,P]=(0,r.useState)([]),[T,A]=(0,r.useState)(!1),[R,z]=(0,r.useState)({open:!1,files:[],fieldType:null}),D=e=>{const r=Le(Le({},t),e);null===n||void 0===n||n(r)};(0,r.useEffect)(()=>{if("form"===u||!E){d.setFieldsValue({subject_id:t.subject_id||"default-user-id",subject_type:t.subject_type,resource_id:t.resource_id,resource_type:t.resource_type,action:t.action});const e=sW(t.subject_attributes,{});h(lW(e));const n=sW(t.context,{});x(lW(n));const r=Object.entries(n).map(e=>{let[t,n]=e;return{key:t,value:n}});p(r),"form"===u&&_(JSON.stringify(cW(Le(Le({},t),{},{subject_attributes:e,context:n})),null,2))}},[t,d,u,E]),(0,r.useEffect)(()=>{(async()=>{w(!0);try{const e=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/auth/invitedusers?offset=0&limit=100&timestamp=").concat(Date.now()),{credentials:"include"}),t=await e.json();b(t||[])}catch(e){console.error("Failed to fetch users",e)}finally{w(!1)}})()},[]);const L=async e=>{try{let n;if("json"===u){const e=JSON.parse(E),t=d.getFieldValue("subject_id"),r=d.getFieldValue("resource_id");n=cW(Le(Le({},e),{},{subject_id:t,resource_id:r,subject_attributes:sW(f,{}),context:sW(v,{})}))}else n=cW(Le(Le(Le({},t),e),{},{subject_attributes:sW(f,{}),context:sW(v,{})}));await(null===a||void 0===a?void 0:a(n))}catch(n){XS.error("Failed to run simulation")}},B=(e,t,n)=>{const r=[...g];r[e]=Le(Le({},r[e]),{},{[t]:n}),p(r);const a=r.reduce((e,t)=>(t.key&&(e[t.key]=t.value),e),{});x(lW(a)),D({context:a})},F=(t.resource_id,(0,r.useMemo)(()=>Object.values(nW).map(e=>(0,Ue.jsx)(sF,{className:"cursor-pointer hover:bg-indigo-50 dark:hover:bg-indigo-900/30",onClick:()=>{if(!g.some(t=>t.key===e.key)){const t=[...g,{key:e.key,value:""}];p(t);const n=t.reduce((e,t)=>(t.key&&(e[t.key]=t.value),e),{});x(lW(n)),D({context:n})}},children:e.label},e.key)),[g,D])),H=e=>{try{d.setFieldsValue({resource_id:e.id}),D({resource_id:e.id}),z({open:!1,files:[],fieldType:null}),A(!0),XS.success("File selected successfully!")}catch(t){console.error("Failed to update form with selected file:",t),XS.error("Failed to update: ".concat(t.message))}};return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm ".concat(l?"p-4":"p-6"),children:[(0,Ue.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Request Builder"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configure a simulation request to evaluate policies."})]}),(0,Ue.jsxs)(qB,{children:[(0,Ue.jsx)(KM,{title:"form"===u?"Switch to JSON view":"Switch to form view",children:(0,Ue.jsx)(eC,{icon:"form"===u?(0,Ue.jsx)($H,{className:"w-4 h-4"}):(0,Ue.jsx)(JH,{className:"w-4 h-4"}),onClick:()=>m(e=>"form"===e?"json":"form"),children:"form"===u?"JSON view":"Form view"})}),(0,Ue.jsx)(KM,{title:"Clear form",children:(0,Ue.jsx)(eC,{icon:(0,Ue.jsx)(ZH,{className:"w-4 h-4"}),onClick:()=>{const e=iW();d.resetFields(),h("{}"),x("{}"),p([]),S(null),_(JSON.stringify(cW(e),null,2)),D(e)},children:"Clear"})})]})]}),"form"===u?(0,Ue.jsxs)(oP,{layout:"vertical",form:d,className:"mt-6",initialValues:t,onValuesChange:(e,t)=>{D(t)},onFinish:L,children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,Ue.jsx)("div",{className:"space-y-6",children:(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Subject Details"}),(0,Ue.jsx)(oP.Item,{name:"subject_id",hidden:!0,rules:[{required:!0}],children:(0,Ue.jsx)(TR,{})}),(0,Ue.jsx)(oP.Item,{label:"Subject Type",name:"subject_type",children:(0,Ue.jsx)(ML,{options:aW})}),(0,Ue.jsx)(oP.Item,{label:"Subject Attributes",name:"subject_attributes_user",rules:[{required:!0,message:"Please select a user"}],children:(0,Ue.jsx)(ML,{placeholder:"Select user email",loading:k,onChange:e=>{const t=y.find(t=>t.email===e);t&&(d.setFieldsValue({subject_id:t.id}),D({subject_id:t.id}))},options:y.map(e=>({label:e.email,value:e.email}))})})]})}),(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Resource Details"}),(0,Ue.jsx)(oP.Item,{name:"resource_id",hidden:!0,rules:[{required:!0}],children:(0,Ue.jsx)(TR,{})}),C&&(0,Ue.jsxs)("div",{className:"mb-3 p-3 bg-white dark:bg-gray-700 rounded border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Selected Resource:"}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-900 dark:text-gray-100 font-medium truncate",children:C.name}),(0,Ue.jsx)("button",{type:"button",onClick:()=>{S(null),d.setFieldsValue({resource_id:""}),D({resource_id:""})},className:"ml-2 text-red-500 hover:text-red-700 text-xs",children:"Remove"})]}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 truncate",children:["ID: ",C.id]})]}),(0,Ue.jsx)(eC,{block:!0,type:"default",icon:(0,Ue.jsx)(aa,{className:"w-4 h-4"}),onClick:()=>N(!j),className:"mb-3",children:C?"Change Resource":"Select Resource"}),j&&(0,Ue.jsx)("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden bg-white dark:bg-gray-800 max-h-[600px] overflow-y-auto",children:(0,Ue.jsx)(YH,{hideFilters:!1,embeddedMode:!0,selectedFileId:null===C||void 0===C?void 0:C.id,onFileSelect:e=>{var t;const n=e.id,r=(null===(t=e.syntacticMeta)||void 0===t?void 0:t.name)||e.name||"File-".concat(n.substring(0,8));S({id:n,name:r}),d.setFieldsValue({resource_id:n}),D({resource_id:n}),N(!1)}})}),(0,Ue.jsx)(oP.Item,{label:"Resource Type",name:"resource_type",children:(0,Ue.jsx)(ML,{options:oW})})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ue.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Context (Optional)"}),(0,Ue.jsx)(KM,{title:"Add context field",children:(0,Ue.jsx)(eC,{size:"small",type:"text",icon:(0,Ue.jsx)(Ca,{className:"w-4 h-4"}),onClick:()=>{p(e=>[...e,{key:"",value:""}])},children:"Add"})})]}),(0,Ue.jsxs)("div",{className:"space-y-3",children:[0===g.length&&(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"No context fields added. Use presets or add manual key/value pairs."}),g.map((e,t)=>(0,Ue.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-5 gap-2 bg-white dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)(TR,{placeholder:"Key",value:e.key,onChange:e=>B(t,"key",e.target.value),className:"sm:col-span-2"}),(0,Ue.jsx)(TR,{placeholder:"Value",value:e.value,onChange:e=>B(t,"value",e.target.value),className:"sm:col-span-2"}),(0,Ue.jsx)(eC,{danger:!0,type:"text",icon:(0,Ue.jsx)(QH,{className:"w-4 h-4"}),onClick:()=>(e=>{const t=g.filter((t,n)=>n!==e);p(t);const n=t.reduce((e,t)=>(t.key&&(e[t.key]=t.value),e),{});x(lW(n)),D({context:n})})(t)})]},"".concat(e.key,"-").concat(t))),(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Presets:"}),(0,Ue.jsx)("div",{className:"flex flex-wrap gap-2",children:F})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Action"}),(0,Ue.jsx)(oP.Item,{label:"Action",name:"action",children:(0,Ue.jsx)(ML,{options:rW})}),(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Include detailed trace"}),(0,Ue.jsx)(MH,{size:"small",checked:!1!==t.include_trace,onChange:e=>D({include_trace:e})})]})})]}),!l&&c&&(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 p-4 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3 uppercase tracking-wide",children:"Scenario Helpers"}),(0,Ue.jsx)(gW,{scenarios:tW,onSelect:e=>(e=>{const n=tW[e];if(!n)return;const r=Le(Le(Le({},iW()),t),n.request);D(r),XS.success("Applied quick scenario: ".concat(n.name))})(e)})]})]})]}),(0,Ue.jsx)(DH,{}),(0,Ue.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[o&&(0,Ue.jsx)(eC,{icon:(0,Ue.jsx)(BH,{className:"w-4 h-4"}),onClick:()=>o(t),children:"Save Scenario"}),(0,Ue.jsx)(eC,{type:"primary",htmlType:"submit",loading:s,icon:(0,Ue.jsx)(SB,{className:"w-4 h-4"}),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:focus:ring-offset-gray-900 transition-colors duration-200",children:"Run Simulation"})]})]}):(0,Ue.jsxs)("div",{className:"mt-6",children:[M.length>0&&(0,Ue.jsxs)("div",{className:"mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[(0,Ue.jsx)("div",{className:"text-sm font-semibold text-red-800 dark:text-red-300 mb-1",children:"Validation Errors:"}),(0,Ue.jsx)("ul",{className:"list-disc list-inside text-sm text-red-700 dark:text-red-400",children:M.map((e,t)=>(0,Ue.jsx)("li",{children:e},"".concat(e,"-").concat(t)))})]}),T&&0===M.length&&(0,Ue.jsx)("div",{className:"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:(0,Ue.jsx)("div",{className:"text-sm font-semibold text-green-800 dark:text-green-300",children:"\u2713 Validation successful! Ready to run simulation."})}),(0,Ue.jsx)(TR.TextArea,{value:E,onChange:e=>{_(e.target.value),A(!1),P([]);try{const n=JSON.parse(e.target.value);h(lW(n.subject_attributes||{})),x(lW(n.context||{}));const r=n.context||{},a=Object.entries(r).map(e=>{let[t,n]=e;return{key:t,value:n}});p(a),n.resource_id!==t.resource_id&&S(null)}catch(n){}},autoSize:{minRows:l?14:18},className:"font-mono text-xs"}),(0,Ue.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,Ue.jsx)(eC,{icon:(0,Ue.jsx)(ea,{className:"w-4 h-4"}),loading:O,onClick:async()=>{I(!0),P([]);try{const e=JSON.parse(E),t=[];let n=e.subject_id,r=e.resource_id;if(e.subject_id){const r=y.find(t=>t.email===e.subject_id);r?n=r.id:t.push("Email not found: ".concat(e.subject_id))}if(e.resource_id){const n=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({limit:100,sort:[{_id:"asc"}],mode:"structured",name:e.resource_id})});if(n.ok){const a=await n.json();if(0===a.results.length)t.push("File not found: ".concat(e.resource_id));else{if(1!==a.results.length)return z({open:!0,files:a.results,fieldType:"resource_id",originalName:e.resource_id}),void I(!1);r=a.results[0].id}}else t.push("Failed to search for file: ".concat(e.resource_id))}t.length>0?(P(t),A(!1),XS.error("Validation failed. Please fix the errors.")):(d.setFieldsValue({subject_id:n,resource_id:r}),A(!0),P([]),XS.success("Validation successful! You can now run the simulation."))}catch(e){console.error("JSON validation failed:",e),P(["Invalid JSON format"]),A(!1),XS.error("Invalid JSON format")}finally{I(!1)}},className:"inline-flex items-center gap-2",children:"Validate"}),(0,Ue.jsx)(eC,{type:"primary",icon:(0,Ue.jsx)(SB,{className:"w-4 h-4"}),loading:s,disabled:!T,onClick:()=>{try{const e=JSON.parse(E);L(e)}catch(e){XS.error("Invalid JSON format")}},className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:focus:ring-offset-gray-900 transition-colors duration-200",children:"Run Simulation"})]}),(0,Ue.jsxs)($T,{title:"Multiple Files Found",open:R.open,onCancel:()=>z({open:!1,files:[],fieldType:null}),footer:null,width:800,children:[(0,Ue.jsxs)("div",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:['Multiple files match "',R.originalName,'". Please select one:']}),(0,Ue.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:R.files.map(e=>(0,Ue.jsxs)("div",{onClick:()=>H(e),onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),H(e))},role:"button",tabIndex:0,className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors",children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white mb-2",children:e.name}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-400",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-semibold",children:"Provider:"})," ",e.provider]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"font-semibold",children:"Size:"})," ",e.size," bytes"]}),(0,Ue.jsxs)("div",{className:"col-span-2",children:[(0,Ue.jsx)("span",{className:"font-semibold",children:"Path:"})," ",e.path]}),(0,Ue.jsxs)("div",{className:"col-span-2",children:[(0,Ue.jsx)("span",{className:"font-semibold",children:"ID:"})," ",e.id]})]})]},e.id))})]})]})]})};var fW=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.forceRender,o=e.className,i=e.style,s=e.children,l=e.isActive,c=e.role,d=e.classNames,u=e.styles,m=fv(r.useState(l||a),2),g=m[0],p=m[1];return r.useEffect(function(){(a||l)&&p(!0)},[a,l]),g?r.createElement("div",{ref:t,className:Ah()("".concat(n,"-content"),ze(ze({},"".concat(n,"-content-active"),l),"".concat(n,"-content-inactive"),!l),o),style:i,role:c},r.createElement("div",{className:Ah()("".concat(n,"-content-box"),null===d||void 0===d?void 0:d.body),style:null===u||void 0===u?void 0:u.body},s)):null});fW.displayName="PanelContent";const hW=fW;var vW=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],xW=r.forwardRef(function(e,t){var n=e.showArrow,a=void 0===n||n,o=e.headerClass,i=e.isActive,s=e.onItemClick,l=e.forceRender,c=e.className,d=e.classNames,u=void 0===d?{}:d,m=e.styles,g=void 0===m?{}:m,p=e.prefixCls,f=e.collapsible,h=e.accordion,v=e.panelKey,x=e.extra,y=e.header,b=e.expandIcon,k=e.openMotion,w=e.destroyInactivePanel,j=e.children,N=Be(e,vW),C="disabled"===f,S=null!==x&&void 0!==x&&"boolean"!==typeof x,E=ze(ze(ze({onClick:function(){null===s||void 0===s||s(v)},onKeyDown:function(e){"Enter"!==e.key&&e.keyCode!==QC.ENTER&&e.which!==QC.ENTER||null===s||void 0===s||s(v)},role:h?"tab":"button"},"aria-expanded",i),"aria-disabled",C),"tabIndex",C?-1:0),_="function"===typeof b?b(e):r.createElement("i",{className:"arrow"}),O=_&&r.createElement("div",jx({className:"".concat(p,"-expand-icon")},["header","icon"].includes(f)?E:{}),_),I=Ah()("".concat(p,"-item"),ze(ze({},"".concat(p,"-item-active"),i),"".concat(p,"-item-disabled"),C),c),M=Le({className:Ah()(o,"".concat(p,"-header"),ze({},"".concat(p,"-collapsible-").concat(f),!!f),u.header),style:g.header},["header","icon"].includes(f)?{}:E);return r.createElement("div",jx({},N,{ref:t,className:I}),r.createElement("div",M,a&&O,r.createElement("span",jx({className:"".concat(p,"-header-text")},"header"===f?E:{}),y),S&&r.createElement("div",{className:"".concat(p,"-extra")},x)),r.createElement(Tw,jx({visible:i,leavedClassName:"".concat(p,"-content-hidden")},k,{forceRender:l,removeOnLeave:w}),function(e,t){var n=e.className,a=e.style;return r.createElement(hW,{ref:t,prefixCls:p,className:n,classNames:u,style:a,styles:g,isActive:i,forceRender:l,role:h?"tabpanel":void 0},j)}))});const yW=xW;var bW=["children","label","key","collapsible","onItemClick","destroyInactivePanel"];const kW=function(e,t,n){return Array.isArray(e)?function(e,t){var n=t.prefixCls,a=t.accordion,o=t.collapsible,i=t.destroyInactivePanel,s=t.onItemClick,l=t.activeKey,c=t.openMotion,d=t.expandIcon;return e.map(function(e,t){var u=e.children,m=e.label,g=e.key,p=e.collapsible,f=e.onItemClick,h=e.destroyInactivePanel,v=Be(e,bW),x=String(null!==g&&void 0!==g?g:t),y=null!==p&&void 0!==p?p:o,b=null!==h&&void 0!==h?h:i,k=!1;return k=a?l[0]===x:l.indexOf(x)>-1,r.createElement(yW,jx({},v,{prefixCls:n,key:x,panelKey:x,isActive:k,accordion:a,openMotion:c,expandIcon:d,header:m,collapsible:y,onItemClick:function(e){"disabled"!==y&&(s(e),null===f||void 0===f||f(e))},destroyInactivePanel:b}),u)})}(e,n):vj(t).map(function(e,t){return function(e,t,n){if(!e)return null;var a=n.prefixCls,o=n.accordion,i=n.collapsible,s=n.destroyInactivePanel,l=n.onItemClick,c=n.activeKey,d=n.openMotion,u=n.expandIcon,m=e.key||String(t),g=e.props,p=g.header,f=g.headerClass,h=g.destroyInactivePanel,v=g.collapsible,x=g.onItemClick,y=!1;y=o?c[0]===m:c.indexOf(m)>-1;var b=null!==v&&void 0!==v?v:i,k={key:m,panelKey:m,header:p,headerClass:f,isActive:y,prefixCls:a,destroyInactivePanel:null!==h&&void 0!==h?h:s,openMotion:d,accordion:o,children:e.props.children,onItemClick:function(e){"disabled"!==b&&(l(e),null===x||void 0===x||x(e))},expandIcon:u,collapsible:b};return"string"===typeof e.type?e:(Object.keys(k).forEach(function(e){"undefined"===typeof k[e]&&delete k[e]}),r.cloneElement(e,k))}(e,t,n)})};function wW(e){var t=e;if(!Array.isArray(t)){var n=Ae(t);t="number"===n||"string"===n?[t]:[]}return t.map(function(e){return String(e)})}var jW=r.forwardRef(function(e,t){var n=e.prefixCls,a=void 0===n?"rc-collapse":n,o=e.destroyInactivePanel,i=void 0!==o&&o,s=e.style,l=e.accordion,c=e.className,d=e.children,u=e.collapsible,m=e.openMotion,g=e.expandIcon,p=e.activeKey,f=e.defaultActiveKey,h=e.onChange,v=e.items,x=Ah()(a,c),y=fv(Ky([],{value:p,onChange:function(e){return null===h||void 0===h?void 0:h(e)},defaultValue:f,postState:wW}),2),b=y[0],k=y[1];zv(!d,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var w=kW(v,d,{prefixCls:a,accordion:l,openMotion:m,expandIcon:g,collapsible:u,destroyInactivePanel:i,onItemClick:function(e){return k(function(){return l?b[0]===e?[]:[e]:b.indexOf(e)>-1?b.filter(function(t){return t!==e}):[].concat(vv(b),[e])})},activeKey:b});return r.createElement("div",jx({ref:t,className:x,style:s,role:l?"tablist":void 0},nS(e,{aria:!0,data:!0})),w)});const NW=Object.assign(jW,{Panel:yW}),CW=NW;NW.Panel;const SW=r.forwardRef((e,t)=>{const{getPrefixCls:n}=r.useContext(av),{prefixCls:a,className:o,showArrow:i=!0}=e,s=n("collapse",a),l=Ah()({["".concat(s,"-no-arrow")]:!i},o);return r.createElement(CW.Panel,Object.assign({ref:t},e,{prefixCls:s,className:l}))}),EW=e=>{const{componentCls:t,contentBg:n,padding:r,headerBg:a,headerPadding:o,collapseHeaderPaddingSM:i,collapseHeaderPaddingLG:s,collapsePanelBorderRadius:l,lineWidth:c,lineType:d,colorBorder:u,colorText:m,colorTextHeading:g,colorTextDisabled:p,fontSizeLG:f,lineHeight:h,lineHeightLG:v,marginSM:x,paddingSM:y,paddingLG:b,paddingXS:k,motionDurationSlow:w,fontSizeIcon:j,contentPadding:N,fontHeight:C,fontHeightLG:S}=e,E="".concat(lx(c)," ").concat(d," ").concat(u);return{[t]:Object.assign(Object.assign({},fb(e)),{backgroundColor:a,border:E,borderRadius:l,"&-rtl":{direction:"rtl"},["& > ".concat(t,"-item")]:{borderBottom:E,"&:first-child":{["\n            &,\n            & > ".concat(t,"-header")]:{borderRadius:"".concat(lx(l)," ").concat(lx(l)," 0 0")}},"&:last-child":{["\n            &,\n            & > ".concat(t,"-header")]:{borderRadius:"0 0 ".concat(lx(l)," ").concat(lx(l))}},["> ".concat(t,"-header")]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:o,color:g,lineHeight:h,cursor:"pointer",transition:"all ".concat(w,", visibility 0s")},vb(e)),{["> ".concat(t,"-header-text")]:{flex:"auto"},["".concat(t,"-expand-icon")]:{height:C,display:"flex",alignItems:"center",paddingInlineEnd:x},["".concat(t,"-arrow")]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{fontSize:j,transition:"transform ".concat(w),svg:{transition:"transform ".concat(w)}}),["".concat(t,"-header-text")]:{marginInlineEnd:"auto"}}),["".concat(t,"-collapsible-header")]:{cursor:"default",["".concat(t,"-header-text")]:{flex:"none",cursor:"pointer"},["".concat(t,"-expand-icon")]:{cursor:"pointer"}},["".concat(t,"-collapsible-icon")]:{cursor:"unset",["".concat(t,"-expand-icon")]:{cursor:"pointer"}}},["".concat(t,"-content")]:{color:m,backgroundColor:n,borderTop:E,["& > ".concat(t,"-content-box")]:{padding:N},"&-hidden":{display:"none"}},"&-small":{["> ".concat(t,"-item")]:{["> ".concat(t,"-header")]:{padding:i,paddingInlineStart:k,["> ".concat(t,"-expand-icon")]:{marginInlineStart:e.calc(y).sub(k).equal()}},["> ".concat(t,"-content > ").concat(t,"-content-box")]:{padding:y}}},"&-large":{["> ".concat(t,"-item")]:{fontSize:f,lineHeight:v,["> ".concat(t,"-header")]:{padding:s,paddingInlineStart:r,["> ".concat(t,"-expand-icon")]:{height:S,marginInlineStart:e.calc(b).sub(r).equal()}},["> ".concat(t,"-content > ").concat(t,"-content-box")]:{padding:b}}},["".concat(t,"-item:last-child")]:{borderBottom:0,["> ".concat(t,"-content")]:{borderRadius:"0 0 ".concat(lx(l)," ").concat(lx(l))}},["& ".concat(t,"-item-disabled > ").concat(t,"-header")]:{"\n          &,\n          & > .arrow\n        ":{color:p,cursor:"not-allowed"}},["&".concat(t,"-icon-position-end")]:{["& > ".concat(t,"-item")]:{["> ".concat(t,"-header")]:{["".concat(t,"-expand-icon")]:{order:1,paddingInlineEnd:0,paddingInlineStart:x}}}}})}},_W=e=>{const{componentCls:t}=e,n="> ".concat(t,"-item > ").concat(t,"-header ").concat(t,"-arrow");return{["".concat(t,"-rtl")]:{[n]:{transform:"rotate(180deg)"}}}},OW=e=>{const{componentCls:t,headerBg:n,borderlessContentPadding:r,borderlessContentBg:a,colorBorder:o}=e;return{["".concat(t,"-borderless")]:{backgroundColor:n,border:0,["> ".concat(t,"-item")]:{borderBottom:"1px solid ".concat(o)},["\n        > ".concat(t,"-item:last-child,\n        > ").concat(t,"-item:last-child ").concat(t,"-header\n      ")]:{borderRadius:0},["> ".concat(t,"-item:last-child")]:{borderBottom:0},["> ".concat(t,"-item > ").concat(t,"-content")]:{backgroundColor:a,borderTop:0},["> ".concat(t,"-item > ").concat(t,"-content > ").concat(t,"-content-box")]:{padding:r}}}},IW=e=>{const{componentCls:t,paddingSM:n}=e;return{["".concat(t,"-ghost")]:{backgroundColor:"transparent",border:0,["> ".concat(t,"-item")]:{borderBottom:0,["> ".concat(t,"-content")]:{backgroundColor:"transparent",border:0,["> ".concat(t,"-content-box")]:{paddingBlock:n}}}}}},MW=_k("Collapse",e=>{const t=rb(e,{collapseHeaderPaddingSM:"".concat(lx(e.paddingXS)," ").concat(lx(e.paddingSM)),collapseHeaderPaddingLG:"".concat(lx(e.padding)," ").concat(lx(e.paddingLG)),collapsePanelBorderRadius:e.borderRadiusLG});return[EW(t),OW(t),IW(t),_W(t),H_(t)]},e=>({headerPadding:"".concat(e.paddingSM,"px ").concat(e.padding,"px"),headerBg:e.colorFillAlter,contentPadding:"".concat(e.padding,"px 16px"),contentBg:e.colorBgContainer,borderlessContentPadding:"".concat(e.paddingXXS,"px 16px ").concat(e.padding,"px"),borderlessContentBg:"transparent"})),PW=r.forwardRef((e,t)=>{const{getPrefixCls:n,direction:a,expandIcon:o,className:i,style:s}=sv("collapse"),{prefixCls:l,className:c,rootClassName:d,style:u,bordered:m=!0,ghost:g,size:p,expandIconPosition:f="start",children:h,destroyInactivePanel:v,destroyOnHidden:x,expandIcon:y}=e,b=hj(e=>{var t;return null!==(t=null!==p&&void 0!==p?p:e)&&void 0!==t?t:"middle"}),k=n("collapse",l),w=n(),[j,N,C]=MW(k);const S=r.useMemo(()=>"left"===f?"start":"right"===f?"end":f,[f]),E=null!==y&&void 0!==y?y:o,_=r.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="function"===typeof E?E(e):r.createElement(yF,{rotate:e.isActive?"rtl"===a?-90:90:void 0,"aria-label":e.isActive?"expanded":"collapsed"});return dv(t,()=>{var e;return{className:Ah()(null===(e=t.props)||void 0===e?void 0:e.className,"".concat(k,"-arrow"))}})},[E,k,a]),O=Ah()("".concat(k,"-icon-position-").concat(S),{["".concat(k,"-borderless")]:!m,["".concat(k,"-rtl")]:"rtl"===a,["".concat(k,"-ghost")]:!!g,["".concat(k,"-").concat(b)]:"middle"!==b},i,c,d,N,C),I=r.useMemo(()=>Object.assign(Object.assign({},w_(w)),{motionAppear:!1,leavedClassName:"".concat(k,"-content-hidden")}),[w,k]),M=r.useMemo(()=>h?vj(h).map((e,t)=>{var n,r;const a=e.props;if(null===a||void 0===a?void 0:a.disabled){const o=null!==(n=e.key)&&void 0!==n?n:String(t);return dv(e,Object.assign(Object.assign({},Fh(e.props,["disabled"])),{key:o,collapsible:null!==(r=a.collapsible)&&void 0!==r?r:"disabled"}))}return e}):null,[h]);return j(r.createElement(CW,Object.assign({ref:t,openMotion:I},Fh(e,["rootClassName"]),{expandIcon:_,prefixCls:k,className:O,style:Object.assign(Object.assign({},s),u),destroyInactivePanel:null!==x&&void 0!==x?x:v}),M))});const TW=Object.assign(PW,{Panel:SW}),AW=e=>{const{value:t,formatter:n,precision:a,decimalSeparator:o,groupSeparator:i="",prefixCls:s}=e;let l;if("function"===typeof n)l=n(t);else{const e=String(t),n=e.match(/^(-?)(\d*)(\.(\d+))?$/);if(n&&"-"!==e){const e=n[1];let t=n[2]||"0",c=n[4]||"";t=t.replace(/\B(?=(\d{3})+(?!\d))/g,i),"number"===typeof a&&(c=c.padEnd(a,"0").slice(0,a>0?a:0)),c&&(c="".concat(o).concat(c)),l=[r.createElement("span",{key:"int",className:"".concat(s,"-content-value-int")},e,t),c&&r.createElement("span",{key:"decimal",className:"".concat(s,"-content-value-decimal")},c)]}else l=e}return r.createElement("span",{className:"".concat(s,"-content-value")},l)},RW=_k("Statistic",e=>(e=>{const{componentCls:t,marginXXS:n,padding:r,colorTextDescription:a,titleFontSize:o,colorTextHeading:i,contentFontSize:s,fontFamily:l}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{["".concat(t,"-title")]:{marginBottom:n,color:a,fontSize:o},["".concat(t,"-skeleton")]:{paddingTop:r},["".concat(t,"-content")]:{color:i,fontSize:s,fontFamily:l,["".concat(t,"-content-value")]:{display:"inline-block",direction:"ltr"},["".concat(t,"-content-prefix, ").concat(t,"-content-suffix")]:{display:"inline-block"},["".concat(t,"-content-prefix")]:{marginInlineEnd:n},["".concat(t,"-content-suffix")]:{marginInlineStart:n}}})}})(rb(e,{})),e=>{const{fontSizeHeading3:t,fontSize:n}=e;return{titleFontSize:n,contentFontSize:t}});var zW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const DW=r.forwardRef((e,t)=>{const{prefixCls:n,className:a,rootClassName:o,style:i,valueStyle:s,value:l=0,title:c,valueRender:d,prefix:u,suffix:m,loading:g=!1,formatter:p,precision:f,decimalSeparator:h=".",groupSeparator:v=",",onMouseEnter:x,onMouseLeave:y}=e,b=zW(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:k,direction:w,className:j,style:N}=sv("statistic"),C=k("statistic",n),[S,E,_]=RW(C),O=r.createElement(AW,{decimalSeparator:h,groupSeparator:v,prefixCls:C,formatter:p,precision:f,value:l}),I=Ah()(C,{["".concat(C,"-rtl")]:"rtl"===w},j,a,o,E,_),M=r.useRef(null);r.useImperativeHandle(t,()=>({nativeElement:M.current}));const P=nS(b,{aria:!0,data:!0});return S(r.createElement("div",Object.assign({},P,{ref:M,className:I,style:Object.assign(Object.assign({},N),i),onMouseEnter:x,onMouseLeave:y}),c&&r.createElement("div",{className:"".concat(C,"-title")},c),r.createElement(tT,{paragraph:!1,loading:g,className:"".concat(C,"-skeleton"),active:!0},r.createElement("div",{style:s,className:"".concat(C,"-content")},u&&r.createElement("span",{className:"".concat(C,"-content-prefix")},u),d?d(O):O,m&&r.createElement("span",{className:"".concat(C,"-content-suffix")},m)))))});const LW=DW,BW=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function FW(e,t,n){const{format:r=""}=t,a=new Date(e).getTime(),o=Date.now();return function(e,t){let n=e;const r=/\[[^\]]*]/g,a=(t.match(r)||[]).map(e=>e.slice(1,-1)),o=t.replace(r,"[]"),i=BW.reduce((e,t)=>{let[r,a]=t;if(e.includes(r)){const t=Math.floor(n/a);return n-=t*a,e.replace(new RegExp("".concat(r,"+"),"g"),e=>{const n=e.length;return t.toString().padStart(n,"0")})}return e},o);let s=0;return i.replace(r,()=>{const e=a[s];return s+=1,e})}(n?Math.max(a-o,0):Math.max(o-a,0),r)}var HW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const WW=e=>{const{value:t,format:n="HH:mm:ss",onChange:a,onFinish:o,type:i}=e,s=HW(e,["value","format","onChange","onFinish","type"]),l="countdown"===i,[c,d]=r.useState(null),u=Vy(()=>{const e=Date.now(),n=function(e){return new Date(e).getTime()}(t);d({});return null===a||void 0===a||a(l?n-e:e-n),!(l&&n<e)||(null===o||void 0===o||o(),!1)});r.useEffect(()=>{let e;const t=()=>{e=Lk(()=>{u()&&t()})};return t(),()=>Lk.cancel(e)},[t,l]),r.useEffect(()=>{d({})},[]);return r.createElement(LW,Object.assign({},s,{value:t,valueRender:e=>dv(e,{title:void 0}),formatter:(e,t)=>c?FW(e,Object.assign(Object.assign({},t),{format:n}),l):"-"}))},VW=e=>r.createElement(WW,Object.assign({},e,{type:"countdown"})),qW=r.memo(VW);LW.Timer=WW,LW.Countdown=qW;const UW=LW,KW=Ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),GW=Ve("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),{Panel:XW}=TW,YW=r.forwardRef((e,t)=>{var n,r;let{results:a,loading:o=!1,compact:i=!1,onViewTrace:s,onExport:l}=e;if(!a)return(0,Ue.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:(0,Ue.jsx)(_D,{description:"Run a simulation to see results"})});const{decision:c,trace:d,policies:u}=a,m=(null===d||void 0===d?void 0:d.policies_evaluated)||u||[],g=Boolean(null===c||void 0===c?void 0:c.allowed),p=g?(0,Ue.jsx)(KW,{className:"w-8 h-8 text-green-500"}):(0,Ue.jsx)(Kr,{className:"w-8 h-8 text-red-500"}),f=g?"ALLOWED":"DENIED",h=g?"green":"red",v=((null===c||void 0===c?void 0:c.matched_policies)||[]).map(e=>m.find(t=>t.policy_id===e||t.id===e)||{policy_id:e,id:e});return(0,Ue.jsxs)("div",{ref:t,className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm ".concat(i?"p-4":"p-6"),children:[(0,Ue.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[p,(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:"Decision"}),(0,Ue.jsx)("div",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:f})]})]}),(0,Ue.jsxs)(qB,{children:[l&&(0,Ue.jsx)(eC,{icon:(0,Ue.jsx)(Ar,{className:"w-4 h-4"}),onClick:()=>l(a),children:"Export Results"}),d&&s&&(0,Ue.jsx)(eC,{type:"primary",icon:(0,Ue.jsx)(GW,{className:"w-4 h-4"}),onClick:s,children:"View Detailed Trace"})]})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,Ue.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/40 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)(UW,{title:(0,Ue.jsx)("span",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:"Reason"}),value:(null===c||void 0===c?void 0:c.reason)||"No explanation provided",valueStyle:{fontSize:"14px",color:"var(--color-text, #374151)"}})}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 rounded-lg p-4 border border-gray-200 dark:border-gray-700 flex items-center gap-3",children:[(0,Ue.jsx)(ra,{className:"w-6 h-6 text-indigo-500"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:"Evaluation Time"}),(0,Ue.jsxs)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[null!==(n=null!==(r=null===c||void 0===c?void 0:c.evaluation_time_ms)&&void 0!==r?r:null===d||void 0===d?void 0:d.total_duration_ms)&&void 0!==n?n:"--"," ms"]})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"text-xs uppercase text-gray-500 dark:text-gray-400",children:"Matched Policies"}),(0,Ue.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:v.length?v.map(e=>(0,Ue.jsx)(sF,{color:h,className:"text-xs",children:e.policy_name||e.name||e.policy_id||e.id},e.policy_id||e.id)):(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No policies matched"})})]})]}),(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/40 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Matched Policy Details"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review policies that influenced this decision"})]}),m.length>0?(0,Ue.jsxs)(sF,{color:"purple",className:"text-xs",children:[m.length," evaluated"]}):null]}),0===v.length?(0,Ue.jsx)("div",{className:"p-6 text-sm text-gray-500 dark:text-gray-400",children:"No policy matches were recorded for this simulation."}):(0,Ue.jsx)(TW,{accordion:!0,bordered:!1,className:"bg-transparent",children:v.map(e=>{var t,n,r;const a=(0,Ue.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.policy_name||e.name||e.policy_id||e.id}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.policy_type||e.type||"Policy"," \xb7 Priority ",null!==(t=e.priority)&&void 0!==t?t:"--"]})]}),(0,Ue.jsx)(qB,{children:(0,Ue.jsx)(sF,{className:"text-xs",color:"blue",children:e.effect})})]});return(0,Ue.jsx)(XW,{header:a,className:"bg-transparent",children:(0,Ue.jsxs)("div",{className:"space-y-3",children:[null===(n=e.conditions)||void 0===n?void 0:n.map((t,n)=>(0,Ue.jsx)("div",{className:"flex flex-wrap items-center justify-between gap-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-md p-3",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[t.field," ",t.operator]}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Expected: ",Array.isArray(t.expected_value||t.value)?(t.expected_value||t.value).join(", "):String(t.expected_value||t.value||"--")]}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Actual: ",String(t.actual_value)]})]})},"".concat(e.policy_id||e.id,"-").concat(n))),!(null!==(r=e.conditions)&&void 0!==r&&r.length)&&(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:"No condition details provided."})]})},e.policy_id||e.id)})})]}),(null===d||void 0===d?void 0:d.metadata_fetched)&&(0,Ue.jsx)("div",{className:"mt-6 bg-gray-50 dark:bg-gray-900/40 rounded-lg border border-gray-200 dark:border-gray-700 p-4",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Metadata Used"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Metadata fetched during evaluation"})]}),(0,Ue.jsx)(KM,{title:"Open metadata viewer",children:(0,Ue.jsx)(eC,{size:"small",type:"link",onClick:()=>null===s||void 0===s?void 0:s("metadata"),icon:(0,Ue.jsx)(Fr,{className:"w-4 h-4"}),children:"View metadata"})})]})})]})});YW.displayName="SimulationResults";const $W=YW,JW=yr.create({baseURL:"https://dev-services.produktiv.ai",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});JW.interceptors.request.use(e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1];return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e));const ZW=e=>new Promise(t=>setTimeout(t,e)),QW={decision:{allowed:!0,reason:"Allowed by policy 'Finance Department Read Access'",matched_policies:["policy-abc-123"],evaluation_time_ms:145},trace:{policies_evaluated:[{policy_id:"policy-abc-123",policy_name:"Finance Department Read Access",policy_type:"ABAC",effect:"allow",result:"matched",priority:100,evaluation_time_ms:23,conditions:[{field:"department",operator:"eq",expected_value:"finance",actual_value:"finance",result:"pass",metadata_source:"subject_attributes"},{field:"action",operator:"in",expected_value:["view","read"],actual_value:"view",result:"pass",metadata_source:"request"}]},{policy_id:"policy-xyz-789",policy_name:"Deny External Access",policy_type:"ABAC",effect:"deny",result:"not_matched",priority:200,evaluation_time_ms:12,conditions:[{field:"ip_address",operator:"not_in",expected_value:["192.168.0.0/16"],actual_value:"192.168.1.100",result:"fail",metadata_source:"context"}]}],metadata_fetched:{syntactic:{name:"Q3_Financial_Report.pdf",mime_type:"application/pdf",size_bytes:2457600,owner:"john.doe@company.com",created_at:"2025-09-15T14:30:00Z"},semantic:{document_sensitivity:"HIGH",classification:{labels:["financial","quarterly-report"],categories:{SENSITIVE:{weight:.92}}}},information:{entities:[{type:"ORGANIZATION",value:"Acme Corporation"},{type:"DATE",value:"Q3 2025"}],tags:{PII:{weight:.15}}}},total_duration_ms:145}},eV={decision:{allowed:!1,reason:"Denied by policy 'Restrict Sensitive Documents'",matched_policies:["policy-def-456"],evaluation_time_ms:98},trace:{policies_evaluated:[{policy_id:"policy-def-456",policy_name:"Restrict Sensitive Documents",policy_type:"ABAC",effect:"deny",result:"matched",priority:150,evaluation_time_ms:45,conditions:[{field:"document_sensitivity",operator:"eq",expected_value:"HIGH",actual_value:"HIGH",result:"pass",metadata_source:"semantic_metadata"},{field:"clearance_level",operator:"neq",expected_value:"secret",actual_value:"confidential",result:"pass",metadata_source:"subject_attributes"}]}],metadata_fetched:{syntactic:{name:"Merger_Strategy_Confidential.docx",mime_type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",size_bytes:1024e3,owner:"ceo@company.com"},semantic:{document_sensitivity:"HIGH",classification:{labels:["confidential","strategic"],categories:{SENSITIVE:{weight:.98}}}}},total_duration_ms:98}},tV={runSimulation:async e=>(await JW.post("/api/v1/policy/evaluation/simulate",Le(Le({},e),{},{include_trace:!0}))).data,async runSimulation(e){try{const t={access_request:{subject_id:e.subject_id,subject_type:e.subject_type,subject_attributes:e.subject_attributes||{},resource_id:e.resource_id,resource_type:e.resource_type,action:e.action}};e.policy_id&&(t.policy_id=e.policy_id);return(await JW.post("/api/v1/policy/evaluation/simulate",t)).data}catch(o){var t,n,r,a;throw console.error("Simulation API error:",o),new Error((null===(t=o.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.error)||"Failed to run simulation")}return await ZW(500),null!==e&&void 0!==e&&e.forceDenied?eV:QW},saveScenario:async e=>(await JW.post("/api/v1/policy/simulation/scenarios",e)).data,listScenarios:async()=>(await JW.get("/api/v1/policy/simulation/scenarios")).data,getScenario:async e=>(await JW.get("/api/v1/policy/simulation/scenarios/".concat(e))).data,deleteScenario:async e=>(await JW.delete("/api/v1/policy/simulation/scenarios/".concat(e))).data},nV=tV,rV=e=>{let{visible:t,onClose:n,policy:a,onOpenFullSimulator:o,scenarioToRun:i}=e;const[s,l]=(0,r.useState)(uW(a)),[c,d]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{a&&(l(uW(a)),d(null),p(!1))},[a,t]),(0,r.useEffect)(()=>{if(t&&a&&i&&!g){const e=Le(Le({},uW(a)),i);l(e);const t=cW(e);h(t),p(!0)}},[t,a,i,g]);const f=(0,r.useMemo)(()=>dW(a),[a]),h=async e=>{try{if(m(!0),!e||"object"!==typeof e)throw new Error("Invalid simulation payload");const t=Le(Le({},e),{},{test_policy:a}),n=await nV.runSimulation(t);d(n),XS.success("Policy test executed successfully")}catch(t){console.error("Test policy simulation failed",t),XS.error(t.message||"Failed to execute policy simulation")}finally{m(!1)}};return(0,Ue.jsx)($T,{title:(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)(SB,{className:"w-4 h-4 text-indigo-500"}),(0,Ue.jsx)("span",{children:"Test Policy"})]}),open:t,onCancel:n,footer:null,width:960,className:"dark:bg-gray-800",children:(0,Ue.jsxs)("div",{className:"space-y-5",children:[(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-md p-4 text-sm text-blue-800 dark:text-blue-200",children:["Testing policy: ",(0,Ue.jsx)("strong",{children:(null===a||void 0===a?void 0:a.name)||"Untitled policy"})]}),Boolean(f.length)&&(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Suggested Test Cases"}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Generated from current policy configuration"})]}),(0,Ue.jsx)(sF,{color:"purple",children:f.length})]}),(0,Ue.jsx)(vH,{dataSource:f,renderItem:e=>(0,Ue.jsx)(vH.Item,{actions:[(0,Ue.jsx)(eC,{size:"small",type:"primary",icon:(0,Ue.jsx)(xH,{className:"w-4 h-4"}),onClick:()=>(e=>{const t=Le(Le({},s),e);l(t);const n=cW(t);h(n)})(e.scenario),children:"Run Test"},"run")],children:(0,Ue.jsx)(vH.Item.Meta,{title:(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),description:(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})})})})]}),(0,Ue.jsx)(pW,{request:s,onRequestChange:l,onRunSimulation:e=>h(e),loading:u,compact:!0,showQuickScenarios:!0}),(0,Ue.jsx)($W,{results:c,loading:u,compact:!0}),(0,Ue.jsx)("div",{className:"flex justify-end border-t border-gray-200 dark:border-gray-700 pt-4",children:(0,Ue.jsxs)(qB,{children:[(0,Ue.jsx)(eC,{onClick:n,children:"Close"}),(0,Ue.jsx)(eC,{type:"link",icon:(0,Ue.jsx)(Fr,{className:"w-4 h-4"}),onClick:()=>null===o||void 0===o?void 0:o(cW(s)),children:"Open Full Simulator"})]})})]})})},aV=["key","name"],oV={eq:"Equal",neq:"Not Equal",contains:"Contains",not_contains:"Not Contains",starts_with:"Starts With",ends_with:"Ends With",gt:"Greater Than",lt:"Less Than",gte:"Greater Or Equal",lte:"Less Or Equal",exists:"Exists",not_exists:"Not Exists",in:"In",not_in:"Not In"},iV=(e,t)=>{if(["created_at","modified_at","accessed_at"].includes(t))switch(e){case"eq":return"Equal";case"gt":return"After";case"lt":return"Before";case"customize":return"Customize";default:return oV[e]||e}return oV[e]||e},sV=e=>({name:"document name",document_summary:"summary",document_sensitivity:"sensitivity"}[e]||e),lV="syntactic",cV="semantic",dV="information",uV={[lV]:["owner","file type","size","name","path","provider","created_at","modified_at","accessed_at"],[cV]:["document_sensitivity","document_summary","language","tags","classification.labels","key_phrases","last_analyzed"],[dV]:["sensitivity","classification.labels","classification.categories.SENSITIVE.weight","entities.type","entities.value","content_type","tags.PII.weight"]},mV={"file type":[{label:"PDF",value:"application/pdf"},{label:"DOCX",value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{label:"DOC",value:"application/msword"},{label:"PPTX",value:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{label:"PPT",value:"application/vnd.ms-powerpoint"},{label:"XLSX",value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{label:"XLS",value:"application/vnd.ms-excel"},{label:"CSV",value:"text/csv"},{label:"Text",value:"text/plain"},{label:"HTML",value:"text/html"},{label:"JSON",value:"application/json"},{label:"Go",value:"text/x-go"},{label:"Python",value:"text/x-py"},{label:"JSX",value:"text/jsx"},{label:"YAML",value:"text/yaml"},{label:"JavaScript",value:"application/javascript"},{label:"Markdown",value:"text/markdown"}],provider:[{label:"OneDrive",value:"onedrive"},{label:"Google Drive",value:"google-drive"},{label:"Confluence",value:"confluence"},{label:"Teams",value:"msteams"},{label:"Slack",value:"slack"}],document_sensitivity:[{label:"High",value:"HIGH"},{label:"Low",value:"LOW"}],language:[{label:"English",value:"en"}],sensitivity:[{label:"High",value:"HIGH"},{label:"Low",value:"LOW"}]},gV={size:["eq","neq","gt","lt","gte","lte"],language:["contains"],document_sensitivity:["eq"],sensitivity:["eq"],created_at:["eq","gt","lt","customize"],modified_at:["eq","gt","lt","customize"],accessed_at:["eq","gt","lt","customize"],default:["eq","neq","contains"]},pV=[{label:"Document",value:"document",enabledFor:["ABAC","RBAC"]},{label:"Metadata",value:"metadata",enabledFor:[]},{label:"Document Chunk",value:"document_chunk",enabledFor:["FGAC"]}],fV=(e,t)=>{if("file type"===e){const e=mV["file type"].find(e=>e.label===t);return{field:"mime_type",value:e?e.value:t}}return"tags"===e?{field:"entities.value",value:t}:{field:e,value:t}},hV=(e,t)=>{var n,r;return"mime_type"===e?{field:"file type",value:(null===(n=mV["file type"].find(e=>e.value===t))||void 0===n?void 0:n.label)||t}:"file type"===e?{field:"file type",value:(null===(r=mV["file type"].find(e=>e.value===t))||void 0===r?void 0:r.label)||t}:"entities.value"===e?{field:"tags",value:t}:{field:e,value:t}},vV=e=>{let{policy:t,onRunTest:n}=e;const[a,o]=(0,r.useState)(!1),i=(0,r.useMemo)(()=>dW(t),[t]);return t&&i.length?(0,Ue.jsxs)("div",{className:"mt-6 border border-gray-200 dark:border-gray-600 rounded-md",children:[(0,Ue.jsxs)("button",{type:"button",onClick:()=>o(!a),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[(0,Ue.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Suggested Test Cases (",i.length,")"]}),a?(0,Ue.jsx)(ja,{className:"w-4 h-4"}):(0,Ue.jsx)(Na,{className:"w-4 h-4"})]}),a&&(0,Ue.jsx)("div",{className:"p-4 space-y-3 border-t border-gray-200 dark:border-gray-600",children:i.map((e,t)=>(0,Ue.jsxs)("div",{className:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-md",children:[(0,Ue.jsxs)("div",{className:"flex-1 pr-3",children:[(0,Ue.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,Ue.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:e.description})]}),(0,Ue.jsx)(eC,{size:"small",type:"primary",onClick:()=>n(e.scenario),children:"Run Test"})]},e.id||t))})]}):null},xV=yr.create({baseURL:"https://dev-services.produktiv.ai",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}}),yV=yr.create({baseURL:"https://dev-services.produktiv.ai",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});xV.interceptors.request.use(e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1];return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e)),xV.interceptors.response.use(e=>e,e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)?window.location.href="/dashboard":"ERR_NETWORK"===e.code&&XS.error("Network error. Please check your connection and try again."),Promise.reject(e)}),yV.interceptors.request.use(e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1];return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e));const bV=async()=>{try{return(await yV.get("/api/v1/auth/invitedusers")).data||[]}catch(e){throw console.error("Error fetching invited users:",e),e}},kV=async e=>{try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({limit:100,sort:[{_id:"asc"}],mode:"structured",name:e})});if(!t.ok)throw new Error("API request failed: ".concat(t.status));const n=await t.json(),r=(null===n||void 0===n?void 0:n.results)||[];return r.length>0?r[0]:null}catch(t){throw console.error("Error fetching file by name:",t),t}},wV=async e=>{try{const t=await fetch("".concat("https://dev-services.produktiv.ai","/api/v1/metadata/search/unified"),{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({limit:100,sort:[{_id:"asc"}],mode:"structured"})});if(!t.ok)throw new Error("API request failed: ".concat(t.status));const n=await t.json(),r=(null===n||void 0===n?void 0:n.results)||[];return r.find(t=>t.id===e)||null}catch(t){return console.error("Error fetching file by ID:",t),null}},jV=()=>{var e;const{user:t}=(0,r.useContext)(Sr),n=ne(),a=ee(),[o,i]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null),[f,h]=(0,r.useState)(!1),[v,x]=(0,r.useState)(1),[y,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)(null),[j,N]=(0,r.useState)(null),[C,S]=(0,r.useState)(!1),[E,_]=(0,r.useState)([]),[O,I]=(0,r.useState)(!1),[M,P]=(0,r.useState)(""),[T,A]=(0,r.useState)(!1),[R,z]=(0,r.useState)(!0),[D,L]=(0,r.useState)(null),[B,F]=(0,r.useState)("asc"),[H,W]=(0,r.useState)("ABAC"),V=(0,r.useRef)("ABAC"),[q,U]=(0,r.useState)(0),[K,G]=(0,r.useState)([]),[X,Y]=(0,r.useState)("all"),[$,J]=(0,r.useState)("all"),[Z,Q]=(0,r.useState)("all"),[te,re]=(0,r.useState)(""),[ae,oe]=(0,r.useState)(!1),[ie,se]=(0,r.useState)(null),[le,ce]=(0,r.useState)(null),de=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(b(!1),w(t),e){case"basic":default:x(1);break;case"config":x(2);break;case"access":x(3);break;case"conditions":x(4)}};(0,r.useEffect)(()=>{if(k){const e=setTimeout(()=>{w(null)},3e3);return()=>clearTimeout(e)}},[k]);const me=e=>{switch(e){case 1:return["name"];case 2:return["type","effect","priority"];case 3:return["subjects","resources"];case 4:return["conditions"];default:return[]}},ge=new URLSearchParams(a.search).get("view"),[pe,fe]=(0,r.useState)(ge||"policies"),[he,ve]=(0,r.useState)(!1),[xe]=oP.useForm(),[ye,be]=(0,r.useState)({current:1,pageSize:10,total:0}),[ke,we]=(0,r.useState)({templateId:null,parameters:[]});(0,r.useEffect)(()=>{null!==t&&void 0!==t&&t.authenticated||n("/dashboard")},[t,n]),(0,r.useEffect)(()=>{const e=new URL(window.location);"policies"!==pe?e.searchParams.set("view",pe):e.searchParams.delete("view"),window.history.replaceState({},"",e)},[pe]);const je=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"asc",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"all",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"all",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"all";try{var u,m,f;d(!0),p(null);let n="/api/v1/policy/policies/list?page=".concat(e,"&pageSize=").concat(t);if(r&&a&&(n+="&sortField=".concat(r,"&sortDirection=").concat(a)),o&&(n+="&name=".concat(encodeURIComponent(o))),s&&"all"!==s&&(n+="&type=".concat(encodeURIComponent(s))),l&&"all"!==l&&(n+="&effect=".concat(encodeURIComponent(l))),c&&"all"!==c){n+="&active=".concat("active"===c)}const g=await xV.get(n),h=(null===(u=g.data)||void 0===u?void 0:u.data)||[],v=(null===(m=g.data)||void 0===m||null===(f=m.pagination)||void 0===f?void 0:f.totalItems)||0;i(h),be({current:e,pageSize:t,total:v}),C&&S(!1)}catch(g){var h,v,x;if(console.error("Error fetching policies:",g),401===(null===(h=g.response)||void 0===h?void 0:h.status))n("/dashboard");else p((null===(v=g.response)||void 0===v||null===(x=v.data)||void 0===x?void 0:x.error)||"Failed to fetch policies. Please try again later."),XS.error("Failed to fetch policies")}finally{d(!1)}};(0,r.useEffect)(()=>{null!==t&&void 0!==t&&t.authenticated&&je(1,10)},[t]);const Ne=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.subjects;if("string"===typeof n)try{n=n?JSON.parse(n):[]}catch(g){throw new Error("Invalid subjects JSON")}let r=e.resources;if("string"===typeof r)try{r=r?JSON.parse(r):[]}catch(g){throw new Error("Invalid resources JSON")}const a=(e.conditions||[]).filter(e=>e&&e.field&&e.operator).map(e=>{let t=e.value,n=e.operator;if(["created_at","modified_at","accessed_at"].includes(e.field))if("customize"===e.operator&&e.value_from&&e.value_to){const n="".concat(e.value_from,"T00:00:00"),r="".concat(e.value_to,"T23:59:59");t="".concat(n,"|").concat(r)}else if("eq"===e.operator&&e.value&&!e.value.includes("T")){const r="".concat(e.value,"T00:00:00"),a="".concat(e.value,"T23:59:59");t="".concat(r,"|").concat(a),n="customize"}else if(e.value&&!e.value.includes("T")){let n="00:00:00";"gt"===e.operator&&(n="23:59:59"),t="".concat(e.value,"T").concat(n)}const r=fV(e.field,t);return{field:r.field,operator:n,value:r.value,category:e.category,negated:e.negated||!1}}),o={name:e.name,description:e.description,type:e.type||"ABAC",effect:e.effect,priority:parseInt(e.priority,10)||0,subjects:n,actions:e.actions||["read","view","download"],resources:r,conditions:a,active:R};return t&&j&&(o.id=j),o},Ce=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{await xe.validateFields(["name","type","effect","priority","subjects","resources"]);const t=xe.getFieldsValue(!0),n=Ne(t,!1);se(n),ce(e||null),oe(!0)}catch(g){null!==g&&void 0!==g&&g.errorFields?XS.error("Please resolve validation errors before testing the policy."):XS.error(g.message||"Unable to prepare policy for testing.")}},Se=async e=>{try{var t;d(!0);const n=await bV();let r,a;try{r=((e,t)=>{try{return("string"===typeof e?JSON.parse(e):e).map(e=>{if("user"===e.type&&"*"!==e.value&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.value)){const n=t.find(t=>t.email===e.value);if(!n)throw new Error('User with email "'.concat(e.value,'" has not been invited.'));return Le(Le({},e),{},{value:n.id})}return e})}catch(g){throw g}})(e.subjects,n)}catch(g){return XS.error(g.message),void d(!1)}try{a=await(async e=>{try{const t="string"===typeof e?JSON.parse(e):e,n=[];for(const e of t)if("document"===e.type&&"*"!==e.value)if(/^[a-zA-Z0-9_-]+$/.test(e.value)&&!e.value.includes("."))n.push(e);else{const t=await kV(e.value);if(!t)throw new Error('File with name "'.concat(e.value,'" not found.'));n.push(Le(Le({},e),{},{value:t.id}))}else n.push(e);return n}catch(g){throw g}})(e.resources)}catch(g){return XS.error(g.message),void d(!1)}const o={name:e.name,description:e.description,type:e.type||"ABAC",effect:e.effect,priority:parseInt(e.priority)||0,subjects:r,actions:e.actions||["read","view","download"],resources:a,conditions:(null===(t=e.conditions)||void 0===t?void 0:t.map(e=>{let t=e.value,n=e.operator;if(["created_at","modified_at","accessed_at"].includes(e.field))if("customize"===e.operator&&e.value_from&&e.value_to){const n="".concat(e.value_from,"T00:00:00"),r="".concat(e.value_to,"T23:59:59");t="".concat(n,"|").concat(r)}else if("eq"===e.operator&&e.value&&!e.value.includes("T")){const r="".concat(e.value,"T00:00:00"),a="".concat(e.value,"T23:59:59");t="".concat(r,"|").concat(a),n="customize"}else if(e.value&&!e.value.includes("T")){let n="00:00:00";"gt"===e.operator&&(n="23:59:59"),t="".concat(e.value,"T").concat(n)}const r=fV(e.field,t);return{field:r.field,operator:n,value:r.value,category:e.category,negated:e.negated||!1}}))||[],active:R};j&&(o.id=j),j?(await xV.put("/api/v1/policy/policies/".concat(j),o),XS.success("Policy updated successfully")):(await xV.post("/api/v1/policy/policies/create",o),XS.success("Policy created successfully")),ve(!1),N(null),x(1),xe.resetFields(),S(!0),be(e=>Le(Le({},e),{},{current:1,total:e.total+1})),je(1,ye.pageSize)}catch(g){var n,r;XS.error((null===(n=g.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.error)||"Failed to ".concat(j?"update":"create"," policy")),console.error("Error ".concat(j?"updating":"creating"," policy:"),g)}finally{d(!1)}};return(0,r.useEffect)(()=>{const e=e=>{const t=document.getElementById("create-policy-popup"),n=document.getElementById("create-policy-button");f&&t&&!t.contains(e.target)&&!n.contains(e.target)&&h(!1)};if(f)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[f]),(0,Ue.jsxs)(Wr,{children:[(0,Ue.jsxs)("div",{className:"flex-1 p-8",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Policy Management"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure and manage access policies"})]}),(0,Ue.jsxs)("div",{className:"flex gap-4",children:["policies"===pe&&(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:focus:ring-offset-gray-900 transition-colors duration-200",onClick:()=>{we({templateId:null,parameters:[]}),b(!1),N(null),x(1),xe.setFieldsValue({type:"ABAC",priority:0,resourceType:"document",resourceValue:"*",subjects:'[{"type": "user", "value": "*"}]',resources:'[{"type": "document", "value": "*"}]',active:!0,conditions:[{category:"syntactic",field:"",operator:"",value:"",negated:!1}]}),z(!0),ve(!0)},children:[(0,Ue.jsx)(Ar,{className:"w-4 h-4"}),"Create from scratch"]}),(0,Ue.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 dark:bg-indigo-500 rounded-lg hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:focus:ring-offset-gray-900 transition-colors duration-200",onClick:()=>{fe("templates"),0===s.length&&(async()=>{try{m(!0);const e=await xV.get("/api/v1/policy/templates?is_system=true");l(Array.isArray(e.data)?e.data:[])}catch(g){var e,t,r;console.error("Error fetching templates:",g),401===(null===(e=g.response)||void 0===e?void 0:e.status)?n("/dashboard"):XS.error((null===(t=g.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Failed to fetch templates"),l([])}finally{m(!1)}})()},children:[(0,Ue.jsx)(Ar,{className:"w-4 h-4"}),"Create from template"]})]}),"templates"===pe&&(0,Ue.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white dark:bg-gray-700 dark:text-gray-200 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 dark:focus:ring-offset-gray-900 transition-colors duration-200",onClick:()=>fe("policies"),children:[(0,Ue.jsx)(CB,{className:"w-4 h-4"}),"My Policies"]})]})]}),"policies"===pe?(0,Ue.jsx)(KB,{isPageView:!0,policies:o,loading:c,onActivate:async e=>{try{d(!0),await xV.post("/api/v1/policy/policies/activate",{policy_ids:[e]}),XS.success("Policy activated successfully"),je(ye.current,ye.pageSize,D,B,te,X,$,Z)}catch(g){var t,n;XS.error((null===(t=g.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to activate policy")}},onDeactivate:async e=>{try{d(!0),await xV.post("/api/v1/policy/policies/deactivate",{policy_ids:[e]}),XS.success("Policy deactivated successfully"),je(ye.current,ye.pageSize,D,B,te,X,$,Z)}catch(g){var t,n;XS.error((null===(t=g.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to deactivate policy")}},onBulkActivate:async()=>{try{const e=K.filter(e=>!e.active).map(e=>e.id);if(0===e.length)return void XS.info("No inactive policies selected for activation.");d(!0),await xV.post("/api/v1/policy/policies/activate",{policy_ids:e}),XS.success("".concat(e.length," policy(s) activated successfully")),G([]),je(ye.current,ye.pageSize,D,B,te,X,$,Z)}catch(g){var e,t;XS.error((null===(e=g.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to bulk activate policies")}finally{d(!1)}},onBulkDeactivate:async()=>{try{const e=K.filter(e=>e.active).map(e=>e.id);if(0===e.length)return void XS.info("No active policies selected for deactivation.");d(!0),await xV.post("/api/v1/policy/policies/deactivate",{policy_ids:e}),XS.success("".concat(e.length," policy(s) deactivated successfully")),G([]),je(ye.current,ye.pageSize,D,B,te,X,$,Z)}catch(g){var e,t;XS.error((null===(e=g.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to bulk deactivate policies")}finally{d(!1)}},onCopy:e=>{var t;xe.setFieldsValue({name:"Copy of ".concat(e.name),description:e.description||"",type:e.type,effect:e.effect,priority:e.priority||1,subjects:"string"===typeof e.subjects?e.subjects:JSON.stringify(e.subjects||[{type:"user",value:"*"}]),actions:["read","view","download"],resources:"string"===typeof e.resources?e.resources:JSON.stringify(e.resources||[{type:"document",value:"*"}]),conditions:e.conditions||[],active:!1!==e.active}),U(null!==(t=e.priority)&&void 0!==t?t:0),ve(!0)},onEdit:async e=>{we({templateId:null,parameters:[]});try{var t,n,r,a;const o=await bV(),i="string"===typeof e.resources?JSON.parse(e.resources):e.resources||[],s="document_chunk"===(null===(t=i[0])||void 0===t?void 0:t.type)?"document_chunk":"document",l=await(async e=>{try{const t="string"===typeof e?JSON.parse(e):e,n=[];for(const e of t)if("document"===e.type&&"*"!==e.value)if(/^[a-zA-Z0-9_-]+$/.test(e.value)&&!e.value.includes(".")){const t=await wV(e.value);t?n.push(Le(Le({},e),{},{value:t.name})):n.push(e)}else n.push(e);else n.push(e);return n}catch(g){return console.error("Error converting file ID to name:",g),"string"===typeof e?JSON.parse(e):e}})(i),c=(null===(n=l[0])||void 0===n?void 0:n.value)||"*",d=((e,t)=>{try{return("string"===typeof e?JSON.parse(e):e).map(e=>{if("user"===e.type&&"*"!==e.value&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e.value)){const n=t.find(t=>t.id===e.value);if(n)return Le(Le({},e),{},{value:n.email})}return e})}catch(g){return console.error("Error converting UUID to email:",g),"string"===typeof e?JSON.parse(e):e}})("string"===typeof e.subjects?JSON.parse(e.subjects):e.subjects||[],o),u={name:e.name,description:e.description||"",type:e.type,effect:e.effect,priority:null!==(r=e.priority)&&void 0!==r?r:1,resourceType:s,resourceValue:c,subjects:JSON.stringify(d),resources:"string"===typeof e.resources?e.resources:JSON.stringify(e.resources||[]),conditions:(e.conditions||[]).map(e=>{var t;if("mime_type"===e.field)return Le(Le({},e),{},{field:"file type",value:(null===(t=mV["file type"].find(t=>t.value===e.value))||void 0===t?void 0:t.label)||e.value});if(["created_at","modified_at","accessed_at"].includes(e.field)&&"string"===typeof e.value&&e.value.includes("T")){if("customize"===e.operator&&e.value.includes("|")){const[t,n]=e.value.split("|"),r=t.split("T")[0],a=n.split("T")[0];return Le(Le({},e),{},r===a?{operator:"eq",value:r}:{value_from:r,value_to:a,value:e.value})}return Le(Le({},e),{},{value:e.value.split("T")[0]})}return e}),active:Boolean(e.active)};xe.setFieldsValue(u),W(e.type),V.current=e.type,U(null!==(a=u.priority)&&void 0!==a?a:0),z(Boolean(e.active)),N(e.id),x(4),b(!0),ve(!0)}catch(g){console.error("Error fetching invited users for edit:",g),XS.error("Failed to load user information")}},onSimulate:e=>{try{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return t;if("string"===typeof e)try{return JSON.parse(e)}catch(g){return console.warn("Failed to parse policy field for simulator:",g),t}return e},n=Le(Le({},e),{},{subjects:t(e.subjects,[]),resources:t(e.resources,[])}),r={request:uW(n),policy:n,policyId:e.id,source:"policy-manager-list"};localStorage.setItem("policySimulatorPrefill",JSON.stringify(r)),window.open("/policy-simulator","_blank","noopener")}catch(g){console.error("Failed to open simulator for policy:",g),XS.error("Unable to open simulator for this policy.")}},onSearch:e=>{re(e),je(1,ye.pageSize,D,B,e,X,$,Z)},onViewLogs:async e=>{A(!0),_([]),I(!0),P(e.name||"");try{var t;const n=await xV.get("/api/v1/policy/policies/".concat(e.id,"/logs"));_((null===(t=n.data)||void 0===t?void 0:t.action_logs)||[])}catch(g){console.error("Error fetching logs:",g),XS.error("Failed to fetch logs")}finally{A(!1)}},pagination:ye,onPaginationChange:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;void 0!==n&&void 0!==r&&(L(n),F(r)),be(n=>Le(Le({},n),{},{current:e,pageSize:t}));je(e,t,void 0!==n?n:D,void 0!==r?r:B,te,X,$,Z)},selectedPolicies:K,setSelectedPolicies:G,sortField:D,sortDirection:B,filterType:X,filterEffect:$,filterStatus:Z,onFilterChange:(e,t,n)=>{Y(e),J(t),Q(n),je(1,ye.pageSize,D,B,te,e,t,n)},setSortField:L,setSortDirection:F}):(0,Ue.jsx)(XB,{isPageView:!0,templates:s,loading:u,onUseTemplate:async e=>{const t=e.template;xe.setFieldsValue({name:t.name||"New Policy from ".concat(e.name),description:t.description||"Generated from ".concat(e.name," template"),effect:t.effect||"allow"});try{var n;const t=(null===(n=(await xV.get("/api/v1/policy/templates/".concat(e.id,"/parameters"))).data)||void 0===n?void 0:n.parameters)||[];we({templateId:e.id,parameters:t}),ve(!0)}catch(g){console.error("Error fetching template parameters:",g),XS.error("Failed to fetch template parameters"),ve(!0)}}})]}),(0,Ue.jsx)($T,{title:"Action Logs: ".concat(M),open:O,onCancel:()=>I(!1),footer:null,width:700,children:T?(0,Ue.jsx)("div",{className:"text-center py-6 text-gray-500",children:"Loading logs..."}):0===E.length?(0,Ue.jsx)("div",{className:"text-center py-6 text-gray-500",children:"No logs found."}):(0,Ue.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:E.map((e,t)=>{var n;const r=new Date(e.timestamp).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),a=e.actor_email||"Unknown",o=e.success?"\u2705 Success":"\u274c Failed";let i="";switch(e.action_type){case"create":i="Policy was created by ".concat(a," at ").concat(r,".");break;case"create_from_template":i="Policy was created from template by ".concat(a," at ").concat(r,".");break;case"activate":i="Policy was activated by ".concat(a," at ").concat(r,".");break;case"deactivate":i="Policy was deactivated by ".concat(a," at ").concat(r,".");break;case"update":const t=(null===(n=e.details)||void 0===n?void 0:n.changes)||{},o=Object.keys(t).map(e=>{const n=t[e];return"active"===e?void 0!==n.from&&void 0!==n.to?n.to?"Policy activated via edit":"Policy deactivated via edit":"Policy status changed via edit":void 0!==n.from&&void 0!==n.to?"".concat(e," updated"):"".concat(e," modified")}).join(", ");i="".concat(o," by ").concat(a," at ").concat(r);break;default:i="".concat(e.action_type," action by ").concat(a," at ").concat(r,".")}return(0,Ue.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-md text-sm text-gray-800 dark:text-gray-200",children:[(0,Ue.jsx)("div",{children:i}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500",children:o})]},t)})})}),(0,Ue.jsx)($T,{title:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsx)("span",{children:j?"Edit Policy":"Create New Policy"}),(0,Ue.jsx)("div",{className:"flex items-center space-x-2 mr-5",children:[1,2,3,4].map(e=>(0,Ue.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ".concat(e<v?"bg-indigo-600 text-white":e===v?"bg-indigo-100 text-indigo-600 border-2 border-indigo-600":"bg-gray-200 text-gray-500"),children:e},e))})]}),open:he,onCancel:()=>{ve(!1),we({templateId:null,parameters:[]}),x(1),b(!1),N(null),z(!0),U(0),xe.resetFields(),x(1),b(!1)},footer:null,className:"dark:bg-gray-800",width:600,children:(0,Ue.jsxs)("div",{className:"mt-6",children:[(0,Ue.jsxs)("div",{className:"mb-8",children:[(0,Ue.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[(0,Ue.jsxs)("span",{children:["Step ",v," of ",4]}),(0,Ue.jsxs)("span",{children:[1===v&&"Basic Information",2===v&&"Policy Configuration",3===v&&"Access Control",4===v&&"Review & Conditions"]})]}),(0,Ue.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ue.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(v/4*100,"%")}})})]}),(0,Ue.jsxs)(oP,{form:xe,layout:"vertical",onFinish:e=>{const t=xe.getFieldsValue(!0);if(ke.templateId){const t={};ke.parameters.forEach(n=>{t[n]=e[n]}),xV.post("/api/v1/policy/templates/create-from-template",{template_id:ke.templateId,parameters:Le(Le({},t),{},{policy_name:e.name,policy_description:e.description||"Created from template"})}).then(()=>{XS.success("Policy created successfully"),ve(!1),we({templateId:null,parameters:[]}),xe.resetFields(),x(1),S(!0),fe("policies"),je(1,ye.pageSize)}).catch(e=>{var t,n;XS.error((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to create policy")})}else Se(t)},children:[1===v&&(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"mb-0.5",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"Basic Information"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Enter the basic details for your policy"})]}),(0,Ue.jsx)(oP.Item,{name:"name",label:"Policy Name",rules:[{required:!0,message:"Please enter policy name"},{pattern:/^[a-zA-Z0-9 {}\[\] ]+$/,message:"Policy name can only contain letters, numbers, and brackets ({}, [])"},e=>{let{getFieldValue:t}=e;return{validator:(e,t)=>t?""===t.trim()?Promise.reject(new Error("Policy name cannot be empty or contain only spaces.")):t!==t.trim()?Promise.reject(new Error("Policy name cannot have leading or trailing spaces")):Promise.resolve():Promise.resolve()}}],className:"name"===k?"ring-2 ring-blue-500 ring-opacity-50 rounded-lg":"",children:(0,Ue.jsx)(TR,{size:"large",placeholder:"Enter a descriptive name for your policy"})}),(0,Ue.jsx)(oP.Item,{name:"description",label:"Description",className:"no-border-form-item ".concat("description"===k?"ring-2 ring-blue-500 ring-opacity-50 rounded-lg":""),rules:[{max:280,message:"Description cannot exceed 280 characters"}],children:(0,Ue.jsx)(TR.TextArea,{rows:4,size:"large",placeholder:"Describe what this policy does and when it should be applied",maxLength:280,showCount:!0})})]}),2===v&&!ke.templateId&&(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"mb-0.5",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"Policy Configuration"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configure the basic policy settings"})]}),(0,Ue.jsx)(oP.Item,{name:"type",label:"Policy Type",rules:[{required:!0,message:"Please select policy type"}],initialValue:"ABAC",className:"type"===k?"ring-2 ring-blue-500 ring-opacity-50 rounded-lg":"",children:(0,Ue.jsxs)(ML,{size:"large",onChange:e=>{W(e),V.current=e;const t=pV.find(t=>t.enabledFor.includes(e));t&&setTimeout(()=>{xe.setFieldValue("resourceType",t.value),xe.setFieldValue("resourceValue","*");const e='[{"type": "'.concat(t.value,'", "value": "*"}]');xe.setFieldValue("resources",e)},100),setTimeout(()=>{const t=(xe.getFieldValue("conditions")||[]).map(t=>Le(Le({},t),{},{category:"FGAC"===e?"information":"syntactic",field:"",operator:"",value:""}));xe.setFieldValue("conditions",t)},150)},children:[(0,Ue.jsx)(ML.Option,{value:"ABAC",children:"ABAC (Attribute-Based Access Control)"}),(0,Ue.jsxs)(ML.Option,{value:"RBAC",disabled:!0,style:{color:"#9CA3AF",cursor:"not-allowed"},children:["RBAC (Role-Based Access Control) ",(0,Ue.jsx)("span",{className:"italic text-gray-500 dark:text-gray-400",children:"      Coming Soon..."})]}),(0,Ue.jsx)(ML.Option,{value:"FGAC",children:"FGAC (Fine-Grained Access Control)"})]})}),(0,Ue.jsx)(oP.Item,{name:"effect",label:"Effect",rules:[{required:!0,message:"Please select effect"}],className:"effect"===k?"ring-2 ring-blue-500 ring-opacity-50 rounded-lg":"",children:(0,Ue.jsxs)(ML,{size:"large",children:[(0,Ue.jsx)(ML.Option,{value:"allow",children:"Allow Access"}),(0,Ue.jsx)(ML.Option,{value:"deny",children:"Deny Access"})]})}),(0,Ue.jsx)(oP.Item,{name:"priority",label:"Priority",rules:[{required:!0,message:"Please enter priority"}],initialValue:0,className:"priority"===k?"ring-2 ring-blue-500 ring-opacity-50 rounded-lg":"",children:(0,Ue.jsxs)("div",{className:"px-2",children:[(0,Ue.jsx)(cB,{min:0,max:1e3,value:q,onChange:e=>{U(e),xe.setFieldValue("priority",e)},marks:{0:"0",100:"100",200:"200",300:"300",400:"400",500:"500",600:"600",700:"700",800:"800",900:"900",1e3:"1000"},step:null,included:!1,tooltip:{formatter:e=>"Priority: ".concat(e)}}),(0,Ue.jsxs)("div",{className:"text-center mt-2 text-sm text-gray-600",children:["Selected Priority: ",q]})]})})]}),3===v&&!ke.templateId&&(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"mb-0.5",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"Access Control"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Define who can access what resources"})]}),(0,Ue.jsx)(oP.Item,{name:"subjects",label:"Subjects (Who can access)",rules:[{required:!0,message:"Please enter subjects"},{validator:(e,t)=>{try{return t&&JSON.parse(t),Promise.resolve()}catch(aO){return Promise.reject("Please enter valid JSON")}}}],initialValue:'[{"type": "user", "value": "*"}]',className:"subjects"===k?"ring-2 ring-blue-500 ring-opacity-50 rounded-lg":"",children:(0,Ue.jsx)(TR.TextArea,{rows:4,size:"large",placeholder:'Example: [{"type": "user", "value": "*"}]'})}),(0,Ue.jsx)(oP.Item,{dependencies:["type","resourceType"],children:()=>{const e=xe.getFieldsValue(["type","resourceType"]).type;return(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)(oP.Item,{name:"resources_label",label:"Resources (What can be accessed)",required:!0,className:"no-margin-form-item",style:{marginBottom:0,marginTop:-16},children:(0,Ue.jsx)("div",{style:{display:"none"}})}),(0,Ue.jsx)(oP.Item,{name:"resourceType",initialValue:"document",className:"no-margin-form-item",style:{marginBottom:0,marginTop:-16},children:(0,Ue.jsx)("div",{className:"space-y-3",children:pV.map(e=>{const t=e.enabledFor.includes(V.current),n=xe.getFieldValue("resourceType")===e.value;return(0,Ue.jsx)("div",{className:"space-y-2",children:(0,Ue.jsxs)("div",{className:"flex items-center p-2 cursor-pointer ".concat(t?"":"opacity-50 cursor-not-allowed"),onClick:()=>{if(t){xe.setFieldValue("resourceType",e.value),xe.setFieldValue("resourceValue","*");const t='[{"type": "'.concat(e.value,'", "value": "*"}]');xe.setFieldValue("resources",t)}},children:[(0,Ue.jsx)("div",{className:"mr-3 h-4 w-4 rounded-full border-2 flex items-center justify-center transition-all ".concat(n?"border-blue-600 bg-blue-600":"border-gray-300 bg-white"," ").concat(t?"hover:border-blue-400":"opacity-50"),children:n&&(0,Ue.jsx)("div",{className:"h-2 w-2 rounded-full bg-white"})}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("div",{className:"font-medium text-black",children:e.label}),!t&&e.enabledFor.length>0&&(0,Ue.jsxs)("div",{className:"text-xs text-gray-500",children:["Available for: ",e.enabledFor.join(", ")]}),"metadata"===e.value&&(0,Ue.jsx)("div",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})},e.value)})})}),(0,Ue.jsxs)("div",{className:"space-y-1",children:[(0,Ue.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400",children:"Value"}),(0,Ue.jsx)(oP.Item,{name:"resourceValue",initialValue:"*",style:{margin:0},children:(0,Ue.jsx)(TR,{size:"large",placeholder:"*",style:{width:"50%"},onChange:e=>{const t=e.target.value||"*",n=xe.getFieldValue("resourceType"),r='[{"type": "'.concat(n,'", "value": "').concat(t,'"}]');xe.setFieldValue("resources",r)}})})]}),(0,Ue.jsx)(oP.Item,{name:"resources",style:{display:"none"},initialValue:'[{"type": "document", "value": "*"}]',children:(0,Ue.jsx)(TR,{type:"hidden"})})]},"".concat(e,"-").concat(Date.now()))}},"".concat(xe.getFieldValue("type"),"-").concat(xe.getFieldValue("resourceType")))]}),4===v&&!ke.templateId&&(0,Ue.jsxs)("div",{className:"space-y-6",children:[(0,Ue.jsxs)("div",{className:"mb-0.5",children:[(0,Ue.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:y?"Policy Preview":"Conditions"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:y?"Review your policy":"Add conditions to your policy"})]}),y?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 mb-6 border border-gray-200 dark:border-gray-600",children:[(0,Ue.jsx)("div",{className:"flex justify-end mb-4",children:(0,Ue.jsxs)("button",{type:"button",onClick:()=>Ce(),className:"inline-flex items-center px-4 py-2 border border-purple-600 text-purple-600 rounded-md hover:bg-purple-50 dark:hover:bg-purple-900/20 dark:text-purple-400 dark:border-purple-400 transition-colors",children:[(0,Ue.jsx)(SB,{className:"w-4 h-4 mr-2"}),"Test This Policy"]})}),(0,Ue.jsxs)("div",{className:"mb-6",children:[(0,Ue.jsx)("h5",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium mb-3 uppercase tracking-wide",children:"Basic Information"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Name:"}),(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white break-words",children:xe.getFieldValue("name")||"Not set"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("basic","name"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit name",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]}),(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Priority:"}),(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:null!==(e=xe.getFieldValue("priority"))&&void 0!==e?e:"Not set"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("config","priority"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit priority",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]})]}),(0,Ue.jsx)("div",{className:"mt-4",children:(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Description:"}),(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white break-words",children:xe.getFieldValue("description")||"No description provided"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("basic","description"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit description",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]})})]}),(0,Ue.jsxs)("div",{className:"mb-6",children:[(0,Ue.jsx)("h5",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium mb-3 uppercase tracking-wide",children:"Policy Configuration"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Type:"}),(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:xe.getFieldValue("type")||"Not set"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("config","type"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit type",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]}),(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Effect:"}),(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:(0,Ue.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("allow"===xe.getFieldValue("effect")?"bg-green-600 text-white":"bg-red-600 text-white"),children:xe.getFieldValue("effect")||"Not set"})})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("config","effect"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit effect",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]})]})]}),(0,Ue.jsxs)("div",{className:"mb-6",children:[(0,Ue.jsx)("h5",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium mb-3 uppercase tracking-wide",children:"Access Control"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Subjects:"}),(0,Ue.jsx)("div",{className:"font-mono text-xs text-gray-900 dark:text-white break-all bg-gray-100 dark:bg-gray-500 p-2 rounded",children:xe.getFieldValue("subjects")||"Not set"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("access","subjects"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit subjects",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]}),(0,Ue.jsxs)("div",{className:"flex items-start justify-between bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300 block mb-1 text-sm",children:"Resources:"}),(0,Ue.jsx)("div",{className:"font-mono text-xs text-gray-900 dark:text-white break-all bg-gray-100 dark:bg-gray-500 p-2 rounded",children:xe.getFieldValue("resources")||"Not set"})]}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("access","resources"),className:"ml-2 p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors flex-shrink-0",title:"Edit resources",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]})]})]}),(0,Ue.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Ue.jsx)("h5",{className:"text-gray-700 dark:text-gray-300 text-sm font-medium uppercase tracking-wide",children:"Conditions"}),(0,Ue.jsx)("button",{type:"button",onClick:()=>ue("conditions"),className:"p-1 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",title:"Edit conditions",children:(0,Ue.jsx)(Ea,{className:"w-4 h-4"})})]}),(()=>{const e=(xe.getFieldValue("conditions")||[]).filter(e=>e&&e.field&&e.operator&&e.value);return e.length>0?(0,Ue.jsxs)("div",{className:"space-y-2",children:[e.map((e,t)=>(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-600 p-3 rounded border border-gray-200 dark:border-gray-500",children:[(0,Ue.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 text-xs text-gray-900 dark:text-white",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Category:"}),(0,Ue.jsx)("div",{className:"font-medium capitalize",children:e.category||"Not set"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Field:"}),(0,Ue.jsx)("div",{className:"font-medium break-words",children:(()=>{const t=hV(e.field,e.value);return sV(t.field)||"Not set"})()})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Operator:"}),(0,Ue.jsx)("div",{className:"font-medium",children:iV(e.operator,e.field)||"Not set"})]}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-300",children:"Value:"}),(0,Ue.jsx)("div",{className:"font-medium break-words",children:hV(e.field,e.value).value||"Not set"})]})]}),e.negated&&(0,Ue.jsx)("div",{className:"mt-2 text-orange-600 dark:text-orange-300 text-xs",children:"\u26a0\ufe0f Negated condition"})]},t)),(0,Ue.jsxs)("div",{className:"text-gray-500 dark:text-gray-400 text-xs mt-2",children:[e.length," condition(s) configured"]})]}):(0,Ue.jsx)("div",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"No conditions added"})})()]})]}),(0,Ue.jsx)(vV,{policy:(()=>{try{const e=xe.getFieldsValue(!0);return Ne(e,!1)}catch(g){return null}})(),onRunTest:Ce}),(0,Ue.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 border border-gray-200 dark:border-gray-600",children:(0,Ue.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ue.jsx)(NB,{checked:R,onChange:e=>{const t=e.target.checked;z(t),xe.setFieldValue("active",t)}}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:"Activate Policy"}),(0,Ue.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Enable this policy right after creation. You can always change this later."})]})]})}),(0,Ue.jsx)(oP.Item,{name:"active",style:{display:"none"},children:(0,Ue.jsx)(TR,{})})]}):(0,Ue.jsx)(Ue.Fragment,{children:(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsx)("div",{children:(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Conditions"})}),(0,Ue.jsx)(oP.List,{name:"conditions",initialValue:[{}],children:(e,t)=>{let{add:n,remove:r}=t;return(0,Ue.jsxs)(Ue.Fragment,{children:[e.map(t=>{let{key:n,name:a}=t,o=Be(t,aV);return(0,Ue.jsxs)("div",{className:"mb-4 p-4 bg-white dark:bg-white border border-gray-200 dark:border-gray-600 rounded-lg",children:[(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"category"],label:"Category",initialValue:"FGAC"===V.current?"information":"syntactic",children:(0,Ue.jsx)(ML,{onChange:e=>{xe.setFieldValue(["conditions",a,"field"],void 0),xe.setFieldValue(["conditions",a,"operator"],void 0),xe.setFieldValue(["conditions",a,"value"],void 0)},children:"FGAC"===V.current?(0,Ue.jsx)(ML.Option,{value:"information",children:"Information (Chunk-level)"}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(ML.Option,{value:"syntactic",children:"Syntactic"}),(0,Ue.jsx)(ML.Option,{value:"semantic",children:"Semantic"})]})})})),(0,Ue.jsx)(oP.Item,{shouldUpdate:(e,t)=>{var n,r,o,i;return(null===e||void 0===e||null===(n=e.conditions)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.category)!==(null===t||void 0===t||null===(o=t.conditions)||void 0===o||null===(i=o[a])||void 0===i?void 0:i.category)},children:()=>(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"field"],label:"Field",rules:[{required:!0,message:"Please select field"}],children:(0,Ue.jsx)(ML,{placeholder:"Select field",onChange:()=>{xe.setFieldValue(["conditions",a,"operator"],void 0),xe.setFieldValue(["conditions",a,"value"],void 0)},children:(()=>{const e=xe.getFieldValue(["conditions",a,"category"]);return"syntactic"===e?uV[lV].map(e=>(0,Ue.jsx)(ML.Option,{value:e,children:sV(e)},e)):"semantic"===e?uV[cV].map(e=>(0,Ue.jsx)(ML.Option,{value:e,children:sV(e)},e)):"information"===e?uV[dV].map(e=>(0,Ue.jsx)(ML.Option,{value:e,children:sV(e)},e)):[]})()})}))}),(0,Ue.jsx)(oP.Item,{shouldUpdate:(e,t)=>{var n,r,o,i;return(null===e||void 0===e||null===(n=e.conditions)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.field)!==(null===t||void 0===t||null===(o=t.conditions)||void 0===o||null===(i=o[a])||void 0===i?void 0:i.field)},children:()=>(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"operator"],label:"Operator",rules:[{required:!0,message:"Please select operator"}],children:(0,Ue.jsx)(ML,{placeholder:"Select operator",children:(()=>{const e=xe.getFieldValue(["conditions",a,"field"]);return(gV[e]||gV.default).map(t=>(0,Ue.jsx)(ML.Option,{value:t,children:iV(t,e)},t))})()})}))}),(0,Ue.jsx)(oP.Item,{shouldUpdate:(e,t)=>{var n,r,o,i,s,l,c,d,u,m,g,p;return(null===e||void 0===e||null===(n=e.conditions)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.field)!==(null===t||void 0===t||null===(o=t.conditions)||void 0===o||null===(i=o[a])||void 0===i?void 0:i.field)||(null===e||void 0===e||null===(s=e.conditions)||void 0===s||null===(l=s[a])||void 0===l?void 0:l.category)!==(null===t||void 0===t||null===(c=t.conditions)||void 0===c||null===(d=c[a])||void 0===d?void 0:d.category)||(null===e||void 0===e||null===(u=e.conditions)||void 0===u||null===(m=u[a])||void 0===m?void 0:m.operator)!==(null===t||void 0===t||null===(g=t.conditions)||void 0===g||null===(p=g[a])||void 0===p?void 0:p.operator)},children:()=>{const e=xe.getFieldValue(["conditions",a,"field"]),t=xe.getFieldValue(["conditions",a,"operator"]);return["created_at","modified_at","accessed_at"].includes(e)&&"customize"===t?(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Range"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"value_from"],label:"From",rules:[{required:!0,message:"Please select start date"},e=>{let{getFieldValue:t}=e;return{validator(e,n){const r=t(["conditions",a,"value_to"]);if(!n||!r)return Promise.resolve();return new Date(n)>new Date(r)?Promise.reject(new Error("From date must be earlier than or equal to To date")):Promise.resolve()}}}],style:{margin:0},children:(0,Ue.jsx)(TR,{type:"date",placeholder:"Start date",max:de(),onChange:e=>{if(e.target.value){const t="".concat(e.target.value,"T00:00:00");xe.setFieldValue(["conditions",a,"value_from"],e.target.value);const n=xe.getFieldValue(["conditions",a,"value_to"]);if(n){const e="".concat(n,"T23:59:59");xe.setFieldValue(["conditions",a,"value"],"".concat(t,"|").concat(e))}xe.validateFields([["conditions",a,"value_from"],["conditions",a,"value_to"]])}}})})),(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"value_to"],label:"To",rules:[{required:!0,message:"Please select end date"},e=>{let{getFieldValue:t}=e;return{validator(e,n){const r=t(["conditions",a,"value_from"]);if(!n||!r)return Promise.resolve();const o=new Date(r);return new Date(n)<o?Promise.reject(new Error("To date must be later than or equal to From date")):Promise.resolve()}}}],style:{margin:0},children:(0,Ue.jsx)(TR,{type:"date",placeholder:"End date",max:de(),onChange:e=>{if(e.target.value){const t="".concat(e.target.value,"T23:59:59");xe.setFieldValue(["conditions",a,"value_to"],e.target.value);const n=xe.getFieldValue(["conditions",a,"value_from"]);if(n){const e="".concat(n,"T00:00:00");xe.setFieldValue(["conditions",a,"value"],"".concat(e,"|").concat(t))}xe.validateFields([["conditions",a,"value_from"],["conditions",a,"value_to"]])}}})}))]}),(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"value"],style:{display:"none"},children:(0,Ue.jsx)(TR,{type:"hidden"})}))]}):(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"value"],label:"Value",rules:[{required:!0,message:"Please enter value"}],children:["created_at","modified_at","accessed_at"].includes(e)?(0,Ue.jsx)(oP.Item,{shouldUpdate:(e,t)=>{var n,r,o,i;return(null===e||void 0===e||null===(n=e.conditions)||void 0===n||null===(r=n[a])||void 0===r?void 0:r.operator)!==(null===t||void 0===t||null===(o=t.conditions)||void 0===o||null===(i=o[a])||void 0===i?void 0:i.operator)},children:()=>{const e=xe.getFieldValue(["conditions",a,"operator"]);return(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"value"],rules:[{required:!0,message:"Please enter value"}],style:{margin:0},children:(0,Ue.jsx)(TR,{type:"date",max:de(),onChange:t=>{if(t.target.value){let n="00:00:00";"gt"===e&&(n="23:59:59");const r="".concat(t.target.value,"T").concat(n);xe.setFieldValue(["conditions",a,"value"],r)}}})}))}}):"file type"===e?(0,Ue.jsx)(ML,{placeholder:"Select file type",children:mV["file type"].map(e=>(0,Ue.jsx)(ML.Option,{value:e.value,children:e.label},e.value))}):"provider"===e?(0,Ue.jsx)(ML,{placeholder:"Select provider",children:mV.provider.map(e=>(0,Ue.jsx)(ML.Option,{value:e.value,children:e.label},e.value))}):"document_sensitivity"===e?(0,Ue.jsx)(ML,{placeholder:"Select sensitivity",children:mV.document_sensitivity.map(e=>(0,Ue.jsx)(ML.Option,{value:e.value,children:e.label},e.value))}):"sensitivity"===e?(0,Ue.jsx)(ML,{placeholder:"Select sensitivity",children:mV.sensitivity.map(e=>(0,Ue.jsx)(ML.Option,{value:e.value,children:e.label},e.value))}):"language"===e?(0,Ue.jsx)(ML,{placeholder:"Select language",children:mV.language.map(e=>(0,Ue.jsx)(ML.Option,{value:e.value,children:e.label},e.value))}):"size"===e?(0,Ue.jsx)(TR,{type:"number",placeholder:"Enter size in bytes"}):(0,Ue.jsx)(TR,{placeholder:"Enter value",onChange:e=>{const t=xe.getFieldValue(["conditions",a,"field"]);let n=e.target.value;"owner"===t&&(n=n.toLowerCase()),xe.setFieldValue(["conditions",a,"value"],n)}})}))}}),(0,Ue.jsx)(oP.Item,Le(Le({},o),{},{name:[a,"negated"],valuePropName:"checked",initialValue:!1,children:(0,Ue.jsxs)(NB,{children:["Negated ",(0,Ue.jsx)("span",{className:"italic text-gray-500 dark:text-gray-400",children:"(reverses the condition logic)"})]})})),e.length>1&&(0,Ue.jsx)(eC,{type:"link",onClick:()=>r(a),className:"text-red-500 hover:text-red-700",children:"Remove Condition"})]},n)}),(0,Ue.jsx)(eC,{type:"dashed",onClick:()=>n({category:"FGAC"===V.current?"information":"syntactic",field:"",operator:"",value:"",negated:!1}),block:!0,className:"mb-4",icon:(0,Ue.jsx)(Ca,{className:"w-4 h-4"}),children:"Add New Condition"})]})}})]})})]}),ke.parameters.map(e=>(0,Ue.jsx)(oP.Item,{name:e,label:e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),rules:[{required:!0,message:"Please enter ".concat(e)}],children:e.includes("time")?(0,Ue.jsx)(TR,{type:"datetime-local",size:"large"}):(0,Ue.jsx)(TR,{placeholder:"Enter ".concat(e),size:"large"})},e)),(0,Ue.jsx)("div",{className:"flex justify-end pt-6",children:(0,Ue.jsxs)("div",{className:"flex space-x-3",children:[(0,Ue.jsx)("button",{type:"button",onClick:()=>{ve(!1),we({templateId:null,parameters:[]}),x(1),b(!1),N(null),xe.resetFields()},className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 shadow-sm text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:"Cancel"}),v<4||4===v&&!y?(0,Ue.jsx)("button",{type:"button",onClick:async()=>{if(4!==v||y)(async()=>{try{const e=me(v);await xe.validateFields(e),v<4&&x(e=>e+1)}catch(g){console.log("Validation failed:",g)}})();else try{await xe.validateFields(),b(!0)}catch(g){console.log("Validation failed:",g)}},className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 dark:bg-indigo-500 hover:bg-indigo-700 dark:hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 shadow-sm transition-colors",children:4!==v||y?"Next \u2192":(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(CB,{className:"w-4 h-4 mr-2"}),"Preview Policy"]})}):y?(0,Ue.jsx)(Ue.Fragment,{children:(0,Ue.jsx)("button",{type:"submit",className:"inline-flex items-center px-6 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 shadow-sm transition-colors",disabled:c,onClick:()=>{},children:c?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(EB,{className:"w-4 h-4 mr-2 animate-spin"}),j?"Updating...":"Creating..."]}):j?"Update Policy":"Create Policy"})}):null]})})]})]})}),(0,Ue.jsx)(rV,{visible:ae,onClose:()=>{oe(!1),se(null),ce(null)},policy:ie,scenarioToRun:le,onOpenFullSimulator:e=>{try{sessionStorage.setItem("policySimulatorPrefill",JSON.stringify({request:e,policy:ie,source:"policy-manager"}))}catch(g){console.error("Failed to persist simulator prefill",g)}oe(!1),ce(null),window.open("/policy-simulator","_blank","noopener")}})]})},NV=_k("Timeline",e=>(e=>{const{componentCls:t,calc:n}=e;return{[t]:Object.assign(Object.assign({},fb(e)),{margin:0,padding:0,listStyle:"none",["".concat(t,"-item")]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:n(n(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:"calc(100% - ".concat(lx(e.itemHeadSize),")"),borderInlineStart:"".concat(lx(e.tailWidth)," ").concat(e.lineType," ").concat(e.tailColor)},"&-pending":{["".concat(t,"-item-head")]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},["".concat(t,"-item-tail")]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:"".concat(lx(e.dotBorderWidth)," ").concat(e.lineType," transparent"),borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:n(e.itemHeadSize).div(2).equal(),insetInlineStart:n(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:n(n(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:n(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{["> ".concat(t,"-item-tail")]:{display:"none"},["> ".concat(t,"-item-content")]:{minHeight:n(e.controlHeightLG).mul(1.2).equal()}}},["&".concat(t,"-alternate,\n        &").concat(t,"-right,\n        &").concat(t,"-label")]:{["".concat(t,"-item")]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:n(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:n(e.tailWidth).div(2).equal()}},"&-left":{["".concat(t,"-item-content")]:{insetInlineStart:"calc(50% - ".concat(lx(e.marginXXS),")"),width:"calc(50% - ".concat(lx(e.marginSM),")"),textAlign:"start"}},"&-right":{["".concat(t,"-item-content")]:{width:"calc(50% - ".concat(lx(e.marginSM),")"),margin:0,textAlign:"end"}}}},["&".concat(t,"-right")]:{["".concat(t,"-item-right")]:{["".concat(t,"-item-tail,\n            ").concat(t,"-item-head,\n            ").concat(t,"-item-head-custom")]:{insetInlineStart:"calc(100% - ".concat(lx(n(n(e.itemHeadSize).add(e.tailWidth)).div(2).equal()),")")},["".concat(t,"-item-content")]:{width:"calc(100% - ".concat(lx(n(e.itemHeadSize).add(e.marginXS).equal()),")")}}},["&".concat(t,"-pending\n        ").concat(t,"-item-last\n        ").concat(t,"-item-tail")]:{display:"block",height:"calc(100% - ".concat(lx(e.margin),")"),borderInlineStart:"".concat(lx(e.tailWidth)," dotted ").concat(e.tailColor)},["&".concat(t,"-reverse\n        ").concat(t,"-item-last\n        ").concat(t,"-item-tail")]:{display:"none"},["&".concat(t,"-reverse ").concat(t,"-item-pending")]:{["".concat(t,"-item-tail")]:{insetBlockStart:e.margin,display:"block",height:"calc(100% - ".concat(lx(e.margin),")"),borderInlineStart:"".concat(lx(e.tailWidth)," dotted ").concat(e.tailColor)},["".concat(t,"-item-content")]:{minHeight:n(e.controlHeightLG).mul(1.2).equal()}},["&".concat(t,"-label")]:{["".concat(t,"-item-label")]:{position:"absolute",insetBlockStart:n(n(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:"calc(50% - ".concat(lx(e.marginSM),")"),textAlign:"end"},["".concat(t,"-item-right")]:{["".concat(t,"-item-label")]:{insetInlineStart:"calc(50% + ".concat(lx(e.marginSM),")"),width:"calc(50% - ".concat(lx(e.marginSM),")"),textAlign:"start"}}},"&-rtl":{direction:"rtl",["".concat(t,"-item-head-custom")]:{transform:"translate(50%, -50%)"}}})}})(rb(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2})),e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:3*e.lineWidth,dotBg:e.colorBgContainer,itemPaddingBottom:1.25*e.padding}));var CV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const SV=e=>{var{prefixCls:t,className:n,color:a="blue",dot:o,pending:i=!1,position:s,label:l,children:c}=e,d=CV(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:u}=r.useContext(av),m=u("timeline",t),g=Ah()("".concat(m,"-item"),{["".concat(m,"-item-pending")]:i},n),p=/blue|red|green|gray/.test(a||"")?void 0:a,f=Ah()("".concat(m,"-item-head"),{["".concat(m,"-item-head-custom")]:!!o,["".concat(m,"-item-head-").concat(a)]:!p});return r.createElement("li",Object.assign({},d,{className:g}),l&&r.createElement("div",{className:"".concat(m,"-item-label")},l),r.createElement("div",{className:"".concat(m,"-item-tail")}),r.createElement("div",{className:f,style:{borderColor:p,color:p}},o),r.createElement("div",{className:"".concat(m,"-item-content")},c))};var EV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const _V=e=>{var{prefixCls:t,className:n,pending:a=!1,children:o,items:i,rootClassName:s,reverse:l=!1,direction:c,hashId:d,pendingDot:u,mode:m=""}=e,g=EV(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const p=(e,n)=>"alternate"===m?"".concat(t,"right"===e?"-item-right":"left"===e||n%2===0?"-item-left":"-item-right"):"left"===m?"".concat(t,"-item-left"):"right"===m||"right"===e?"".concat(t,"-item-right"):"",f=vv(i||[]),h="boolean"===typeof a?null:a;a&&f.push({pending:!!a,dot:u||r.createElement(eN,null),children:h}),l&&f.reverse();const v=f.length,x="".concat(t,"-item-last"),y=f.filter(e=>!!e).map((e,t)=>{var n;const o=t===v-2?x:"",i=t===v-1?x:"",{className:s}=e,c=EV(e,["className"]);return r.createElement(SV,Object.assign({},c,{className:Ah()([s,!l&&a?o:i,p(null!==(n=null===e||void 0===e?void 0:e.position)&&void 0!==n?n:"",t)]),key:(null===e||void 0===e?void 0:e.key)||t}))}),b=f.some(e=>!!(null===e||void 0===e?void 0:e.label)),k=Ah()(t,{["".concat(t,"-pending")]:!!a,["".concat(t,"-reverse")]:!!l,["".concat(t,"-").concat(m)]:!!m&&!b,["".concat(t,"-label")]:b,["".concat(t,"-rtl")]:"rtl"===c},n,s,d);return r.createElement("ol",Object.assign({},g,{className:k}),y)};const OV=function(e,t){return e&&Array.isArray(e)?e:vj(t).map(e=>{var t,n;return Object.assign({children:null!==(n=null===(t=null===e||void 0===e?void 0:e.props)||void 0===t?void 0:t.children)&&void 0!==n?n:""},e.props)})};var IV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const MV=e=>{const{getPrefixCls:t,direction:n,timeline:a}=r.useContext(av),{prefixCls:o,children:i,items:s,className:l,style:c}=e,d=IV(e,["prefixCls","children","items","className","style"]),u=t("timeline",o);const m=hS(u),[g,p,f]=NV(u,m),h=OV(s,i);return g(r.createElement(_V,Object.assign({},d,{className:Ah()(null===a||void 0===a?void 0:a.className,l,f,m),style:Object.assign(Object.assign({},null===a||void 0===a?void 0:a.style),c),prefixCls:u,direction:n,items:h,hashId:p})))};MV.Item=SV;const PV=MV,TV={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},AV=r.createContext({});var RV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function zV(e,t,n){const a=r.useMemo(()=>t||vj(n).map(e=>Object.assign(Object.assign({},null===e||void 0===e?void 0:e.props),{key:e.key})),[t,n]);return r.useMemo(()=>a.map(t=>{var{span:n}=t,r=RV(t,["span"]);return"filled"===n?Object.assign(Object.assign({},r),{filled:!0}):Object.assign(Object.assign({},r),{span:"number"===typeof n?n:NO(e,n)})}),[a,e])}var DV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const LV=(e,t)=>{const[n,a]=(0,r.useMemo)(()=>function(e,t){let n=[],r=[],a=!1,o=0;return e.filter(e=>e).forEach(e=>{const{filled:i}=e,s=DV(e,["filled"]);if(i)return r.push(s),n.push(r),r=[],void(o=0);const l=t-o;o+=e.span||1,o>=t?(o>t?(a=!0,r.push(Object.assign(Object.assign({},s),{span:l}))):r.push(s),n.push(r),r=[],o=0):r.push(s)}),r.length>0&&n.push(r),n=n.map(e=>{const n=e.reduce((e,t)=>e+(t.span||1),0);if(n<t){const r=e[e.length-1];return r.span=t-(n-(r.span||1)),e}return e}),[n,a]}(t,e),[t,e]);return n},BV=e=>{let{children:t}=e;return t},FV=e=>void 0!==e&&null!==e,HV=e=>{const{itemPrefixCls:t,component:n,span:a,className:o,style:i,labelStyle:s,contentStyle:l,bordered:c,label:d,content:u,colon:m,type:g,styles:p}=e,f=n,{classNames:h}=r.useContext(AV),v=Object.assign(Object.assign({},s),null===p||void 0===p?void 0:p.label),x=Object.assign(Object.assign({},l),null===p||void 0===p?void 0:p.content);return c?r.createElement(f,{colSpan:a,style:i,className:Ah()(o,{["".concat(t,"-item-").concat(g)]:"label"===g||"content"===g,[null===h||void 0===h?void 0:h.label]:(null===h||void 0===h?void 0:h.label)&&"label"===g,[null===h||void 0===h?void 0:h.content]:(null===h||void 0===h?void 0:h.content)&&"content"===g})},FV(d)&&r.createElement("span",{style:v},d),FV(u)&&r.createElement("span",{style:x},u)):r.createElement(f,{colSpan:a,style:i,className:Ah()("".concat(t,"-item"),o)},r.createElement("div",{className:"".concat(t,"-item-container")},FV(d)&&r.createElement("span",{style:v,className:Ah()("".concat(t,"-item-label"),null===h||void 0===h?void 0:h.label,{["".concat(t,"-item-no-colon")]:!m})},d),FV(u)&&r.createElement("span",{style:x,className:Ah()("".concat(t,"-item-content"),null===h||void 0===h?void 0:h.content)},u)))};function WV(e,t,n){let{colon:a,prefixCls:o,bordered:i}=t,{component:s,type:l,showLabel:c,showContent:d,labelStyle:u,contentStyle:m,styles:g}=n;return e.map((e,t)=>{let{label:n,children:p,prefixCls:f=o,className:h,style:v,labelStyle:x,contentStyle:y,span:b=1,key:k,styles:w}=e;return"string"===typeof s?r.createElement(HV,{key:"".concat(l,"-").concat(k||t),className:h,style:v,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},u),null===g||void 0===g?void 0:g.label),x),null===w||void 0===w?void 0:w.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},m),null===g||void 0===g?void 0:g.content),y),null===w||void 0===w?void 0:w.content)},span:b,colon:a,component:s,itemPrefixCls:f,bordered:i,label:c?n:null,content:d?p:null,type:l}):[r.createElement(HV,{key:"label-".concat(k||t),className:h,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u),null===g||void 0===g?void 0:g.label),v),x),null===w||void 0===w?void 0:w.label),span:1,colon:a,component:s[0],itemPrefixCls:f,bordered:i,label:n,type:"label"}),r.createElement(HV,{key:"content-".concat(k||t),className:h,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},m),null===g||void 0===g?void 0:g.content),v),y),null===w||void 0===w?void 0:w.content),span:2*b-1,component:s[1],itemPrefixCls:f,bordered:i,content:p,type:"content"})]})}const VV=e=>{const t=r.useContext(AV),{prefixCls:n,vertical:a,row:o,index:i,bordered:s}=e;return a?r.createElement(r.Fragment,null,r.createElement("tr",{key:"label-".concat(i),className:"".concat(n,"-row")},WV(o,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),r.createElement("tr",{key:"content-".concat(i),className:"".concat(n,"-row")},WV(o,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):r.createElement("tr",{key:i,className:"".concat(n,"-row")},WV(o,e,Object.assign({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},qV=e=>{const{componentCls:t,labelBg:n}=e;return{["&".concat(t,"-bordered")]:{["> ".concat(t,"-view")]:{border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"> table":{tableLayout:"auto"},["".concat(t,"-row")]:{borderBottom:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},["> ".concat(t,"-item-label, > ").concat(t,"-item-content")]:{padding:"".concat(lx(e.padding)," ").concat(lx(e.paddingLG)),borderInlineEnd:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit),"&:last-child":{borderInlineEnd:"none"}},["> ".concat(t,"-item-label")]:{color:e.colorTextSecondary,backgroundColor:n,"&::after":{display:"none"}}}},["&".concat(t,"-middle")]:{["".concat(t,"-row")]:{["> ".concat(t,"-item-label, > ").concat(t,"-item-content")]:{padding:"".concat(lx(e.paddingSM)," ").concat(lx(e.paddingLG))}}},["&".concat(t,"-small")]:{["".concat(t,"-row")]:{["> ".concat(t,"-item-label, > ").concat(t,"-item-content")]:{padding:"".concat(lx(e.paddingXS)," ").concat(lx(e.padding))}}}}}},UV=_k("Descriptions",e=>(e=>{const{componentCls:t,extraColor:n,itemPaddingBottom:r,itemPaddingEnd:a,colonMarginRight:o,colonMarginLeft:i,titleMarginBottom:s}=e;return{[t]:Object.assign(Object.assign(Object.assign({},fb(e)),qV(e)),{"&-rtl":{direction:"rtl"},["".concat(t,"-header")]:{display:"flex",alignItems:"center",marginBottom:s},["".concat(t,"-title")]:Object.assign(Object.assign({},pb),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),["".concat(t,"-extra")]:{marginInlineStart:"auto",color:n,fontSize:e.fontSize},["".concat(t,"-view")]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},["".concat(t,"-row")]:{"> th, > td":{paddingBottom:r,paddingInlineEnd:a},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},["".concat(t,"-item-label")]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:"".concat(lx(i)," ").concat(lx(o))},["&".concat(t,"-item-no-colon::after")]:{content:'""'}},["".concat(t,"-item-no-label")]:{"&::after":{margin:0,content:'""'}},["".concat(t,"-item-content")]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},["".concat(t,"-item")]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",["".concat(t,"-item-label")]:{display:"inline-flex",alignItems:"baseline"},["".concat(t,"-item-content")]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{["".concat(t,"-row")]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{["".concat(t,"-row")]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}})(rb(e,{})),e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}));var KV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const GV=e=>{const{prefixCls:t,title:n,extra:a,column:o,colon:i=!0,bordered:s,layout:l,children:c,className:d,rootClassName:u,style:m,size:g,labelStyle:p,contentStyle:f,styles:h,items:v,classNames:x}=e,y=KV(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:b,direction:k,className:w,style:j,classNames:N,styles:C}=sv("descriptions"),S=b("descriptions",t),E=EO();const _=r.useMemo(()=>{var e;return"number"===typeof o?o:null!==(e=NO(E,Object.assign(Object.assign({},TV),o)))&&void 0!==e?e:3},[E,o]),O=zV(E,v,c),I=hj(g),M=LV(_,O),[P,T,A]=UV(S),R=r.useMemo(()=>({labelStyle:p,contentStyle:f,styles:{content:Object.assign(Object.assign({},C.content),null===h||void 0===h?void 0:h.content),label:Object.assign(Object.assign({},C.label),null===h||void 0===h?void 0:h.label)},classNames:{label:Ah()(N.label,null===x||void 0===x?void 0:x.label),content:Ah()(N.content,null===x||void 0===x?void 0:x.content)}}),[p,f,h,x,N,C]);return P(r.createElement(AV.Provider,{value:R},r.createElement("div",Object.assign({className:Ah()(S,w,N.root,null===x||void 0===x?void 0:x.root,{["".concat(S,"-").concat(I)]:I&&"default"!==I,["".concat(S,"-bordered")]:!!s,["".concat(S,"-rtl")]:"rtl"===k},d,u,T,A),style:Object.assign(Object.assign(Object.assign(Object.assign({},j),C.root),null===h||void 0===h?void 0:h.root),m)},y),(n||a)&&r.createElement("div",{className:Ah()("".concat(S,"-header"),N.header,null===x||void 0===x?void 0:x.header),style:Object.assign(Object.assign({},C.header),null===h||void 0===h?void 0:h.header)},n&&r.createElement("div",{className:Ah()("".concat(S,"-title"),N.title,null===x||void 0===x?void 0:x.title),style:Object.assign(Object.assign({},C.title),null===h||void 0===h?void 0:h.title)},n),a&&r.createElement("div",{className:Ah()("".concat(S,"-extra"),N.extra,null===x||void 0===x?void 0:x.extra),style:Object.assign(Object.assign({},C.extra),null===h||void 0===h?void 0:h.extra)},a)),r.createElement("div",{className:"".concat(S,"-view")},r.createElement("table",null,r.createElement("tbody",null,M.map((e,t)=>r.createElement(VV,{key:t,index:t,colon:i,prefixCls:S,vertical:"vertical"===l,bordered:s,row:e}))))))))};GV.Item=BV;const XV=GV;const YV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var $V=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:YV}))};const JV=r.forwardRef($V);const ZV={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var QV=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:ZV}))};const eq=r.forwardRef(QV),tq=(0,r.createContext)(null);const nq=function(e){var t=e.activeTabOffset,n=e.horizontal,a=e.rtl,o=e.indicator,i=void 0===o?{}:o,s=i.size,l=i.align,c=void 0===l?"center":l,d=fv((0,r.useState)(),2),u=d[0],m=d[1],g=(0,r.useRef)(),p=r.useCallback(function(e){return"function"===typeof s?s(e):"number"===typeof s?s:e},[s]);function f(){Lk.cancel(g.current)}return(0,r.useEffect)(function(){var e={};if(t)if(n){e.width=p(t.width);var r=a?"right":"left";"start"===c&&(e[r]=t[r]),"center"===c&&(e[r]=t[r]+t.width/2,e.transform=a?"translateX(50%)":"translateX(-50%)"),"end"===c&&(e[r]=t[r]+t.width,e.transform="translateX(-100%)")}else e.height=p(t.height),"start"===c&&(e.top=t.top),"center"===c&&(e.top=t.top+t.height/2,e.transform="translateY(-50%)"),"end"===c&&(e.top=t.top+t.height,e.transform="translateY(-100%)");return f(),g.current=Lk(function(){var t=u&&e&&Object.keys(e).every(function(t){var n=e[t],r=u[t];return"number"===typeof n&&"number"===typeof r?Math.round(n)===Math.round(r):n===r});t||m(e)}),f},[JSON.stringify(t),n,a,c,p]),{style:u}};var rq={width:0,height:0,left:0,top:0};function aq(e,t){var n=r.useRef(e),a=fv(r.useState({}),2)[1];return[n.current,function(e){var r="function"===typeof e?e(n.current):e;r!==n.current&&t(r,n.current),n.current=r,a({})}]}var oq=Math.pow(.995,20);function iq(e){var t=fv((0,r.useState)(0),2),n=t[0],a=t[1],o=(0,r.useRef)(0),i=(0,r.useRef)();return i.current=e,Lh(function(){var e;null===(e=i.current)||void 0===e||e.call(i)},[n]),function(){o.current===n&&(o.current+=1,a(o.current))}}var sq={width:0,height:0,left:0,top:0,right:0};function lq(e){var t;return e instanceof Map?(t={},e.forEach(function(e,n){t[n]=e})):t=e,JSON.stringify(t)}function cq(e){return String(e).replace(/"/g,"TABS_DQ")}function dq(e,t,n,r){return!(!n||r||!1===e||void 0===e&&(!1===t||null===t))}var uq=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.editable,o=e.locale,i=e.style;return a&&!1!==a.showAdd?r.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:i,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){a.onEdit("add",{event:e})}},a.addIcon||"+"):null});const mq=uq;var gq=r.forwardRef(function(e,t){var n,a=e.position,o=e.prefixCls,i=e.extra;if(!i)return null;var s={};return"object"!==Ae(i)||r.isValidElement(i)?s.right=i:s=i,"right"===a&&(n=s.right),"left"===a&&(n=s.left),n?r.createElement("div",{className:"".concat(o,"-extra-content"),ref:t},n):null});const pq=gq;var fq=QC.ESC,hq=QC.TAB;const vq=(0,r.forwardRef)(function(e,t){var n=e.overlay,a=e.arrow,o=e.prefixCls,i=(0,r.useMemo)(function(){return"function"===typeof n?n():n},[n]),s=Yh(t,Qh(i));return r.createElement(r.Fragment,null,a&&r.createElement("div",{className:"".concat(o,"-arrow")}),r.cloneElement(i,{ref:Jh(i)?s:void 0}))});var xq={adjustX:1,adjustY:1},yq=[0,0];const bq={topLeft:{points:["bl","tl"],overflow:xq,offset:[0,-4],targetOffset:yq},top:{points:["bc","tc"],overflow:xq,offset:[0,-4],targetOffset:yq},topRight:{points:["br","tr"],overflow:xq,offset:[0,-4],targetOffset:yq},bottomLeft:{points:["tl","bl"],overflow:xq,offset:[0,4],targetOffset:yq},bottom:{points:["tc","bc"],overflow:xq,offset:[0,4],targetOffset:yq},bottomRight:{points:["tr","br"],overflow:xq,offset:[0,4],targetOffset:yq}};var kq=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function wq(e,t){var n,a=e.arrow,o=void 0!==a&&a,i=e.prefixCls,s=void 0===i?"rc-dropdown":i,l=e.transitionName,c=e.animation,d=e.align,u=e.placement,m=void 0===u?"bottomLeft":u,g=e.placements,p=void 0===g?bq:g,f=e.getPopupContainer,h=e.showAction,v=e.hideAction,x=e.overlayClassName,y=e.overlayStyle,b=e.visible,k=e.trigger,w=void 0===k?["hover"]:k,j=e.autoFocus,N=e.overlay,C=e.children,S=e.onVisibleChange,E=Be(e,kq),_=fv(r.useState(),2),O=_[0],I=_[1],M="visible"in e?b:O,P=r.useRef(null),T=r.useRef(null),A=r.useRef(null);r.useImperativeHandle(t,function(){return P.current});var R=function(e){I(e),null===S||void 0===S||S(e)};!function(e){var t=e.visible,n=e.triggerRef,a=e.onVisibleChange,o=e.autoFocus,i=e.overlayRef,s=r.useRef(!1),l=function(){var e,r;t&&(null===(e=n.current)||void 0===e||null===(r=e.focus)||void 0===r||r.call(e),null===a||void 0===a||a(!1))},c=function(){var e;return!(null===(e=i.current)||void 0===e||!e.focus)&&(i.current.focus(),s.current=!0,!0)},d=function(e){switch(e.keyCode){case fq:l();break;case hq:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};r.useEffect(function(){return t?(window.addEventListener("keydown",d),o&&Lk(c,3),function(){window.removeEventListener("keydown",d),s.current=!1}):function(){s.current=!1}},[t])}({visible:M,triggerRef:A,onVisibleChange:R,autoFocus:j,overlayRef:T});var z=function(){return r.createElement(vq,{ref:T,overlay:N,prefixCls:s,arrow:o})},D=r.cloneElement(C,{className:Ah()(null===(n=C.props)||void 0===n?void 0:n.className,M&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(s,"-open")}()),ref:Jh(C)?Yh(A,Qh(C)):void 0}),L=v;return L||-1===w.indexOf("contextMenu")||(L=["click"]),r.createElement(fM,jx({builtinPlacements:p},E,{prefixCls:s,ref:P,popupClassName:Ah()(x,ze({},"".concat(s,"-show-arrow"),o)),popupStyle:y,action:w,showAction:h,hideAction:L,popupPlacement:m,popupAlign:d,popupTransitionName:l,popupAnimation:c,popupVisible:M,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof N?z:z(),onPopupVisibleChange:R,onPopupClick:function(t){var n=e.onOverlayClick;I(!1),n&&n(t)},getPopupContainer:f}),D)}const jq=r.forwardRef(wq);var Nq=r.createContext(null);function Cq(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Sq(e){return Cq(r.useContext(Nq),e)}var Eq=["children","locked"],_q=r.createContext(null);function Oq(e){var t=e.children,n=e.locked,a=Be(e,Eq),o=r.useContext(_q),i=Wh(function(){return function(e,t){var n=Le({},e);return Object.keys(t).forEach(function(e){var r=t[e];void 0!==r&&(n[e]=r)}),n}(o,a)},[o,a],function(e,t){return!n&&(e[0]!==t[0]||!Dv(e[1],t[1],!0))});return r.createElement(_q.Provider,{value:i},t)}var Iq=[],Mq=r.createContext(null);function Pq(){return r.useContext(Mq)}var Tq=r.createContext(Iq);function Aq(e){var t=r.useContext(Tq);return r.useMemo(function(){return void 0!==e?[].concat(vv(t),[e]):t},[t,e])}var Rq=r.createContext(null);const zq=r.createContext({});function Dq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ev(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),o=Number(a),i=null;return a&&!Number.isNaN(o)?i=o:r&&null===i&&(i=0),r&&e.disabled&&(i=null),null!==i&&(i>=0||t&&i<0)}return!1}function Lq(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=vv(e.querySelectorAll("*")).filter(function(e){return Dq(e,t)});return Dq(e,t)&&n.unshift(e),n}var Bq=QC.LEFT,Fq=QC.RIGHT,Hq=QC.UP,Wq=QC.DOWN,Vq=QC.ENTER,qq=QC.ESC,Uq=QC.HOME,Kq=QC.END,Gq=[Hq,Wq,Bq,Fq];function Xq(e,t){return Lq(e,!0).filter(function(e){return t.has(e)})}function Yq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var a=Xq(e,t),o=a.length,i=a.findIndex(function(e){return n===e});return r<0?-1===i?i=o-1:i-=1:r>0&&(i+=1),a[i=(i+o)%o]}var $q=function(e,t){var n=new Set,r=new Map,a=new Map;return e.forEach(function(e){var o=document.querySelector("[data-menu-id='".concat(Cq(t,e),"']"));o&&(n.add(o),a.set(o,e),r.set(e,o))}),{elements:n,key2element:r,element2key:a}};function Jq(e,t,n,a,o,i,s,l,c,d){var u=r.useRef(),m=r.useRef();m.current=t;var g=function(){Lk.cancel(u.current)};return r.useEffect(function(){return function(){g()}},[]),function(r){var p=r.which;if([].concat(Gq,[Vq,qq,Uq,Kq]).includes(p)){var f=i(),h=$q(f,a),v=h,x=v.elements,y=v.key2element,b=v.element2key,k=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(y.get(t),x),w=b.get(k),j=function(e,t,n,r){var a,o="prev",i="next",s="children",l="parent";if("inline"===e&&r===Vq)return{inlineTrigger:!0};var c=ze(ze({},Hq,o),Wq,i),d=ze(ze(ze(ze({},Bq,n?i:o),Fq,n?o:i),Wq,s),Vq,s),u=ze(ze(ze(ze(ze(ze({},Hq,o),Wq,i),Vq,s),qq,l),Bq,n?s:l),Fq,n?l:s);switch(null===(a={inline:c,horizontal:d,vertical:u,inlineSub:c,horizontalSub:u,verticalSub:u}["".concat(e).concat(t?"":"Sub")])||void 0===a?void 0:a[r]){case o:return{offset:-1,sibling:!0};case i:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}(e,1===s(w,!0).length,n,p);if(!j&&p!==Uq&&p!==Kq)return;(Gq.includes(p)||[Uq,Kq].includes(p))&&r.preventDefault();var N=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var r=b.get(e);l(r),g(),u.current=Lk(function(){m.current===r&&t.focus()})}};if([Uq,Kq].includes(p)||j.sibling||!k){var C,S,E=Xq(C=k&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(k):o.current,x);S=p===Uq?E[0]:p===Kq?E[E.length-1]:Yq(C,x,k,j.offset),N(S)}else if(j.inlineTrigger)c(w);else if(j.offset>0)c(w,!0),g(),u.current=Lk(function(){h=$q(f,a);var e=k.getAttribute("aria-controls"),t=Yq(document.getElementById(e),h.elements);N(t)},5);else if(j.offset<0){var _=s(w,!0),O=_[_.length-2],I=y.get(O);c(O,!1),N(I)}}null===d||void 0===d||d(r)}}var Zq="__RC_UTIL_PATH_SPLIT__",Qq=function(e){return e.join(Zq)},eU="rc-menu-more";function tU(){var e=fv(r.useState({}),2)[1],t=(0,r.useRef)(new Map),n=(0,r.useRef)(new Map),a=fv(r.useState([]),2),o=a[0],i=a[1],s=(0,r.useRef)(0),l=(0,r.useRef)(!1),c=(0,r.useCallback)(function(r,a){var o=Qq(a);n.current.set(o,r),t.current.set(r,o),s.current+=1;var i,c=s.current;i=function(){c===s.current&&(l.current||e({}))},Promise.resolve().then(i)},[]),d=(0,r.useCallback)(function(e,r){var a=Qq(r);n.current.delete(a),t.current.delete(e)},[]),u=(0,r.useCallback)(function(e){i(e)},[]),m=(0,r.useCallback)(function(e,n){var r=t.current.get(e)||"",a=r.split(Zq);return n&&o.includes(a[0])&&a.unshift(eU),a},[o]),g=(0,r.useCallback)(function(e,t){return e.filter(function(e){return void 0!==e}).some(function(e){return m(e,!0).includes(t)})},[m]),p=(0,r.useCallback)(function(e){var r="".concat(t.current.get(e)).concat(Zq),a=new Set;return vv(n.current.keys()).forEach(function(e){e.startsWith(r)&&a.add(n.current.get(e))}),a},[]);return r.useEffect(function(){return function(){l.current=!0}},[]),{registerPath:c,unregisterPath:d,refreshOverflowKeys:u,isSubPathKey:g,getKeyPath:m,getKeys:function(){var e=vv(t.current.keys());return o.length&&e.push(eU),e},getSubPathKeys:p}}function nU(e){var t=r.useRef(e);t.current=e;var n=r.useCallback(function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))},[]);return e?n:void 0}var rU=Math.random().toFixed(5).toString().slice(2),aU=0;function oU(e,t,n,a){var o=r.useContext(_q),i=o.activeKey,s=o.onActive,l=o.onInactive,c={active:i===e};return t||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),s(e)},c.onMouseLeave=function(t){null===a||void 0===a||a({key:e,domEvent:t}),l(e)}),c}function iU(e){var t=r.useContext(_q),n=t.mode,a=t.rtl,o=t.inlineIndent;if("inline"!==n)return null;return a?{paddingRight:e*o}:{paddingLeft:e*o}}function sU(e){var t,n=e.icon,a=e.props,o=e.children;return null===n||!1===n?null:("function"===typeof n?t=r.createElement(n,Le({},a)):"boolean"!==typeof n&&(t=n),t||o||null)}var lU=["item"];function cU(e){var t=e.item,n=Be(e,lU);return Object.defineProperty(n,"item",{get:function(){return zv(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var dU=["title","attribute","elementRef"],uU=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],mU=["active"],gU=function(e){My(n,e);var t=Ay(n);function n(){return Lv(this,n),t.apply(this,arguments)}return Fv(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,a=e.elementRef,o=Fh(Be(e,dU),["eventKey","popupClassName","popupOffset","onTitleClick"]);return zv(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),r.createElement(rz.Item,jx({},n,{title:"string"===typeof t?t:void 0},o,{ref:a}))}}]),n}(r.Component),pU=r.forwardRef(function(e,t){var n=e.style,a=e.className,o=e.eventKey,i=(e.warnKey,e.disabled),s=e.itemIcon,l=e.children,c=e.role,d=e.onMouseEnter,u=e.onMouseLeave,m=e.onClick,g=e.onKeyDown,p=e.onFocus,f=Be(e,uU),h=Sq(o),v=r.useContext(_q),x=v.prefixCls,y=v.onItemClick,b=v.disabled,k=v.overflowDisabled,w=v.itemIcon,j=v.selectedKeys,N=v.onActive,C=r.useContext(zq)._internalRenderMenuItem,S="".concat(x,"-item"),E=r.useRef(),_=r.useRef(),O=b||i,I=$h(t,_),M=Aq(o);var P=function(e){return{key:o,keyPath:vv(M).reverse(),item:E.current,domEvent:e}},T=s||w,A=oU(o,O,d,u),R=A.active,z=Be(A,mU),D=j.includes(o),L=iU(M.length),B={};"option"===e.role&&(B["aria-selected"]=D);var F=r.createElement(gU,jx({ref:E,elementRef:I,role:null===c?"none":c||"menuitem",tabIndex:i?null:-1,"data-menu-id":k&&h?null:h},Fh(f,["extra"]),z,B,{component:"li","aria-disabled":i,style:Le(Le({},L),n),className:Ah()(S,ze(ze(ze({},"".concat(S,"-active"),R),"".concat(S,"-selected"),D),"".concat(S,"-disabled"),O),a),onClick:function(e){if(!O){var t=P(e);null===m||void 0===m||m(cU(t)),y(t)}},onKeyDown:function(e){if(null===g||void 0===g||g(e),e.which===QC.ENTER){var t=P(e);null===m||void 0===m||m(cU(t)),y(t)}},onFocus:function(e){N(o),null===p||void 0===p||p(e)}}),l,r.createElement(sU,{props:Le(Le({},e),{},{isSelected:D}),icon:T}));return C&&(F=C(F,e,{selected:D})),F});function fU(e,t){var n=e.eventKey,a=Pq(),o=Aq(n);return r.useEffect(function(){if(a)return a.registerPath(n,o),function(){a.unregisterPath(n,o)}},[o]),a?null:r.createElement(pU,jx({},e,{ref:t}))}const hU=r.forwardRef(fU);var vU=["className","children"],xU=function(e,t){var n=e.className,a=e.children,o=Be(e,vU),i=r.useContext(_q),s=i.prefixCls,l=i.mode,c=i.rtl;return r.createElement("ul",jx({className:Ah()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},o,{"data-menu-list":!0,ref:t}),a)},yU=r.forwardRef(xU);yU.displayName="SubMenuList";const bU=yU;function kU(e,t){return vj(e).map(function(e,n){if(r.isValidElement(e)){var a,o,i=e.key,s=null!==(a=null===(o=e.props)||void 0===o?void 0:o.eventKey)&&void 0!==a?a:i;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat(vv(t),[n]).join("-")));var l={key:s,eventKey:s};return r.cloneElement(e,l)}return e})}var wU={adjustX:1,adjustY:1},jU={topLeft:{points:["bl","tl"],overflow:wU},topRight:{points:["br","tr"],overflow:wU},bottomLeft:{points:["tl","bl"],overflow:wU},bottomRight:{points:["tr","br"],overflow:wU},leftTop:{points:["tr","tl"],overflow:wU},leftBottom:{points:["br","bl"],overflow:wU},rightTop:{points:["tl","tr"],overflow:wU},rightBottom:{points:["bl","br"],overflow:wU}},NU={topLeft:{points:["bl","tl"],overflow:wU},topRight:{points:["br","tr"],overflow:wU},bottomLeft:{points:["tl","bl"],overflow:wU},bottomRight:{points:["tr","br"],overflow:wU},rightTop:{points:["tr","tl"],overflow:wU},rightBottom:{points:["br","bl"],overflow:wU},leftTop:{points:["tl","tr"],overflow:wU},leftBottom:{points:["bl","br"],overflow:wU}};function CU(e,t,n){return t||(n?n[e]||n.other:void 0)}var SU={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function EU(e){var t=e.prefixCls,n=e.visible,a=e.children,o=e.popup,i=e.popupStyle,s=e.popupClassName,l=e.popupOffset,c=e.disabled,d=e.mode,u=e.onVisibleChange,m=r.useContext(_q),g=m.getPopupContainer,p=m.rtl,f=m.subMenuOpenDelay,h=m.subMenuCloseDelay,v=m.builtinPlacements,x=m.triggerSubMenuAction,y=m.forceSubMenuRender,b=m.rootClassName,k=m.motion,w=m.defaultMotions,j=fv(r.useState(!1),2),N=j[0],C=j[1],S=Le(Le({},p?NU:jU),v),E=SU[d],_=CU(d,k,w),O=r.useRef(_);"inline"!==d&&(O.current=_);var I=Le(Le({},O.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),M=r.useRef();return r.useEffect(function(){return M.current=Lk(function(){C(n)}),function(){Lk.cancel(M.current)}},[n]),r.createElement(fM,{prefixCls:t,popupClassName:Ah()("".concat(t,"-popup"),ze({},"".concat(t,"-rtl"),p),s,b),stretch:"horizontal"===d?"minWidth":null,getPopupContainer:g,builtinPlacements:S,popupPlacement:E,popupVisible:N,popup:o,popupStyle:i,popupAlign:l&&{offset:l},action:c?[]:[x],mouseEnterDelay:f,mouseLeaveDelay:h,onPopupVisibleChange:u,forceRender:y,popupMotion:I,fresh:!0},a)}function _U(e){var t=e.id,n=e.open,a=e.keyPath,o=e.children,i="inline",s=r.useContext(_q),l=s.prefixCls,c=s.forceSubMenuRender,d=s.motion,u=s.defaultMotions,m=s.mode,g=r.useRef(!1);g.current=m===i;var p=fv(r.useState(!g.current),2),f=p[0],h=p[1],v=!!g.current&&n;r.useEffect(function(){g.current&&h(!1)},[m]);var x=Le({},CU(i,d,u));a.length>1&&(x.motionAppear=!1);var y=x.onVisibleChanged;return x.onVisibleChanged=function(e){return g.current||e||h(!0),null===y||void 0===y?void 0:y(e)},f?null:r.createElement(Oq,{mode:i,locked:!g.current},r.createElement(Tw,jx({visible:v},x,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),function(e){var n=e.className,a=e.style;return r.createElement(bU,{id:t,className:n,style:a},o)}))}var OU=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],IU=["active"],MU=r.forwardRef(function(e,t){var n=e.style,a=e.className,o=e.title,i=e.eventKey,s=(e.warnKey,e.disabled),l=e.internalPopupClose,c=e.children,d=e.itemIcon,u=e.expandIcon,m=e.popupClassName,g=e.popupOffset,p=e.popupStyle,f=e.onClick,h=e.onMouseEnter,v=e.onMouseLeave,x=e.onTitleClick,y=e.onTitleMouseEnter,b=e.onTitleMouseLeave,k=Be(e,OU),w=Sq(i),j=r.useContext(_q),N=j.prefixCls,C=j.mode,S=j.openKeys,E=j.disabled,_=j.overflowDisabled,O=j.activeKey,I=j.selectedKeys,M=j.itemIcon,P=j.expandIcon,T=j.onItemClick,A=j.onOpenChange,R=j.onActive,z=r.useContext(zq)._internalRenderSubMenuItem,D=r.useContext(Rq).isSubPathKey,L=Aq(),B="".concat(N,"-submenu"),F=E||s,H=r.useRef(),W=r.useRef();var V=null!==d&&void 0!==d?d:M,q=null!==u&&void 0!==u?u:P,U=S.includes(i),K=!_&&U,G=D(I,i),X=oU(i,F,y,b),Y=X.active,$=Be(X,IU),J=fv(r.useState(!1),2),Z=J[0],Q=J[1],ee=function(e){F||Q(e)},te=r.useMemo(function(){return Y||"inline"!==C&&(Z||D([O],i))},[C,Y,O,Z,i,D]),ne=iU(L.length),re=nU(function(e){null===f||void 0===f||f(cU(e)),T(e)}),ae=w&&"".concat(w,"-popup"),oe=r.useMemo(function(){return r.createElement(sU,{icon:"horizontal"!==C?q:void 0,props:Le(Le({},e),{},{isOpen:K,isSubMenu:!0})},r.createElement("i",{className:"".concat(B,"-arrow")}))},[C,q,e,K,B]),ie=r.createElement("div",jx({role:"menuitem",style:ne,className:"".concat(B,"-title"),tabIndex:F?null:-1,ref:H,title:"string"===typeof o?o:null,"data-menu-id":_&&w?null:w,"aria-expanded":K,"aria-haspopup":!0,"aria-controls":ae,"aria-disabled":F,onClick:function(e){F||(null===x||void 0===x||x({key:i,domEvent:e}),"inline"===C&&A(i,!U))},onFocus:function(){R(i)}},$),o,oe),se=r.useRef(C);if("inline"!==C&&L.length>1?se.current="vertical":se.current=C,!_){var le=se.current;ie=r.createElement(EU,{mode:le,prefixCls:B,visible:!l&&K&&"inline"!==C,popupClassName:m,popupOffset:g,popupStyle:p,popup:r.createElement(Oq,{mode:"horizontal"===le?"vertical":le},r.createElement(bU,{id:ae,ref:W},c)),disabled:F,onVisibleChange:function(e){"inline"!==C&&A(i,e)}},ie)}var ce=r.createElement(rz.Item,jx({ref:t,role:"none"},k,{component:"li",style:n,className:Ah()(B,"".concat(B,"-").concat(C),a,ze(ze(ze(ze({},"".concat(B,"-open"),K),"".concat(B,"-active"),te),"".concat(B,"-selected"),G),"".concat(B,"-disabled"),F)),onMouseEnter:function(e){ee(!0),null===h||void 0===h||h({key:i,domEvent:e})},onMouseLeave:function(e){ee(!1),null===v||void 0===v||v({key:i,domEvent:e})}}),ie,!_&&r.createElement(_U,{id:ae,open:K,keyPath:L},c));return z&&(ce=z(ce,e,{selected:G,active:te,open:K,disabled:F})),r.createElement(Oq,{onItemClick:re,mode:"horizontal"===C?"vertical":C,itemIcon:V,expandIcon:q},ce)}),PU=r.forwardRef(function(e,t){var n,a=e.eventKey,o=e.children,i=Aq(a),s=kU(o,i),l=Pq();return r.useEffect(function(){if(l)return l.registerPath(a,i),function(){l.unregisterPath(a,i)}},[i]),n=l?s:r.createElement(MU,jx({ref:t},e),s),r.createElement(Tq.Provider,{value:i},n)});const TU=PU;function AU(e){var t=e.className,n=e.style,a=r.useContext(_q).prefixCls;return Pq()?null:r.createElement("li",{role:"separator",className:Ah()("".concat(a,"-item-divider"),t),style:n})}var RU=["className","title","eventKey","children"],zU=r.forwardRef(function(e,t){var n=e.className,a=e.title,o=(e.eventKey,e.children),i=Be(e,RU),s=r.useContext(_q).prefixCls,l="".concat(s,"-item-group");return r.createElement("li",jx({ref:t,role:"presentation"},i,{onClick:function(e){return e.stopPropagation()},className:Ah()(l,n)}),r.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:"string"===typeof a?a:void 0},a),r.createElement("ul",{role:"group",className:"".concat(l,"-list")},o))});const DU=r.forwardRef(function(e,t){var n=e.eventKey,a=kU(e.children,Aq(n));return Pq()?a:r.createElement(zU,jx({ref:t},Fh(e,["warnKey"])),a)});var LU=["label","children","key","type","extra"];function BU(e,t,n){var a=t.item,o=t.group,i=t.submenu,s=t.divider;return(e||[]).map(function(e,l){if(e&&"object"===Ae(e)){var c=e,d=c.label,u=c.children,m=c.key,g=c.type,p=c.extra,f=Be(c,LU),h=null!==m&&void 0!==m?m:"tmp-".concat(l);return u||"group"===g?"group"===g?r.createElement(o,jx({key:h},f,{title:d}),BU(u,t,n)):r.createElement(i,jx({key:h},f,{title:d}),BU(u,t,n)):"divider"===g?r.createElement(s,jx({key:h},f)):r.createElement(a,jx({key:h},f,{extra:p}),d,(!!p||0===p)&&r.createElement("span",{className:"".concat(n,"-item-extra")},p))}return null}).filter(function(e){return e})}function FU(e,t,n,r,a){var o=e,i=Le({divider:AU,item:hU,group:DU,submenu:TU},r);return t&&(o=BU(t,i,a)),kU(o,n)}var HU=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],WU=[],VU=r.forwardRef(function(e,t){var n,a=e,o=a.prefixCls,i=void 0===o?"rc-menu":o,s=a.rootClassName,l=a.style,c=a.className,d=a.tabIndex,u=void 0===d?0:d,m=a.items,g=a.children,p=a.direction,f=a.id,h=a.mode,v=void 0===h?"vertical":h,x=a.inlineCollapsed,y=a.disabled,b=a.disabledOverflow,k=a.subMenuOpenDelay,w=void 0===k?.1:k,j=a.subMenuCloseDelay,N=void 0===j?.1:j,C=a.forceSubMenuRender,S=a.defaultOpenKeys,E=a.openKeys,_=a.activeKey,O=a.defaultActiveFirst,I=a.selectable,M=void 0===I||I,P=a.multiple,T=void 0!==P&&P,A=a.defaultSelectedKeys,R=a.selectedKeys,z=a.onSelect,D=a.onDeselect,L=a.inlineIndent,B=void 0===L?24:L,F=a.motion,H=a.defaultMotions,W=a.triggerSubMenuAction,V=void 0===W?"hover":W,q=a.builtinPlacements,U=a.itemIcon,K=a.expandIcon,G=a.overflowedIndicator,X=void 0===G?"...":G,Y=a.overflowedIndicatorPopupClassName,$=a.getPopupContainer,J=a.onClick,Z=a.onOpenChange,Q=a.onKeyDown,ee=(a.openAnimation,a.openTransitionName,a._internalRenderMenuItem),te=a._internalRenderSubMenuItem,ne=a._internalComponents,re=Be(a,HU),ae=fv(r.useMemo(function(){return[FU(g,m,WU,ne,i),FU(g,m,WU,{},i)]},[g,m,ne]),2),oe=ae[0],ie=ae[1],se=fv(r.useState(!1),2),le=se[0],ce=se[1],de=r.useRef(),ue=function(e){var t=fv(Ky(e,{value:e}),2),n=t[0],a=t[1];return r.useEffect(function(){aU+=1;var e="".concat(rU,"-").concat(aU);a("rc-menu-uuid-".concat(e))},[]),n}(f),me="rtl"===p;var ge=Ky(S,{value:E,postState:function(e){return e||WU}}),pe=fv(ge,2),fe=pe[0],he=pe[1],ve=function(e){function t(){he(e),null===Z||void 0===Z||Z(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,we.flushSync)(t):t()},xe=fv(r.useState(fe),2),ye=xe[0],be=xe[1],ke=r.useRef(!1),je=fv(r.useMemo(function(){return"inline"!==v&&"vertical"!==v||!x?[v,!1]:["vertical",x]},[v,x]),2),Ne=je[0],Ce=je[1],Se="inline"===Ne,Ee=fv(r.useState(Ne),2),_e=Ee[0],Oe=Ee[1],Ie=fv(r.useState(Ce),2),Me=Ie[0],Pe=Ie[1];r.useEffect(function(){Oe(Ne),Pe(Ce),ke.current&&(Se?he(ye):ve(WU))},[Ne,Ce]);var Te=fv(r.useState(0),2),Ae=Te[0],Re=Te[1],De=Ae>=oe.length-1||"horizontal"!==_e||b;r.useEffect(function(){Se&&be(fe)},[fe]),r.useEffect(function(){return ke.current=!0,function(){ke.current=!1}},[]);var Fe=tU(),He=Fe.registerPath,We=Fe.unregisterPath,Ve=Fe.refreshOverflowKeys,qe=Fe.isSubPathKey,Ue=Fe.getKeyPath,Ke=Fe.getKeys,Ge=Fe.getSubPathKeys,Xe=r.useMemo(function(){return{registerPath:He,unregisterPath:We}},[He,We]),Ye=r.useMemo(function(){return{isSubPathKey:qe}},[qe]);r.useEffect(function(){Ve(De?WU:oe.slice(Ae+1).map(function(e){return e.key}))},[Ae,De]);var $e=fv(Ky(_||O&&(null===(n=oe[0])||void 0===n?void 0:n.key),{value:_}),2),Je=$e[0],Ze=$e[1],Qe=nU(function(e){Ze(e)}),et=nU(function(){Ze(void 0)});(0,r.useImperativeHandle)(t,function(){return{list:de.current,focus:function(e){var t,n,r=Ke(),a=$q(r,ue),o=a.elements,i=a.key2element,s=a.element2key,l=Xq(de.current,o),c=null!==Je&&void 0!==Je?Je:l[0]?s.get(l[0]):null===(t=oe.find(function(e){return!e.props.disabled}))||void 0===t?void 0:t.key,d=i.get(c);c&&d&&(null===d||void 0===d||null===(n=d.focus)||void 0===n||n.call(d,e))}}});var tt=Ky(A||[],{value:R,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?WU:[e]}}),nt=fv(tt,2),rt=nt[0],at=nt[1],ot=nU(function(e){null===J||void 0===J||J(cU(e)),function(e){if(M){var t,n=e.key,r=rt.includes(n);t=T?r?rt.filter(function(e){return e!==n}):[].concat(vv(rt),[n]):[n],at(t);var a=Le(Le({},e),{},{selectedKeys:t});r?null===D||void 0===D||D(a):null===z||void 0===z||z(a)}!T&&fe.length&&"inline"!==_e&&ve(WU)}(e)}),it=nU(function(e,t){var n=fe.filter(function(t){return t!==e});if(t)n.push(e);else if("inline"!==_e){var r=Ge(e);n=n.filter(function(e){return!r.has(e)})}Dv(fe,n,!0)||ve(n,!0)}),st=Jq(_e,Je,me,ue,de,Ke,Ue,Ze,function(e,t){var n=null!==t&&void 0!==t?t:!fe.includes(e);it(e,n)},Q);r.useEffect(function(){ce(!0)},[]);var lt=r.useMemo(function(){return{_internalRenderMenuItem:ee,_internalRenderSubMenuItem:te}},[ee,te]),ct="horizontal"!==_e||b?oe:oe.map(function(e,t){return r.createElement(Oq,{key:e.key,overflowDisabled:t>Ae},e)}),dt=r.createElement(rz,jx({id:f,ref:de,prefixCls:"".concat(i,"-overflow"),component:"ul",itemComponent:hU,className:Ah()(i,"".concat(i,"-root"),"".concat(i,"-").concat(_e),c,ze(ze({},"".concat(i,"-inline-collapsed"),Me),"".concat(i,"-rtl"),me),s),dir:p,style:l,role:"menu",tabIndex:u,data:ct,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?oe.slice(-t):null;return r.createElement(TU,{eventKey:eU,title:X,disabled:De,internalPopupClose:0===t,popupClassName:Y},n)},maxCount:"horizontal"!==_e||b?rz.INVALIDATE:rz.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Re(e)},onKeyDown:st},re));return r.createElement(zq.Provider,{value:lt},r.createElement(Nq.Provider,{value:ue},r.createElement(Oq,{prefixCls:i,rootClassName:s,mode:_e,openKeys:fe,rtl:me,disabled:y,motion:le?F:null,defaultMotions:le?H:null,activeKey:Je,onActive:Qe,onInactive:et,selectedKeys:rt,inlineIndent:B,subMenuOpenDelay:w,subMenuCloseDelay:N,forceSubMenuRender:C,builtinPlacements:q,triggerSubMenuAction:V,getPopupContainer:$,itemIcon:U,expandIcon:K,onItemClick:ot,onOpenChange:it},r.createElement(Rq.Provider,{value:Ye},dt),r.createElement("div",{style:{display:"none"},"aria-hidden":!0},r.createElement(Mq.Provider,{value:Xe},ie)))))});var qU=VU;qU.Item=hU,qU.SubMenu=TU,qU.ItemGroup=DU,qU.Divider=AU;const UU=qU;var KU=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.id,o=e.tabs,i=e.locale,s=e.mobile,l=e.more,c=void 0===l?{}:l,d=e.style,u=e.className,m=e.editable,g=e.tabBarGutter,p=e.rtl,f=e.removeAriaLabel,h=e.onTabClick,v=e.getPopupContainer,x=e.popupClassName,y=fv((0,r.useState)(!1),2),b=y[0],k=y[1],w=fv((0,r.useState)(null),2),j=w[0],N=w[1],C=c.icon,S=void 0===C?"More":C,E="".concat(a,"-more-popup"),_="".concat(n,"-dropdown"),O=null!==j?"".concat(E,"-").concat(j):null,I=null===i||void 0===i?void 0:i.dropdownAriaLabel;var M=r.createElement(UU,{onClick:function(e){var t=e.key,n=e.domEvent;h(t,n),k(!1)},prefixCls:"".concat(_,"-menu"),id:E,tabIndex:-1,role:"listbox","aria-activedescendant":O,selectedKeys:[j],"aria-label":void 0!==I?I:"expanded dropdown"},o.map(function(e){var t=e.closable,n=e.disabled,o=e.closeIcon,i=e.key,s=e.label,l=dq(t,o,m,n);return r.createElement(hU,{key:i,id:"".concat(E,"-").concat(i),role:"option","aria-controls":a&&"".concat(a,"-panel-").concat(i),disabled:n},r.createElement("span",null,s),l&&r.createElement("button",{type:"button","aria-label":f||"remove",tabIndex:0,className:"".concat(_,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),m.onEdit("remove",{key:t,event:e})}(e,i)}},o||m.removeIcon||"\xd7"))}));function P(e){for(var t=o.filter(function(e){return!e.disabled}),n=t.findIndex(function(e){return e.key===j})||0,r=t.length,a=0;a<r;a+=1){var i=t[n=(n+e+r)%r];if(!i.disabled)return void N(i.key)}}(0,r.useEffect)(function(){var e=document.getElementById(O);e&&e.scrollIntoView&&e.scrollIntoView(!1)},[j]),(0,r.useEffect)(function(){b||N(null)},[b]);var T=ze({},p?"marginRight":"marginLeft",g);o.length||(T.visibility="hidden",T.order=1);var A=Ah()(ze({},"".concat(_,"-rtl"),p)),R=s?null:r.createElement(jq,jx({prefixCls:_,overlay:M,visible:!!o.length&&b,onVisibleChange:k,overlayClassName:Ah()(A,x),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:v},c),r.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:T,"aria-haspopup":"listbox","aria-controls":E,id:"".concat(a,"-more"),"aria-expanded":b,onKeyDown:function(e){var t=e.which;if(b)switch(t){case QC.UP:P(-1),e.preventDefault();break;case QC.DOWN:P(1),e.preventDefault();break;case QC.ESC:k(!1);break;case QC.SPACE:case QC.ENTER:null!==j&&h(j,e)}else[QC.DOWN,QC.SPACE,QC.ENTER].includes(t)&&(k(!0),e.preventDefault())}},S));return r.createElement("div",{className:Ah()("".concat(n,"-nav-operations"),u),style:d,ref:t},R,r.createElement(mq,{prefixCls:n,locale:i,editable:m}))});const GU=r.memo(KU,function(e,t){return t.tabMoving});const XU=function(e){var t=e.prefixCls,n=e.id,a=e.active,o=e.focus,i=e.tab,s=i.key,l=i.label,c=i.disabled,d=i.closeIcon,u=i.icon,m=e.closable,g=e.renderWrapper,p=e.removeAriaLabel,f=e.editable,h=e.onClick,v=e.onFocus,x=e.onBlur,y=e.onKeyDown,b=e.onMouseDown,k=e.onMouseUp,w=e.style,j=e.tabCount,N=e.currentPosition,C="".concat(t,"-tab"),S=dq(m,d,f,c);function E(e){c||h(e)}var _=r.useMemo(function(){return u&&"string"===typeof l?r.createElement("span",null,l):l},[l,u]),O=r.useRef(null);r.useEffect(function(){o&&O.current&&O.current.focus()},[o]);var I=r.createElement("div",{key:s,"data-node-key":cq(s),className:Ah()(C,ze(ze(ze(ze({},"".concat(C,"-with-remove"),S),"".concat(C,"-active"),a),"".concat(C,"-disabled"),c),"".concat(C,"-focus"),o)),style:w,onClick:E},r.createElement("div",{ref:O,role:"tab","aria-selected":a,id:n&&"".concat(n,"-tab-").concat(s),className:"".concat(C,"-btn"),"aria-controls":n&&"".concat(n,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:a?0:-1,onClick:function(e){e.stopPropagation(),E(e)},onKeyDown:y,onMouseDown:b,onMouseUp:k,onFocus:v,onBlur:x},o&&r.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(N," of ").concat(j)),u&&r.createElement("span",{className:"".concat(C,"-icon")},u),l&&_),S&&r.createElement("button",{type:"button",role:"tab","aria-label":p||"remove",tabIndex:a?0:-1,className:"".concat(C,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),f.onEdit("remove",{key:s,event:t})}},d||f.removeIcon||"\xd7"));return g?g(I):I};var YU=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,a=t.offsetHeight,o=void 0===a?0:a;if(e.current){var i=e.current.getBoundingClientRect(),s=i.width,l=i.height;if(Math.abs(s-r)<1)return[s,l]}return[r,o]},$U=function(e,t){return e[t?0:1]},JU=r.forwardRef(function(e,t){var n=e.className,a=e.style,o=e.id,i=e.animated,s=e.activeKey,l=e.rtl,c=e.extra,d=e.editable,u=e.locale,m=e.tabPosition,g=e.tabBarGutter,p=e.children,f=e.onTabClick,h=e.onTabScroll,v=e.indicator,x=r.useContext(tq),y=x.prefixCls,b=x.tabs,k=(0,r.useRef)(null),w=(0,r.useRef)(null),j=(0,r.useRef)(null),N=(0,r.useRef)(null),C=(0,r.useRef)(null),S=(0,r.useRef)(null),E=(0,r.useRef)(null),_="top"===m||"bottom"===m,O=aq(0,function(e,t){_&&h&&h({direction:e>t?"left":"right"})}),I=fv(O,2),M=I[0],P=I[1],T=aq(0,function(e,t){!_&&h&&h({direction:e>t?"top":"bottom"})}),A=fv(T,2),R=A[0],z=A[1],D=fv((0,r.useState)([0,0]),2),L=D[0],B=D[1],F=fv((0,r.useState)([0,0]),2),H=F[0],W=F[1],V=fv((0,r.useState)([0,0]),2),q=V[0],U=V[1],K=fv((0,r.useState)([0,0]),2),G=K[0],X=K[1],Y=function(e){var t=(0,r.useRef)([]),n=fv((0,r.useState)({}),2)[1],a=(0,r.useRef)("function"===typeof e?e():e),o=iq(function(){var e=a.current;t.current.forEach(function(t){e=t(e)}),t.current=[],a.current=e,n({})});return[a.current,function(e){t.current.push(e),o()}]}(new Map),$=fv(Y,2),J=$[0],Z=$[1],Q=function(e,t,n){return(0,r.useMemo)(function(){for(var n,r=new Map,a=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||rq,o=a.left+a.width,i=0;i<e.length;i+=1){var s,l=e[i].key,c=t.get(l);c||(c=t.get(null===(s=e[i-1])||void 0===s?void 0:s.key)||rq);var d=r.get(l)||Le({},c);d.right=o-d.left-d.width,r.set(l,d)}return r},[e.map(function(e){return e.key}).join("_"),t,n])}(b,J,H[0]),ee=$U(L,_),te=$U(H,_),ne=$U(q,_),re=$U(G,_),ae=Math.floor(ee)<Math.floor(te+ne),oe=ae?ee-re:ee-ne,ie="".concat(y,"-nav-operations-hidden"),se=0,le=0;function ce(e){return e<se?se:e>le?le:e}_&&l?(se=0,le=Math.max(0,te-oe)):(se=Math.min(0,oe-te),le=0);var de=(0,r.useRef)(null),ue=fv((0,r.useState)(),2),me=ue[0],ge=ue[1];function pe(){ge(Date.now())}function fe(){de.current&&clearTimeout(de.current)}!function(e,t){var n=fv((0,r.useState)(),2),a=n[0],o=n[1],i=fv((0,r.useState)(0),2),s=i[0],l=i[1],c=fv((0,r.useState)(0),2),d=c[0],u=c[1],m=fv((0,r.useState)(),2),g=m[0],p=m[1],f=(0,r.useRef)(),h=(0,r.useRef)(),v=(0,r.useRef)(null);v.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(f.current)},onTouchMove:function(e){if(a){var n=e.touches[0],r=n.screenX,i=n.screenY;o({x:r,y:i});var c=r-a.x,d=i-a.y;t(c,d);var m=Date.now();l(m),u(m-s),p({x:c,y:d})}},onTouchEnd:function(){if(a&&(o(null),p(null),g)){var e=g.x/d,n=g.y/d,r=Math.abs(e),i=Math.abs(n);if(Math.max(r,i)<.1)return;var s=e,l=n;f.current=window.setInterval(function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(f.current):t(20*(s*=oq),20*(l*=oq))},20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,a=0,o=Math.abs(n),i=Math.abs(r);o===i?a="x"===h.current?n:r:o>i?(a=n,h.current="x"):(a=r,h.current="y"),t(-a,-a)&&e.preventDefault()}},r.useEffect(function(){function t(e){v.current.onTouchMove(e)}function n(e){v.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!0}),e.current.addEventListener("touchstart",function(e){v.current.onTouchStart(e)},{passive:!0}),e.current.addEventListener("wheel",function(e){v.current.onWheel(e)},{passive:!1}),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}},[])}(N,function(e,t){function n(e,t){e(function(e){return ce(e+t)})}return!!ae&&(_?n(P,e):n(z,t),fe(),pe(),!0)}),(0,r.useEffect)(function(){return fe(),me&&(de.current=setTimeout(function(){ge(0)},100)),fe},[me]);var he=function(e,t,n,a,o,i,s){var l,c,d,u=s.tabs,m=s.tabPosition,g=s.rtl;return["top","bottom"].includes(m)?(l="width",c=g?"right":"left",d=Math.abs(n)):(l="height",c="top",d=-n),(0,r.useMemo)(function(){if(!u.length)return[0,0];for(var n=u.length,r=n,a=0;a<n;a+=1){var o=e.get(u[a].key)||sq;if(Math.floor(o[c]+o[l])>Math.floor(d+t)){r=a-1;break}}for(var i=0,s=n-1;s>=0;s-=1)if((e.get(u[s].key)||sq)[c]<d){i=s+1;break}return i>r?[0,-1]:[i,r]},[e,t,a,o,i,d,m,u.map(function(e){return e.key}).join("_"),g])}(Q,oe,_?M:R,te,ne,re,Le(Le({},e),{},{tabs:b})),ve=fv(he,2),xe=ve[0],ye=ve[1],be=Vy(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Q.get(e)||{width:0,height:0,left:0,right:0,top:0};if(_){var n=M;l?t.right<M?n=t.right:t.right+t.width>M+oe&&(n=t.right+t.width-oe):t.left<-M?n=-t.left:t.left+t.width>-M+oe&&(n=-(t.left+t.width-oe)),z(0),P(ce(n))}else{var r=R;t.top<-R?r=-t.top:t.top+t.height>-R+oe&&(r=-(t.top+t.height-oe)),P(0),z(ce(r))}}),ke=fv((0,r.useState)(),2),we=ke[0],je=ke[1],Ne=fv((0,r.useState)(!1),2),Ce=Ne[0],Se=Ne[1],Ee=b.filter(function(e){return!e.disabled}).map(function(e){return e.key}),_e=function(e){var t=Ee.indexOf(we||s),n=Ee.length,r=Ee[(t+e+n)%n];je(r)},Oe=function(e,t){var n=Ee.indexOf(e),r=b.find(function(t){return t.key===e});dq(null===r||void 0===r?void 0:r.closable,null===r||void 0===r?void 0:r.closeIcon,d,null===r||void 0===r?void 0:r.disabled)&&(t.preventDefault(),t.stopPropagation(),d.onEdit("remove",{key:e,event:t}),n===Ee.length-1?_e(-1):_e(1))},Ie=function(e){var t=e.code,n=l&&_,r=Ee[0],a=Ee[Ee.length-1];switch(t){case"ArrowLeft":_&&_e(n?1:-1);break;case"ArrowRight":_&&_e(n?-1:1);break;case"ArrowUp":e.preventDefault(),_||_e(-1);break;case"ArrowDown":e.preventDefault(),_||_e(1);break;case"Home":e.preventDefault(),je(r);break;case"End":e.preventDefault(),je(a);break;case"Enter":case"Space":e.preventDefault(),f(null!==we&&void 0!==we?we:s,e);break;case"Backspace":case"Delete":Oe(we,e)}},Me={};_?Me[l?"marginRight":"marginLeft"]=g:Me.marginTop=g;var Pe=b.map(function(e,t){var n=e.key;return r.createElement(XU,{id:o,prefixCls:y,key:n,tab:e,style:0===t?void 0:Me,closable:e.closable,editable:d,active:n===s,focus:n===we,renderWrapper:p,removeAriaLabel:null===u||void 0===u?void 0:u.removeAriaLabel,tabCount:Ee.length,currentPosition:t+1,onClick:function(e){f(n,e)},onKeyDown:Ie,onFocus:function(){Ce||je(n),be(n),pe(),N.current&&(l||(N.current.scrollLeft=0),N.current.scrollTop=0)},onBlur:function(){je(void 0)},onMouseDown:function(e){return function(e,t){Se(!0),1===t.button&&Oe(e,t)}(n,e)},onMouseUp:function(){Se(!1)}})}),Te=function(){return Z(function(){var e,t=new Map,n=null===(e=C.current)||void 0===e?void 0:e.getBoundingClientRect();return b.forEach(function(e){var r,a=e.key,o=null===(r=C.current)||void 0===r?void 0:r.querySelector('[data-node-key="'.concat(cq(a),'"]'));if(o){var i=function(e,t){var n=e.offsetWidth,r=e.offsetHeight,a=e.offsetTop,o=e.offsetLeft,i=e.getBoundingClientRect(),s=i.width,l=i.height,c=i.left,d=i.top;return Math.abs(s-n)<1?[s,l,c-t.left,d-t.top]:[n,r,o,a]}(o,n),s=fv(i,4),l=s[0],c=s[1],d=s[2],u=s[3];t.set(a,{width:l,height:c,left:d,top:u})}}),t})};(0,r.useEffect)(function(){Te()},[b.map(function(e){return e.key}).join("_")]);var Ae=iq(function(){var e=YU(k),t=YU(w),n=YU(j);B([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=YU(E);U(r);var a=YU(S);X(a);var o=YU(C);W([o[0]-r[0],o[1]-r[1]]),Te()}),Re=b.slice(0,xe),De=b.slice(ye+1),Be=[].concat(vv(Re),vv(De)),Fe=Q.get(s),He=nq({activeTabOffset:Fe,horizontal:_,indicator:v,rtl:l}).style;(0,r.useEffect)(function(){be()},[s,se,le,lq(Fe),lq(Q),_]),(0,r.useEffect)(function(){Ae()},[l]);var We,Ve,qe,Ue,Ke=!!Be.length,Ge="".concat(y,"-nav-wrap");return _?l?(Ve=M>0,We=M!==le):(We=M<0,Ve=M!==se):(qe=R<0,Ue=R!==se),r.createElement(HI,{onResize:Ae},r.createElement("div",{ref:$h(t,k),role:"tablist","aria-orientation":_?"horizontal":"vertical",className:Ah()("".concat(y,"-nav"),n),style:a,onKeyDown:function(){pe()}},r.createElement(pq,{ref:w,position:"left",extra:c,prefixCls:y}),r.createElement(HI,{onResize:Ae},r.createElement("div",{className:Ah()(Ge,ze(ze(ze(ze({},"".concat(Ge,"-ping-left"),We),"".concat(Ge,"-ping-right"),Ve),"".concat(Ge,"-ping-top"),qe),"".concat(Ge,"-ping-bottom"),Ue)),ref:N},r.createElement(HI,{onResize:Ae},r.createElement("div",{ref:C,className:"".concat(y,"-nav-list"),style:{transform:"translate(".concat(M,"px, ").concat(R,"px)"),transition:me?"none":void 0}},Pe,r.createElement(mq,{ref:E,prefixCls:y,locale:u,editable:d,style:Le(Le({},0===Pe.length?void 0:Me),{},{visibility:Ke?"hidden":null})}),r.createElement("div",{className:Ah()("".concat(y,"-ink-bar"),ze({},"".concat(y,"-ink-bar-animated"),i.inkBar)),style:He}))))),r.createElement(GU,jx({},e,{removeAriaLabel:null===u||void 0===u?void 0:u.removeAriaLabel,ref:S,prefixCls:y,tabs:Be,className:!Ke&&ie,tabMoving:!!me})),r.createElement(pq,{ref:j,position:"right",extra:c,prefixCls:y})))});const ZU=JU;var QU=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.className,o=e.style,i=e.id,s=e.active,l=e.tabKey,c=e.children;return r.createElement("div",{id:i&&"".concat(i,"-panel-").concat(l),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":i&&"".concat(i,"-tab-").concat(l),"aria-hidden":!s,style:o,className:Ah()(n,s&&"".concat(n,"-active"),a),ref:t},c)});const eK=QU;var tK=["renderTabBar"],nK=["label","key"];const rK=function(e){var t=e.renderTabBar,n=Be(e,tK),a=r.useContext(tq).tabs;return t?t(Le(Le({},n),{},{panes:a.map(function(e){var t=e.label,n=e.key,a=Be(e,nK);return r.createElement(eK,jx({tab:t,key:n,tabKey:n},a))})}),ZU):r.createElement(ZU,n)};var aK=["key","forceRender","style","className","destroyInactiveTabPane"];const oK=function(e){var t=e.id,n=e.activeKey,a=e.animated,o=e.tabPosition,i=e.destroyInactiveTabPane,s=r.useContext(tq),l=s.prefixCls,c=s.tabs,d=a.tabPane,u="".concat(l,"-tabpane");return r.createElement("div",{className:Ah()("".concat(l,"-content-holder"))},r.createElement("div",{className:Ah()("".concat(l,"-content"),"".concat(l,"-content-").concat(o),ze({},"".concat(l,"-content-animated"),d))},c.map(function(e){var o=e.key,s=e.forceRender,l=e.style,c=e.className,m=e.destroyInactiveTabPane,g=Be(e,aK),p=o===n;return r.createElement(Tw,jx({key:o,visible:p,forceRender:s,removeOnLeave:!(!i&&!m),leavedClassName:"".concat(u,"-hidden")},a.tabPaneMotion),function(e,n){var a=e.style,i=e.className;return r.createElement(eK,jx({},g,{prefixCls:u,id:t,tabKey:o,animated:d,active:p,style:Le(Le({},l),a),className:Ah()(c,i),ref:n}))})})))};var iK=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],sK=0,lK=r.forwardRef(function(e,t){var n=e.id,a=e.prefixCls,o=void 0===a?"rc-tabs":a,i=e.className,s=e.items,l=e.direction,c=e.activeKey,d=e.defaultActiveKey,u=e.editable,m=e.animated,g=e.tabPosition,p=void 0===g?"top":g,f=e.tabBarGutter,h=e.tabBarStyle,v=e.tabBarExtraContent,x=e.locale,y=e.more,b=e.destroyInactiveTabPane,k=e.renderTabBar,w=e.onChange,j=e.onTabClick,N=e.onTabScroll,C=e.getPopupContainer,S=e.popupClassName,E=e.indicator,_=Be(e,iK),O=r.useMemo(function(){return(s||[]).filter(function(e){return e&&"object"===Ae(e)&&"key"in e})},[s]),I="rtl"===l,M=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:Le({inkBar:!0},"object"===Ae(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(m),P=fv((0,r.useState)(!1),2),T=P[0],A=P[1];(0,r.useEffect)(function(){A(UI())},[]);var R=fv(Ky(function(){var e;return null===(e=O[0])||void 0===e?void 0:e.key},{value:c,defaultValue:d}),2),z=R[0],D=R[1],L=fv((0,r.useState)(function(){return O.findIndex(function(e){return e.key===z})}),2),B=L[0],F=L[1];(0,r.useEffect)(function(){var e,t=O.findIndex(function(e){return e.key===z});-1===t&&(t=Math.max(0,Math.min(B,O.length-1)),D(null===(e=O[t])||void 0===e?void 0:e.key));F(t)},[O.map(function(e){return e.key}).join("_"),z,B]);var H=fv(Ky(null,{value:n}),2),W=H[0],V=H[1];(0,r.useEffect)(function(){n||(V("rc-tabs-".concat(sK)),sK+=1)},[]);var q={id:W,activeKey:z,animated:M,tabPosition:p,rtl:I,mobile:T},U=Le(Le({},q),{},{editable:u,locale:x,more:y,tabBarGutter:f,onTabClick:function(e,t){null===j||void 0===j||j(e,t);var n=e!==z;D(e),n&&(null===w||void 0===w||w(e))},onTabScroll:N,extra:v,style:h,panes:null,getPopupContainer:C,popupClassName:S,indicator:E});return r.createElement(tq.Provider,{value:{tabs:O,prefixCls:o}},r.createElement("div",jx({ref:t,id:n,className:Ah()(o,"".concat(o,"-").concat(p),ze(ze(ze({},"".concat(o,"-mobile"),T),"".concat(o,"-editable"),u),"".concat(o,"-rtl"),I),i)},_),r.createElement(rK,jx({},U,{renderTabBar:k})),r.createElement(oK,jx({destroyInactiveTabPane:b},q,{animated:M}))))});const cK=lK,dK={motionAppear:!1,motionEnter:!0,motionLeave:!0};var uK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const mK=function(e,t){if(e)return e.map(e=>{var t;const n=null!==(t=e.destroyOnHidden)&&void 0!==t?t:e.destroyInactiveTabPane;return Object.assign(Object.assign({},e),{destroyInactiveTabPane:n})});const n=vj(t).map(e=>{if(r.isValidElement(e)){const{key:t,props:n}=e,r=n||{},{tab:a}=r,o=uK(r,["tab"]);return Object.assign(Object.assign({key:String(t)},o),{label:a})}return null});return function(e){return e.filter(e=>e)}(n)},gK=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{["".concat(t,"-switch")]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:"opacity ".concat(n)}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:"opacity ".concat(n)}}}}},[FD(e,"slide-up"),FD(e,"slide-down")]]},pK=e=>{const{componentCls:t,tabsCardPadding:n,cardBg:r,cardGutter:a,colorBorderSecondary:o,itemSelectedColor:i}=e;return{["".concat(t,"-card")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{margin:0,padding:n,background:r,border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(o),transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)},["".concat(t,"-tab-active")]:{color:i,background:e.colorBgContainer},["".concat(t,"-tab-focus:has(").concat(t,"-tab-btn:focus-visible)")]:hb(e,-3),["& ".concat(t,"-tab").concat(t,"-tab-focus ").concat(t,"-tab-btn:focus-visible")]:{outline:"none"},["".concat(t,"-ink-bar")]:{visibility:"hidden"}},["&".concat(t,"-top, &").concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab + ").concat(t,"-tab")]:{marginLeft:{_skip_check_:!0,value:lx(a)}}}},["&".concat(t,"-top")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:"".concat(lx(e.borderRadiusLG)," ").concat(lx(e.borderRadiusLG)," 0 0")},["".concat(t,"-tab-active")]:{borderBottomColor:e.colorBgContainer}}},["&".concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:"0 0 ".concat(lx(e.borderRadiusLG)," ").concat(lx(e.borderRadiusLG))},["".concat(t,"-tab-active")]:{borderTopColor:e.colorBgContainer}}},["&".concat(t,"-left, &").concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab + ").concat(t,"-tab")]:{marginTop:lx(a)}}},["&".concat(t,"-left")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"".concat(lx(e.borderRadiusLG)," 0 0 ").concat(lx(e.borderRadiusLG))}},["".concat(t,"-tab-active")]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},["&".concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"0 ".concat(lx(e.borderRadiusLG)," ").concat(lx(e.borderRadiusLG)," 0")}},["".concat(t,"-tab-active")]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},fK=e=>{const{componentCls:t,itemHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{["".concat(t,"-dropdown")]:Object.assign(Object.assign({},fb(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},["".concat(t,"-dropdown-menu")]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:"".concat(lx(r)," 0"),overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},pb),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:"".concat(lx(e.paddingXXS)," ").concat(lx(e.paddingSM)),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},hK=e=>{const{componentCls:t,margin:n,colorBorderSecondary:r,horizontalMargin:a,verticalItemPadding:o,verticalItemMargin:i,calc:s}=e;return{["".concat(t,"-top, ").concat(t,"-bottom")]:{flexDirection:"column",["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{margin:a,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(r),content:"''"},["".concat(t,"-ink-bar")]:{height:e.lineWidthBold,"&-animated":{transition:"width ".concat(e.motionDurationSlow,", left ").concat(e.motionDurationSlow,",\n            right ").concat(e.motionDurationSlow)}},["".concat(t,"-nav-wrap")]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},["&".concat(t,"-nav-wrap-ping-left::before")]:{opacity:1},["&".concat(t,"-nav-wrap-ping-right::after")]:{opacity:1}}}},["".concat(t,"-top")]:{["> ".concat(t,"-nav,\n        > div > ").concat(t,"-nav")]:{"&::before":{bottom:0},["".concat(t,"-ink-bar")]:{bottom:0}}},["".concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{order:1,marginTop:n,marginBottom:0,"&::before":{top:0},["".concat(t,"-ink-bar")]:{top:0}},["> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder")]:{order:0}},["".concat(t,"-left, ").concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{flexDirection:"column",minWidth:s(e.controlHeight).mul(1.25).equal(),["".concat(t,"-tab")]:{padding:o,textAlign:"center"},["".concat(t,"-tab + ").concat(t,"-tab")]:{margin:i},["".concat(t,"-nav-wrap")]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},["&".concat(t,"-nav-wrap-ping-top::before")]:{opacity:1},["&".concat(t,"-nav-wrap-ping-bottom::after")]:{opacity:1}},["".concat(t,"-ink-bar")]:{width:e.lineWidthBold,"&-animated":{transition:"height ".concat(e.motionDurationSlow,", top ").concat(e.motionDurationSlow)}},["".concat(t,"-nav-list, ").concat(t,"-nav-operations")]:{flex:"1 0 auto",flexDirection:"column"}}},["".concat(t,"-left")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-ink-bar")]:{right:{_skip_check_:!0,value:0}}},["> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder")]:{marginLeft:{_skip_check_:!0,value:lx(s(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},["> ".concat(t,"-content > ").concat(t,"-tabpane")]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},["".concat(t,"-right")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{order:1,["".concat(t,"-ink-bar")]:{left:{_skip_check_:!0,value:0}}},["> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder")]:{order:0,marginRight:{_skip_check_:!0,value:s(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)},["> ".concat(t,"-content > ").concat(t,"-tabpane")]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},vK=e=>{const{componentCls:t,cardPaddingSM:n,cardPaddingLG:r,cardHeightSM:a,cardHeightLG:o,horizontalItemPaddingSM:i,horizontalItemPaddingLG:s}=e;return{[t]:{"&-small":{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:i,fontSize:e.titleFontSizeSM}}},"&-large":{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:s,fontSize:e.titleFontSizeLG,lineHeight:e.lineHeightLG}}}},["".concat(t,"-card")]:{["&".concat(t,"-small")]:{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:n},["".concat(t,"-nav-add")]:{minWidth:a,minHeight:a}},["&".concat(t,"-bottom")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:"0 0 ".concat(lx(e.borderRadius)," ").concat(lx(e.borderRadius))}},["&".concat(t,"-top")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:"".concat(lx(e.borderRadius)," ").concat(lx(e.borderRadius)," 0 0")}},["&".concat(t,"-right")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"0 ".concat(lx(e.borderRadius)," ").concat(lx(e.borderRadius)," 0")}}},["&".concat(t,"-left")]:{["> ".concat(t,"-nav ").concat(t,"-tab")]:{borderRadius:{_skip_check_:!0,value:"".concat(lx(e.borderRadius)," 0 0 ").concat(lx(e.borderRadius))}}}},["&".concat(t,"-large")]:{["> ".concat(t,"-nav")]:{["".concat(t,"-tab")]:{padding:r},["".concat(t,"-nav-add")]:{minWidth:o,minHeight:o}}}}}},xK=e=>{const{componentCls:t,itemActiveColor:n,itemHoverColor:r,iconCls:a,tabsHorizontalItemMargin:o,horizontalItemPadding:i,itemSelectedColor:s,itemColor:l}=e,c="".concat(t,"-tab");return{[c]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:i,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":{outline:"none",transition:"all ".concat(e.motionDurationSlow),["".concat(c,"-icon:not(:last-child)")]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",lineHeight:1,marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorIcon,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextHeading}},vb(e)),"&:hover":{color:r},["&".concat(c,"-active ").concat(c,"-btn")]:{color:s,textShadow:e.tabsActiveTextShadow},["&".concat(c,"-focus ").concat(c,"-btn:focus-visible")]:hb(e),["&".concat(c,"-disabled")]:{color:e.colorTextDisabled,cursor:"not-allowed"},["&".concat(c,"-disabled ").concat(c,"-btn, &").concat(c,"-disabled ").concat(t,"-remove")]:{"&:focus, &:active":{color:e.colorTextDisabled}},["& ".concat(c,"-remove ").concat(a)]:{margin:0,verticalAlign:"middle"},["".concat(a,":not(:last-child)")]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},["".concat(c," + ").concat(c)]:{margin:{_skip_check_:!0,value:o}}}},yK=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:n,iconCls:r,cardGutter:a,calc:o}=e,i="".concat(t,"-rtl");return{[i]:{direction:"rtl",["".concat(t,"-nav")]:{["".concat(t,"-tab")]:{margin:{_skip_check_:!0,value:n},["".concat(t,"-tab:last-of-type")]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:lx(e.marginSM)}},["".concat(t,"-tab-remove")]:{marginRight:{_skip_check_:!0,value:lx(e.marginXS)},marginLeft:{_skip_check_:!0,value:lx(o(e.marginXXS).mul(-1).equal())},[r]:{margin:0}}}},["&".concat(t,"-left")]:{["> ".concat(t,"-nav")]:{order:1},["> ".concat(t,"-content-holder")]:{order:0}},["&".concat(t,"-right")]:{["> ".concat(t,"-nav")]:{order:0},["> ".concat(t,"-content-holder")]:{order:1}},["&".concat(t,"-card").concat(t,"-top, &").concat(t,"-card").concat(t,"-bottom")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-tab + ").concat(t,"-tab")]:{marginRight:{_skip_check_:!0,value:a},marginLeft:{_skip_check_:!0,value:0}}}}},["".concat(t,"-dropdown-rtl")]:{direction:"rtl"},["".concat(t,"-menu-item")]:{["".concat(t,"-dropdown-rtl")]:{textAlign:{_skip_check_:!0,value:"right"}}}}},bK=e=>{const{componentCls:t,tabsCardPadding:n,cardHeight:r,cardGutter:a,itemHoverColor:o,itemActiveColor:i,colorBorderSecondary:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},fb(e)),{display:"flex",["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{position:"relative",display:"flex",flex:"none",alignItems:"center",["".concat(t,"-nav-wrap")]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:"opacity ".concat(e.motionDurationSlow),content:"''",pointerEvents:"none"}},["".concat(t,"-nav-list")]:{position:"relative",display:"flex",transition:"opacity ".concat(e.motionDurationSlow)},["".concat(t,"-nav-operations")]:{display:"flex",alignSelf:"stretch"},["".concat(t,"-nav-operations-hidden")]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},["".concat(t,"-nav-more")]:{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},["".concat(t,"-nav-add")]:Object.assign({minWidth:r,minHeight:r,marginLeft:{_skip_check_:!0,value:a},background:"transparent",border:"".concat(lx(e.lineWidth)," ").concat(e.lineType," ").concat(s),borderRadius:"".concat(lx(e.borderRadiusLG)," ").concat(lx(e.borderRadiusLG)," 0 0"),outline:"none",cursor:"pointer",color:e.colorText,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:i}},vb(e,-3))},["".concat(t,"-extra-content")]:{flex:"none"},["".concat(t,"-ink-bar")]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),xK(e)),{["".concat(t,"-content")]:{position:"relative",width:"100%"},["".concat(t,"-content-holder")]:{flex:"auto",minWidth:0,minHeight:0},["".concat(t,"-tabpane")]:Object.assign(Object.assign({},vb(e)),{"&-hidden":{display:"none"}})}),["".concat(t,"-centered")]:{["> ".concat(t,"-nav, > div > ").concat(t,"-nav")]:{["".concat(t,"-nav-wrap")]:{["&:not([class*='".concat(t,"-nav-wrap-ping']) > ").concat(t,"-nav-list")]:{margin:"auto"}}}}}},kK=_k("Tabs",e=>{const t=rb(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:"0 0 0 ".concat(lx(e.horizontalItemGutter)),tabsHorizontalItemMarginRTL:"0 0 0 ".concat(lx(e.horizontalItemGutter))});return[vK(t),yK(t),hK(t),fK(t),pK(t),bK(t),gK(t)]},e=>{const{cardHeight:t,cardHeightSM:n,cardHeightLG:r,controlHeight:a,controlHeightLG:o}=e,i=t||o,s=n||a,l=r||o+8;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:i,cardHeightSM:s,cardHeightLG:l,cardPadding:"".concat((i-e.fontHeight)/2-e.lineWidth,"px ").concat(e.padding,"px"),cardPaddingSM:"".concat((s-e.fontHeight)/2-e.lineWidth,"px ").concat(e.paddingXS,"px"),cardPaddingLG:"".concat((l-e.fontHeightLG)/2-e.lineWidth,"px ").concat(e.padding,"px"),titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:"0 0 ".concat(e.margin,"px 0"),horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:"".concat(e.paddingSM,"px 0"),horizontalItemPaddingSM:"".concat(e.paddingXS,"px 0"),horizontalItemPaddingLG:"".concat(e.padding,"px 0"),verticalItemPadding:"".concat(e.paddingXS,"px ").concat(e.paddingLG,"px"),verticalItemMargin:"".concat(e.margin,"px 0 0 0"),itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}});const wK=()=>null;var jK=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const NK=r.forwardRef((e,t)=>{var n,a,o,i,s,l,c,d,u,m,g;const{type:p,className:f,rootClassName:h,size:v,onEdit:x,hideAdd:y,centered:b,addIcon:k,removeIcon:w,moreIcon:j,more:N,popupClassName:C,children:S,items:E,animated:_,style:O,indicatorSize:I,indicator:M,destroyInactiveTabPane:P,destroyOnHidden:T}=e,A=jK(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator","destroyInactiveTabPane","destroyOnHidden"]),{prefixCls:R}=A,{direction:z,tabs:D,getPrefixCls:L,getPopupContainer:B}=r.useContext(av),F=L("tabs",R),H=hS(F),[W,V,q]=kK(F,H),U=r.useRef(null);let K;r.useImperativeHandle(t,()=>({nativeElement:U.current})),"editable-card"===p&&(K={onEdit:(e,t)=>{let{key:n,event:r}=t;null===x||void 0===x||x("add"===e?r:n,e)},removeIcon:null!==(n=null!==w&&void 0!==w?w:null===D||void 0===D?void 0:D.removeIcon)&&void 0!==n?n:r.createElement(IS,null),addIcon:(null!==k&&void 0!==k?k:null===D||void 0===D?void 0:D.addIcon)||r.createElement(eq,null),showAdd:!0!==y});const G=L();const X=hj(v),Y=mK(E,S),$=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof n?n:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},dK),{motionName:k_(e,"switch")})),t}(F,_),J=Object.assign(Object.assign({},null===D||void 0===D?void 0:D.style),O),Z={align:null!==(a=null===M||void 0===M?void 0:M.align)&&void 0!==a?a:null===(o=null===D||void 0===D?void 0:D.indicator)||void 0===o?void 0:o.align,size:null!==(c=null!==(s=null!==(i=null===M||void 0===M?void 0:M.size)&&void 0!==i?i:I)&&void 0!==s?s:null===(l=null===D||void 0===D?void 0:D.indicator)||void 0===l?void 0:l.size)&&void 0!==c?c:null===D||void 0===D?void 0:D.indicatorSize};return W(r.createElement(cK,Object.assign({ref:U,direction:z,getPopupContainer:B},A,{items:Y,className:Ah()({["".concat(F,"-").concat(X)]:X,["".concat(F,"-card")]:["card","editable-card"].includes(p),["".concat(F,"-editable-card")]:"editable-card"===p,["".concat(F,"-centered")]:b},null===D||void 0===D?void 0:D.className,f,h,V,q,H),popupClassName:Ah()(C,V,q,H),style:J,editable:K,more:Object.assign({icon:null!==(g=null!==(m=null!==(u=null===(d=null===D||void 0===D?void 0:D.more)||void 0===d?void 0:d.icon)&&void 0!==u?u:null===D||void 0===D?void 0:D.moreIcon)&&void 0!==m?m:j)&&void 0!==g?g:r.createElement(JV,null),transitionName:"".concat(G,"-slide-up")},N),prefixCls:F,animated:$,indicator:Z,destroyInactiveTabPane:null!==T&&void 0!==T?T:P})))}),CK=NK;CK.TabPane=wK;const SK=CK,{Panel:EK}=TW,_K=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,Ue.jsx)(PV,{className:"mt-2",children:e.map((e,t)=>(0,Ue.jsxs)(PV.Item,{color:"pass"===e.result?"green":"red",dot:"pass"===e.result?(0,Ue.jsx)(KW,{className:"w-4 h-4"}):(0,Ue.jsx)(Kr,{className:"w-4 h-4"}),children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white font-medium",children:[e.field," ",e.operator]}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Expected: ",Array.isArray(e.expected_value)?e.expected_value.join(", "):String(e.expected_value)]}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Actual: ",String(e.actual_value)]}),e.metadata_source&&(0,Ue.jsxs)(sF,{size:"small",color:"blue",className:"mt-1 text-xs",children:["Source: ",e.metadata_source]})]},"".concat(e.field,"-").concat(t)))})},OK=(e,t)=>(0,Ue.jsx)(XV,{size:"small",column:1,bordered:!0,className:"bg-white dark:bg-gray-800",children:Object.entries(e).map(e=>{let[n,r]=e;return(0,Ue.jsx)(XV.Item,{label:n,labelStyle:{width:140},children:"object"===typeof r?(0,Ue.jsx)("pre",{className:"text-xs whitespace-pre-wrap bg-gray-50 dark:bg-gray-900/40 p-2 rounded-md",children:JSON.stringify(r,null,2)}):String(r)},"".concat(t,"-").concat(n))})}),IK=e=>{var t,n;let{trace:a}=e;const o=(0,r.useMemo)(()=>{if(null===a||void 0===a||!a.metadata_fetched)return[];const e=[];return a.metadata_fetched.syntactic&&e.push({key:"syntactic",label:"Syntactic",children:OK(a.metadata_fetched.syntactic,"syntactic")}),a.metadata_fetched.semantic&&e.push({key:"semantic",label:"Semantic",children:OK(a.metadata_fetched.semantic,"semantic")}),a.metadata_fetched.information&&e.push({key:"information",label:"Information",children:OK(a.metadata_fetched.information,"information")}),e},[null===a||void 0===a?void 0:a.metadata_fetched]);return a?(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,Ue.jsxs)("div",{className:"mb-6",children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Evaluation Trace"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Detailed breakdown of policy evaluation and metadata lookups"})]}),(0,Ue.jsx)(TW,{bordered:!1,defaultActiveKey:null===(t=a.policies_evaluated)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.policy_id,className:"bg-transparent",children:(a.policies_evaluated||[]).map(e=>(0,Ue.jsx)(EK,{header:(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ue.jsx)(ta,{className:"w-4 h-4 text-indigo-500"}),(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:e.policy_name}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.policy_type," \xb7 Priority ",e.priority]})]})]}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)(sF,{color:"matched"===e.result?"green":"red",children:e.result}),(0,Ue.jsx)(sF,{color:"allow"===e.effect?"green":"red",children:e.effect})]})]}),className:"bg-white dark:bg-gray-900/40 border border-gray-200 dark:border-gray-700 rounded-lg",children:(0,Ue.jsxs)("div",{className:"space-y-4",children:[(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("div",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Conditions"}),_K(e.conditions)]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("div",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Evaluation Time"}),(0,Ue.jsxs)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.evaluation_time_ms," ms"]})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Ue.jsx)("div",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mb-2",children:"Priority"}),(0,Ue.jsx)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.priority})]})]})]})},e.policy_id))}),a.metadata_fetched&&(0,Ue.jsx)("div",{className:"mt-6",children:(0,Ue.jsx)(SK,{defaultActiveKey:"syntactic",items:o})})]}):null};var MK={},PK="rc-table-internal-hook";function TK(e){var t=r.createContext(void 0);return{Context:t,Provider:function(e){var n=e.value,a=e.children,o=r.useRef(n);o.current=n;var i=fv(r.useState(function(){return{getValue:function(){return o.current},listeners:new Set}}),1)[0];return Bh(function(){(0,we.unstable_batchedUpdates)(function(){i.listeners.forEach(function(e){e(n)})})},[n]),r.createElement(t.Provider,{value:i},a)},defaultValue:e}}function AK(e,t){var n=Vy("function"===typeof t?t:function(e){if(void 0===t)return e;if(!Array.isArray(t))return e[t];var n={};return t.forEach(function(t){n[t]=e[t]}),n}),a=r.useContext(null===e||void 0===e?void 0:e.Context),o=a||{},i=o.listeners,s=o.getValue,l=r.useRef();l.current=n(a?s():null===e||void 0===e?void 0:e.defaultValue);var c=fv(r.useState({}),2)[1];return Bh(function(){if(a)return i.add(e),function(){i.delete(e)};function e(e){var t=n(e);Dv(l.current,t,!0)||c({})}},[a]),l.current}function RK(){var e=r.createContext(null);function t(){return r.useContext(e)}return{makeImmutable:function(n,a){var o=Jh(n),i=function(i,s){var l=o?{ref:s}:{},c=r.useRef(0),d=r.useRef(i);return null!==t()?r.createElement(n,jx({},i,l)):(a&&!a(d.current,i)||(c.current+=1),d.current=i,r.createElement(e.Provider,{value:c.current},r.createElement(n,jx({},i,l))))};return o?r.forwardRef(i):i},responseImmutable:function(e,n){var a=Jh(e),o=function(n,o){var i=a?{ref:o}:{};return t(),r.createElement(e,jx({},n,i))};return a?r.memo(r.forwardRef(o),n):r.memo(o,n)},useImmutableMark:t}}var zK=RK(),DK=(zK.makeImmutable,zK.responseImmutable,zK.useImmutableMark,RK()),LK=DK.makeImmutable,BK=DK.responseImmutable,FK=DK.useImmutableMark;const HK=TK();const WK=r.createContext({renderWithProps:!1});function VK(e){var t=[],n={};return e.forEach(function(e){for(var r,a=e||{},o=a.key,i=a.dataIndex,s=o||(r=i,void 0===r||null===r?[]:Array.isArray(r)?r:[r]).join("-")||"RC_TABLE_KEY";n[s];)s="".concat(s,"_next");n[s]=!0,t.push(s)}),t}function qK(e){return null!==e&&void 0!==e}function UK(e,t,n,a,o,i){var s=r.useContext(WK),l=Wh(function(){if(qK(a))return[a];var i=null===t||void 0===t||""===t?[]:Array.isArray(t)?t:[t],l=Gy(e,i),c=l,d=void 0;if(o){var u=o(l,e,n);!function(e){return e&&"object"===Ae(e)&&!Array.isArray(e)&&!r.isValidElement(e)}(u)?c=u:(c=u.children,d=u.props,s.renderWithProps=!0)}return[c,d]},[FK(),e,a,t,o,n],function(e,t){if(i){var n=fv(e,2)[1],r=fv(t,2)[1];return i(r,n)}return!!s.renderWithProps||!Dv(e,t,!0)});return l}function KK(e){var t,n,a,o,i,s,l,c;var d=e.component,u=e.children,m=e.ellipsis,g=e.scope,p=e.prefixCls,f=e.className,h=e.align,v=e.record,x=e.render,y=e.dataIndex,b=e.renderIndex,k=e.shouldCellUpdate,w=e.index,j=e.rowType,N=e.colSpan,C=e.rowSpan,S=e.fixLeft,E=e.fixRight,_=e.firstFixLeft,O=e.lastFixLeft,I=e.firstFixRight,M=e.lastFixRight,P=e.appendNode,T=e.additionalProps,A=void 0===T?{}:T,R=e.isSticky,z="".concat(p,"-cell"),D=AK(HK,["supportSticky","allColumnsFixedLeft","rowHoverable"]),L=D.supportSticky,B=D.allColumnsFixedLeft,F=D.rowHoverable,H=fv(UK(v,y,b,u,x,k),2),W=H[0],V=H[1],q={},U="number"===typeof S&&L,K="number"===typeof E&&L;U&&(q.position="sticky",q.left=S),K&&(q.position="sticky",q.right=E);var G=null!==(t=null!==(n=null!==(a=null===V||void 0===V?void 0:V.colSpan)&&void 0!==a?a:A.colSpan)&&void 0!==n?n:N)&&void 0!==t?t:1,X=null!==(o=null!==(i=null!==(s=null===V||void 0===V?void 0:V.rowSpan)&&void 0!==s?s:A.rowSpan)&&void 0!==i?i:C)&&void 0!==o?o:1,Y=function(e,t){return AK(HK,function(n){var r,a,o,i;return[(r=e,a=t||1,o=n.hoverStartRow,i=n.hoverEndRow,r<=i&&r+a-1>=o),n.onHover]})}(w,X),$=fv(Y,2),J=$[0],Z=$[1],Q=Vy(function(e){var t;v&&Z(w,w+X-1),null===A||void 0===A||null===(t=A.onMouseEnter)||void 0===t||t.call(A,e)}),ee=Vy(function(e){var t;v&&Z(-1,-1),null===A||void 0===A||null===(t=A.onMouseLeave)||void 0===t||t.call(A,e)});if(0===G||0===X)return null;var te=null!==(l=A.title)&&void 0!==l?l:function(e){var t,n=e.ellipsis,a=e.rowType,o=e.children,i=!0===n?{showTitle:!0}:n;return i&&(i.showTitle||"header"===a)&&("string"===typeof o||"number"===typeof o?t=o.toString():r.isValidElement(o)&&"string"===typeof o.props.children&&(t=o.props.children)),t}({rowType:j,ellipsis:m,children:W}),ne=Ah()(z,f,(ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(c={},"".concat(z,"-fix-left"),U&&L),"".concat(z,"-fix-left-first"),_&&L),"".concat(z,"-fix-left-last"),O&&L),"".concat(z,"-fix-left-all"),O&&B&&L),"".concat(z,"-fix-right"),K&&L),"".concat(z,"-fix-right-first"),I&&L),"".concat(z,"-fix-right-last"),M&&L),"".concat(z,"-ellipsis"),m),"".concat(z,"-with-append"),P),"".concat(z,"-fix-sticky"),(U||K)&&R&&L),ze(c,"".concat(z,"-row-hover"),!V&&J)),A.className,null===V||void 0===V?void 0:V.className),re={};h&&(re.textAlign=h);var ae=Le(Le(Le(Le({},null===V||void 0===V?void 0:V.style),q),re),A.style),oe=W;return"object"!==Ae(oe)||Array.isArray(oe)||r.isValidElement(oe)||(oe=null),m&&(O||I)&&(oe=r.createElement("span",{className:"".concat(z,"-content")},oe)),r.createElement(d,jx({},V,A,{className:ne,style:ae,title:te,scope:g,onMouseEnter:F?Q:void 0,onMouseLeave:F?ee:void 0,colSpan:1!==G?G:null,rowSpan:1!==X?X:null}),P,oe)}const GK=r.memo(KK);function XK(e,t,n,r,a){var o,i,s=n[e]||{},l=n[t]||{};"left"===s.fixed?o=r.left["rtl"===a?t:e]:"right"===l.fixed&&(i=r.right["rtl"===a?e:t]);var c=!1,d=!1,u=!1,m=!1,g=n[t+1],p=n[e-1],f=g&&!g.fixed||p&&!p.fixed||n.every(function(e){return"left"===e.fixed});if("rtl"===a){if(void 0!==o)m=!(p&&"left"===p.fixed)&&f;else if(void 0!==i){u=!(g&&"right"===g.fixed)&&f}}else if(void 0!==o){c=!(g&&"left"===g.fixed)&&f}else if(void 0!==i){d=!(p&&"right"===p.fixed)&&f}return{fixLeft:o,fixRight:i,lastFixLeft:c,firstFixRight:d,lastFixRight:u,firstFixLeft:m,isSticky:r.isSticky}}const YK=r.createContext({});var $K=["children"];function JK(e){return e.children}JK.Row=function(e){var t=e.children,n=Be(e,$K);return r.createElement("tr",n,t)},JK.Cell=function(e){var t=e.className,n=e.index,a=e.children,o=e.colSpan,i=void 0===o?1:o,s=e.rowSpan,l=e.align,c=AK(HK,["prefixCls","direction"]),d=c.prefixCls,u=c.direction,m=r.useContext(YK),g=m.scrollColumnIndex,p=m.stickyOffsets,f=n+i-1+1===g?i+1:i,h=XK(n,n+f-1,m.flattenColumns,p,u);return r.createElement(GK,jx({className:t,index:n,component:"td",prefixCls:d,record:null,dataIndex:null,align:l,colSpan:f,rowSpan:s,render:function(){return a}},h))};const ZK=JK;const QK=BK(function(e){var t=e.children,n=e.stickyOffsets,a=e.flattenColumns,o=AK(HK,"prefixCls"),i=a.length-1,s=a[i],l=r.useMemo(function(){return{stickyOffsets:n,flattenColumns:a,scrollColumnIndex:null!==s&&void 0!==s&&s.scrollbar?i:null}},[s,a,i,n]);return r.createElement(YK.Provider,{value:l},r.createElement("tfoot",{className:"".concat(o,"-summary")},t))});var eG=ZK,tG=function(e){if(Rh()&&window.document.documentElement){var t=Array.isArray(e)?e:[e],n=window.document.documentElement;return t.some(function(e){return e in n.style})}return!1};function nG(e,t){return Array.isArray(e)||void 0===t?tG(e):function(e,t){if(!tG(e))return!1;var n=document.createElement("div"),r=n.style[e];return n.style[e]=t,n.style[e]!==r}(e,t)}function rG(e,t,n,r,a,o,i){var s=o(t,i);e.push({record:t,indent:n,index:i,rowKey:s});var l=null===a||void 0===a?void 0:a.has(s);if(t&&Array.isArray(t[r])&&l)for(var c=0;c<t[r].length;c+=1)rG(e,t[r][c],n+1,r,a,o,c)}function aG(e,t,n,a){var o=r.useMemo(function(){if(null!==n&&void 0!==n&&n.size){for(var r=[],o=0;o<(null===e||void 0===e?void 0:e.length);o+=1){rG(r,e[o],0,t,n,a,o)}return r}return null===e||void 0===e?void 0:e.map(function(e,t){return{record:e,indent:0,index:t,rowKey:a(e,t)}})},[e,t,n,a]);return o}function oG(e,t,n,r){var a,o=AK(HK,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=o.flattenColumns,s=o.expandableType,l=o.expandedKeys,c=o.childrenColumnName,d=o.onTriggerExpand,u=o.rowExpandable,m=o.onRow,g=o.expandRowByClick,p=o.rowClassName,f="nest"===s,h="row"===s&&(!u||u(e)),v=h||f,x=l&&l.has(t),y=c&&e&&e[c],b=Vy(d),k=null===m||void 0===m?void 0:m(e,n),w=null===k||void 0===k?void 0:k.onClick;"string"===typeof p?a=p:"function"===typeof p&&(a=p(e,n,r));var j=VK(i);return Le(Le({},o),{},{columnsKey:j,nestExpandable:f,expanded:x,hasNestChildren:y,record:e,onTriggerExpand:b,rowSupportExpand:h,expandable:v,rowProps:Le(Le({},k),{},{className:Ah()(a,null===k||void 0===k?void 0:k.className),onClick:function(t){g&&v&&d(e,t);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null===w||void 0===w||w.apply(void 0,[t].concat(r))}})})}const iG=function(e){var t=e.prefixCls,n=e.children,a=e.component,o=e.cellComponent,i=e.className,s=e.expanded,l=e.colSpan,c=e.isEmpty,d=e.stickyOffset,u=void 0===d?0:d,m=AK(HK,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),g=m.scrollbarSize,p=m.fixHeader,f=m.fixColumn,h=m.componentWidth,v=m.horizonScroll,x=n;return(c?v&&h:f)&&(x=r.createElement("div",{style:{width:h-u-(p&&!c?g:0),position:"sticky",left:u,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},x)),r.createElement(a,{className:i,style:{display:s?null:"none"}},r.createElement(GK,{component:o,prefixCls:t,colSpan:l},x))};function sG(e){var t=e.prefixCls,n=e.record,a=e.onExpand,o=e.expanded,i=e.expandable,s="".concat(t,"-row-expand-icon");if(!i)return r.createElement("span",{className:Ah()(s,"".concat(t,"-row-spaced"))});return r.createElement("span",{className:Ah()(s,ze(ze({},"".concat(t,"-row-expanded"),o),"".concat(t,"-row-collapsed"),!o)),onClick:function(e){a(n,e),e.stopPropagation()}})}function lG(e,t,n,r){return"string"===typeof e?e:"function"===typeof e?e(t,n,r):""}function cG(e,t,n,a,o){var i,s,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,d=e.record,u=e.prefixCls,m=e.columnsKey,g=e.fixedInfoList,p=e.expandIconColumnIndex,f=e.nestExpandable,h=e.indentSize,v=e.expandIcon,x=e.expanded,y=e.hasNestChildren,b=e.onTriggerExpand,k=e.expandable,w=e.expandedKeys,j=m[n],N=g[n];n===(p||0)&&f&&(s=r.createElement(r.Fragment,null,r.createElement("span",{style:{paddingLeft:"".concat(h*a,"px")},className:"".concat(u,"-row-indent indent-level-").concat(a)}),v({prefixCls:u,expanded:x,expandable:y,record:d,onExpand:b})));var C=(null===(i=t.onCell)||void 0===i?void 0:i.call(t,d,o))||{};if(c){var S=C.rowSpan,E=void 0===S?1:S;if(k&&E&&n<c){for(var _=E,O=o;O<o+E;O+=1){var I=l[O];w.has(I)&&(_+=1)}C.rowSpan=_}}return{key:j,fixedInfo:N,appendCellNode:s,additionalCellProps:C}}const dG=BK(function(e){var t=e.className,n=e.style,a=e.record,o=e.index,i=e.renderIndex,s=e.rowKey,l=e.rowKeys,c=e.indent,d=void 0===c?0:c,u=e.rowComponent,m=e.cellComponent,g=e.scopeCellComponent,p=e.expandedRowInfo,f=oG(a,s,o,d),h=f.prefixCls,v=f.flattenColumns,x=f.expandedRowClassName,y=f.expandedRowRender,b=f.rowProps,k=f.expanded,w=f.rowSupportExpand,j=r.useRef(!1);j.current||(j.current=k);var N,C=lG(x,a,o,d),S=r.createElement(u,jx({},b,{"data-row-key":s,className:Ah()(t,"".concat(h,"-row"),"".concat(h,"-row-level-").concat(d),null===b||void 0===b?void 0:b.className,ze({},C,d>=1)),style:Le(Le({},n),null===b||void 0===b?void 0:b.style)}),v.map(function(e,t){var n=e.render,s=e.dataIndex,c=e.className,u=cG(f,e,t,d,o,l,null===p||void 0===p?void 0:p.offset),v=u.key,x=u.fixedInfo,y=u.appendCellNode,b=u.additionalCellProps;return r.createElement(GK,jx({className:c,ellipsis:e.ellipsis,align:e.align,scope:e.rowScope,component:e.rowScope?g:m,prefixCls:h,key:v,record:a,index:o,renderIndex:i,dataIndex:s,render:n,shouldCellUpdate:e.shouldCellUpdate},x,{appendNode:y,additionalProps:b}))}));if(w&&(j.current||k)){var E=y(a,o,d+1,k);N=r.createElement(iG,{expanded:k,className:Ah()("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(d+1),C),prefixCls:h,component:u,cellComponent:m,colSpan:p?p.colSpan:v.length,stickyOffset:null===p||void 0===p?void 0:p.sticky,isEmpty:!1},E)}return r.createElement(r.Fragment,null,S,N)});function uG(e){var t=e.columnKey,n=e.onColumnResize,a=e.prefixCls,o=e.title,i=r.useRef();return Bh(function(){i.current&&n(t,i.current.offsetWidth)},[]),r.createElement(HI,{data:t},r.createElement("th",{ref:i,className:"".concat(a,"-measure-cell")},r.createElement("div",{className:"".concat(a,"-measure-cell-content")},o||"\xa0")))}function mG(e){var t=e.prefixCls,n=e.columnsKey,a=e.onColumnResize,o=e.columns,i=r.useRef(null),s=AK(HK,["measureRowRender"]).measureRowRender,l=r.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),ref:i,tabIndex:-1},r.createElement(HI.Collection,{onBatchResize:function(e){ev(i.current)&&e.forEach(function(e){var t=e.data,n=e.size;a(t,n.offsetWidth)})}},n.map(function(e){var n=o.find(function(t){return t.key===e}),i=null===n||void 0===n?void 0:n.title,s=r.isValidElement(i)?r.cloneElement(i,{ref:null}):i;return r.createElement(uG,{prefixCls:t,key:e,columnKey:e,onColumnResize:a,title:s})})));return s?s(l):l}const gG=BK(function(e){var t,n=e.data,a=e.measureColumnWidth,o=AK(HK,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode","expandedRowOffset","fixedInfoList","colWidths"]),i=o.prefixCls,s=o.getComponent,l=o.onColumnResize,c=o.flattenColumns,d=o.getRowKey,u=o.expandedKeys,m=o.childrenColumnName,g=o.emptyNode,p=o.expandedRowOffset,f=void 0===p?0:p,h=o.colWidths,v=aG(n,m,u,d),x=r.useMemo(function(){return v.map(function(e){return e.rowKey})},[v]),y=r.useRef({renderWithProps:!1}),b=r.useMemo(function(){for(var e=c.length-f,t=0,n=0;n<f;n+=1)t+=h[n]||0;return{offset:f,colSpan:e,sticky:t}},[c.length,f,h]),k=s(["body","wrapper"],"tbody"),w=s(["body","row"],"tr"),j=s(["body","cell"],"td"),N=s(["body","cell"],"th");t=n.length?v.map(function(e,t){var n=e.record,a=e.indent,o=e.index,i=e.rowKey;return r.createElement(dG,{key:i,rowKey:i,rowKeys:x,record:n,index:t,renderIndex:o,rowComponent:w,cellComponent:j,scopeCellComponent:N,indent:a,expandedRowInfo:b})}):r.createElement(iG,{expanded:!0,className:"".concat(i,"-placeholder"),prefixCls:i,component:w,cellComponent:j,colSpan:c.length,isEmpty:!0},g);var C=VK(c);return r.createElement(WK.Provider,{value:y.current},r.createElement(k,{className:"".concat(i,"-tbody")},a&&r.createElement(mG,{prefixCls:i,columnsKey:C,onColumnResize:l,columns:c}),t))});var pG=["expandable"],fG="RC_TABLE_INTERNAL_COL_DEFINE";var hG=["columnType"];const vG=function(e){for(var t=e.colWidths,n=e.columns,a=e.columCount,o=AK(HK,["tableLayout"]).tableLayout,i=[],s=!1,l=(a||n.length)-1;l>=0;l-=1){var c=t[l],d=n&&n[l],u=void 0,m=void 0;if(d&&(u=d[fG],"auto"===o&&(m=d.minWidth)),c||m||u||s){var g=u||{},p=(g.columnType,Be(g,hG));i.unshift(r.createElement("col",jx({key:l,style:{width:c,minWidth:m}},p))),s=!0}}return i.length>0?r.createElement("colgroup",null,i):null};var xG=["className","noData","columns","flattenColumns","colWidths","colGroup","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","scrollX","tableLayout","onScroll","children"];var yG=r.forwardRef(function(e,t){var n=e.className,a=e.noData,o=e.columns,i=e.flattenColumns,s=e.colWidths,l=e.colGroup,c=e.columCount,d=e.stickyOffsets,u=e.direction,m=e.fixHeader,g=e.stickyTopOffset,p=e.stickyBottomOffset,f=e.stickyClassName,h=e.scrollX,v=e.tableLayout,x=void 0===v?"fixed":v,y=e.onScroll,b=e.children,k=Be(e,xG),w=AK(HK,["prefixCls","scrollbarSize","isSticky","getComponent"]),j=w.prefixCls,N=w.scrollbarSize,C=w.isSticky,S=(0,w.getComponent)(["header","table"],"table"),E=C&&!m?0:N,_=r.useRef(null),O=r.useCallback(function(e){Xh(t,e),Xh(_,e)},[]);r.useEffect(function(){function e(e){var t=e,n=t.currentTarget,r=t.deltaX;r&&(y({currentTarget:n,scrollLeft:n.scrollLeft+r}),e.preventDefault())}var t=_.current;return null===t||void 0===t||t.addEventListener("wheel",e,{passive:!1}),function(){null===t||void 0===t||t.removeEventListener("wheel",e)}},[]);var I=i[i.length-1],M={fixed:I?I.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(j,"-cell-scrollbar")}}},P=(0,r.useMemo)(function(){return E?[].concat(vv(o),[M]):o},[E,o]),T=(0,r.useMemo)(function(){return E?[].concat(vv(i),[M]):i},[E,i]),A=(0,r.useMemo)(function(){var e=d.right,t=d.left;return Le(Le({},d),{},{left:"rtl"===u?[].concat(vv(t.map(function(e){return e+E})),[0]):t,right:"rtl"===u?e:[].concat(vv(e.map(function(e){return e+E})),[0]),isSticky:C})},[E,d,C]),R=function(e,t){return(0,r.useMemo)(function(){for(var n=[],r=0;r<t;r+=1){var a=e[r];if(void 0===a)return null;n[r]=a}return n},[e.join("_"),t])}(s,c),z=(0,r.useMemo)(function(){var e=!R||!R.length||R.every(function(e){return!e});return a||e},[a,R]);return r.createElement("div",{style:Le({overflow:"hidden"},C?{top:g,bottom:p}:{}),ref:O,className:Ah()(n,ze({},f,!!f))},r.createElement(S,{style:{tableLayout:x,minWidth:"100%",width:h}},z?l:r.createElement(vG,{colWidths:[].concat(vv(R),[E]),columCount:c+1,columns:T}),b(Le(Le({},k),{},{stickyOffsets:A,columns:P,flattenColumns:T}))))});const bG=r.memo(yG);const kG=function(e){var t,n=e.cells,a=e.stickyOffsets,o=e.flattenColumns,i=e.rowComponent,s=e.cellComponent,l=e.onHeaderRow,c=e.index,d=AK(HK,["prefixCls","direction"]),u=d.prefixCls,m=d.direction;l&&(t=l(n.map(function(e){return e.column}),c));var g=VK(n.map(function(e){return e.column}));return r.createElement(i,t,n.map(function(e,t){var n,i=e.column,l=XK(e.colStart,e.colEnd,o,a,m);return i&&i.onHeaderCell&&(n=e.column.onHeaderCell(i)),r.createElement(GK,jx({},e,{scope:i.title?e.colSpan>1?"colgroup":"col":null,ellipsis:i.ellipsis,align:i.align,component:s,prefixCls:u,key:g[t]},l,{additionalProps:n,rowType:"header"}))}))};const wG=BK(function(e){var t=e.stickyOffsets,n=e.columns,a=e.flattenColumns,o=e.onHeaderRow,i=AK(HK,["prefixCls","getComponent"]),s=i.prefixCls,l=i.getComponent,c=r.useMemo(function(){return function(e){var t=[];!function e(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t[a]=t[a]||[];var o=r,i=n.filter(Boolean).map(function(n){var r={key:n.key,className:n.className||"",children:n.title,column:n,colStart:o},i=1,s=n.children;return s&&s.length>0&&(i=e(s,o,a+1).reduce(function(e,t){return e+t},0),r.hasSubColumns=!0),"colSpan"in n&&(i=n.colSpan),"rowSpan"in n&&(r.rowSpan=n.rowSpan),r.colSpan=i,r.colEnd=r.colStart+i-1,t[a].push(r),o+=i,i});return i}(e,0);for(var n=t.length,r=function(e){t[e].forEach(function(t){"rowSpan"in t||t.hasSubColumns||(t.rowSpan=n-e)})},a=0;a<n;a+=1)r(a);return t}(n)},[n]),d=l(["header","wrapper"],"thead"),u=l(["header","row"],"tr"),m=l(["header","cell"],"th");return r.createElement(d,{className:"".concat(s,"-thead")},c.map(function(e,n){return r.createElement(kG,{key:n,flattenColumns:a,cells:e,stickyOffsets:t,rowComponent:u,cellComponent:m,onHeaderRow:o,index:n})}))});function jG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"===typeof t?t:t.endsWith("%")?e*parseFloat(t)/100:null}var NG=["children"],CG=["fixed"];function SG(e){return vj(e).filter(function(e){return r.isValidElement(e)}).map(function(e){var t=e.key,n=e.props,r=n.children,a=Le({key:t},Be(n,NG));return r&&(a.children=SG(r)),a})}function EG(e){return e.filter(function(e){return e&&"object"===Ae(e)&&!e.hidden}).map(function(e){var t=e.children;return t&&t.length>0?Le(Le({},e),{},{children:EG(t)}):e})}function _G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter(function(e){return e&&"object"===Ae(e)}).reduce(function(e,n,r){var a=n.fixed,o=!0===a?"left":a,i="".concat(t,"-").concat(r),s=n.children;return s&&s.length>0?[].concat(vv(e),vv(_G(s,i).map(function(e){var t;return Le(Le({},e),{},{fixed:null!==(t=e.fixed)&&void 0!==t?t:o})}))):[].concat(vv(e),[Le(Le({key:i},n),{},{fixed:o})])},[])}const OG=function(e,t){var n=e.prefixCls,a=e.columns,o=e.children,i=e.expandable,s=e.expandedKeys,l=e.columnTitle,c=e.getRowKey,d=e.onTriggerExpand,u=e.expandIcon,m=e.rowExpandable,g=e.expandIconColumnIndex,p=e.expandedRowOffset,f=void 0===p?0:p,h=e.direction,v=e.expandRowByClick,x=e.columnWidth,y=e.fixed,b=e.scrollWidth,k=e.clientWidth,w=r.useMemo(function(){return EG((a||SG(o)||[]).slice())},[a,o]),j=r.useMemo(function(){if(i){var e=w.slice();if(!e.includes(MK)){var t=g||0,a=0===t&&"right"===y?w.length:t;a>=0&&e.splice(a,0,MK)}0;var o=e.indexOf(MK);e=e.filter(function(e,t){return e!==MK||t===o});var p,h=w[o];p=y||(h?h.fixed:null);var b=ze(ze(ze(ze(ze(ze({},fG,{className:"".concat(n,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",l),"fixed",p),"className","".concat(n,"-row-expand-icon-cell")),"width",x),"render",function(e,t,a){var o=c(t,a),i=s.has(o),l=!m||m(t),g=u({prefixCls:n,expanded:i,expandable:l,record:t,onExpand:d});return v?r.createElement("span",{onClick:function(e){return e.stopPropagation()}},g):g});return e.map(function(e,t){var n=e===MK?b:e;return t<f?Le(Le({},n),{},{fixed:n.fixed||"left"}):n})}return w.filter(function(e){return e!==MK})},[i,w,c,s,u,h,f]),N=r.useMemo(function(){var e=j;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e},[t,j,h]),C=r.useMemo(function(){return"rtl"===h?function(e){return e.map(function(e){var t=e.fixed,n=t;return"left"===t?n="right":"right"===t&&(n="left"),Le({fixed:n},Be(e,CG))})}(_G(N)):_G(N)},[N,h,b]),S=r.useMemo(function(){for(var e=-1,t=C.length-1;t>=0;t-=1){var n=C[t].fixed;if("left"===n||!0===n){e=t;break}}if(e>=0)for(var r=0;r<=e;r+=1){var a=C[r].fixed;if("left"!==a&&!0!==a)return!0}var o=C.findIndex(function(e){return"right"===e.fixed});if(o>=0)for(var i=o;i<C.length;i+=1){if("right"!==C[i].fixed)return!0}return!1},[C]),E=function(e,t,n){return r.useMemo(function(){if(t&&t>0){var r=0,a=0;e.forEach(function(e){var n=jG(t,e.width);n?r+=n:a+=1});var o=Math.max(t,n),i=Math.max(o-r,a),s=a,l=i/a,c=0,d=e.map(function(e){var n=Le({},e),r=jG(t,n.width);if(r)n.width=r;else{var a=Math.floor(l);n.width=1===s?i:a,i-=a,s-=1}return c+=n.width,n});if(c<o){var u=o/c;i=o,d.forEach(function(e,t){var n=Math.floor(e.width*u);e.width=t===d.length-1?i:n,i-=n})}return[d,Math.max(c,o)]}return[e,t]},[e,t,n])}(C,b,k),_=fv(E,2),O=_[0],I=_[1];return[N,O,I,S]};function IG(e,t,n){var a=function(e){var t,n=e.expandable,r=Be(e,pG);return!1===(t="expandable"in e?Le(Le({},r),n):r).showExpandColumn&&(t.expandIconColumnIndex=-1),t}(e),o=a.expandIcon,i=a.expandedRowKeys,s=a.defaultExpandedRowKeys,l=a.defaultExpandAllRows,c=a.expandedRowRender,d=a.onExpand,u=a.onExpandedRowsChange,m=o||sG,g=a.childrenColumnName||"children",p=r.useMemo(function(){return c?"row":!!(e.expandable&&e.internalHooks===PK&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(e){return e&&"object"===Ae(e)&&e[g]}))&&"nest"},[!!c,t]),f=r.useState(function(){return s||(l?function(e,t,n){var r=[];return function e(a){(a||[]).forEach(function(a,o){r.push(t(a,o)),e(a[n])})}(e),r}(t,n,g):[])}),h=fv(f,2),v=h[0],x=h[1],y=r.useMemo(function(){return new Set(i||v||[])},[i,v]),b=r.useCallback(function(e){var r,a=n(e,t.indexOf(e)),o=y.has(a);o?(y.delete(a),r=vv(y)):r=[].concat(vv(y),[a]),x(r),d&&d(!o,e),u&&u(r)},[n,y,t,d,u]);return[a,p,y,m,g,b]}var MG=Rh()?window:null;const PG=function(e,t,n){var a=(0,r.useMemo)(function(){var r=t.length,a=function(n,r,a){for(var o=[],i=0,s=n;s!==r;s+=a)o.push(i),t[s].fixed&&(i+=e[s]||0);return o},o=a(0,r,1),i=a(r-1,-1,-1).reverse();return"rtl"===n?{left:i,right:o}:{left:o,right:i}},[e,t,n]);return a};const TG=function(e){var t=e.className,n=e.children;return r.createElement("div",{className:t},n)};function AG(e,t,n,r){var a=we.unstable_batchedUpdates?function(e){we.unstable_batchedUpdates(n,e)}:n;return null!==e&&void 0!==e&&e.addEventListener&&e.addEventListener(t,a,r),{remove:function(){null!==e&&void 0!==e&&e.removeEventListener&&e.removeEventListener(t,a,r)}}}function RG(e){var t=Hk(e).getBoundingClientRect(),n=document.documentElement;return{left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var zG=function(e,t){var n,a,o=e.scrollBodyRef,i=e.onScroll,s=e.offsetScroll,l=e.container,c=e.direction,d=AK(HK,"prefixCls"),u=(null===(n=o.current)||void 0===n?void 0:n.scrollWidth)||0,m=(null===(a=o.current)||void 0===a?void 0:a.clientWidth)||0,g=u&&m*(m/u),p=r.useRef(),f=function(e){var t=(0,r.useRef)(e),n=fv((0,r.useState)({}),2)[1],a=(0,r.useRef)(null),o=(0,r.useRef)([]);return(0,r.useEffect)(function(){return function(){a.current=null}},[]),[t.current,function(e){o.current.push(e);var r=Promise.resolve();a.current=r,r.then(function(){if(a.current===r){var e=o.current,i=t.current;o.current=[],e.forEach(function(e){t.current=e(t.current)}),a.current=null,i!==t.current&&n({})}})}]}({scrollLeft:0,isHiddenScrollBar:!0}),h=fv(f,2),v=h[0],x=h[1],y=r.useRef({delta:0,x:0}),b=fv(r.useState(!1),2),k=b[0],w=b[1],j=r.useRef(null);r.useEffect(function(){return function(){Lk.cancel(j.current)}},[]);var N=function(){w(!1)},C=function(e){var t,n=(e||(null===(t=window)||void 0===t?void 0:t.event)).buttons;if(k&&0!==n){var r=y.current.x+e.pageX-y.current.x-y.current.delta,a="rtl"===c;r=Math.max(a?g-m:0,Math.min(a?0:m-g,r)),(!a||Math.abs(r)+Math.abs(g)<m)&&(i({scrollLeft:r/m*(u+2)}),y.current.x=e.pageX)}else k&&w(!1)},S=function(){Lk.cancel(j.current),j.current=Lk(function(){if(o.current){var e=RG(o.current).top,t=e+o.current.offsetHeight,n=l===window?document.documentElement.scrollTop+window.innerHeight:RG(l).top+l.clientHeight;x(function(r){return Le(Le({},r),{},{isHiddenScrollBar:t-nI()<=n||e>=n-s})})}})},E=function(e){x(function(t){return Le(Le({},t),{},{scrollLeft:u?e/u*m:0})})};return r.useImperativeHandle(t,function(){return{setScrollLeft:E,checkScrollBarVisible:S}}),r.useEffect(function(){var e=AG(document.body,"mouseup",N,!1),t=AG(document.body,"mousemove",C,!1);return S(),function(){e.remove(),t.remove()}},[g,k]),r.useEffect(function(){if(o.current){for(var e=[],t=Hk(o.current);t;)e.push(t),t=t.parentElement;return e.forEach(function(e){return e.addEventListener("scroll",S,!1)}),window.addEventListener("resize",S,!1),window.addEventListener("scroll",S,!1),l.addEventListener("scroll",S,!1),function(){e.forEach(function(e){return e.removeEventListener("scroll",S)}),window.removeEventListener("resize",S),window.removeEventListener("scroll",S),l.removeEventListener("scroll",S)}}},[l]),r.useEffect(function(){v.isHiddenScrollBar||x(function(e){var t=o.current;return t?Le(Le({},e),{},{scrollLeft:t.scrollLeft/t.scrollWidth*t.clientWidth}):e})},[v.isHiddenScrollBar]),u<=m||!g||v.isHiddenScrollBar?null:r.createElement("div",{style:{height:nI(),width:m,bottom:s},className:"".concat(d,"-sticky-scroll")},r.createElement("div",{onMouseDown:function(e){e.persist(),y.current.delta=e.pageX-v.scrollLeft,y.current.x=0,w(!0),e.preventDefault()},ref:p,className:Ah()("".concat(d,"-sticky-scroll-bar"),ze({},"".concat(d,"-sticky-scroll-bar-active"),k)),style:{width:"".concat(g,"px"),transform:"translate3d(".concat(v.scrollLeft,"px, 0, 0)")}}))};const DG=r.forwardRef(zG);const LG=function(e){return null};const BG=function(e){return null};var FG="rc-table",HG=[],WG={};function VG(){return"No Data"}function qG(e,t){var n=Le({rowKey:"key",prefixCls:FG,emptyText:VG},e),a=n.prefixCls,o=n.className,i=n.rowClassName,s=n.style,l=n.data,c=n.rowKey,d=n.scroll,u=n.tableLayout,m=n.direction,g=n.title,p=n.footer,f=n.summary,h=n.caption,v=n.id,x=n.showHeader,y=n.components,b=n.emptyText,k=n.onRow,w=n.onHeaderRow,j=n.measureRowRender,N=n.onScroll,C=n.internalHooks,S=n.transformColumns,E=n.internalRefs,_=n.tailor,O=n.getContainerWidth,I=n.sticky,M=n.rowHoverable,P=void 0===M||M,T=l||HG,A=!!T.length,R=C===PK;var z=r.useCallback(function(e,t){return Gy(y,e)||t},[y]),D=r.useMemo(function(){return"function"===typeof c?c:function(e){return e&&e[c]}},[c]),L=z(["body"]),B=function(){var e=fv(r.useState(-1),2),t=e[0],n=e[1],a=fv(r.useState(-1),2),o=a[0],i=a[1],s=r.useCallback(function(e,t){n(e),i(t)},[]);return[t,o,s]}(),F=fv(B,3),H=F[0],W=F[1],V=F[2],q=fv(IG(n,T,D),6),U=q[0],K=q[1],G=q[2],X=q[3],Y=q[4],$=q[5],J=null===d||void 0===d?void 0:d.x,Z=fv(r.useState(0),2),Q=Z[0],ee=Z[1],te=fv(OG(Le(Le(Le({},n),U),{},{expandable:!!U.expandedRowRender,columnTitle:U.columnTitle,expandedKeys:G,getRowKey:D,onTriggerExpand:$,expandIcon:X,expandIconColumnIndex:U.expandIconColumnIndex,direction:m,scrollWidth:R&&_&&"number"===typeof J?J:null,clientWidth:Q}),R?S:null),4),ne=te[0],re=te[1],ae=te[2],oe=te[3],ie=null!==ae&&void 0!==ae?ae:J,se=r.useMemo(function(){return{columns:ne,flattenColumns:re}},[ne,re]),le=r.useRef(),ce=r.useRef(),de=r.useRef(),ue=r.useRef();r.useImperativeHandle(t,function(){return{nativeElement:le.current,scrollTo:function(e){var t,n;if(de.current instanceof HTMLElement){var r=e.index,a=e.top,o=e.key;if("number"!==typeof(n=a)||Number.isNaN(n)){var i,s=null!==o&&void 0!==o?o:D(T[r]);null===(i=de.current.querySelector('[data-row-key="'.concat(s,'"]')))||void 0===i||i.scrollIntoView()}else{var l;null===(l=de.current)||void 0===l||l.scrollTo({top:a})}}else null!==(t=de.current)&&void 0!==t&&t.scrollTo&&de.current.scrollTo(e)}}});var me,ge,pe,fe=r.useRef(),he=fv(r.useState(!1),2),ve=he[0],xe=he[1],ye=fv(r.useState(!1),2),be=ye[0],ke=ye[1],we=fv(r.useState(new Map),2),je=we[0],Ne=we[1],Ce=VK(re).map(function(e){return je.get(e)}),Se=r.useMemo(function(){return Ce},[Ce.join("_")]),Ee=PG(Se,re,m),_e=d&&qK(d.y),Oe=d&&qK(ie)||Boolean(U.fixed),Ie=Oe&&re.some(function(e){return e.fixed}),Me=r.useRef(),Pe=function(e,t){var n="object"===Ae(e)?e:{},a=n.offsetHeader,o=void 0===a?0:a,i=n.offsetSummary,s=void 0===i?0:i,l=n.offsetScroll,c=void 0===l?0:l,d=n.getContainer,u=(void 0===d?function(){return MG}:d)()||MG,m=!!e;return r.useMemo(function(){return{isSticky:m,stickyClassName:m?"".concat(t,"-sticky-holder"):"",offsetHeader:o,offsetSummary:s,offsetScroll:c,container:u}},[m,c,o,s,t,u])}(I,a),Te=Pe.isSticky,Re=Pe.offsetHeader,De=Pe.offsetSummary,Be=Pe.offsetScroll,Fe=Pe.stickyClassName,He=Pe.container,We=r.useMemo(function(){return null===f||void 0===f?void 0:f(T)},[f,T]),Ve=(_e||Te)&&r.isValidElement(We)&&We.type===ZK&&We.props.fixed;_e&&(ge={overflowY:A?"scroll":"auto",maxHeight:d.y}),Oe&&(me={overflowX:"auto"},_e||(ge={overflowY:"hidden"}),pe={width:!0===ie?"auto":ie,minWidth:"100%"});var qe=r.useCallback(function(e,t){Ne(function(n){if(n.get(e)!==t){var r=new Map(n);return r.set(e,t),r}return n})},[]),Ue=fv(function(e){var t=(0,r.useRef)(e||null),n=(0,r.useRef)();function a(){window.clearTimeout(n.current)}return(0,r.useEffect)(function(){return a},[]),[function(e){t.current=e,a(),n.current=window.setTimeout(function(){t.current=null,n.current=void 0},100)},function(){return t.current}]}(null),2),Ke=Ue[0],Ge=Ue[1];function Xe(e,t){t&&("function"===typeof t?t(e):t.scrollLeft!==e&&(t.scrollLeft=e,t.scrollLeft!==e&&setTimeout(function(){t.scrollLeft=e},0)))}var Ye=Vy(function(e){var t,n=e.currentTarget,r=e.scrollLeft,a="rtl"===m,o="number"===typeof r?r:n.scrollLeft,i=n||WG;Ge()&&Ge()!==i||(Ke(i),Xe(o,ce.current),Xe(o,de.current),Xe(o,fe.current),Xe(o,null===(t=Me.current)||void 0===t?void 0:t.setScrollLeft));var s=n||ce.current;if(s){var l=R&&_&&"number"===typeof ie?ie:s.scrollWidth,c=s.clientWidth;if(l===c)return xe(!1),void ke(!1);a?(xe(-o<l-c),ke(-o>0)):(xe(o>0),ke(o<l-c))}}),$e=Vy(function(e){Ye(e),null===N||void 0===N||N(e)}),Je=function(){var e;Oe&&de.current?Ye({currentTarget:Hk(de.current),scrollLeft:null===(e=de.current)||void 0===e?void 0:e.scrollLeft}):(xe(!1),ke(!1))},Ze=r.useRef(!1);r.useEffect(function(){Ze.current&&Je()},[Oe,l,ne.length]),r.useEffect(function(){Ze.current=!0},[]);var Qe=fv(r.useState(0),2),et=Qe[0],tt=Qe[1],nt=fv(r.useState(!0),2),rt=nt[0],at=nt[1];Bh(function(){_&&R||(de.current instanceof Element?tt(rI(de.current).width):tt(rI(ue.current).width)),at(nG("position","sticky"))},[]),r.useEffect(function(){R&&E&&(E.body.current=de.current)});var ot,it=r.useCallback(function(e){return r.createElement(r.Fragment,null,r.createElement(wG,e),"top"===Ve&&r.createElement(QK,e,We))},[Ve,We]),st=r.useCallback(function(e){return r.createElement(QK,e,We)},[We]),lt=z(["table"],"table"),ct=r.useMemo(function(){return u||(Ie?"max-content"===ie?"auto":"fixed":_e||Te||re.some(function(e){return e.ellipsis})?"fixed":"auto")},[_e,Ie,re,u,Te]),dt={colWidths:Se,columCount:re.length,stickyOffsets:Ee,onHeaderRow:w,fixHeader:_e,scroll:d},ut=r.useMemo(function(){return A?null:"function"===typeof b?b():b},[A,b]),mt=r.createElement(gG,{data:T,measureColumnWidth:_e||Oe||Te}),gt=r.createElement(vG,{colWidths:re.map(function(e){return e.width}),columns:re}),pt=null!==h&&void 0!==h?r.createElement("caption",{className:"".concat(a,"-caption")},h):void 0,ft=nS(n,{data:!0}),ht=nS(n,{aria:!0});if(_e||Te){var vt;"function"===typeof L?(vt=L(T,{scrollbarSize:et,ref:de,onScroll:Ye}),dt.colWidths=re.map(function(e,t){var n=e.width,r=t===re.length-1?n-et:n;return"number"!==typeof r||Number.isNaN(r)?0:r})):vt=r.createElement("div",{style:Le(Le({},me),ge),onScroll:$e,ref:de,className:Ah()("".concat(a,"-body"))},r.createElement(lt,jx({style:Le(Le({},pe),{},{tableLayout:ct})},ht),pt,gt,mt,!Ve&&We&&r.createElement(QK,{stickyOffsets:Ee,flattenColumns:re},We)));var xt=Le(Le(Le({noData:!T.length},dt),se),{},{direction:m,stickyClassName:Fe,scrollX:ie,tableLayout:ct,onScroll:Ye});ot=r.createElement(r.Fragment,null,!1!==x&&r.createElement(bG,jx({},xt,{stickyTopOffset:Re,className:"".concat(a,"-header"),ref:ce,colGroup:gt}),it),vt,Ve&&"top"!==Ve&&r.createElement(bG,jx({},xt,{stickyBottomOffset:De,className:"".concat(a,"-summary"),ref:fe,colGroup:gt}),st),Te&&de.current&&de.current instanceof Element&&r.createElement(DG,{ref:Me,offsetScroll:Be,scrollBodyRef:de,onScroll:Ye,container:He,direction:m}))}else ot=r.createElement("div",{style:Le(Le({},me),ge),className:Ah()("".concat(a,"-content")),onScroll:Ye,ref:de},r.createElement(lt,jx({style:Le(Le({},pe),{},{tableLayout:ct})},ht),pt,gt,!1!==x&&r.createElement(wG,jx({},dt,se)),mt,We&&r.createElement(QK,{stickyOffsets:Ee,flattenColumns:re},We)));var yt=r.createElement("div",jx({className:Ah()(a,o,ze(ze(ze(ze(ze(ze(ze(ze(ze(ze({},"".concat(a,"-rtl"),"rtl"===m),"".concat(a,"-ping-left"),ve),"".concat(a,"-ping-right"),be),"".concat(a,"-layout-fixed"),"fixed"===u),"".concat(a,"-fixed-header"),_e),"".concat(a,"-fixed-column"),Ie),"".concat(a,"-fixed-column-gapped"),Ie&&oe),"".concat(a,"-scroll-horizontal"),Oe),"".concat(a,"-has-fix-left"),re[0]&&re[0].fixed),"".concat(a,"-has-fix-right"),re[re.length-1]&&"right"===re[re.length-1].fixed)),style:s,id:v,ref:le},ft),g&&r.createElement(TG,{className:"".concat(a,"-title")},g(T)),r.createElement("div",{ref:ue,className:"".concat(a,"-container")},ot),p&&r.createElement(TG,{className:"".concat(a,"-footer")},p(T)));Oe&&(yt=r.createElement(HI,{onResize:function(e){var t,n=e.width;null===(t=Me.current)||void 0===t||t.checkScrollBarVisible();var r=le.current?le.current.offsetWidth:n;R&&O&&le.current&&(r=O(le.current,r)||r),r!==Q&&(Je(),ee(r))}},yt));var bt=function(e,t,n){var r=e.map(function(r,a){return XK(a,a,e,t,n)});return Wh(function(){return r},[r],function(e,t){return!Dv(e,t)})}(re,Ee,m),kt=r.useMemo(function(){return{scrollX:ie,prefixCls:a,getComponent:z,scrollbarSize:et,direction:m,fixedInfoList:bt,isSticky:Te,supportSticky:rt,componentWidth:Q,fixHeader:_e,fixColumn:Ie,horizonScroll:Oe,tableLayout:ct,rowClassName:i,expandedRowClassName:U.expandedRowClassName,expandIcon:X,expandableType:K,expandRowByClick:U.expandRowByClick,expandedRowRender:U.expandedRowRender,expandedRowOffset:U.expandedRowOffset,onTriggerExpand:$,expandIconColumnIndex:U.expandIconColumnIndex,indentSize:U.indentSize,allColumnsFixedLeft:re.every(function(e){return"left"===e.fixed}),emptyNode:ut,columns:ne,flattenColumns:re,onColumnResize:qe,colWidths:Se,hoverStartRow:H,hoverEndRow:W,onHover:V,rowExpandable:U.rowExpandable,onRow:k,getRowKey:D,expandedKeys:G,childrenColumnName:Y,rowHoverable:P,measureRowRender:j}},[ie,a,z,et,m,bt,Te,rt,Q,_e,Ie,Oe,ct,i,U.expandedRowClassName,X,K,U.expandRowByClick,U.expandedRowRender,U.expandedRowOffset,$,U.expandIconColumnIndex,U.indentSize,ut,ne,re,qe,Se,H,W,V,U.rowExpandable,k,D,G,Y,P,j]);return r.createElement(HK.Provider,{value:kt},yt)}var UG=r.forwardRef(qG);function KG(e){return LK(UG,e)}var GG=KG();GG.EXPAND_COLUMN=MK,GG.INTERNAL_HOOKS=PK,GG.Column=LG,GG.ColumnGroup=BG,GG.Summary=eG;const XG=GG;var YG=TK(null),$G=TK(null);const JG=function(e){var t=e.rowInfo,n=e.column,a=e.colIndex,o=e.indent,i=e.index,s=e.component,l=e.renderIndex,c=e.record,d=e.style,u=e.className,m=e.inverse,g=e.getHeight,p=n.render,f=n.dataIndex,h=n.className,v=n.width,x=AK($G,["columnsOffset"]).columnsOffset,y=cG(t,n,a,o,i),b=y.key,k=y.fixedInfo,w=y.appendCellNode,j=y.additionalCellProps,N=j.style,C=j.colSpan,S=void 0===C?1:C,E=j.rowSpan,_=void 0===E?1:E,O=function(e,t,n){return n[e+(t||1)]-(n[e]||0)}(a-1,S,x),I=S>1?v-O:0,M=Le(Le(Le({},N),d),{},{flex:"0 0 ".concat(O,"px"),width:"".concat(O,"px"),marginRight:I,pointerEvents:"auto"}),P=r.useMemo(function(){return m?_<=1:0===S||0===_||_>1},[_,S,m]);P?M.visibility="hidden":m&&(M.height=null===g||void 0===g?void 0:g(_));var T=P?function(){return null}:p,A={};return 0!==_&&0!==S||(A.rowSpan=1,A.colSpan=1),r.createElement(GK,jx({className:Ah()(h,u),ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:s,prefixCls:t.prefixCls,key:b,record:c,index:i,renderIndex:l,dataIndex:f,render:T,shouldCellUpdate:n.shouldCellUpdate},k,{appendNode:w,additionalProps:Le(Le({},j),{},{style:M},A)}))};var ZG=["data","index","className","rowKey","style","extra","getHeight"],QG=r.forwardRef(function(e,t){var n,a=e.data,o=e.index,i=e.className,s=e.rowKey,l=e.style,c=e.extra,d=e.getHeight,u=Be(e,ZG),m=a.record,g=a.indent,p=a.index,f=AK(HK,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),h=f.scrollX,v=f.flattenColumns,x=f.prefixCls,y=f.fixColumn,b=f.componentWidth,k=AK(YG,["getComponent"]).getComponent,w=oG(m,s,o,g),j=k(["body","row"],"div"),N=k(["body","cell"],"div"),C=w.rowSupportExpand,S=w.expanded,E=w.rowProps,_=w.expandedRowRender,O=w.expandedRowClassName;if(C&&S){var I=_(m,o,g+1,S),M=lG(O,m,o,g),P={};y&&(P={style:ze({},"--virtual-width","".concat(b,"px"))});var T="".concat(x,"-expanded-row-cell");n=r.createElement(j,{className:Ah()("".concat(x,"-expanded-row"),"".concat(x,"-expanded-row-level-").concat(g+1),M)},r.createElement(GK,{component:N,prefixCls:x,className:Ah()(T,ze({},"".concat(T,"-fixed"),y)),additionalProps:P},I))}var A=Le(Le({},l),{},{width:h});c&&(A.position="absolute",A.pointerEvents="none");var R=r.createElement(j,jx({},E,u,{"data-row-key":s,ref:C?null:t,className:Ah()(i,"".concat(x,"-row"),null===E||void 0===E?void 0:E.className,ze({},"".concat(x,"-row-extra"),c)),style:Le(Le({},A),null===E||void 0===E?void 0:E.style)}),v.map(function(e,t){return r.createElement(JG,{key:t,component:N,rowInfo:w,column:e,colIndex:t,indent:g,index:o,renderIndex:p,record:m,inverse:c,getHeight:d})}));return C?r.createElement("div",{ref:t},R,n):R});const eX=BK(QG);var tX=r.forwardRef(function(e,t){var n=e.data,a=e.onScroll,o=AK(HK,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),i=o.flattenColumns,s=o.onColumnResize,l=o.getRowKey,c=o.expandedKeys,d=o.prefixCls,u=o.childrenColumnName,m=o.scrollX,g=o.direction,p=AK(YG),f=p.sticky,h=p.scrollY,v=p.listItemHeight,x=p.getComponent,y=p.onScroll,b=r.useRef(),k=aG(n,u,c,l),w=r.useMemo(function(){var e=0;return i.map(function(t){var n=t.width,r=t.minWidth,a=t.key,o=Math.max(n||0,r||0);return[a,o,e+=o]})},[i]),j=r.useMemo(function(){return w.map(function(e){return e[2]})},[w]);r.useEffect(function(){w.forEach(function(e){var t=fv(e,2),n=t[0],r=t[1];s(n,r)})},[w]),r.useImperativeHandle(t,function(){var e,t={scrollTo:function(e){var t;null===(t=b.current)||void 0===t||t.scrollTo(e)},nativeElement:null===(e=b.current)||void 0===e?void 0:e.nativeElement};return Object.defineProperty(t,"scrollLeft",{get:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var t;null===(t=b.current)||void 0===t||t.scrollTo({left:e})}}),Object.defineProperty(t,"scrollTop",{get:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.getScrollInfo().y)||0},set:function(e){var t;null===(t=b.current)||void 0===t||t.scrollTo({top:e})}}),t});var N=function(e,t){var n,r=null===(n=k[t])||void 0===n?void 0:n.record,a=e.onCell;if(a){var o,i=a(r,t);return null!==(o=null===i||void 0===i?void 0:i.rowSpan)&&void 0!==o?o:1}return 1},C=r.useMemo(function(){return{columnsOffset:j}},[j]),S="".concat(d,"-tbody"),E=x(["body","wrapper"]),_={};return f&&(_.position="sticky",_.bottom=0,"object"===Ae(f)&&f.offsetScroll&&(_.bottom=f.offsetScroll)),r.createElement($G.Provider,{value:C},r.createElement(nD,{fullHeight:!1,ref:b,prefixCls:"".concat(S,"-virtual"),styles:{horizontalScrollBar:_},className:S,height:h,itemHeight:v||24,data:k,itemKey:function(e){return l(e.record)},component:E,scrollWidth:m,direction:g,onVirtualScroll:function(e){var t,n=e.x;a({currentTarget:null===(t=b.current)||void 0===t?void 0:t.nativeElement,scrollLeft:n})},onScroll:y,extraRender:function(e){var t=e.start,n=e.end,a=e.getSize,o=e.offsetY;if(n<0)return null;for(var s=i.filter(function(e){return 0===N(e,t)}),c=t,d=function(e){if(s=s.filter(function(t){return 0===N(t,e)}),!s.length)return c=e,1},u=t;u>=0&&!d(u);u-=1);for(var m=i.filter(function(e){return 1!==N(e,n)}),g=n,p=function(e){if(m=m.filter(function(t){return 1!==N(t,e)}),!m.length)return g=Math.max(e-1,n),1},f=n;f<k.length&&!p(f);f+=1);for(var h=[],v=function(e){if(!k[e])return 1;i.some(function(t){return N(t,e)>1})&&h.push(e)},x=c;x<=g;x+=1)v(x);var y=h.map(function(e){var t=k[e],n=l(t.record,e),i=a(n);return r.createElement(eX,{key:e,data:t,rowKey:n,index:e,style:{top:-o+i.top},extra:!0,getHeight:function(t){var r=e+t-1,o=l(k[r].record,r),i=a(n,o);return i.bottom-i.top}})});return y}},function(e,t,n){var a=l(e.record,t);return r.createElement(eX,{data:e,rowKey:a,index:t,style:n.style})}))});const nX=BK(tX);var rX=function(e,t){var n=t.ref,a=t.onScroll;return r.createElement(nX,{ref:n,data:e,onScroll:a})};function aX(e,t){var n=e.data,a=e.columns,o=e.scroll,i=e.sticky,s=e.prefixCls,l=void 0===s?FG:s,c=e.className,d=e.listItemHeight,u=e.components,m=e.onScroll,g=o||{},p=g.x,f=g.y;"number"!==typeof p&&(p=1),"number"!==typeof f&&(f=500);var h=Vy(function(e,t){return Gy(u,e)||t}),v=Vy(m),x=r.useMemo(function(){return{sticky:i,scrollY:f,listItemHeight:d,getComponent:h,onScroll:v}},[i,f,d,h,v]);return r.createElement(YG.Provider,{value:x},r.createElement(XG,jx({},e,{className:Ah()(c,"".concat(l,"-virtual")),scroll:Le(Le({},o),{},{x:p}),components:Le(Le({},u),{},{body:null!==n&&void 0!==n&&n.length?rX:void 0}),columns:a,internalHooks:PK,tailor:!0,ref:t})))}var oX=r.forwardRef(aX);function iX(e){return LK(oX,e)}iX();const sX=e=>null,lX=e=>null;var cX=r.createContext(null),dX=r.createContext({}),uX=function(e){for(var t=e.prefixCls,n=e.level,a=e.isStart,o=e.isEnd,i="".concat(t,"-indent-unit"),s=[],l=0;l<n;l+=1)s.push(r.createElement("span",{key:l,className:Ah()(i,ze(ze({},"".concat(i,"-start"),a[l]),"".concat(i,"-end"),o[l]))}));return r.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)};const mX=r.memo(uX);function gX(e,t){return e[t]}var pX=["children"];function fX(e,t){return"".concat(e,"-").concat(t)}function hX(e,t){return null!==e&&void 0!==e?e:t}function vX(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function xX(e){return function e(t){return vj(t).map(function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return zv(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,r=t.props,a=r.children,o=Le({key:n},Be(r,pX)),i=e(a);return i.length&&(o.children=i),o}).filter(function(e){return e})}(e)}function yX(e,t,n){var r=vX(n),a=r._title,o=r.key,i=r.children,s=new Set(!0===t?[]:t),l=[];return function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map(function(c,d){for(var u,m=fX(r?r.pos:"0",d),g=hX(c[o],m),p=0;p<a.length;p+=1){var f=a[p];if(void 0!==c[f]){u=c[f];break}}var h=Object.assign(Fh(c,[].concat(vv(a),[o,i])),{title:u,key:g,parent:r,pos:m,children:null,data:c,isStart:[].concat(vv(r?r.isStart:[]),[0===d]),isEnd:[].concat(vv(r?r.isEnd:[]),[d===n.length-1])});return l.push(h),!0===t||s.has(g)?h.children=e(c[i]||[],h):h.children=[],h})}(e),l}function bX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,r=t.processEntity,a=t.onProcessFinished,o=t.externalGetKey,i=t.childrenPropName,s=t.fieldNames,l=o||(arguments.length>2?arguments[2]:void 0),c={},d={},u={posEntities:c,keyEntities:d};return n&&(u=n(u)||u),function(e,t,n){var r,a=("object"===Ae(n)?n:{externalGetKey:n})||{},o=a.childrenPropName,i=a.externalGetKey,s=vX(a.fieldNames),l=s.key,c=s.children,d=o||c;i?"string"===typeof i?r=function(e){return e[i]}:"function"===typeof i&&(r=function(e){return i(e)}):r=function(e,t){return hX(e[l],t)},function n(a,o,i,s){var l=a?a[d]:e,c=a?fX(i.pos,o):"0",u=a?[].concat(vv(s),[a]):[];if(a){var m=r(a,c),g={node:a,index:o,pos:c,key:m,parentPos:i.node?i.pos:null,level:i.level+1,nodes:u};t(g)}l&&l.forEach(function(e,t){n(e,t,{node:a,pos:c,level:i?i.level+1:-1},u)})}(null)}(e,function(e){var t=e.node,n=e.index,a=e.pos,o=e.key,i=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:n,key:o,pos:a,level:s},m=hX(o,a);c[a]=l,d[m]=l,l.parent=c[i],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),r&&r(l,u)},{externalGetKey:l,childrenPropName:i,fieldNames:s}),a&&a(u),u}function kX(e,t){var n=t.expandedKeys,r=t.selectedKeys,a=t.loadedKeys,o=t.loadingKeys,i=t.checkedKeys,s=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,d=gX(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==r.indexOf(e),loaded:-1!==a.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==s.indexOf(e),pos:String(d?d.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}}function wX(e){var t=e.data,n=e.expanded,r=e.selected,a=e.checked,o=e.loaded,i=e.loading,s=e.halfChecked,l=e.dragOver,c=e.dragOverGapTop,d=e.dragOverGapBottom,u=e.pos,m=e.active,g=e.eventKey,p=Le(Le({},t),{},{expanded:n,selected:r,checked:a,loaded:o,loading:i,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:d,pos:u,active:m,key:g});return"props"in p||Object.defineProperty(p,"props",{get:function(){return zv(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),p}var jX=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],NX="open",CX="close",SX=function(e){var t,n,a,o=e.eventKey,i=e.className,s=e.style,l=e.dragOver,c=e.dragOverGapTop,d=e.dragOverGapBottom,u=e.isLeaf,m=e.isStart,g=e.isEnd,p=e.expanded,f=e.selected,h=e.checked,v=e.halfChecked,x=e.loading,y=e.domRef,b=e.active,k=e.data,w=e.onMouseMove,j=e.selectable,N=Be(e,jX),C=r.useContext(cX),S=r.useContext(dX),E=r.useRef(null),_=fv(r.useState(!1),2),O=_[0],I=_[1],M=!!(C.disabled||e.disabled||null!==(t=S.nodeDisabled)&&void 0!==t&&t.call(S,k)),P=r.useMemo(function(){return!(!C.checkable||!1===e.checkable)&&C.checkable},[C.checkable,e.checkable]),T=function(t){M||P&&!e.disableCheckbox&&C.onNodeCheck(t,wX(e),!h)},A=r.useMemo(function(){return"boolean"===typeof j?j:C.selectable},[j,C.selectable]),R=function(t){C.onNodeClick(t,wX(e)),A?function(t){M||C.onNodeSelect(t,wX(e))}(t):T(t)},z=function(t){C.onNodeDoubleClick(t,wX(e))},D=function(t){C.onNodeMouseEnter(t,wX(e))},L=function(t){C.onNodeMouseLeave(t,wX(e))},B=function(t){C.onNodeContextMenu(t,wX(e))},F=r.useMemo(function(){return!(!C.draggable||C.draggable.nodeDraggable&&!C.draggable.nodeDraggable(k))},[C.draggable,k]),H=function(t){x||C.onNodeExpand(t,wX(e))},W=r.useMemo(function(){var e=(gX(C.keyEntities,o)||{}).children;return Boolean((e||[]).length)},[C.keyEntities,o]),V=r.useMemo(function(){return!1!==u&&(u||!C.loadData&&!W||C.loadData&&e.loaded&&!W)},[u,C.loadData,W,e.loaded]);r.useEffect(function(){x||"function"!==typeof C.loadData||!p||V||e.loaded||C.onNodeLoad(wX(e))},[x,C.loadData,C.onNodeLoad,p,V,e]);var q=r.useMemo(function(){var e;return null!==(e=C.draggable)&&void 0!==e&&e.icon?r.createElement("span",{className:"".concat(C.prefixCls,"-draggable-icon")},C.draggable.icon):null},[C.draggable]),U=function(t){var n=e.switcherIcon||C.switcherIcon;return"function"===typeof n?n(Le(Le({},e),{},{isLeaf:t})):n},K=r.useMemo(function(){if(!P)return null;var t="boolean"!==typeof P?P:null;return r.createElement("span",{className:Ah()("".concat(C.prefixCls,"-checkbox"),ze(ze(ze({},"".concat(C.prefixCls,"-checkbox-checked"),h),"".concat(C.prefixCls,"-checkbox-indeterminate"),!h&&v),"".concat(C.prefixCls,"-checkbox-disabled"),M||e.disableCheckbox)),onClick:T,role:"checkbox","aria-checked":v?"mixed":h,"aria-disabled":M||e.disableCheckbox,"aria-label":"Select ".concat("string"===typeof e.title?e.title:"tree node")},t)},[P,h,v,M,e.disableCheckbox,e.title]),G=r.useMemo(function(){return V?null:p?NX:CX},[V,p]),X=r.useMemo(function(){return r.createElement("span",{className:Ah()("".concat(C.prefixCls,"-iconEle"),"".concat(C.prefixCls,"-icon__").concat(G||"docu"),ze({},"".concat(C.prefixCls,"-icon_loading"),x))})},[C.prefixCls,G,x]),Y=r.useMemo(function(){var t=Boolean(C.draggable);return!e.disabled&&t&&C.dragOverNodeKey===o?C.dropIndicatorRender({dropPosition:C.dropPosition,dropLevelOffset:C.dropLevelOffset,indent:C.indent,prefixCls:C.prefixCls,direction:C.direction}):null},[C.dropPosition,C.dropLevelOffset,C.indent,C.prefixCls,C.direction,C.draggable,C.dragOverNodeKey,C.dropIndicatorRender]),$=r.useMemo(function(){var t,n,a=e.title,o=void 0===a?"---":a,i="".concat(C.prefixCls,"-node-content-wrapper");if(C.showIcon){var s=e.icon||C.icon;t=s?r.createElement("span",{className:Ah()("".concat(C.prefixCls,"-iconEle"),"".concat(C.prefixCls,"-icon__customize"))},"function"===typeof s?s(e):s):X}else C.loadData&&x&&(t=X);return n="function"===typeof o?o(k):C.titleRender?C.titleRender(k):o,r.createElement("span",{ref:E,title:"string"===typeof o?o:"",className:Ah()(i,"".concat(i,"-").concat(G||"normal"),ze({},"".concat(C.prefixCls,"-node-selected"),!M&&(f||O))),onMouseEnter:D,onMouseLeave:L,onContextMenu:B,onClick:R,onDoubleClick:z},t,r.createElement("span",{className:"".concat(C.prefixCls,"-title")},n),Y)},[C.prefixCls,C.showIcon,e,C.icon,X,C.titleRender,k,G,D,L,B,R,z]),J=nS(N,{aria:!0,data:!0}),Z=(gX(C.keyEntities,o)||{}).level,Q=g[g.length-1],ee=!M&&F,te=C.draggingNodeKey===o,ne=void 0!==j?{"aria-selected":!!j}:void 0;return r.createElement("div",jx({ref:y,role:"treeitem","aria-expanded":u?void 0:p,className:Ah()(i,"".concat(C.prefixCls,"-treenode"),(a={},ze(ze(ze(ze(ze(ze(ze(ze(ze(ze(a,"".concat(C.prefixCls,"-treenode-disabled"),M),"".concat(C.prefixCls,"-treenode-switcher-").concat(p?"open":"close"),!u),"".concat(C.prefixCls,"-treenode-checkbox-checked"),h),"".concat(C.prefixCls,"-treenode-checkbox-indeterminate"),v),"".concat(C.prefixCls,"-treenode-selected"),f),"".concat(C.prefixCls,"-treenode-loading"),x),"".concat(C.prefixCls,"-treenode-active"),b),"".concat(C.prefixCls,"-treenode-leaf-last"),Q),"".concat(C.prefixCls,"-treenode-draggable"),F),"dragging",te),ze(ze(ze(ze(ze(ze(ze(a,"drop-target",C.dropTargetKey===o),"drop-container",C.dropContainerKey===o),"drag-over",!M&&l),"drag-over-gap-top",!M&&c),"drag-over-gap-bottom",!M&&d),"filter-node",null===(n=C.filterTreeNode)||void 0===n?void 0:n.call(C,wX(e))),"".concat(C.prefixCls,"-treenode-leaf"),V))),style:s,draggable:ee,onDragStart:ee?function(t){t.stopPropagation(),I(!0),C.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(n){}}:void 0,onDragEnter:F?function(t){t.preventDefault(),t.stopPropagation(),C.onNodeDragEnter(t,e)}:void 0,onDragOver:F?function(t){t.preventDefault(),t.stopPropagation(),C.onNodeDragOver(t,e)}:void 0,onDragLeave:F?function(t){t.stopPropagation(),C.onNodeDragLeave(t,e)}:void 0,onDrop:F?function(t){t.preventDefault(),t.stopPropagation(),I(!1),C.onNodeDrop(t,e)}:void 0,onDragEnd:F?function(t){t.stopPropagation(),I(!1),C.onNodeDragEnd(t,e)}:void 0,onMouseMove:w},ne,J),r.createElement(mX,{prefixCls:C.prefixCls,level:Z,isStart:m,isEnd:g}),q,function(){if(V){var e=U(!0);return!1!==e?r.createElement("span",{className:Ah()("".concat(C.prefixCls,"-switcher"),"".concat(C.prefixCls,"-switcher-noop"))},e):null}var t=U(!1);return!1!==t?r.createElement("span",{onClick:H,className:Ah()("".concat(C.prefixCls,"-switcher"),"".concat(C.prefixCls,"-switcher_").concat(p?NX:CX))},t):null}(),K,$)};SX.isTreeNode=1;const EX=SX;function _X(e,t){if(!e)return[];var n=e.slice(),r=n.indexOf(t);return r>=0&&n.splice(r,1),n}function OX(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function IX(e){return e.split("-")}function MX(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){var r=t.key,a=t.children;n.push(r),e(a)})}(gX(t,e).children),n}function PX(e){if(e.parent){var t=IX(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function TX(e,t,n,r,a,o,i,s,l,c){var d,u=e.clientX,m=e.clientY,g=e.target.getBoundingClientRect(),p=g.top,f=g.height,h=(("rtl"===c?-1:1)*(((null===a||void 0===a?void 0:a.x)||0)-u)-12)/r,v=l.filter(function(e){var t;return null===(t=s[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length}),x=gX(s,n.eventKey);if(m<p+f/2){var y=i.findIndex(function(e){return e.key===x.key}),b=i[y<=0?0:y-1].key;x=gX(s,b)}var k=x.key,w=x,j=x.key,N=0,C=0;if(!v.includes(k))for(var S=0;S<h&&PX(x);S+=1)x=x.parent,C+=1;var E=t.data,_=x.node,O=!0;return function(e){var t=IX(e.pos);return 0===Number(t[t.length-1])}(x)&&0===x.level&&m<p+f/2&&o({dragNode:E,dropNode:_,dropPosition:-1})&&x.key===n.eventKey?N=-1:(w.children||[]).length&&v.includes(j)?o({dragNode:E,dropNode:_,dropPosition:0})?N=0:O=!1:0===C?h>-1.5?o({dragNode:E,dropNode:_,dropPosition:1})?N=1:O=!1:o({dragNode:E,dropNode:_,dropPosition:0})?N=0:o({dragNode:E,dropNode:_,dropPosition:1})?N=1:O=!1:o({dragNode:E,dropNode:_,dropPosition:1})?N=1:O=!1,{dropPosition:N,dropLevelOffset:C,dropTargetKey:x.key,dropTargetPos:x.pos,dragOverNodeKey:j,dropContainerKey:0===N?null:(null===(d=x.parent)||void 0===d?void 0:d.key)||null,dropAllowed:O}}function AX(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function RX(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==Ae(e))return zv(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function zX(e,t){var n=new Set;function r(e){if(!n.has(e)){var a=gX(t,e);if(a){n.add(e);var o=a.parent;a.node.disabled||o&&r(o.key)}}}return(e||[]).forEach(function(e){r(e)}),vv(n)}function DX(e,t){var n=new Set;return e.forEach(function(e){t.has(e)||n.add(e)}),n}function LX(e){var t=e||{},n=t.disabled,r=t.disableCheckbox,a=t.checkable;return!(!n&&!r)||!1===a}function BX(e,t,n,r){var a,o=[];a=r||LX;var i,s=new Set(e.filter(function(e){var t=!!gX(n,e);return t||o.push(e),t})),l=new Map,c=0;return Object.keys(n).forEach(function(e){var t=n[e],r=t.level,a=l.get(r);a||(a=new Set,l.set(r,a)),a.add(t),c=Math.max(c,r)}),zv(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(e){return"'".concat(e,"'")}).join(", "))),i=!0===t?function(e,t,n,r){for(var a=new Set(e),o=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach(function(e){var t=e.key,n=e.node,o=e.children,i=void 0===o?[]:o;a.has(t)&&!r(n)&&i.filter(function(e){return!r(e.node)}).forEach(function(e){a.add(e.key)})});for(var s=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var i=!0,l=!1;(t.children||[]).filter(function(e){return!r(e.node)}).forEach(function(e){var t=e.key,n=a.has(t);i&&!n&&(i=!1),l||!n&&!o.has(t)||(l=!0)}),i&&a.add(t.key),l&&o.add(t.key),s.add(t.key)}});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(DX(o,a))}}(s,l,c,a):function(e,t,n,r,a){for(var o=new Set(e),i=new Set(t),s=0;s<=r;s+=1)(n.get(s)||new Set).forEach(function(e){var t=e.key,n=e.node,r=e.children,s=void 0===r?[]:r;o.has(t)||i.has(t)||a(n)||s.filter(function(e){return!a(e.node)}).forEach(function(e){o.delete(e.key)})});i=new Set;for(var l=new Set,c=r;c>=0;c-=1)(n.get(c)||new Set).forEach(function(e){var t=e.parent,n=e.node;if(!a(n)&&e.parent&&!l.has(e.parent.key))if(a(e.parent.node))l.add(t.key);else{var r=!0,s=!1;(t.children||[]).filter(function(e){return!a(e.node)}).forEach(function(e){var t=e.key,n=o.has(t);r&&!n&&(r=!1),s||!n&&!i.has(t)||(s=!0)}),r||o.delete(t.key),s&&i.add(t.key),l.add(t.key)}});return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(DX(i,o))}}(s,t.halfCheckedKeys,l,c,a),i}const FX=e=>"object"!==typeof e&&"function"!==typeof e||null===e;const HX=r.createContext({});(()=>{let e=0})();const WX=(0,r.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var VX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const qX=e=>{const{prefixCls:t,className:n,dashed:a}=e,o=VX(e,["prefixCls","className","dashed"]),{getPrefixCls:i}=r.useContext(av),s=i("menu",t),l=Ah()({["".concat(s,"-item-divider-dashed")]:!!a},n);return r.createElement(AU,Object.assign({className:l},o))},UX=e=>{var t;const{className:n,children:a,icon:o,title:i,danger:s,extra:l}=e,{prefixCls:c,firstLevel:d,direction:u,disableMenuItemTitleTooltip:m,inlineCollapsed:g}=r.useContext(WX),{siderCollapsed:p}=r.useContext(HX);let f=i;"undefined"===typeof i?f=d?a:"":!1===i&&(f="");const h={title:f};p||g||(h.title=null,h.open=!1);const v=vj(a).length;let x=r.createElement(hU,Object.assign({},Fh(e,["title","icon","danger"]),{className:Ah()({["".concat(c,"-item-danger")]:s,["".concat(c,"-item-only-child")]:1===(o?v+1:v)},n),title:"string"===typeof i?i:void 0}),dv(o,{className:Ah()(r.isValidElement(o)?null===(t=o.props)||void 0===t?void 0:t.className:void 0,"".concat(c,"-item-icon"))}),(e=>{const t=null===a||void 0===a?void 0:a[0],n=r.createElement("span",{className:Ah()("".concat(c,"-title-content"),{["".concat(c,"-title-content-with-extra")]:!!l||0===l})},a);return(!o||r.isValidElement(a)&&"span"===a.type)&&a&&e&&d&&"string"===typeof t?r.createElement("div",{className:"".concat(c,"-inline-collapsed-noicon")},t.charAt(0)):n})(g));return m||(x=r.createElement(KM,Object.assign({},h,{placement:"rtl"===u?"left":"right",classNames:{root:"".concat(c,"-inline-collapsed-tooltip")}}),x)),x};var KX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const GX=r.createContext(null),XX=r.forwardRef((e,t)=>{const{children:n}=e,a=KX(e,["children"]),o=r.useContext(GX),i=r.useMemo(()=>Object.assign(Object.assign({},o),a),[o,a.prefixCls,a.mode,a.selectable,a.rootClassName]),s=function(e){return Zh(e)&&Jh(e)}(n),l=$h(t,s?Qh(n):null);return r.createElement(GX.Provider,{value:i},r.createElement(jM,{space:!0},s?r.cloneElement(n,{ref:l}):n))}),YX=GX,$X=e=>{const{componentCls:t,motionDurationSlow:n,horizontalLineHeight:r,colorSplit:a,lineWidth:o,lineType:i,itemPaddingInline:s}=e;return{["".concat(t,"-horizontal")]:{lineHeight:r,border:0,borderBottom:"".concat(lx(o)," ").concat(i," ").concat(a),boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},["".concat(t,"-item, ").concat(t,"-submenu")]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},["> ".concat(t,"-item:hover,\n        > ").concat(t,"-item-active,\n        > ").concat(t,"-submenu ").concat(t,"-submenu-title:hover")]:{backgroundColor:"transparent"},["".concat(t,"-item, ").concat(t,"-submenu-title")]:{transition:["border-color ".concat(n),"background ".concat(n)].join(",")},["".concat(t,"-submenu-arrow")]:{display:"none"}}}},JX=e=>{let{componentCls:t,menuArrowOffset:n,calc:r}=e;return{["".concat(t,"-rtl")]:{direction:"rtl"},["".concat(t,"-submenu-rtl")]:{transformOrigin:"100% 0"},["".concat(t,"-rtl").concat(t,"-vertical,\n    ").concat(t,"-submenu-rtl ").concat(t,"-vertical")]:{["".concat(t,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateY(".concat(lx(r(n).mul(-1).equal()),")")},"&::after":{transform:"rotate(45deg) translateY(".concat(lx(n),")")}}}}},ZX=e=>hb(e),QX=(e,t)=>{const{componentCls:n,itemColor:r,itemSelectedColor:a,subMenuItemSelectedColor:o,groupTitleColor:i,itemBg:s,subMenuItemBg:l,itemSelectedBg:c,activeBarHeight:d,activeBarWidth:u,activeBarBorderWidth:m,motionDurationSlow:g,motionEaseInOut:p,motionEaseOut:f,itemPaddingInline:h,motionDurationMid:v,itemHoverColor:x,lineType:y,colorSplit:b,itemDisabledColor:k,dangerItemColor:w,dangerItemHoverColor:j,dangerItemSelectedColor:N,dangerItemActiveBg:C,dangerItemSelectedBg:S,popupBg:E,itemHoverBg:_,itemActiveBg:O,menuSubMenuBg:I,horizontalItemSelectedColor:M,horizontalItemSelectedBg:P,horizontalItemBorderRadius:T,horizontalItemHoverBg:A}=e;return{["".concat(n,"-").concat(t,", ").concat(n,"-").concat(t," > ").concat(n)]:{color:r,background:s,["&".concat(n,"-root:focus-visible")]:Object.assign({},ZX(e)),["".concat(n,"-item")]:{"&-group-title, &-extra":{color:i}},["".concat(n,"-submenu-selected > ").concat(n,"-submenu-title")]:{color:o},["".concat(n,"-item, ").concat(n,"-submenu-title")]:{color:r,["&:not(".concat(n,"-item-disabled):focus-visible")]:Object.assign({},ZX(e))},["".concat(n,"-item-disabled, ").concat(n,"-submenu-disabled")]:{color:"".concat(k," !important")},["".concat(n,"-item:not(").concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{["&:hover, > ".concat(n,"-submenu-title:hover")]:{color:x}},["&:not(".concat(n,"-horizontal)")]:{["".concat(n,"-item:not(").concat(n,"-item-selected)")]:{"&:hover":{backgroundColor:_},"&:active":{backgroundColor:O}},["".concat(n,"-submenu-title")]:{"&:hover":{backgroundColor:_},"&:active":{backgroundColor:O}}},["".concat(n,"-item-danger")]:{color:w,["&".concat(n,"-item:hover")]:{["&:not(".concat(n,"-item-selected):not(").concat(n,"-submenu-selected)")]:{color:j}},["&".concat(n,"-item:active")]:{background:C}},["".concat(n,"-item a")]:{"&, &:hover":{color:"inherit"}},["".concat(n,"-item-selected")]:{color:a,["&".concat(n,"-item-danger")]:{color:N},"a, a:hover":{color:"inherit"}},["& ".concat(n,"-item-selected")]:{backgroundColor:c,["&".concat(n,"-item-danger")]:{backgroundColor:S}},["&".concat(n,"-submenu > ").concat(n)]:{backgroundColor:I},["&".concat(n,"-popup > ").concat(n)]:{backgroundColor:E},["&".concat(n,"-submenu-popup > ").concat(n)]:{backgroundColor:E},["&".concat(n,"-horizontal")]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{["> ".concat(n,"-item, > ").concat(n,"-submenu")]:{top:m,marginTop:e.calc(m).mul(-1).equal(),marginBottom:0,borderRadius:T,"&::after":{position:"absolute",insetInline:h,bottom:0,borderBottom:"".concat(lx(d)," solid transparent"),transition:"border-color ".concat(g," ").concat(p),content:'""'},"&:hover, &-active, &-open":{background:A,"&::after":{borderBottomWidth:d,borderBottomColor:M}},"&-selected":{color:M,backgroundColor:P,"&:hover":{backgroundColor:P},"&::after":{borderBottomWidth:d,borderBottomColor:M}}}}),["&".concat(n,"-root")]:{["&".concat(n,"-inline, &").concat(n,"-vertical")]:{borderInlineEnd:"".concat(lx(m)," ").concat(y," ").concat(b)}},["&".concat(n,"-inline")]:{["".concat(n,"-sub").concat(n,"-inline")]:{background:l},["".concat(n,"-item")]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:"".concat(lx(u)," solid ").concat(a),transform:"scaleY(0.0001)",opacity:0,transition:["transform ".concat(v," ").concat(f),"opacity ".concat(v," ").concat(f)].join(","),content:'""'},["&".concat(n,"-item-danger")]:{"&::after":{borderInlineEndColor:N}}},["".concat(n,"-selected, ").concat(n,"-item-selected")]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:["transform ".concat(v," ").concat(p),"opacity ".concat(v," ").concat(p)].join(",")}}}}}},eY=e=>{const{componentCls:t,itemHeight:n,itemMarginInline:r,padding:a,menuArrowSize:o,marginXS:i,itemMarginBlock:s,itemWidth:l,itemPaddingInline:c}=e,d=e.calc(o).add(a).add(i).equal();return{["".concat(t,"-item")]:{position:"relative",overflow:"hidden"},["".concat(t,"-item, ").concat(t,"-submenu-title")]:{height:n,lineHeight:lx(n),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:l},["> ".concat(t,"-item,\n            > ").concat(t,"-submenu > ").concat(t,"-submenu-title")]:{height:n,lineHeight:lx(n)},["".concat(t,"-item-group-list ").concat(t,"-submenu-title,\n            ").concat(t,"-submenu-title")]:{paddingInlineEnd:d}}},tY=e=>{const{componentCls:t,iconCls:n,itemHeight:r,colorTextLightSolid:a,dropdownWidth:o,controlHeightLG:i,motionEaseOut:s,paddingXL:l,itemMarginInline:c,fontSizeLG:d,motionDurationFast:u,motionDurationSlow:m,paddingXS:g,boxShadowSecondary:p,collapsedWidth:f,collapsedIconSize:h}=e,v={height:r,lineHeight:lx(r),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({["&".concat(t,"-root")]:{boxShadow:"none"}},eY(e))},["".concat(t,"-submenu-popup")]:{["".concat(t,"-vertical")]:Object.assign(Object.assign({},eY(e)),{boxShadow:p})}},{["".concat(t,"-submenu-popup ").concat(t,"-vertical").concat(t,"-sub")]:{minWidth:o,maxHeight:"calc(100vh - ".concat(lx(e.calc(i).mul(2.5).equal()),")"),padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{["".concat(t,"-inline")]:{width:"100%",["&".concat(t,"-root")]:{["".concat(t,"-item, ").concat(t,"-submenu-title")]:{display:"flex",alignItems:"center",transition:["border-color ".concat(m),"background ".concat(m),"padding ".concat(u," ").concat(s)].join(","),["> ".concat(t,"-title-content")]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},["".concat(t,"-sub").concat(t,"-inline")]:{padding:0,border:0,borderRadius:0,boxShadow:"none",["& > ".concat(t,"-submenu > ").concat(t,"-submenu-title")]:v,["& ".concat(t,"-item-group-title")]:{paddingInlineStart:l}},["".concat(t,"-item")]:v}},{["".concat(t,"-inline-collapsed")]:{width:f,["&".concat(t,"-root")]:{["".concat(t,"-item, ").concat(t,"-submenu ").concat(t,"-submenu-title")]:{["> ".concat(t,"-inline-collapsed-noicon")]:{fontSize:d,textAlign:"center"}}},["> ".concat(t,"-item,\n          > ").concat(t,"-item-group > ").concat(t,"-item-group-list > ").concat(t,"-item,\n          > ").concat(t,"-item-group > ").concat(t,"-item-group-list > ").concat(t,"-submenu > ").concat(t,"-submenu-title,\n          > ").concat(t,"-submenu > ").concat(t,"-submenu-title")]:{insetInlineStart:0,paddingInline:"calc(50% - ".concat(lx(e.calc(h).div(2).equal())," - ").concat(lx(c),")"),textOverflow:"clip",["\n            ".concat(t,"-submenu-arrow,\n            ").concat(t,"-submenu-expand-icon\n          ")]:{opacity:0},["".concat(t,"-item-icon, ").concat(n)]:{margin:0,fontSize:h,lineHeight:lx(r),"+ span":{display:"inline-block",opacity:0}}},["".concat(t,"-item-icon, ").concat(n)]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",["".concat(t,"-item-icon, ").concat(n)]:{display:"none"},"a, a:hover":{color:a}},["".concat(t,"-item-group-title")]:Object.assign(Object.assign({},pb),{paddingInline:g})}}]},nY=e=>{const{componentCls:t,motionDurationSlow:n,motionDurationMid:r,motionEaseInOut:a,motionEaseOut:o,iconCls:i,iconSize:s,iconMarginInlineEnd:l}=e;return{["".concat(t,"-item, ").concat(t,"-submenu-title")]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:["border-color ".concat(n),"background ".concat(n),"padding calc(".concat(n," + 0.1s) ").concat(a)].join(","),["".concat(t,"-item-icon, ").concat(i)]:{minWidth:s,fontSize:s,transition:["font-size ".concat(r," ").concat(o),"margin ".concat(n," ").concat(a),"color ".concat(n)].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:["opacity ".concat(n," ").concat(a),"margin ".concat(n),"color ".concat(n)].join(",")}},["".concat(t,"-item-icon")]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),["&".concat(t,"-item-only-child")]:{["> ".concat(i,", > ").concat(t,"-item-icon")]:{marginInlineEnd:0}}},["".concat(t,"-item-disabled, ").concat(t,"-submenu-disabled")]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},["> ".concat(t,"-submenu-title")]:{color:"inherit !important",cursor:"not-allowed"}}}},rY=e=>{const{componentCls:t,motionDurationSlow:n,motionEaseInOut:r,borderRadius:a,menuArrowSize:o,menuArrowOffset:i}=e;return{["".concat(t,"-submenu")]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:"transform ".concat(n," ").concat(r,", opacity ").concat(n)},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(o).mul(.6).equal(),height:e.calc(o).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:a,transition:["background ".concat(n," ").concat(r),"transform ".concat(n," ").concat(r),"top ".concat(n," ").concat(r),"color ".concat(n," ").concat(r)].join(","),content:'""'},"&::before":{transform:"rotate(45deg) translateY(".concat(lx(e.calc(i).mul(-1).equal()),")")},"&::after":{transform:"rotate(-45deg) translateY(".concat(lx(i),")")}}}}},aY=e=>{const{antCls:t,componentCls:n,fontSize:r,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:i,paddingXS:s,padding:l,colorSplit:c,lineWidth:d,zIndexPopup:u,borderRadiusLG:m,subMenuItemBorderRadius:g,menuArrowSize:p,menuArrowOffset:f,lineType:h,groupTitleLineHeight:v,groupTitleFontSize:x}=e;return[{"":{[n]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},["".concat(n,"-submenu-hidden")]:{display:"none"}},{[n]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fb(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:"width ".concat(a," cubic-bezier(0.2, 0, 0, 1) 0s"),"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",["".concat(n,"-item")]:{flex:"none"}},["".concat(n,"-item, ").concat(n,"-submenu, ").concat(n,"-submenu-title")]:{borderRadius:e.itemBorderRadius},["".concat(n,"-item-group-title")]:{padding:"".concat(lx(s)," ").concat(lx(l)),fontSize:x,lineHeight:v,transition:"all ".concat(a)},["&-horizontal ".concat(n,"-submenu")]:{transition:["border-color ".concat(a," ").concat(i),"background ".concat(a," ").concat(i)].join(",")},["".concat(n,"-submenu, ").concat(n,"-submenu-inline")]:{transition:["border-color ".concat(a," ").concat(i),"background ".concat(a," ").concat(i),"padding ".concat(o," ").concat(i)].join(",")},["".concat(n,"-submenu ").concat(n,"-sub")]:{cursor:"initial",transition:["background ".concat(a," ").concat(i),"padding ".concat(a," ").concat(i)].join(",")},["".concat(n,"-title-content")]:{transition:"color ".concat(a),"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},["> ".concat(t,"-typography-ellipsis-single-line")]:{display:"inline",verticalAlign:"unset"},["".concat(n,"-item-extra")]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},["".concat(n,"-item a")]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},["".concat(n,"-item-divider")]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:h,borderWidth:0,borderTopWidth:d,marginBlock:d,padding:0,"&-dashed":{borderStyle:"dashed"}}}),nY(e)),{["".concat(n,"-item-group")]:{["".concat(n,"-item-group-list")]:{margin:0,padding:0,["".concat(n,"-item, ").concat(n,"-submenu-title")]:{paddingInline:"".concat(lx(e.calc(r).mul(2).equal())," ").concat(lx(l))}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:u,borderRadius:m,boxShadow:"none",transformOrigin:"0 0",["&".concat(n,"-submenu")]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},["> ".concat(n)]:Object.assign(Object.assign(Object.assign({borderRadius:m},nY(e)),rY(e)),{["".concat(n,"-item, ").concat(n,"-submenu > ").concat(n,"-submenu-title")]:{borderRadius:g},["".concat(n,"-submenu-title::after")]:{transition:"transform ".concat(a," ").concat(i)}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),rY(e)),{["&-inline-collapsed ".concat(n,"-submenu-arrow,\n        &-inline ").concat(n,"-submenu-arrow")]:{"&::before":{transform:"rotate(-45deg) translateX(".concat(lx(f),")")},"&::after":{transform:"rotate(45deg) translateX(".concat(lx(e.calc(f).mul(-1).equal()),")")}},["".concat(n,"-submenu-open").concat(n,"-submenu-inline > ").concat(n,"-submenu-title > ").concat(n,"-submenu-arrow")]:{transform:"translateY(".concat(lx(e.calc(p).mul(.2).mul(-1).equal()),")"),"&::after":{transform:"rotate(-45deg) translateX(".concat(lx(e.calc(f).mul(-1).equal()),")")},"&::before":{transform:"rotate(45deg) translateX(".concat(lx(f),")")}}})},{["".concat(t,"-layout-header")]:{[n]:{lineHeight:"inherit"}}}]},oY=e=>{var t,n,r;const{colorPrimary:a,colorError:o,colorTextDisabled:i,colorErrorBg:s,colorText:l,colorTextDescription:c,colorBgContainer:d,colorFillAlter:u,colorFillContent:m,lineWidth:g,lineWidthBold:p,controlItemBgActive:f,colorBgTextHover:h,controlHeightLG:v,lineHeight:x,colorBgElevated:y,marginXXS:b,padding:k,fontSize:w,controlHeightSM:j,fontSizeLG:N,colorTextLightSolid:C,colorErrorHover:S}=e,E=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,_=null!==(n=e.activeBarBorderWidth)&&void 0!==n?n:g,O=null!==(r=e.itemMarginInline)&&void 0!==r?r:e.marginXXS,I=new _b(C).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:a,horizontalItemHoverColor:a,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:a,itemSelectedColor:a,subMenuItemSelectedColor:a,colorItemTextSelectedHorizontal:a,horizontalItemSelectedColor:a,colorItemBg:d,itemBg:d,colorItemBgHover:h,itemHoverBg:h,colorItemBgActive:m,itemActiveBg:f,colorSubItemBg:u,subMenuItemBg:u,colorItemBgSelected:f,itemSelectedBg:f,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:E,colorActiveBarHeight:p,activeBarHeight:p,colorActiveBarBorderSize:g,activeBarBorderWidth:_,colorItemTextDisabled:i,itemDisabledColor:i,colorDangerItemText:o,dangerItemColor:o,colorDangerItemTextHover:o,dangerItemHoverColor:o,colorDangerItemTextSelected:o,dangerItemSelectedColor:o,colorDangerItemBgActive:s,dangerItemActiveBg:s,colorDangerItemBgSelected:s,dangerItemSelectedBg:s,itemMarginInline:O,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:x,collapsedWidth:2*v,popupBg:y,itemMarginBlock:b,itemPaddingInline:k,horizontalLineHeight:"".concat(1.15*v,"px"),iconSize:w,iconMarginInlineEnd:j-w,collapsedIconSize:N,groupTitleFontSize:w,darkItemDisabledColor:new _b(C).setA(.25).toRgbString(),darkItemColor:I,darkDangerItemColor:o,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:C,darkItemSelectedBg:a,darkDangerItemSelectedBg:o,darkItemHoverBg:"transparent",darkGroupTitleColor:I,darkItemHoverColor:C,darkDangerItemHoverColor:S,darkDangerItemSelectedColor:C,darkDangerItemActiveBg:o,itemWidth:E?"calc(100% + ".concat(_,"px)"):"calc(100% - ".concat(2*O,"px)")}},iY=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const n=_k("Menu",e=>{const{colorBgElevated:t,controlHeightLG:n,fontSize:r,darkItemColor:a,darkDangerItemColor:o,darkItemBg:i,darkSubMenuItemBg:s,darkItemSelectedColor:l,darkItemSelectedBg:c,darkDangerItemSelectedBg:d,darkItemHoverBg:u,darkGroupTitleColor:m,darkItemHoverColor:g,darkItemDisabledColor:p,darkDangerItemHoverColor:f,darkDangerItemSelectedColor:h,darkDangerItemActiveBg:v,popupBg:x,darkPopupBg:y}=e,b=e.calc(r).div(7).mul(5).equal(),k=rb(e,{menuArrowSize:b,menuHorizontalHeight:e.calc(n).mul(1.15).equal(),menuArrowOffset:e.calc(b).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:x}),w=rb(k,{itemColor:a,itemHoverColor:g,groupTitleColor:m,itemSelectedColor:l,subMenuItemSelectedColor:l,itemBg:i,popupBg:y,subMenuItemBg:s,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:u,itemDisabledColor:p,dangerItemColor:o,dangerItemHoverColor:f,dangerItemSelectedColor:h,dangerItemActiveBg:v,dangerItemSelectedBg:d,menuSubMenuBg:s,horizontalItemSelectedColor:l,horizontalItemSelectedBg:c});return[aY(k),$X(k),tY(k),QX(k,"light"),QX(w,"dark"),JX(k),H_(k),FD(k,"slide-up"),FD(k,"slide-down"),F_(k,"zoom-big")]},oY,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],unitless:{groupTitleLineHeight:!0}});return n(e,t)},sY=e=>{var t;const{popupClassName:n,icon:a,title:o,theme:i}=e,s=r.useContext(WX),{prefixCls:l,inlineCollapsed:c,theme:d}=s,u=Aq();let m;if(a){const e=r.isValidElement(o)&&"span"===o.type;m=r.createElement(r.Fragment,null,dv(a,{className:Ah()(r.isValidElement(a)?null===(t=a.props)||void 0===t?void 0:t.className:void 0,"".concat(l,"-item-icon"))}),e?o:r.createElement("span",{className:"".concat(l,"-title-content")},o))}else m=c&&!u.length&&o&&"string"===typeof o?r.createElement("div",{className:"".concat(l,"-inline-collapsed-noicon")},o.charAt(0)):r.createElement("span",{className:"".concat(l,"-title-content")},o);const g=r.useMemo(()=>Object.assign(Object.assign({},s),{firstLevel:!1}),[s]),[p]=wS("Menu");return r.createElement(WX.Provider,{value:g},r.createElement(TU,Object.assign({},Fh(e,["icon"]),{title:m,popupClassName:Ah()(l,n,"".concat(l,"-").concat(i||d)),popupStyle:Object.assign({zIndex:p},e.popupStyle)})))};var lY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function cY(e){return null===e||!1===e}const dY={item:UX,submenu:sY,divider:qX},uY=(0,r.forwardRef)((e,t)=>{var n;const a=r.useContext(YX),o=a||{},{getPrefixCls:i,getPopupContainer:s,direction:l,menu:c}=r.useContext(av),d=i(),{prefixCls:u,className:m,style:g,theme:p="light",expandIcon:f,_internalDisableMenuItemTitleTooltip:h,inlineCollapsed:v,siderCollapsed:x,rootClassName:y,mode:b,selectable:k,onClick:w,overflowedIndicatorPopupClassName:j}=e,N=Fh(lY(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]);null===(n=o.validator)||void 0===n||n.call(o,{mode:b});const C=Vy(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];null===w||void 0===w||w.apply(void 0,n),null===(e=o.onClick)||void 0===e||e.call(o)}),S=o.mode||b,E=null!==k&&void 0!==k?k:o.selectable,_=null!==v&&void 0!==v?v:x,O={horizontal:{motionName:"".concat(d,"-slide-up")},inline:w_(d),other:{motionName:"".concat(d,"-zoom-big")}},I=i("menu",u||o.prefixCls),M=hS(I),[P,T,A]=iY(I,M,!a),R=Ah()("".concat(I,"-").concat(p),null===c||void 0===c?void 0:c.className,m),z=r.useMemo(()=>{var e,t;if("function"===typeof f||cY(f))return f||null;if("function"===typeof o.expandIcon||cY(o.expandIcon))return o.expandIcon||null;if("function"===typeof(null===c||void 0===c?void 0:c.expandIcon)||cY(null===c||void 0===c?void 0:c.expandIcon))return(null===c||void 0===c?void 0:c.expandIcon)||null;const n=null!==(e=null!==f&&void 0!==f?f:null===o||void 0===o?void 0:o.expandIcon)&&void 0!==e?e:null===c||void 0===c?void 0:c.expandIcon;return dv(n,{className:Ah()("".concat(I,"-submenu-expand-icon"),r.isValidElement(n)?null===(t=n.props)||void 0===t?void 0:t.className:void 0)})},[f,null===o||void 0===o?void 0:o.expandIcon,null===c||void 0===c?void 0:c.expandIcon,I]),D=r.useMemo(()=>({prefixCls:I,inlineCollapsed:_||!1,direction:l,firstLevel:!0,theme:p,mode:S,disableMenuItemTitleTooltip:h}),[I,_,l,h,p]);return P(r.createElement(YX.Provider,{value:null},r.createElement(WX.Provider,{value:D},r.createElement(UU,Object.assign({getPopupContainer:s,overflowedIndicator:r.createElement(JV,null),overflowedIndicatorPopupClassName:Ah()(I,"".concat(I,"-").concat(p),j),mode:S,selectable:E,onClick:C},N,{inlineCollapsed:_,style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),g),className:R,prefixCls:I,direction:l,defaultMotions:O,expandIcon:z,ref:t,rootClassName:Ah()(y,T,o.rootClassName,A,M),_internalComponents:dY})))))}),mY=uY,gY=(0,r.forwardRef)((e,t)=>{const n=(0,r.useRef)(null),a=r.useContext(HX);return(0,r.useImperativeHandle)(t,()=>({menu:n.current,focus:e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)}})),r.createElement(mY,Object.assign({ref:n},e,a))});gY.Item=UX,gY.SubMenu=sY,gY.Divider=qX,gY.ItemGroup=DU;const pY=gY,fY=e=>{const{componentCls:t,menuCls:n,colorError:r,colorTextLightSolid:a}=e,o="".concat(n,"-item");return{["".concat(t,", ").concat(t,"-menu-submenu")]:{["".concat(n," ").concat(o)]:{["&".concat(o,"-danger:not(").concat(o,"-disabled)")]:{color:r,"&:hover":{color:a,backgroundColor:r}}}}}},hY=e=>{const{componentCls:t,menuCls:n,zIndexPopup:r,dropdownArrowDistance:a,sizePopupArrow:o,antCls:i,iconCls:s,motionDurationMid:l,paddingBlock:c,fontSize:d,dropdownEdgeChildPadding:u,colorTextDisabled:m,fontSizeIcon:g,controlPaddingHorizontal:p,colorBgElevated:f}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:e.calc(o).div(2).sub(a).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},["&-trigger".concat(i,"-btn")]:{["& > ".concat(s,"-down, & > ").concat(i,"-btn-icon > ").concat(s,"-down")]:{fontSize:g}},["".concat(t,"-wrap")]:{position:"relative",["".concat(i,"-btn > ").concat(s,"-down")]:{fontSize:g},["".concat(s,"-down::before")]:{transition:"transform ".concat(l)}},["".concat(t,"-wrap-open")]:{["".concat(s,"-down::before")]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},["&".concat(i,"-slide-down-enter").concat(i,"-slide-down-enter-active").concat(t,"-placement-bottomLeft,\n          &").concat(i,"-slide-down-appear").concat(i,"-slide-down-appear-active").concat(t,"-placement-bottomLeft,\n          &").concat(i,"-slide-down-enter").concat(i,"-slide-down-enter-active").concat(t,"-placement-bottom,\n          &").concat(i,"-slide-down-appear").concat(i,"-slide-down-appear-active").concat(t,"-placement-bottom,\n          &").concat(i,"-slide-down-enter").concat(i,"-slide-down-enter-active").concat(t,"-placement-bottomRight,\n          &").concat(i,"-slide-down-appear").concat(i,"-slide-down-appear-active").concat(t,"-placement-bottomRight")]:{animationName:MD},["&".concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(t,"-placement-topLeft,\n          &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(t,"-placement-topLeft,\n          &").concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(t,"-placement-top,\n          &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(t,"-placement-top,\n          &").concat(i,"-slide-up-enter").concat(i,"-slide-up-enter-active").concat(t,"-placement-topRight,\n          &").concat(i,"-slide-up-appear").concat(i,"-slide-up-appear-active").concat(t,"-placement-topRight")]:{animationName:TD},["&".concat(i,"-slide-down-leave").concat(i,"-slide-down-leave-active").concat(t,"-placement-bottomLeft,\n          &").concat(i,"-slide-down-leave").concat(i,"-slide-down-leave-active").concat(t,"-placement-bottom,\n          &").concat(i,"-slide-down-leave").concat(i,"-slide-down-leave-active").concat(t,"-placement-bottomRight")]:{animationName:PD},["&".concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(t,"-placement-topLeft,\n          &").concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(t,"-placement-top,\n          &").concat(i,"-slide-up-leave").concat(i,"-slide-up-leave-active").concat(t,"-placement-topRight")]:{animationName:AD}}},_M(e,f,{arrowPlacement:{top:!0,bottom:!0}}),{["".concat(t," ").concat(n)]:{position:"relative",margin:0},["".concat(n,"-submenu-popup")]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},["".concat(t,", ").concat(t,"-menu-submenu")]:Object.assign(Object.assign({},fb(e)),{[n]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:f,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},vb(e)),{"&:empty":{padding:0,boxShadow:"none"},["".concat(n,"-item-group-title")]:{padding:"".concat(lx(c)," ").concat(lx(p)),color:e.colorTextDescription,transition:"all ".concat(l)},["".concat(n,"-item")]:{position:"relative",display:"flex",alignItems:"center"},["".concat(n,"-item-icon")]:{minWidth:d,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},["".concat(n,"-title-content")]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:"all ".concat(l),"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},["".concat(n,"-item-extra")]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},["".concat(n,"-item, ").concat(n,"-submenu-title")]:Object.assign(Object.assign({display:"flex",margin:0,padding:"".concat(lx(c)," ").concat(lx(p)),color:e.colorText,fontWeight:"normal",fontSize:d,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(l),borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},vb(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:m,cursor:"not-allowed","&:hover":{color:m,backgroundColor:f,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:"".concat(lx(e.marginXXS)," 0"),overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},["".concat(t,"-menu-submenu-expand-icon")]:{position:"absolute",insetInlineEnd:e.paddingXS,["".concat(t,"-menu-submenu-arrow-icon")]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:g,fontStyle:"normal"}}}),["".concat(n,"-item-group-list")]:{margin:"0 ".concat(lx(e.marginXS)),padding:0,listStyle:"none"},["".concat(n,"-submenu-title")]:{paddingInlineEnd:e.calc(p).add(e.fontSizeSM).equal()},["".concat(n,"-submenu-vertical")]:{position:"relative"},["".concat(n,"-submenu").concat(n,"-submenu-disabled ").concat(t,"-menu-submenu-title")]:{["&, ".concat(t,"-menu-submenu-arrow-icon")]:{color:m,backgroundColor:f,cursor:"not-allowed"}},["".concat(n,"-submenu-selected ").concat(t,"-menu-submenu-title")]:{color:e.colorPrimary}})})},[FD(e,"slide-up"),FD(e,"slide-down"),XD(e,"move-up"),XD(e,"move-down"),F_(e,"zoom-big")]]},vY=_k("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:r,componentCls:a}=e,o=rb(e,{menuCls:"".concat(a,"-menu"),dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:r});return[hY(o),fY(o)]},e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},SM({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),NM(e)),{resetStyle:!1}),xY=e=>{var t;const{menu:n,arrow:a,prefixCls:o,children:i,trigger:s,disabled:l,dropdownRender:c,popupRender:d,getPopupContainer:u,overlayClassName:m,rootClassName:g,overlayStyle:p,open:f,onOpenChange:h,visible:v,onVisibleChange:x,mouseEnterDelay:y=.15,mouseLeaveDelay:b=.1,autoAdjustOverflow:k=!0,placement:w="",overlay:j,transitionName:N,destroyOnHidden:C,destroyPopupOnHide:S}=e,{getPopupContainer:E,getPrefixCls:_,direction:O,dropdown:I}=r.useContext(av),M=d||c;aC("Dropdown");const P=r.useMemo(()=>{const e=_();return void 0!==N?N:w.includes("top")?"".concat(e,"-slide-down"):"".concat(e,"-slide-up")},[_,w,N]),T=r.useMemo(()=>w?w.includes("Center")?w.slice(0,w.indexOf("Center")):w:"rtl"===O?"bottomRight":"bottomLeft",[w,O]),A=_("dropdown",o),R=hS(A),[z,D,L]=vY(A,R),[,B]=Ek(),F=r.Children.only(FX(i)?r.createElement("span",null,i):i),H=dv(F,{className:Ah()("".concat(A,"-trigger"),{["".concat(A,"-rtl")]:"rtl"===O},F.props.className),disabled:null!==(t=F.props.disabled)&&void 0!==t?t:l}),W=l?[]:s,V=!!(null===W||void 0===W?void 0:W.includes("contextMenu")),[q,U]=Ky(!1,{value:null!==f&&void 0!==f?f:v}),K=Vy(e=>{null===h||void 0===h||h(e,{source:"trigger"}),null===x||void 0===x||x(e),U(e)}),G=Ah()(m,g,D,L,R,null===I||void 0===I?void 0:I.className,{["".concat(A,"-rtl")]:"rtl"===O}),X=PM({arrowPointAtCenter:"object"===typeof a&&a.pointAtCenter,autoAdjustOverflow:k,offset:B.marginXXS,arrowWidth:a?B.sizePopupArrow:0,borderRadius:B.borderRadius}),Y=Vy(()=>{(null===n||void 0===n?void 0:n.selectable)&&(null===n||void 0===n?void 0:n.multiple)||(null===h||void 0===h||h(!1,{source:"menu"}),U(!1))}),[$,J]=wS("Dropdown",null===p||void 0===p?void 0:p.zIndex);let Z=r.createElement(jq,Object.assign({alignPoint:V},Fh(e,["rootClassName"]),{mouseEnterDelay:y,mouseLeaveDelay:b,visible:q,builtinPlacements:X,arrow:!!a,overlayClassName:G,prefixCls:A,getPopupContainer:u||E,transitionName:P,trigger:W,overlay:()=>{let e;return e=(null===n||void 0===n?void 0:n.items)?r.createElement(pY,Object.assign({},n)):"function"===typeof j?j():j,M&&(e=M(e)),e=r.Children.only("string"===typeof e?r.createElement("span",null,e):e),r.createElement(XX,{prefixCls:"".concat(A,"-menu"),rootClassName:Ah()(L,R),expandIcon:r.createElement("span",{className:"".concat(A,"-menu-submenu-arrow")},"rtl"===O?r.createElement(hF,{className:"".concat(A,"-menu-submenu-arrow-icon")}):r.createElement(yF,{className:"".concat(A,"-menu-submenu-arrow-icon")})),mode:"vertical",selectable:!1,onClick:Y,validator:e=>{let{mode:t}=e}},e)},placement:T,onVisibleChange:K,overlayStyle:Object.assign(Object.assign(Object.assign({},null===I||void 0===I?void 0:I.style),p),{zIndex:$}),autoDestroy:null!==C&&void 0!==C?C:S}),H);return $&&(Z=r.createElement(vS.Provider,{value:J},Z)),z(Z)},yY=BT(xY,"align",void 0,"dropdown",e=>e);xY._InternalPanelDoNotUseOrYouWillBeFired=e=>r.createElement(yY,Object.assign({},e),r.createElement("span",null));const bY=xY;var kY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const wY=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:a}=r.useContext(av),{prefixCls:o,type:i="default",danger:s,disabled:l,loading:c,onClick:d,htmlType:u,children:m,className:g,menu:p,arrow:f,autoFocus:h,overlay:v,trigger:x,align:y,open:b,onOpenChange:k,placement:w,getPopupContainer:j,href:N,icon:C=r.createElement(JV,null),title:S,buttonsRender:E=e=>e,mouseEnterDelay:_,mouseLeaveDelay:O,overlayClassName:I,overlayStyle:M,destroyOnHidden:P,destroyPopupOnHide:T,dropdownRender:A,popupRender:R}=e,z=kY(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),D=n("dropdown",o),L="".concat(D,"-button"),B={menu:p,arrow:f,autoFocus:h,align:y,disabled:l,trigger:l?[]:x,onOpenChange:k,getPopupContainer:j||t,mouseEnterDelay:_,mouseLeaveDelay:O,overlayClassName:I,overlayStyle:M,destroyOnHidden:P,popupRender:R||A},{compactSize:F,compactItemClassnames:H}=wj(D,a),W=Ah()(L,H,g);"destroyPopupOnHide"in e&&(B.destroyPopupOnHide=T),"overlay"in e&&(B.overlay=v),"open"in e&&(B.open=b),B.placement="placement"in e?w:"rtl"===a?"bottomLeft":"bottomRight";const V=r.createElement(eC,{type:i,danger:s,disabled:l,loading:c,onClick:d,htmlType:u,href:N,title:S},m),q=r.createElement(eC,{type:i,danger:s,icon:C}),[U,K]=E([V,q]);return r.createElement(qB.Compact,Object.assign({className:W,size:F,block:!0},z),U,r.createElement(bY,Object.assign({},B),K))};wY.__ANT_BUTTON=!0;const jY=wY,NY=bY;NY.Button=jY;const CY=NY,SY=r.createContext(null),EY=SY.Provider,_Y=SY,OY=r.createContext(null),IY=OY.Provider,MY=e=>{const{componentCls:t,antCls:n}=e,r="".concat(t,"-group");return{[r]:Object.assign(Object.assign({},fb(e)),{display:"inline-block",fontSize:0,["&".concat(r,"-rtl")]:{direction:"rtl"},["&".concat(r,"-block")]:{display:"flex"},["".concat(n,"-badge ").concat(n,"-badge-count")]:{zIndex:1},["> ".concat(n,"-badge:not(:first-child) > ").concat(n,"-button-wrapper")]:{borderInlineStart:"none"}})}},PY=e=>{const{componentCls:t,wrapperMarginInlineEnd:n,colorPrimary:r,radioSize:a,motionDurationSlow:o,motionDurationMid:i,motionEaseInOutCirc:s,colorBgContainer:l,colorBorder:c,lineWidth:d,colorBgContainerDisabled:u,colorTextDisabled:m,paddingXS:g,dotColorDisabled:p,lineType:f,radioColor:h,radioBgColor:v,calc:x}=e,y="".concat(t,"-inner"),b=x(a).sub(x(4).mul(2)),k=x(1).mul(a).equal({unit:!0});return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({},fb(e)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer","&:last-child":{marginInlineEnd:0},["&".concat(t,"-wrapper-rtl")]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:e.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},["".concat(t,"-checked::after")]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:"".concat(lx(d)," ").concat(f," ").concat(r),borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[t]:Object.assign(Object.assign({},fb(e)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),["".concat(t,"-wrapper:hover &,\n        &:hover ").concat(y)]:{borderColor:r},["".concat(t,"-input:focus-visible + ").concat(y)]:hb(e),["".concat(t,":hover::after, ").concat(t,"-wrapper:hover &::after")]:{visibility:"visible"},["".concat(t,"-inner")]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:k,height:k,marginBlockStart:x(1).mul(a).div(-2).equal({unit:!0}),marginInlineStart:x(1).mul(a).div(-2).equal({unit:!0}),backgroundColor:h,borderBlockStart:0,borderInlineStart:0,borderRadius:k,transform:"scale(0)",opacity:0,transition:"all ".concat(o," ").concat(s),content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:k,height:k,backgroundColor:l,borderColor:c,borderStyle:"solid",borderWidth:d,borderRadius:"50%",transition:"all ".concat(i)},["".concat(t,"-input")]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},["".concat(t,"-checked")]:{[y]:{borderColor:r,backgroundColor:v,"&::after":{transform:"scale(".concat(e.calc(e.dotSize).div(a).equal(),")"),opacity:1,transition:"all ".concat(o," ").concat(s)}}},["".concat(t,"-disabled")]:{cursor:"not-allowed",[y]:{backgroundColor:u,borderColor:c,cursor:"not-allowed","&::after":{backgroundColor:p}},["".concat(t,"-input")]:{cursor:"not-allowed"},["".concat(t,"-disabled + span")]:{color:m,cursor:"not-allowed"},["&".concat(t,"-checked")]:{[y]:{"&::after":{transform:"scale(".concat(x(b).div(a).equal(),")")}}}},["span".concat(t," + *")]:{paddingInlineStart:g,paddingInlineEnd:g}})}},TY=e=>{const{buttonColor:t,controlHeight:n,componentCls:r,lineWidth:a,lineType:o,colorBorder:i,motionDurationMid:s,buttonPaddingInline:l,fontSize:c,buttonBg:d,fontSizeLG:u,controlHeightLG:m,controlHeightSM:g,paddingXS:p,borderRadius:f,borderRadiusSM:h,borderRadiusLG:v,buttonCheckedBg:x,buttonSolidCheckedColor:y,colorTextDisabled:b,colorBgContainerDisabled:k,buttonCheckedBgDisabled:w,buttonCheckedColorDisabled:j,colorPrimary:N,colorPrimaryHover:C,colorPrimaryActive:S,buttonSolidCheckedBg:E,buttonSolidCheckedHoverBg:_,buttonSolidCheckedActiveBg:O,calc:I}=e;return{["".concat(r,"-button-wrapper")]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:l,paddingBlock:0,color:t,fontSize:c,lineHeight:lx(I(n).sub(I(a).mul(2)).equal()),background:d,border:"".concat(lx(a)," ").concat(o," ").concat(i),borderBlockStartWidth:I(a).add(.02).equal(),borderInlineEndWidth:a,cursor:"pointer",transition:["color ".concat(s),"background ".concat(s),"box-shadow ".concat(s)].join(","),a:{color:t},["> ".concat(r,"-button")]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:last-child)":{marginInlineEnd:I(a).mul(-1).equal()},"&:first-child":{borderInlineStart:"".concat(lx(a)," ").concat(o," ").concat(i),borderStartStartRadius:f,borderEndStartRadius:f},"&:last-child":{borderStartEndRadius:f,borderEndEndRadius:f},"&:first-child:last-child":{borderRadius:f},["".concat(r,"-group-large &")]:{height:m,fontSize:u,lineHeight:lx(I(m).sub(I(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v}},["".concat(r,"-group-small &")]:{height:g,paddingInline:I(p).sub(a).equal(),paddingBlock:0,lineHeight:lx(I(g).sub(I(a).mul(2)).equal()),"&:first-child":{borderStartStartRadius:h,borderEndStartRadius:h},"&:last-child":{borderStartEndRadius:h,borderEndEndRadius:h}},"&:hover":{position:"relative",color:N},"&:has(:focus-visible)":hb(e),["".concat(r,"-inner, input[type='checkbox'], input[type='radio']")]:{width:0,height:0,opacity:0,pointerEvents:"none"},["&-checked:not(".concat(r,"-button-wrapper-disabled)")]:{zIndex:1,color:N,background:x,borderColor:N,"&::before":{backgroundColor:N},"&:first-child":{borderColor:N},"&:hover":{color:C,borderColor:C,"&::before":{backgroundColor:C}},"&:active":{color:S,borderColor:S,"&::before":{backgroundColor:S}}},["".concat(r,"-group-solid &-checked:not(").concat(r,"-button-wrapper-disabled)")]:{color:y,background:E,borderColor:E,"&:hover":{color:y,background:_,borderColor:_},"&:active":{color:y,background:O,borderColor:O}},"&-disabled":{color:b,backgroundColor:k,borderColor:i,cursor:"not-allowed","&:first-child, &:hover":{color:b,backgroundColor:k,borderColor:i}},["&-disabled".concat(r,"-button-wrapper-checked")]:{color:j,backgroundColor:w,borderColor:i,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},AY=_k("Radio",e=>{const{controlOutline:t,controlOutlineWidth:n}=e,r="0 0 0 ".concat(lx(n)," ").concat(t),a=rb(e,{radioFocusShadow:r,radioButtonFocusShadow:r});return[MY(a),PY(a),TY(a)]},e=>{const{wireframe:t,padding:n,marginXS:r,lineWidth:a,fontSizeLG:o,colorText:i,colorBgContainer:s,colorTextDisabled:l,controlItemBgActiveDisabled:c,colorTextLightSolid:d,colorPrimary:u,colorPrimaryHover:m,colorPrimaryActive:g,colorWhite:p}=e;return{radioSize:o,dotSize:t?o-8:o-2*(4+a),dotColorDisabled:l,buttonSolidCheckedColor:d,buttonSolidCheckedBg:u,buttonSolidCheckedHoverBg:m,buttonSolidCheckedActiveBg:g,buttonBg:s,buttonCheckedBg:s,buttonColor:i,buttonCheckedBgDisabled:c,buttonCheckedColorDisabled:l,buttonPaddingInline:n-a,wrapperMarginInlineEnd:r,radioColor:t?u:p,radioBgColor:t?s:u}},{unitless:{radioSize:!0,dotSize:!0}});var RY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const zY=(e,t)=>{var n,a;const o=r.useContext(_Y),i=r.useContext(OY),{getPrefixCls:s,direction:l,radio:c}=r.useContext(av),d=r.useRef(null),u=Yh(t,d),{isFormItemInput:m}=r.useContext(p_);const g=t=>{var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===o||void 0===o?void 0:o.onChange)||void 0===r||r.call(o,t)},{prefixCls:p,className:f,rootClassName:h,children:v,style:x,title:y}=e,b=RY(e,["prefixCls","className","rootClassName","children","style","title"]),k=s("radio",p),w="button"===((null===o||void 0===o?void 0:o.optionType)||i),j=w?"".concat(k,"-button"):k,N=hS(k),[C,S,E]=AY(k,N),_=Object.assign({},b),O=r.useContext(mj);o&&(_.name=o.name,_.onChange=g,_.checked=e.value===o.value,_.disabled=null!==(n=_.disabled)&&void 0!==n?n:o.disabled),_.disabled=null!==(a=_.disabled)&&void 0!==a?a:O;const I=Ah()("".concat(j,"-wrapper"),{["".concat(j,"-wrapper-checked")]:_.checked,["".concat(j,"-wrapper-disabled")]:_.disabled,["".concat(j,"-wrapper-rtl")]:"rtl"===l,["".concat(j,"-wrapper-in-form-item")]:m,["".concat(j,"-wrapper-block")]:!!(null===o||void 0===o?void 0:o.block)},null===c||void 0===c?void 0:c.className,f,h,S,E,N),[M,P]=hB(_.onClick);return C(r.createElement(cj,{component:"Radio",disabled:_.disabled},r.createElement("label",{className:I,style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),x),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,title:y,onClick:M},r.createElement(mB,Object.assign({},_,{className:Ah()(_.className,{[Bk]:!w}),type:"radio",prefixCls:j,ref:u,onClick:P})),void 0!==v?r.createElement("span",{className:"".concat(j,"-label")},v):null)))};const DY=r.forwardRef(zY),LY=r.forwardRef((e,t)=>{const{getPrefixCls:n,direction:a}=r.useContext(av),{name:o}=r.useContext(p_),i=qI(fO(o)),{prefixCls:s,className:l,rootClassName:c,options:d,buttonStyle:u="outline",disabled:m,children:g,size:p,style:f,id:h,optionType:v,name:x=i,defaultValue:y,value:b,block:k=!1,onChange:w,onMouseEnter:j,onMouseLeave:N,onFocus:C,onBlur:S}=e,[E,_]=Ky(y,{value:b}),O=r.useCallback(t=>{const n=E,r=t.target.value;"value"in e||_(r),r!==n&&(null===w||void 0===w||w(t))},[E,_,w]),I=n("radio",s),M="".concat(I,"-group"),P=hS(I),[T,A,R]=AY(I,P);let z=g;d&&d.length>0&&(z=d.map(e=>"string"===typeof e||"number"===typeof e?r.createElement(DY,{key:e.toString(),prefixCls:I,disabled:m,value:e,checked:E===e},e):r.createElement(DY,{key:"radio-group-value-options-".concat(e.value),prefixCls:I,disabled:e.disabled||m,value:e.value,checked:E===e.value,title:e.title,style:e.style,className:e.className,id:e.id,required:e.required},e.label)));const D=hj(p),L=Ah()(M,"".concat(M,"-").concat(u),{["".concat(M,"-").concat(D)]:D,["".concat(M,"-rtl")]:"rtl"===a,["".concat(M,"-block")]:k},l,c,A,R,P),B=r.useMemo(()=>({onChange:O,value:E,disabled:m,name:x,optionType:v,block:k}),[O,E,m,x,v,k]);return T(r.createElement("div",Object.assign({},nS(e,{aria:!0,data:!0}),{className:L,style:f,onMouseEnter:j,onMouseLeave:N,onFocus:C,onBlur:S,id:h,ref:t}),r.createElement(EY,{value:B},z)))}),BY=r.memo(LY);var FY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const HY=(e,t)=>{const{getPrefixCls:n}=r.useContext(av),{prefixCls:a}=e,o=FY(e,["prefixCls"]),i=n("radio",a);return r.createElement(IY,{value:"button"},r.createElement(DY,Object.assign({prefixCls:i},o,{type:"radio",ref:t})))},WY=r.forwardRef(HY),VY=DY;VY.Button=WY,VY.Group=BY,VY.__ANT_RADIO=!0;const qY=VY,UY={},KY="SELECT_ALL",GY="SELECT_INVERT",XY="SELECT_NONE",YY=[],$Y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return(t||[]).forEach(t=>{n.push(t),t&&"object"===typeof t&&e in t&&$Y(e,t[e],n)}),n},JY=(e,t)=>{const{preserveSelectedRowKeys:n,selectedRowKeys:a,defaultSelectedRowKeys:o,getCheckboxProps:i,getTitleCheckboxProps:s,onChange:l,onSelect:c,onSelectAll:d,onSelectInvert:u,onSelectNone:m,onSelectMultiple:g,columnWidth:p,type:f,selections:h,fixed:v,renderCell:x,hideSelectAll:y,checkStrictly:b=!0}=t||{},{prefixCls:k,data:w,pageData:j,getRecordByKey:N,getRowKey:C,expandType:S,childrenColumnName:E,locale:_,getPopupContainer:O}=e,I=aC("Table"),[M,P]=(e=>{const[t,n]=(0,r.useState)(null),a=(0,r.useCallback)((r,a,o)=>{const i=null!==t&&void 0!==t?t:r,s=Math.min(i||0,r),l=Math.max(i||0,r),c=a.slice(s,l+1).map(e),d=c.some(e=>!o.has(e)),u=[];return c.forEach(e=>{d?(o.has(e)||u.push(e),o.add(e)):(o.delete(e),u.push(e))}),n(d?l:null),u},[t]);return[a,n]})(e=>e),[T,A]=Ky(a||o||YY,{value:a}),R=r.useRef(new Map),z=(0,r.useCallback)(e=>{if(n){const t=new Map;e.forEach(e=>{let n=N(e);!n&&R.current.has(e)&&(n=R.current.get(e)),t.set(e,n)}),R.current=t}},[N,n]);r.useEffect(()=>{z(T)},[T]);const D=(0,r.useMemo)(()=>$Y(E,j),[E,j]),{keyEntities:L}=(0,r.useMemo)(()=>{if(b)return{keyEntities:null};let e=w;if(n){const t=new Set(D.map((e,t)=>C(e,t))),n=Array.from(R.current).reduce((e,n)=>{let[r,a]=n;return t.has(r)?e:e.concat(a)},[]);e=[].concat(vv(e),vv(n))}return bX(e,{externalGetKey:C,childrenPropName:E})},[w,C,b,E,n,D]),B=(0,r.useMemo)(()=>{const e=new Map;return D.forEach((t,n)=>{const r=C(t,n),a=(i?i(t):null)||{};e.set(r,a)}),e},[D,C,i]),F=(0,r.useCallback)(e=>{const t=C(e);let n;return n=B.has(t)?B.get(C(e)):i?i(e):void 0,!!(null===n||void 0===n?void 0:n.disabled)},[B,C]),[H,W]=(0,r.useMemo)(()=>{if(b)return[T||[],[]];const{checkedKeys:e,halfCheckedKeys:t}=BX(T,!0,L,F);return[e||[],t]},[T,b,L,F]),V=(0,r.useMemo)(()=>{const e="radio"===f?H.slice(0,1):H;return new Set(e)},[H,f]),q=(0,r.useMemo)(()=>"radio"===f?new Set:new Set(W),[W,f]);r.useEffect(()=>{t||A(YY)},[!!t]);const U=(0,r.useCallback)((e,t)=>{let r,a;z(e),n?(r=e,a=e.map(e=>R.current.get(e))):(r=[],a=[],e.forEach(e=>{const t=N(e);void 0!==t&&(r.push(e),a.push(t))})),A(r),null===l||void 0===l||l(r,a,{type:t})},[A,N,l,n]),K=(0,r.useCallback)((e,t,n,r)=>{if(c){const a=n.map(e=>N(e));c(N(e),t,a,r)}U(n,"single")},[c,N,U]),G=(0,r.useMemo)(()=>{if(!h||y)return null;return(!0===h?[KY,GY,XY]:h).map(e=>e===KY?{key:"all",text:_.selectionAll,onSelect(){U(w.map((e,t)=>C(e,t)).filter(e=>{const t=B.get(e);return!(null===t||void 0===t?void 0:t.disabled)||V.has(e)}),"all")}}:e===GY?{key:"invert",text:_.selectInvert,onSelect(){const e=new Set(V);j.forEach((t,n)=>{const r=C(t,n),a=B.get(r);(null===a||void 0===a?void 0:a.disabled)||(e.has(r)?e.delete(r):e.add(r))});const t=Array.from(e);u&&(I.deprecated(!1,"onSelectInvert","onChange"),u(t)),U(t,"invert")}}:e===XY?{key:"none",text:_.selectNone,onSelect(){null===m||void 0===m||m(),U(Array.from(V).filter(e=>{const t=B.get(e);return null===t||void 0===t?void 0:t.disabled}),"none")}}:e).map(e=>Object.assign(Object.assign({},e),{onSelect:function(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];null===(n=e.onSelect)||void 0===n||(t=n).call.apply(t,[e].concat(a)),P(null)}}))},[h,V,j,C,u,U]),X=(0,r.useCallback)(e=>{var n;if(!t)return e.filter(e=>e!==UY);let a=vv(e);const o=new Set(V),i=D.map(C).filter(e=>!B.get(e).disabled),l=i.every(e=>o.has(e)),c=i.some(e=>o.has(e));let u,m,w;if("radio"!==f){let e;if(G){const t={getPopupContainer:O,items:G.map((e,t)=>{const{key:n,text:r,onSelect:a}=e;return{key:null!==n&&void 0!==n?n:t,onClick:()=>{null===a||void 0===a||a(i)},label:r}})};e=r.createElement("div",{className:"".concat(k,"-selection-extra")},r.createElement(CY,{menu:t,getPopupContainer:O},r.createElement("span",null,r.createElement(NL,null))))}const t=D.map((e,t)=>{const n=C(e,t),r=B.get(n)||{};return Object.assign({checked:o.has(n)},r)}).filter(e=>{let{disabled:t}=e;return t}),n=!!t.length&&t.length===D.length,a=n&&t.every(e=>{let{checked:t}=e;return t}),g=n&&t.some(e=>{let{checked:t}=e;return t}),p=(null===s||void 0===s?void 0:s())||{},{onChange:f,disabled:h}=p;m=r.createElement(NB,Object.assign({"aria-label":e?"Custom selection":"Select all"},p,{checked:n?a:!!D.length&&l,indeterminate:n?!a&&g:!l&&c,onChange:e=>{(()=>{const e=[];l?i.forEach(t=>{o.delete(t),e.push(t)}):i.forEach(t=>{o.has(t)||(o.add(t),e.push(t))});const t=Array.from(o);null===d||void 0===d||d(!l,t.map(e=>N(e)),e.map(e=>N(e))),U(t,"all"),P(null)})(),null===f||void 0===f||f(e)},disabled:null!==h&&void 0!==h?h:0===D.length||n,skipGroup:!0})),u=!y&&r.createElement("div",{className:"".concat(k,"-selection")},m,e)}w="radio"===f?(e,t,n)=>{const a=C(t,n),i=o.has(a),s=B.get(a);return{node:r.createElement(qY,Object.assign({},s,{checked:i,onClick:e=>{var t;e.stopPropagation(),null===(t=null===s||void 0===s?void 0:s.onClick)||void 0===t||t.call(s,e)},onChange:e=>{var t;o.has(a)||K(a,!0,[a],e.nativeEvent),null===(t=null===s||void 0===s?void 0:s.onChange)||void 0===t||t.call(s,e)}})),checked:i}}:(e,t,n)=>{var a;const s=C(t,n),l=o.has(s),c=q.has(s),d=B.get(s);let u;return u="nest"===S?c:null!==(a=null===d||void 0===d?void 0:d.indeterminate)&&void 0!==a?a:c,{node:r.createElement(NB,Object.assign({},d,{indeterminate:u,checked:l,skipGroup:!0,onClick:e=>{var t;e.stopPropagation(),null===(t=null===d||void 0===d?void 0:d.onClick)||void 0===t||t.call(d,e)},onChange:e=>{var t;const{nativeEvent:n}=e,{shiftKey:r}=n,a=i.indexOf(s),c=H.some(e=>i.includes(e));if(r&&b&&c){const e=M(a,i,o),t=Array.from(o);null===g||void 0===g||g(!l,t.map(e=>N(e)),e.map(e=>N(e))),U(t,"multiple")}else{const e=H;if(b){const t=l?_X(e,s):OX(e,s);K(s,!l,t,n)}else{const t=BX([].concat(vv(e),[s]),!0,L,F),{checkedKeys:r,halfCheckedKeys:a}=t;let o=r;if(l){const e=new Set(r);e.delete(s),o=BX(Array.from(e),{checked:!1,halfCheckedKeys:a},L,F).checkedKeys}K(s,!l,o,n)}}P(l?null:a),null===(t=null===d||void 0===d?void 0:d.onChange)||void 0===t||t.call(d,e)}})),checked:l}};if(!a.includes(UY))if(0===a.findIndex(e=>{var t;return"EXPAND_COLUMN"===(null===(t=e[fG])||void 0===t?void 0:t.columnType)})){const[e,...t]=a;a=[e,UY].concat(vv(t))}else a=[UY].concat(vv(a));const j=a.indexOf(UY);a=a.filter((e,t)=>e!==UY||t===j);const E=a[j-1],_=a[j+1];let I=v;void 0===I&&(void 0!==(null===_||void 0===_?void 0:_.fixed)?I=_.fixed:void 0!==(null===E||void 0===E?void 0:E.fixed)&&(I=E.fixed)),I&&E&&"EXPAND_COLUMN"===(null===(n=E[fG])||void 0===n?void 0:n.columnType)&&void 0===E.fixed&&(E.fixed=I);const T=Ah()("".concat(k,"-selection-col"),{["".concat(k,"-selection-col-with-dropdown")]:h&&"checkbox"===f}),A={fixed:I,width:p,className:"".concat(k,"-selection-column"),title:(null===t||void 0===t?void 0:t.columnTitle)?"function"===typeof t.columnTitle?t.columnTitle(m):t.columnTitle:u,render:(e,t,n)=>{const{node:r,checked:a}=w(e,t,n);return x?x(a,t,n,r):r},onCell:t.onCell,align:t.align,[fG]:{className:T}};return a.map(e=>e===UY?A:e)},[C,D,t,H,V,q,p,G,S,B,g,K,F]);return[X,V]};const ZY=(e,t)=>(0,r.useImperativeHandle)(e,()=>{const e=t(),{nativeElement:n}=e;return"undefined"!==typeof Proxy?new Proxy(n,{get:(t,n)=>e[n]?e[n]:Reflect.get(t,n)}):(a=e,(r=n)._antProxy=r._antProxy||{},Object.keys(a).forEach(e=>{if(!(e in r._antProxy)){const t=r[e];r._antProxy[e]=t,r[e]=a[e]}}),r);var r,a});function QY(e){return null!==e&&void 0!==e&&e===e.window}const e$=e=>{var t,n;if("undefined"===typeof window)return 0;let r=0;return QY(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!QY(e)&&"number"!==typeof r&&(r=null===(n=(null!==(t=e.ownerDocument)&&void 0!==t?t:e).documentElement)||void 0===n?void 0:n.scrollTop),r};const t$=function(e){return t=>{const{prefixCls:n,onExpand:a,record:o,expanded:i,expandable:s}=t,l="".concat(n,"-row-expand-icon");return r.createElement("button",{type:"button",onClick:e=>{a(o,e),e.stopPropagation()},className:Ah()(l,{["".concat(l,"-spaced")]:!s,["".concat(l,"-expanded")]:s&&i,["".concat(l,"-collapsed")]:s&&!i}),"aria-label":i?e.collapse:e.expand,"aria-expanded":i})}};const n$=(e,t)=>"key"in e&&void 0!==e.key&&null!==e.key?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function r$(e,t){return t?"".concat(t,"-").concat(e):"".concat(e)}const a$=(e,t)=>"function"===typeof e?e(t):e;const o$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};var i$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:o$}))};const s$=r.forwardRef(i$);const l$=function(e){var t=e.dropPosition,n=e.dropLevelOffset,a=e.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:o.top=0,o.left=-n*a;break;case 1:o.bottom=0,o.left=-n*a;break;case 0:o.bottom=0,o.left=a}return r.createElement("div",{style:o})};function c$(e){if(null==e)throw new TypeError("Cannot destructure "+e)}const d$=function(e,t){var n=fv(r.useState(!1),2),a=n[0],o=n[1];Bh(function(){if(a)return e(),function(){t()}},[a]),Bh(function(){return o(!0),function(){o(!1)}},[])};var u$=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],m$=r.forwardRef(function(e,t){var n=e.className,a=e.style,o=e.motion,i=e.motionNodes,s=e.motionType,l=e.onMotionStart,c=e.onMotionEnd,d=e.active,u=e.treeNodeRequiredProps,m=Be(e,u$),g=fv(r.useState(!0),2),p=g[0],f=g[1],h=r.useContext(cX).prefixCls,v=i&&"hide"!==s;Bh(function(){i&&v!==p&&f(v)},[i]);var x=r.useRef(!1),y=function(){i&&!x.current&&(x.current=!0,c())};d$(function(){i&&l()},y);return i?r.createElement(Tw,jx({ref:t,visible:p},o,{motionAppear:"show"===s,onVisibleChanged:function(e){v===e&&y()}}),function(e,t){var n=e.className,a=e.style;return r.createElement("div",{ref:t,className:Ah()("".concat(h,"-treenode-motion"),n),style:a},i.map(function(e){var t=Object.assign({},(c$(e.data),e.data)),n=e.title,a=e.key,o=e.isStart,i=e.isEnd;delete t.children;var s=kX(a,u);return r.createElement(EX,jx({},t,s,{title:n,active:d,data:e.data,key:a,isStart:o,isEnd:i}))}))}):r.createElement(EX,jx({domRef:t,className:n,style:a},m,{active:d}))});const g$=m$;function p$(e,t,n){var r=e.findIndex(function(e){return e.key===n}),a=e[r+1],o=t.findIndex(function(e){return e.key===n});if(a){var i=t.findIndex(function(e){return e.key===a.key});return t.slice(o+1,i)}return t.slice(o+1)}var f$=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],h$={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},v$=function(){},x$="RC_TREE_MOTION_".concat(Math.random()),y$={key:x$},b$={key:x$,level:0,index:0,pos:"0",node:y$,nodes:[y$]},k$={parent:null,children:[],pos:b$.pos,data:y$,title:null,key:x$,isStart:[],isEnd:[]};function w$(e,t,n,r){return!1!==t&&n?e.slice(0,Math.ceil(n/r)+1):e}function j$(e){return hX(e.key,e.pos)}var N$=r.forwardRef(function(e,t){var n=e.prefixCls,a=e.data,o=(e.selectable,e.checkable,e.expandedKeys),i=e.selectedKeys,s=e.checkedKeys,l=e.loadedKeys,c=e.loadingKeys,d=e.halfCheckedKeys,u=e.keyEntities,m=e.disabled,g=e.dragging,p=e.dragOverNodeKey,f=e.dropPosition,h=e.motion,v=e.height,x=e.itemHeight,y=e.virtual,b=e.scrollWidth,k=e.focusable,w=e.activeItem,j=e.focused,N=e.tabIndex,C=e.onKeyDown,S=e.onFocus,E=e.onBlur,_=e.onActiveChange,O=e.onListChangeStart,I=e.onListChangeEnd,M=Be(e,f$),P=r.useRef(null),T=r.useRef(null);r.useImperativeHandle(t,function(){return{scrollTo:function(e){P.current.scrollTo(e)},getIndentWidth:function(){return T.current.offsetWidth}}});var A=fv(r.useState(o),2),R=A[0],z=A[1],D=fv(r.useState(a),2),L=D[0],B=D[1],F=fv(r.useState(a),2),H=F[0],W=F[1],V=fv(r.useState([]),2),q=V[0],U=V[1],K=fv(r.useState(null),2),G=K[0],X=K[1],Y=r.useRef(a);function $(){var e=Y.current;B(e),W(e),U([]),X(null),I()}Y.current=a,Bh(function(){z(o);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,r=t.length;if(1!==Math.abs(n-r))return{add:!1,key:null};function a(e,t){var n=new Map;e.forEach(function(e){n.set(e,!0)});var r=t.filter(function(e){return!n.has(e)});return 1===r.length?r[0]:null}return n<r?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}(R,o);if(null!==e.key)if(e.add){var t=L.findIndex(function(t){return t.key===e.key}),n=w$(p$(L,a,e.key),y,v,x),r=L.slice();r.splice(t+1,0,k$),W(r),U(n),X("show")}else{var i=a.findIndex(function(t){return t.key===e.key}),s=w$(p$(a,L,e.key),y,v,x),l=a.slice();l.splice(i+1,0,k$),W(l),U(s),X("hide")}else L!==a&&(B(a),W(a))},[o,a]),r.useEffect(function(){g||$()},[g]);var J=h?H:a,Z={expandedKeys:o,selectedKeys:i,loadedKeys:l,loadingKeys:c,checkedKeys:s,halfCheckedKeys:d,dragOverNodeKey:p,dropPosition:f,keyEntities:u};return r.createElement(r.Fragment,null,j&&w&&r.createElement("span",{style:h$,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(w)),r.createElement("div",null,r.createElement("input",{style:h$,disabled:!1===k||m,tabIndex:!1!==k?N:null,onKeyDown:C,onFocus:S,onBlur:E,value:"",onChange:v$,"aria-label":"for screen reader"})),r.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},r.createElement("div",{className:"".concat(n,"-indent")},r.createElement("div",{ref:T,className:"".concat(n,"-indent-unit")}))),r.createElement(nD,jx({},M,{data:J,itemKey:j$,height:v,fullHeight:!1,virtual:y,itemHeight:x,scrollWidth:b,prefixCls:"".concat(n,"-list"),ref:P,role:"tree",onVisibleChange:function(e){e.every(function(e){return j$(e)!==x$})&&$()}}),function(e){var t=e.pos,n=Object.assign({},(c$(e.data),e.data)),a=e.title,o=e.key,i=e.isStart,s=e.isEnd,l=hX(o,t);delete n.key,delete n.children;var c=kX(l,Z);return r.createElement(g$,jx({},n,c,{title:a,active:!!w&&o===w.key,pos:t,data:e.data,isStart:i,isEnd:s,motion:h,motionNodes:o===x$?q:null,motionType:G,onMotionStart:O,onMotionEnd:$,treeNodeRequiredProps:Z,onMouseMove:function(){_(null)}}))}))});const C$=N$;var S$=function(e){My(n,e);var t=Ay(n);function n(){var e;Lv(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return ze(Oy(e=t.call.apply(t,[this].concat(o))),"destroyed",!1),ze(Oy(e),"delayedDragEnterLogic",void 0),ze(Oy(e),"loadingRetryTimes",{}),ze(Oy(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:vX()}),ze(Oy(e),"dragStartMousePosition",null),ze(Oy(e),"dragNodeProps",null),ze(Oy(e),"currentMouseOverDroppableNodeKey",null),ze(Oy(e),"listRef",r.createRef()),ze(Oy(e),"onNodeDragStart",function(t,n){var r=e.state,a=r.expandedKeys,o=r.keyEntities,i=e.props.onDragStart,s=n.eventKey;e.dragNodeProps=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=_X(a,s);e.setState({draggingNodeKey:s,dragChildrenKeys:MX(s,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null===i||void 0===i||i({event:t,node:wX(n)})}),ze(Oy(e),"onNodeDragEnter",function(t,n){var r=e.state,a=r.expandedKeys,o=r.keyEntities,i=r.dragChildrenKeys,s=r.flattenNodes,l=r.indent,c=e.props,d=c.onDragEnter,u=c.onExpand,m=c.allowDrop,g=c.direction,p=n.pos,f=n.eventKey;if(e.currentMouseOverDroppableNodeKey!==f&&(e.currentMouseOverDroppableNodeKey=f),e.dragNodeProps){var h=TX(t,e.dragNodeProps,n,l,e.dragStartMousePosition,m,s,o,a,g),v=h.dropPosition,x=h.dropLevelOffset,y=h.dropTargetKey,b=h.dropContainerKey,k=h.dropTargetPos,w=h.dropAllowed,j=h.dragOverNodeKey;!i.includes(y)&&w?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(t){clearTimeout(e.delayedDragEnterLogic[t])}),e.dragNodeProps.eventKey!==n.eventKey&&(t.persist(),e.delayedDragEnterLogic[p]=window.setTimeout(function(){if(null!==e.state.draggingNodeKey){var r=vv(a),i=gX(o,n.eventKey);i&&(i.children||[]).length&&(r=OX(a,n.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(r),null===u||void 0===u||u(r,{node:wX(n),expanded:!0,nativeEvent:t.nativeEvent})}},800)),e.dragNodeProps.eventKey!==y||0!==x?(e.setState({dragOverNodeKey:j,dropPosition:v,dropLevelOffset:x,dropTargetKey:y,dropContainerKey:b,dropTargetPos:k,dropAllowed:w}),null===d||void 0===d||d({event:t,node:wX(n),expandedKeys:a})):e.resetDragState()):e.resetDragState()}else e.resetDragState()}),ze(Oy(e),"onNodeDragOver",function(t,n){var r=e.state,a=r.dragChildrenKeys,o=r.flattenNodes,i=r.keyEntities,s=r.expandedKeys,l=r.indent,c=e.props,d=c.onDragOver,u=c.allowDrop,m=c.direction;if(e.dragNodeProps){var g=TX(t,e.dragNodeProps,n,l,e.dragStartMousePosition,u,o,i,s,m),p=g.dropPosition,f=g.dropLevelOffset,h=g.dropTargetKey,v=g.dropContainerKey,x=g.dropTargetPos,y=g.dropAllowed,b=g.dragOverNodeKey;!a.includes(h)&&y&&(e.dragNodeProps.eventKey===h&&0===f?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():p===e.state.dropPosition&&f===e.state.dropLevelOffset&&h===e.state.dropTargetKey&&v===e.state.dropContainerKey&&x===e.state.dropTargetPos&&y===e.state.dropAllowed&&b===e.state.dragOverNodeKey||e.setState({dropPosition:p,dropLevelOffset:f,dropTargetKey:h,dropContainerKey:v,dropTargetPos:x,dropAllowed:y,dragOverNodeKey:b}),null===d||void 0===d||d({event:t,node:wX(n)}))}}),ze(Oy(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey!==n.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;null===r||void 0===r||r({event:t,node:wX(n)})}),ze(Oy(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),ze(Oy(e),"onNodeDragEnd",function(t,n){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null===r||void 0===r||r({event:t,node:wX(n)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),ze(Oy(e),"onNodeDrop",function(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.state,i=o.dragChildrenKeys,s=o.dropPosition,l=o.dropTargetKey,c=o.dropTargetPos;if(o.dropAllowed){var d=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==l){var u=Le(Le({},kX(l,e.getTreeNodeRequiredProps())),{},{active:(null===(r=e.getActiveItem())||void 0===r?void 0:r.key)===l,data:gX(e.state.keyEntities,l).node}),m=i.includes(l);zv(!m,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var g=IX(c),p={event:t,node:wX(u),dragNode:e.dragNodeProps?wX(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(i),dropToGap:0!==s,dropPosition:s+Number(g[g.length-1])};a||null===d||void 0===d||d(p),e.dragNodeProps=null}}}),ze(Oy(e),"cleanDragState",function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),ze(Oy(e),"triggerExpandActionExpand",function(t,n){var r=e.state,a=r.expandedKeys,o=r.flattenNodes,i=n.expanded,s=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var l=o.filter(function(e){return e.key===s})[0],c=wX(Le(Le({},kX(s,e.getTreeNodeRequiredProps())),{},{data:l.data}));e.setExpandedKeys(i?_X(a,s):OX(a,s)),e.onNodeExpand(t,c)}}),ze(Oy(e),"onNodeClick",function(t,n){var r=e.props,a=r.onClick;"click"===r.expandAction&&e.triggerExpandActionExpand(t,n),null===a||void 0===a||a(t,n)}),ze(Oy(e),"onNodeDoubleClick",function(t,n){var r=e.props,a=r.onDoubleClick;"doubleClick"===r.expandAction&&e.triggerExpandActionExpand(t,n),null===a||void 0===a||a(t,n)}),ze(Oy(e),"onNodeSelect",function(t,n){var r=e.state.selectedKeys,a=e.state,o=a.keyEntities,i=a.fieldNames,s=e.props,l=s.onSelect,c=s.multiple,d=n.selected,u=n[i.key],m=!d,g=(r=m?c?OX(r,u):[u]:_X(r,u)).map(function(e){var t=gX(o,e);return t?t.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:r}),null===l||void 0===l||l(r,{event:"select",selected:m,node:n,selectedNodes:g,nativeEvent:t.nativeEvent})}),ze(Oy(e),"onNodeCheck",function(t,n,r){var a,o=e.state,i=o.keyEntities,s=o.checkedKeys,l=o.halfCheckedKeys,c=e.props,d=c.checkStrictly,u=c.onCheck,m=n.key,g={event:"check",node:n,checked:r,nativeEvent:t.nativeEvent};if(d){var p=r?OX(s,m):_X(s,m);a={checked:p,halfChecked:_X(l,m)},g.checkedNodes=p.map(function(e){return gX(i,e)}).filter(Boolean).map(function(e){return e.node}),e.setUncontrolledState({checkedKeys:p})}else{var f=BX([].concat(vv(s),[m]),!0,i),h=f.checkedKeys,v=f.halfCheckedKeys;if(!r){var x=new Set(h);x.delete(m);var y=BX(Array.from(x),{checked:!1,halfCheckedKeys:v},i);h=y.checkedKeys,v=y.halfCheckedKeys}a=h,g.checkedNodes=[],g.checkedNodesPositions=[],g.halfCheckedKeys=v,h.forEach(function(e){var t=gX(i,e);if(t){var n=t.node,r=t.pos;g.checkedNodes.push(n),g.checkedNodesPositions.push({node:n,pos:r})}}),e.setUncontrolledState({checkedKeys:h},!1,{halfCheckedKeys:v})}null===u||void 0===u||u(a,g)}),ze(Oy(e),"onNodeLoad",function(t){var n,r=t.key,a=gX(e.state.keyEntities,r);if(null===a||void 0===a||null===(n=a.children)||void 0===n||!n.length){var o=new Promise(function(n,a){e.setState(function(o){var i=o.loadedKeys,s=void 0===i?[]:i,l=o.loadingKeys,c=void 0===l?[]:l,d=e.props,u=d.loadData,m=d.onLoad;return!u||s.includes(r)||c.includes(r)?null:(u(t).then(function(){var a=OX(e.state.loadedKeys,r);null===m||void 0===m||m(a,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:a}),e.setState(function(e){return{loadingKeys:_X(e.loadingKeys,r)}}),n()}).catch(function(t){if(e.setState(function(e){return{loadingKeys:_X(e.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=10){var o=e.state.loadedKeys;zv(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:OX(o,r)}),n()}a(t)}),{loadingKeys:OX(c,r)})})});return o.catch(function(){}),o}}),ze(Oy(e),"onNodeMouseEnter",function(t,n){var r=e.props.onMouseEnter;null===r||void 0===r||r({event:t,node:n})}),ze(Oy(e),"onNodeMouseLeave",function(t,n){var r=e.props.onMouseLeave;null===r||void 0===r||r({event:t,node:n})}),ze(Oy(e),"onNodeContextMenu",function(t,n){var r=e.props.onRightClick;r&&(t.preventDefault(),r({event:t,node:n}))}),ze(Oy(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===t||void 0===t||t.apply(void 0,r)}),ze(Oy(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];null===t||void 0===t||t.apply(void 0,r)}),ze(Oy(e),"getTreeNodeRequiredProps",function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}}),ze(Oy(e),"setExpandedKeys",function(t){var n=e.state,r=yX(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:r},!0)}),ze(Oy(e),"onNodeExpand",function(t,n){var r=e.state.expandedKeys,a=e.state,o=a.listChanging,i=a.fieldNames,s=e.props,l=s.onExpand,c=s.loadData,d=n.expanded,u=n[i.key];if(!o){var m=r.includes(u),g=!d;if(zv(d&&m||!d&&!m,"Expand state not sync with index check"),r=g?OX(r,u):_X(r,u),e.setExpandedKeys(r),null===l||void 0===l||l(r,{node:n,expanded:g,nativeEvent:t.nativeEvent}),g&&c){var p=e.onNodeLoad(n);p&&p.then(function(){var t=yX(e.state.treeData,r,i);e.setUncontrolledState({flattenNodes:t})}).catch(function(){var t=_X(e.state.expandedKeys,u);e.setExpandedKeys(t)})}}}),ze(Oy(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),ze(Oy(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),ze(Oy(e),"onActiveChange",function(t){var n=e.state.activeKey,r=e.props,a=r.onActiveChange,o=r.itemScrollOffset,i=void 0===o?0:o;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t,offset:i}),null===a||void 0===a||a(t))}),ze(Oy(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,r=t.flattenNodes;return null===n?null:r.find(function(e){return e.key===n})||null}),ze(Oy(e),"offsetActiveKey",function(t){var n=e.state,r=n.flattenNodes,a=n.activeKey,o=r.findIndex(function(e){return e.key===a});-1===o&&t<0&&(o=r.length);var i=r[o=(o+t+r.length)%r.length];if(i){var s=i.key;e.onActiveChange(s)}else e.onActiveChange(null)}),ze(Oy(e),"onKeyDown",function(t){var n=e.state,r=n.activeKey,a=n.expandedKeys,o=n.checkedKeys,i=n.fieldNames,s=e.props,l=s.onKeyDown,c=s.checkable,d=s.selectable;switch(t.which){case QC.UP:e.offsetActiveKey(-1),t.preventDefault();break;case QC.DOWN:e.offsetActiveKey(1),t.preventDefault()}var u=e.getActiveItem();if(u&&u.data){var m=e.getTreeNodeRequiredProps(),g=!1===u.data.isLeaf||!!(u.data[i.children]||[]).length,p=wX(Le(Le({},kX(r,m)),{},{data:u.data,active:!0}));switch(t.which){case QC.LEFT:g&&a.includes(r)?e.onNodeExpand({},p):u.parent&&e.onActiveChange(u.parent.key),t.preventDefault();break;case QC.RIGHT:g&&!a.includes(r)?e.onNodeExpand({},p):u.children&&u.children.length&&e.onActiveChange(u.children[0].key),t.preventDefault();break;case QC.ENTER:case QC.SPACE:!c||p.disabled||!1===p.checkable||p.disableCheckbox?c||!d||p.disabled||!1===p.selectable||e.onNodeSelect({},p):e.onNodeCheck({},p,!o.includes(r))}}null===l||void 0===l||l(t)}),ze(Oy(e),"setUncontrolledState",function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var a=!1,o=!0,i={};Object.keys(t).forEach(function(n){e.props.hasOwnProperty(n)?o=!1:(a=!0,i[n]=t[n])}),!a||n&&!o||e.setState(Le(Le({},i),r))}}),ze(Oy(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return Fv(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,r=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:r}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t=this.state,n=t.focused,a=t.flattenNodes,o=t.keyEntities,i=t.draggingNodeKey,s=t.activeKey,l=t.dropLevelOffset,c=t.dropContainerKey,d=t.dropTargetKey,u=t.dropPosition,m=t.dragOverNodeKey,g=t.indent,p=this.props,f=p.prefixCls,h=p.className,v=p.style,x=p.showLine,y=p.focusable,b=p.tabIndex,k=void 0===b?0:b,w=p.selectable,j=p.showIcon,N=p.icon,C=p.switcherIcon,S=p.draggable,E=p.checkable,_=p.checkStrictly,O=p.disabled,I=p.motion,M=p.loadData,P=p.filterTreeNode,T=p.height,A=p.itemHeight,R=p.scrollWidth,z=p.virtual,D=p.titleRender,L=p.dropIndicatorRender,B=p.onContextMenu,F=p.onScroll,H=p.direction,W=p.rootClassName,V=p.rootStyle,q=nS(this.props,{aria:!0,data:!0});S&&(e="object"===Ae(S)?S:"function"===typeof S?{nodeDraggable:S}:{});var U={prefixCls:f,selectable:w,showIcon:j,icon:N,switcherIcon:C,draggable:e,draggingNodeKey:i,checkable:E,checkStrictly:_,disabled:O,keyEntities:o,dropLevelOffset:l,dropContainerKey:c,dropTargetKey:d,dropPosition:u,dragOverNodeKey:m,indent:g,direction:H,dropIndicatorRender:L,loadData:M,filterTreeNode:P,titleRender:D,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return r.createElement(cX.Provider,{value:U},r.createElement("div",{className:Ah()(f,h,W,ze(ze(ze({},"".concat(f,"-show-line"),x),"".concat(f,"-focused"),n),"".concat(f,"-active-focused"),null!==s)),style:V},r.createElement(C$,jx({ref:this.listRef,prefixCls:f,style:v,data:a,disabled:O,selectable:w,checkable:!!E,motion:I,dragging:null!==i,height:T,itemHeight:A,virtual:z,focusable:y,focused:n,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:B,onScroll:F,scrollWidth:R},this.getTreeNodeRequiredProps(),q))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r=t.prevProps,a={prevProps:e};function o(t){return!r&&e.hasOwnProperty(t)||r&&r[t]!==e[t]}var i=t.fieldNames;if(o("fieldNames")&&(i=vX(e.fieldNames),a.fieldNames=i),o("treeData")?n=e.treeData:o("children")&&(zv(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=xX(e.children)),n){a.treeData=n;var s=bX(n,{fieldNames:i});a.keyEntities=Le(ze({},x$,b$),s.keyEntities)}var l,c=a.keyEntities||t.keyEntities;if(o("expandedKeys")||r&&o("autoExpandParent"))a.expandedKeys=e.autoExpandParent||!r&&e.defaultExpandParent?zX(e.expandedKeys,c):e.expandedKeys;else if(!r&&e.defaultExpandAll){var d=Le({},c);delete d[x$];var u=[];Object.keys(d).forEach(function(e){var t=d[e];t.children&&t.children.length&&u.push(t.key)}),a.expandedKeys=u}else!r&&e.defaultExpandedKeys&&(a.expandedKeys=e.autoExpandParent||e.defaultExpandParent?zX(e.defaultExpandedKeys,c):e.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,n||a.expandedKeys){var m=yX(n||t.treeData,a.expandedKeys||t.expandedKeys,i);a.flattenNodes=m}if((e.selectable&&(o("selectedKeys")?a.selectedKeys=AX(e.selectedKeys,e):!r&&e.defaultSelectedKeys&&(a.selectedKeys=AX(e.defaultSelectedKeys,e))),e.checkable)&&(o("checkedKeys")?l=RX(e.checkedKeys)||{}:!r&&e.defaultCheckedKeys?l=RX(e.defaultCheckedKeys)||{}:n&&(l=RX(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),l)){var g=l,p=g.checkedKeys,f=void 0===p?[]:p,h=g.halfCheckedKeys,v=void 0===h?[]:h;if(!e.checkStrictly){var x=BX(f,!0,c);f=x.checkedKeys,v=x.halfCheckedKeys}a.checkedKeys=f,a.halfCheckedKeys=v}return o("loadedKeys")&&(a.loadedKeys=e.loadedKeys),a}}]),n}(r.Component);ze(S$,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:l$,allowDrop:function(){return!0},expandAction:!1}),ze(S$,"TreeNode",EX);const E$=S$;const _$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var O$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:_$}))};const I$=r.forwardRef(O$);const M$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};var P$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:M$}))};const T$=r.forwardRef(P$);const A$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};var R$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:A$}))};const z$=r.forwardRef(R$);const D$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"};var L$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:D$}))};const B$=r.forwardRef(L$),F$=e=>{let{treeCls:t,treeNodeCls:n,directoryNodeSelectedBg:r,directoryNodeSelectedColor:a,motionDurationMid:o,borderRadius:i,controlItemBgHover:s}=e;return{["".concat(t).concat(t,"-directory ").concat(n)]:{["".concat(t,"-node-content-wrapper")]:{position:"static",["&:has(".concat(t,"-drop-indicator)")]:{position:"relative"},["> *:not(".concat(t,"-drop-indicator)")]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:"background-color ".concat(o),content:'""',borderRadius:i},"&:hover:before":{background:s}},["".concat(t,"-switcher, ").concat(t,"-checkbox, ").concat(t,"-draggable-icon")]:{zIndex:1},"&-selected":{background:r,borderRadius:i,["".concat(t,"-switcher, ").concat(t,"-draggable-icon")]:{color:a},["".concat(t,"-node-content-wrapper")]:{color:a,background:"transparent","&, &:hover":{color:a},"&:before, &:hover:before":{background:r}}}}}},H$=new Ey("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),W$=(e,t)=>({[".".concat(e,"-switcher-icon")]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:"transform ".concat(t.motionDurationSlow)}}}),V$=(e,t)=>({[".".concat(e,"-drop-indicator")]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:"".concat(lx(t.lineWidthBold)," solid ").concat(t.colorPrimary),borderRadius:"50%",content:'""'}}}),q$=(e,t)=>{const{treeCls:n,treeNodeCls:r,treeNodePadding:a,titleHeight:o,indentSize:i,nodeSelectedBg:s,nodeHoverBg:l,colorTextQuaternary:c,controlItemBgActiveDisabled:d}=t;return{[n]:Object.assign(Object.assign({},fb(t)),{"--rc-virtual-list-scrollbar-bg":t.colorSplit,background:t.colorBgContainer,borderRadius:t.borderRadius,transition:"background-color ".concat(t.motionDurationSlow),"&-rtl":{direction:"rtl"},["&".concat(n,"-rtl ").concat(n,"-switcher_close ").concat(n,"-switcher-icon svg")]:{transform:"rotate(90deg)"},["&-focused:not(:hover):not(".concat(n,"-active-focused)")]:hb(t),["".concat(n,"-list-holder-inner")]:{alignItems:"flex-start"},["&".concat(n,"-block-node")]:{["".concat(n,"-list-holder-inner")]:{alignItems:"stretch",["".concat(n,"-node-content-wrapper")]:{flex:"auto"},["".concat(r,".dragging:after")]:{position:"absolute",inset:0,border:"1px solid ".concat(t.colorPrimary),opacity:0,animationName:H$,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[r]:{display:"flex",alignItems:"flex-start",marginBottom:a,lineHeight:lx(o),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:a},["&-disabled ".concat(n,"-node-content-wrapper")]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},["".concat(n,"-checkbox-disabled + ").concat(n,"-node-selected,&").concat(r,"-disabled").concat(r,"-selected ").concat(n,"-node-content-wrapper")]:{backgroundColor:d},["".concat(n,"-checkbox-disabled")]:{pointerEvents:"unset"},["&:not(".concat(r,"-disabled)")]:{["".concat(n,"-node-content-wrapper")]:{"&:hover":{color:t.nodeHoverColor}}},["&-active ".concat(n,"-node-content-wrapper")]:{background:t.controlItemBgHover},["&:not(".concat(r,"-disabled).filter-node ").concat(n,"-title")]:{color:t.colorPrimary,fontWeight:t.fontWeightStrong},"&-draggable":{cursor:"grab",["".concat(n,"-draggable-icon")]:{flexShrink:0,width:o,textAlign:"center",visibility:"visible",color:c},["&".concat(r,"-disabled ").concat(n,"-draggable-icon")]:{visibility:"hidden"}}},["".concat(n,"-indent")]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:i}},["".concat(n,"-draggable-icon")]:{visibility:"hidden"},["".concat(n,"-switcher, ").concat(n,"-checkbox")]:{marginInlineEnd:t.calc(t.calc(o).sub(t.controlInteractiveSize)).div(2).equal()},["".concat(n,"-switcher")]:Object.assign(Object.assign({},W$(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:o,textAlign:"center",cursor:"pointer",userSelect:"none",transition:"all ".concat(t.motionDurationSlow),"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:o,height:o,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:"all ".concat(t.motionDurationSlow)},["&:not(".concat(n,"-switcher-noop):hover:before")]:{backgroundColor:t.colorBgTextHover},["&_close ".concat(n,"-switcher-icon svg")]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(o).div(2).equal(),bottom:t.calc(a).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(o).div(2).equal()).mul(.8).equal(),height:t.calc(o).div(2).equal(),borderBottom:"1px solid ".concat(t.colorBorder),content:'""'}}}),["".concat(n,"-node-content-wrapper")]:Object.assign(Object.assign({position:"relative",minHeight:o,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:"all ".concat(t.motionDurationMid,", border 0s, line-height 0s, box-shadow 0s")},V$(e,t)),{"&:hover":{backgroundColor:l},["&".concat(n,"-node-selected")]:{color:t.nodeSelectedColor,backgroundColor:s},["".concat(n,"-iconEle")]:{display:"inline-block",width:o,height:o,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),["".concat(n,"-unselectable ").concat(n,"-node-content-wrapper:hover")]:{backgroundColor:"transparent"},["".concat(r,".drop-container > [draggable]")]:{boxShadow:"0 0 0 2px ".concat(t.colorPrimary)},"&-show-line":{["".concat(n,"-indent-unit")]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(o).div(2).equal(),bottom:t.calc(a).mul(-1).equal(),borderInlineEnd:"1px solid ".concat(t.colorBorder),content:'""'},"&-end:before":{display:"none"}},["".concat(n,"-switcher")]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},["".concat(r,"-leaf-last ").concat(n,"-switcher-leaf-line:before")]:{top:"auto !important",bottom:"auto !important",height:"".concat(lx(t.calc(o).div(2).equal())," !important")}})}},U$=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=".".concat(e),a="".concat(r,"-treenode"),o=t.calc(t.paddingXS).div(2).equal(),i=rb(t,{treeCls:r,treeNodeCls:a,treeNodePadding:o});return[q$(e,i),n&&F$(i)].filter(Boolean)},K$=_k("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:pB("".concat(n,"-checkbox"),e)},U$(n,e),H_(e)]},e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:r}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:r,nodeSelectedColor:e.colorText}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})});const G$=function(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:a,indent:o,direction:i="ltr"}=e,s="ltr"===i?"left":"right",l="ltr"===i?"right":"left",c={[s]:-n*o+4,[l]:0};switch(t){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[s]=o+4}return r.createElement("div",{style:c,className:"".concat(a,"-drop-indicator")})};const X$={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var Y$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:X$}))};const $$=r.forwardRef(Y$);const J$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};var Z$=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:J$}))};const Q$=r.forwardRef(Z$);const eJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};var tJ=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:eJ}))};const nJ=r.forwardRef(tJ),rJ=e=>{var t,n;const{prefixCls:a,switcherIcon:o,treeNodeProps:i,showLine:s,switcherLoadingIcon:l}=e,{isLeaf:c,expanded:d,loading:u}=i;if(u)return r.isValidElement(l)?l:r.createElement(eN,{className:"".concat(a,"-switcher-loading-icon")});let m;if(s&&"object"===typeof s&&(m=s.showLeafIcon),c){if(!s)return null;if("boolean"!==typeof m&&m){const e="function"===typeof m?m(i):m,n="".concat(a,"-switcher-line-custom-icon");return r.isValidElement(e)?dv(e,{className:Ah()(null===(t=e.props)||void 0===t?void 0:t.className,n)}):e}return m?r.createElement(I$,{className:"".concat(a,"-switcher-line-icon")}):r.createElement("span",{className:"".concat(a,"-switcher-leaf-line")})}const g="".concat(a,"-switcher-icon"),p="function"===typeof o?o(i):o;return r.isValidElement(p)?dv(p,{className:Ah()(null===(n=p.props)||void 0===n?void 0:n.className,g)}):void 0!==p?p:s?d?r.createElement(Q$,{className:"".concat(a,"-switcher-line-icon")}):r.createElement(nJ,{className:"".concat(a,"-switcher-line-icon")}):r.createElement($$,{className:g})},aJ=r.forwardRef((e,t)=>{var n;const{getPrefixCls:a,direction:o,virtual:i,tree:s}=r.useContext(av),{prefixCls:l,className:c,showIcon:d=!1,showLine:u,switcherIcon:m,switcherLoadingIcon:g,blockNode:p=!1,children:f,checkable:h=!1,selectable:v=!0,draggable:x,disabled:y,motion:b,style:k}=e,w=a("tree",l),j=a(),N=r.useContext(mj),C=null!==y&&void 0!==y?y:N,S=null!==b&&void 0!==b?b:Object.assign(Object.assign({},w_(j)),{motionAppear:!1}),E=Object.assign(Object.assign({},e),{checkable:h,selectable:v,showIcon:d,motion:S,blockNode:p,disabled:C,showLine:Boolean(u),dropIndicatorRender:G$}),[_,O,I]=K$(w),[,M]=Ek(),P=M.paddingXS/2+((null===(n=M.Tree)||void 0===n?void 0:n.titleHeight)||M.controlHeightSM),T=r.useMemo(()=>{if(!x)return!1;let e={};switch(typeof x){case"function":e.nodeDraggable=x;break;case"object":e=Object.assign({},x)}return!1!==e.icon&&(e.icon=e.icon||r.createElement(B$,null)),e},[x]);return _(r.createElement(E$,Object.assign({itemHeight:P,ref:t,virtual:i},E,{style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),k),prefixCls:w,className:Ah()({["".concat(w,"-icon-hide")]:!d,["".concat(w,"-block-node")]:p,["".concat(w,"-unselectable")]:!v,["".concat(w,"-rtl")]:"rtl"===o,["".concat(w,"-disabled")]:C},null===s||void 0===s?void 0:s.className,c,O,I),direction:o,checkable:h?r.createElement("span",{className:"".concat(w,"-checkbox-inner")}):h,selectable:v,switcherIcon:e=>r.createElement(rJ,{prefixCls:w,switcherIcon:m,switcherLoadingIcon:g,treeNodeProps:e,showLine:u}),draggable:T}),f))});const oJ=aJ;function iJ(e,t,n){const{key:r,children:a}=n;e.forEach(function(e){const o=e[r],i=e[a];!1!==t(o,e)&&iJ(i||[],t,n)})}function sJ(e){let{treeData:t,expandedKeys:n,startKey:r,endKey:a,fieldNames:o}=e;const i=[];let s=0;if(r&&r===a)return[r];if(!r||!a)return[];return iJ(t,e=>{if(2===s)return!1;if(function(e){return e===r||e===a}(e)){if(i.push(e),0===s)s=1;else if(1===s)return s=2,!1}else 1===s&&i.push(e);return n.includes(e)},vX(o)),i}function lJ(e,t,n){const r=vv(t),a=[];return iJ(e,(e,t)=>{const n=r.indexOf(e);return-1!==n&&(a.push(t),r.splice(n,1)),!!r.length},vX(n)),a}var cJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function dJ(e){const{isLeaf:t,expanded:n}=e;return t?r.createElement(I$,null):n?r.createElement(T$,null):r.createElement(z$,null)}function uJ(e){let{treeData:t,children:n}=e;return t||xX(n)}const mJ=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:a,defaultExpandedKeys:o}=e,i=cJ(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const s=r.useRef(null),l=r.useRef(null),[c,d]=r.useState(i.selectedKeys||i.defaultSelectedKeys||[]),[u,m]=r.useState(()=>(()=>{const{keyEntities:e}=bX(uJ(i),{fieldNames:i.fieldNames});let t;return t=n?Object.keys(e):a?zX(i.expandedKeys||o||[],e):i.expandedKeys||o||[],t})());r.useEffect(()=>{"selectedKeys"in i&&d(i.selectedKeys)},[i.selectedKeys]),r.useEffect(()=>{"expandedKeys"in i&&m(i.expandedKeys)},[i.expandedKeys]);const{getPrefixCls:g,direction:p}=r.useContext(av),{prefixCls:f,className:h,showIcon:v=!0,expandAction:x="click"}=i,y=cJ(i,["prefixCls","className","showIcon","expandAction"]),b=g("tree",f),k=Ah()("".concat(b,"-directory"),{["".concat(b,"-directory-rtl")]:"rtl"===p},h);return r.createElement(oJ,Object.assign({icon:dJ,ref:t,blockNode:!0},y,{showIcon:v,expandAction:x,prefixCls:b,className:k,expandedKeys:u,selectedKeys:c,onSelect:(e,t)=>{var n;const{multiple:r,fieldNames:a}=i,{node:o,nativeEvent:c}=t,{key:m=""}=o,g=uJ(i),p=Object.assign(Object.assign({},t),{selected:!0}),f=(null===c||void 0===c?void 0:c.ctrlKey)||(null===c||void 0===c?void 0:c.metaKey),h=null===c||void 0===c?void 0:c.shiftKey;let v;r&&f?(v=e,s.current=m,l.current=v,p.selectedNodes=lJ(g,v,a)):r&&h?(v=Array.from(new Set([].concat(vv(l.current||[]),vv(sJ({treeData:g,expandedKeys:u,startKey:m,endKey:s.current,fieldNames:a}))))),p.selectedNodes=lJ(g,v,a)):(v=[m],s.current=m,l.current=v,p.selectedNodes=lJ(g,v,a)),null===(n=i.onSelect)||void 0===n||n.call(i,v,p),"selectedKeys"in i||d(v)},onExpand:(e,t)=>{var n;return"expandedKeys"in i||m(e),null===(n=i.onExpand)||void 0===n?void 0:n.call(i,e,t)}}))};const gJ=r.forwardRef(mJ),pJ=oJ;pJ.DirectoryTree=gJ,pJ.TreeNode=EX;const fJ=pJ,hJ=e=>{const{value:t,filterSearch:n,tablePrefixCls:a,locale:o,onChange:i}=e;return n?r.createElement("div",{className:"".concat(a,"-filter-dropdown-search")},r.createElement(UA,{prefix:r.createElement(pR,null),placeholder:o.filterSearchPlaceholder,onChange:i,value:t,htmlSize:1,className:"".concat(a,"-filter-dropdown-search-input")})):null},vJ=e=>{const{keyCode:t}=e;t===QC.ENTER&&e.stopPropagation()},xJ=r.forwardRef((e,t)=>r.createElement("div",{className:e.className,onClick:e=>e.stopPropagation(),onKeyDown:vJ,ref:t},e.children));const yJ=xJ;function bJ(e){let t=[];return(e||[]).forEach(e=>{let{value:n,children:r}=e;t.push(n),r&&(t=[].concat(vv(t),vv(bJ(r))))}),t}function kJ(e,t){return("string"===typeof t||"number"===typeof t)&&(null===t||void 0===t?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()))}function wJ(e){let{filters:t,prefixCls:n,filteredKeys:a,filterMultiple:o,searchValue:i,filterSearch:s}=e;return t.map((e,t)=>{const l=String(e.value);if(e.children)return{key:l||t,label:e.text,popupClassName:"".concat(n,"-dropdown-submenu"),children:wJ({filters:e.children,prefixCls:n,filteredKeys:a,filterMultiple:o,searchValue:i,filterSearch:s})};const c=o?NB:qY,d={key:void 0!==e.value?l:t,label:r.createElement(r.Fragment,null,r.createElement(c,{checked:a.includes(l)}),r.createElement("span",null,e.text))};return i.trim()?"function"===typeof s?s(i,e)?d:null:kJ(i,e.text)?d:null:d})}function jJ(e){return e||[]}const NJ=e=>{var t,n,a,o;const{tablePrefixCls:i,prefixCls:s,column:l,dropdownPrefixCls:c,columnKey:d,filterOnClose:u,filterMultiple:m,filterMode:g="menu",filterSearch:p=!1,filterState:f,triggerFilter:h,locale:v,children:x,getPopupContainer:y,rootClassName:b}=e,{filterResetToDefaultFilteredValue:k,defaultFilteredValue:w,filterDropdownProps:j={},filterDropdownOpen:N,filterDropdownVisible:C,onFilterDropdownVisibleChange:S,onFilterDropdownOpenChange:E}=l,[_,O]=r.useState(!1),I=!(!f||!(null===(t=f.filteredKeys)||void 0===t?void 0:t.length)&&!f.forceFiltered),M=e=>{var t;O(e),null===(t=j.onOpenChange)||void 0===t||t.call(j,e),null===E||void 0===E||E(e),null===S||void 0===S||S(e)};const P=null!==(o=null!==(a=null!==(n=j.open)&&void 0!==n?n:N)&&void 0!==a?a:C)&&void 0!==o?o:_,T=null===f||void 0===f?void 0:f.filteredKeys,[A,R]=(e=>{const t=r.useRef(e),[,n]=SO();return[()=>t.current,e=>{t.current=e,n()}]})(jJ(T)),z=e=>{let{selectedKeys:t}=e;R(t)},D=(e,t)=>{let{node:n,checked:r}=t;z(m?{selectedKeys:e}:{selectedKeys:r&&n.key?[n.key]:[]})};r.useEffect(()=>{_&&z({selectedKeys:jJ(T)})},[T]);const[L,B]=r.useState([]),F=e=>{B(e)},[H,W]=r.useState(""),V=e=>{const{value:t}=e.target;W(t)};r.useEffect(()=>{_||W("")},[_]);const q=e=>{const t=(null===e||void 0===e?void 0:e.length)?e:null;return null!==t||f&&f.filteredKeys?Dv(t,null===f||void 0===f?void 0:f.filteredKeys,!0)?null:void h({column:l,key:d,filteredKeys:t}):null},U=()=>{M(!1),q(A())},K=function(){let{confirm:e,closeDropdown:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{confirm:!1,closeDropdown:!1};e&&q([]),t&&M(!1),W(""),R(k?(w||[]).map(e=>String(e)):[])},G=function(){let{closeDropdown:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeDropdown:!0};e&&M(!1),q(A())},X=Ah()({["".concat(c,"-menu-without-submenu")]:(Y=l.filters||[],!Y.some(e=>{let{children:t}=e;return t}))});var Y;const $=e=>{if(e.target.checked){const e=bJ(null===l||void 0===l?void 0:l.filters).map(e=>String(e));R(e)}else R([])},J=e=>{let{filters:t}=e;return(t||[]).map((e,t)=>{const n=String(e.value),r={title:e.text,key:void 0!==e.value?n:String(t)};return e.children&&(r.children=J({filters:e.children})),r})},Z=e=>{var t;return Object.assign(Object.assign({},e),{text:e.title,value:e.key,children:(null===(t=e.children)||void 0===t?void 0:t.map(e=>Z(e)))||[]})};let Q;const{direction:ee,renderEmpty:te}=r.useContext(av);if("function"===typeof l.filterDropdown)Q=l.filterDropdown({prefixCls:"".concat(c,"-custom"),setSelectedKeys:e=>z({selectedKeys:e}),selectedKeys:A(),confirm:G,clearFilters:K,filters:l.filters,visible:P,close:()=>{M(!1)}});else if(l.filterDropdown)Q=l.filterDropdown;else{const e=A()||[],t=()=>{var t,n;const a=null!==(t=null===te||void 0===te?void 0:te("Table.filter"))&&void 0!==t?t:r.createElement(_D,{image:_D.PRESENTED_IMAGE_SIMPLE,description:v.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if(0===(l.filters||[]).length)return a;if("tree"===g)return r.createElement(r.Fragment,null,r.createElement(hJ,{filterSearch:p,value:H,onChange:V,tablePrefixCls:i,locale:v}),r.createElement("div",{className:"".concat(i,"-filter-dropdown-tree")},m?r.createElement(NB,{checked:e.length===bJ(l.filters).length,indeterminate:e.length>0&&e.length<bJ(l.filters).length,className:"".concat(i,"-filter-dropdown-checkall"),onChange:$},null!==(n=null===v||void 0===v?void 0:v.filterCheckall)&&void 0!==n?n:null===v||void 0===v?void 0:v.filterCheckAll):null,r.createElement(fJ,{checkable:!0,selectable:!1,blockNode:!0,multiple:m,checkStrictly:!m,className:"".concat(c,"-menu"),onCheck:D,checkedKeys:e,selectedKeys:e,showIcon:!1,treeData:J({filters:l.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:H.trim()?e=>"function"===typeof p?p(H,Z(e)):kJ(H,e.title):void 0})));const o=wJ({filters:l.filters||[],filterSearch:p,prefixCls:s,filteredKeys:A(),filterMultiple:m,searchValue:H}),d=o.every(e=>null===e);return r.createElement(r.Fragment,null,r.createElement(hJ,{filterSearch:p,value:H,onChange:V,tablePrefixCls:i,locale:v}),d?a:r.createElement(pY,{selectable:!0,multiple:m,prefixCls:"".concat(c,"-menu"),className:X,onSelect:z,onDeselect:z,selectedKeys:e,getPopupContainer:y,openKeys:L,onOpenChange:F,items:o}))},n=()=>k?Dv((w||[]).map(e=>String(e)),e,!0):0===e.length;Q=r.createElement(r.Fragment,null,t(),r.createElement("div",{className:"".concat(s,"-dropdown-btns")},r.createElement(eC,{type:"link",size:"small",disabled:n(),onClick:()=>K()},v.filterReset),r.createElement(eC,{type:"primary",size:"small",onClick:U},v.filterConfirm)))}l.filterDropdown&&(Q=r.createElement(XX,{selectable:void 0},Q)),Q=r.createElement(yJ,{className:"".concat(s,"-dropdown")},Q);const ne=SP({trigger:["click"],placement:"rtl"===ee?"bottomLeft":"bottomRight",children:(()=>{let e;return e="function"===typeof l.filterIcon?l.filterIcon(I):l.filterIcon?l.filterIcon:r.createElement(s$,null),r.createElement("span",{role:"button",tabIndex:-1,className:Ah()("".concat(s,"-trigger"),{active:I}),onClick:e=>{e.stopPropagation()}},e)})(),getPopupContainer:y},Object.assign(Object.assign({},j),{rootClassName:Ah()(b,j.rootClassName),open:P,onOpenChange:(e,t)=>{"trigger"===t.source&&(e&&void 0!==T&&R(jJ(T)),M(e),e||l.filterDropdown||!u||U())},popupRender:()=>"function"===typeof(null===j||void 0===j?void 0:j.dropdownRender)?j.dropdownRender(Q):Q}));return r.createElement("div",{className:"".concat(s,"-column")},r.createElement("span",{className:"".concat(i,"-column-title")},x),r.createElement(CY,Object.assign({},ne)))},CJ=(e,t,n)=>{let r=[];return(e||[]).forEach((e,a)=>{var o;const i=r$(a,n),s=void 0!==e.filterDropdown;if(e.filters||s||"onFilter"in e)if("filteredValue"in e){let t=e.filteredValue;s||(t=null!==(o=null===t||void 0===t?void 0:t.map(String))&&void 0!==o?o:t),r.push({column:e,key:n$(e,i),filteredKeys:t,forceFiltered:e.filtered})}else r.push({column:e,key:n$(e,i),filteredKeys:t&&e.defaultFilteredValue?e.defaultFilteredValue:void 0,forceFiltered:e.filtered});"children"in e&&(r=[].concat(vv(r),vv(CJ(e.children,t,i))))}),r};function SJ(e,t,n,a,o,i,s,l,c){return n.map((n,d)=>{const u=r$(d,l),{filterOnClose:m=!0,filterMultiple:g=!0,filterMode:p,filterSearch:f}=n;let h=n;if(h.filters||h.filterDropdown){const l=n$(h,u),d=a.find(e=>{let{key:t}=e;return l===t});h=Object.assign(Object.assign({},h),{title:a=>r.createElement(NJ,{tablePrefixCls:e,prefixCls:"".concat(e,"-filter"),dropdownPrefixCls:t,column:h,columnKey:l,filterState:d,filterOnClose:m,filterMultiple:g,filterMode:p,filterSearch:f,triggerFilter:i,locale:o,getPopupContainer:s,rootClassName:c},a$(n.title,a))})}return"children"in h&&(h=Object.assign(Object.assign({},h),{children:SJ(e,t,h.children,a,o,i,s,u,c)})),h})}const EJ=e=>{const t={};return e.forEach(e=>{let{key:n,filteredKeys:r,column:a}=e;const o=n,{filters:i,filterDropdown:s}=a;if(s)t[o]=r||null;else if(Array.isArray(r)){const e=bJ(i);t[o]=e.filter(e=>r.includes(String(e)))}else t[o]=null}),t},_J=(e,t,n)=>{const r=t.reduce((e,r)=>{const{column:{onFilter:a,filters:o},filteredKeys:i}=r;return a&&i&&i.length?e.map(e=>Object.assign({},e)).filter(e=>i.some(r=>{const i=bJ(o),s=i.findIndex(e=>String(e)===String(r)),l=-1!==s?i[s]:r;return e[n]&&(e[n]=_J(e[n],t,n)),a(l,e)})):e},e);return r},OJ=e=>e.flatMap(e=>"children"in e?[e].concat(vv(OJ(e.children||[]))):[e]),IJ=e=>{const{prefixCls:t,dropdownPrefixCls:n,mergedColumns:a,onFilterChange:o,getPopupContainer:i,locale:s,rootClassName:l}=e,c=(aC("Table"),r.useMemo(()=>OJ(a||[]),[a])),[d,u]=r.useState(()=>CJ(c,!0)),m=r.useMemo(()=>{const e=CJ(c,!1);if(0===e.length)return e;let t=!0,n=!0;if(e.forEach(e=>{let{filteredKeys:r}=e;void 0!==r?t=!1:n=!1}),t){const e=(c||[]).map((e,t)=>n$(e,r$(t)));return d.filter(t=>{let{key:n}=t;return e.includes(n)}).map(t=>{const n=c[e.indexOf(t.key)];return Object.assign(Object.assign({},t),{column:Object.assign(Object.assign({},t.column),n),forceFiltered:n.filtered})})}return e},[c,d]),g=r.useMemo(()=>EJ(m),[m]),p=e=>{const t=m.filter(t=>{let{key:n}=t;return n!==e.key});t.push(e),u(t),o(EJ(t),t)};return[e=>SJ(t,n,e,m,s,p,i,void 0,l),m,g]},MJ=(e,t,n)=>{const a=r.useRef({});return[function(r){var o;if(!a.current||a.current.data!==e||a.current.childrenColumnName!==t||a.current.getRowKey!==n){const i=new Map;function s(e){e.forEach((e,r)=>{const a=n(e,r);i.set(a,e),e&&"object"===typeof e&&t in e&&s(e[t]||[])})}s(e),a.current={data:e,childrenColumnName:t,kvMap:i,getRowKey:n}}return null===(o=a.current.kvMap)||void 0===o?void 0:o.get(r)}]};var PJ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const TJ=10;const AJ=function(e,t,n){const a=n&&"object"===typeof n?n:{},{total:o=0}=a,i=PJ(a,["total"]),[s,l]=(0,r.useState)(()=>({current:"defaultCurrent"in i?i.defaultCurrent:1,pageSize:"defaultPageSize"in i?i.defaultPageSize:TJ})),c=SP(s,i,{total:o>0?o:e}),d=Math.ceil((o||e)/c.pageSize);c.current>d&&(c.current=d||1);const u=(e,t)=>{l({current:null!==e&&void 0!==e?e:1,pageSize:t||c.pageSize})};return!1===n?[{},()=>{}]:[Object.assign(Object.assign({},c),{onChange:(e,r)=>{var a;n&&(null===(a=n.onChange)||void 0===a||a.call(n,e,r)),u(e,r),t(e,r||(null===c||void 0===c?void 0:c.pageSize))}}),u]};const RJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var zJ=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:RJ}))};const DJ=r.forwardRef(zJ);const LJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};var BJ=function(e,t){return r.createElement(Zj,jx({},e,{ref:t,icon:LJ}))};const FJ=r.forwardRef(BJ),HJ="ascend",WJ="descend",VJ=e=>"object"===typeof e.sorter&&"number"===typeof e.sorter.multiple&&e.sorter.multiple,qJ=e=>"function"===typeof e?e:!(!e||"object"!==typeof e||!e.compare)&&e.compare,UJ=(e,t,n)=>{let r=[];const a=(e,t)=>{r.push({column:e,key:n$(e,t),multiplePriority:VJ(e),sortOrder:e.sortOrder})};return(e||[]).forEach((e,o)=>{const i=r$(o,n);e.children?("sortOrder"in e&&a(e,i),r=[].concat(vv(r),vv(UJ(e.children,t,i)))):e.sorter&&("sortOrder"in e?a(e,i):t&&e.defaultSortOrder&&r.push({column:e,key:n$(e,i),multiplePriority:VJ(e),sortOrder:e.defaultSortOrder}))}),r},KJ=(e,t,n,a,o,i,s,l)=>{const c=(t||[]).map((t,c)=>{const d=r$(c,l);let u=t;if(u.sorter){const l=u.sortDirections||o,c=void 0===u.showSorterTooltip?s:u.showSorterTooltip,m=n$(u,d),g=n.find(e=>{let{key:t}=e;return t===m}),p=g?g.sortOrder:null,f=((e,t)=>t?e[e.indexOf(t)+1]:e[0])(l,p);let h;if(t.sortIcon)h=t.sortIcon({sortOrder:p});else{const t=l.includes(HJ)&&r.createElement(FJ,{className:Ah()("".concat(e,"-column-sorter-up"),{active:p===HJ})}),n=l.includes(WJ)&&r.createElement(DJ,{className:Ah()("".concat(e,"-column-sorter-down"),{active:p===WJ})});h=r.createElement("span",{className:Ah()("".concat(e,"-column-sorter"),{["".concat(e,"-column-sorter-full")]:!(!t||!n)})},r.createElement("span",{className:"".concat(e,"-column-sorter-inner"),"aria-hidden":"true"},t,n))}const{cancelSort:v,triggerAsc:x,triggerDesc:y}=i||{};let b=v;f===WJ?b=y:f===HJ&&(b=x);const k="object"===typeof c?Object.assign({title:b},c):{title:b};u=Object.assign(Object.assign({},u),{className:Ah()(u.className,{["".concat(e,"-column-sort")]:p}),title:n=>{const a="".concat(e,"-column-sorters"),o=r.createElement("span",{className:"".concat(e,"-column-title")},a$(t.title,n)),i=r.createElement("div",{className:a},o,h);return c?"boolean"!==typeof c&&"sorter-icon"===(null===c||void 0===c?void 0:c.target)?r.createElement("div",{className:Ah()(a,"".concat(a,"-tooltip-target-sorter"))},o,r.createElement(KM,Object.assign({},k),h)):r.createElement(KM,Object.assign({},k),i):i},onHeaderCell:n=>{var r;const o=(null===(r=t.onHeaderCell)||void 0===r?void 0:r.call(t,n))||{},i=o.onClick,s=o.onKeyDown;o.onClick=e=>{a({column:t,key:m,sortOrder:f,multiplePriority:VJ(t)}),null===i||void 0===i||i(e)},o.onKeyDown=e=>{e.keyCode===QC.ENTER&&(a({column:t,key:m,sortOrder:f,multiplePriority:VJ(t)}),null===s||void 0===s||s(e))};const l=((e,t)=>{const n=a$(e,t);return"[object Object]"===Object.prototype.toString.call(n)?"":n})(t.title,{}),c=null===l||void 0===l?void 0:l.toString();return p&&(o["aria-sort"]="ascend"===p?"ascending":"descending"),o["aria-label"]=c||"",o.className=Ah()(o.className,"".concat(e,"-column-has-sorters")),o.tabIndex=0,t.ellipsis&&(o.title=(null!==l&&void 0!==l?l:"").toString()),o}})}return"children"in u&&(u=Object.assign(Object.assign({},u),{children:KJ(e,u.children,n,a,o,i,s,d)})),u});return c},GJ=e=>{const{column:t,sortOrder:n}=e;return{column:t,order:n,field:t.dataIndex,columnKey:t.key}},XJ=e=>{const t=e.filter(e=>{let{sortOrder:t}=e;return t}).map(GJ);if(0===t.length&&e.length){const t=e.length-1;return Object.assign(Object.assign({},GJ(e[t])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},YJ=(e,t,n)=>{const r=t.slice().sort((e,t)=>t.multiplePriority-e.multiplePriority),a=e.slice(),o=r.filter(e=>{let{column:{sorter:t},sortOrder:n}=e;return qJ(t)&&n});return o.length?a.sort((e,t)=>{for(let n=0;n<o.length;n+=1){const r=o[n],{column:{sorter:a},sortOrder:i}=r,s=qJ(a);if(s&&i){const n=s(e,t,i);if(0!==n)return i===HJ?n:-n}}return 0}).map(e=>{const r=e[n];return r?Object.assign(Object.assign({},e),{[n]:YJ(r,t,n)}):e}):a},$J=e=>{const{prefixCls:t,mergedColumns:n,sortDirections:a,tableLocale:o,showSorterTooltip:i,onSorterChange:s}=e,[l,c]=r.useState(()=>UJ(n,!0)),d=(e,t)=>{const n=[];return e.forEach((e,r)=>{const a=r$(r,t);if(n.push(n$(e,a)),Array.isArray(e.children)){const t=d(e.children,a);n.push.apply(n,vv(t))}}),n},u=r.useMemo(()=>{let e=!0;const t=UJ(n,!1);if(!t.length){const e=d(n);return l.filter(t=>{let{key:n}=t;return e.includes(n)})}const r=[];function a(t){e?r.push(t):r.push(Object.assign(Object.assign({},t),{sortOrder:null}))}let o=null;return t.forEach(t=>{null===o?(a(t),t.sortOrder&&(!1===t.multiplePriority?e=!1:o=!0)):(o&&!1!==t.multiplePriority||(e=!1),a(t))}),r},[n,l]),m=r.useMemo(()=>{var e,t;const n=u.map(e=>{let{column:t,sortOrder:n}=e;return{column:t,order:n}});return{sortColumns:n,sortColumn:null===(e=n[0])||void 0===e?void 0:e.column,sortOrder:null===(t=n[0])||void 0===t?void 0:t.order}},[u]),g=e=>{let t;t=!1!==e.multiplePriority&&u.length&&!1!==u[0].multiplePriority?[].concat(vv(u.filter(t=>{let{key:n}=t;return n!==e.key})),[e]):[e],c(t),s(XJ(t),t)};return[e=>KJ(t,e,u,g,a,o,i),u,m,()=>XJ(u)]},JJ=(e,t)=>{const n=e.map(e=>{const n=Object.assign({},e);return n.title=a$(e.title,t),"children"in n&&(n.children=JJ(n.children,t)),n});return n},ZJ=e=>[r.useCallback(t=>JJ(t,e),[e])],QJ=KG((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),eZ=QJ,tZ=iX((e,t)=>{const{_renderTimes:n}=e,{_renderTimes:r}=t;return n!==r}),nZ=tZ,rZ=e=>{const{componentCls:t,lineWidth:n,lineType:r,tableBorderColor:a,tableHeaderBg:o,tablePaddingVertical:i,tablePaddingHorizontal:s,calc:l}=e,c="".concat(lx(n)," ").concat(r," ").concat(a),d=(e,r,a)=>({["&".concat(t,"-").concat(e)]:{["> ".concat(t,"-container")]:{["> ".concat(t,"-content, > ").concat(t,"-body")]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{["> ".concat(t,"-expanded-row-fixed")]:{margin:"".concat(lx(l(r).mul(-1).equal()),"\n              ").concat(lx(l(l(a).add(n)).mul(-1).equal()))}}}}}});return{["".concat(t,"-wrapper")]:{["".concat(t).concat(t,"-bordered")]:Object.assign(Object.assign(Object.assign({["> ".concat(t,"-title")]:{border:c,borderBottom:0},["> ".concat(t,"-container")]:{borderInlineStart:c,borderTop:c,["\n            > ".concat(t,"-content,\n            > ").concat(t,"-header,\n            > ").concat(t,"-body,\n            > ").concat(t,"-summary\n          ")]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:c},"> thead":{"> tr:not(:last-child) > th":{borderBottom:c},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{["> ".concat(t,"-cell-fix-right-first::after")]:{borderInlineEnd:c}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{["> ".concat(t,"-expanded-row-fixed")]:{margin:"".concat(lx(l(i).mul(-1).equal())," ").concat(lx(l(l(s).add(n)).mul(-1).equal())),"&::after":{position:"absolute",top:0,insetInlineEnd:n,bottom:0,borderInlineEnd:c,content:'""'}}}}}},["&".concat(t,"-scroll-horizontal")]:{["> ".concat(t,"-container > ").concat(t,"-body")]:{"> table > tbody":{["\n                > tr".concat(t,"-expanded-row,\n                > tr").concat(t,"-placeholder\n              ")]:{"> th, > td":{borderInlineEnd:0}}}}}},d("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),d("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{["> ".concat(t,"-footer")]:{border:c,borderTop:0}}),["".concat(t,"-cell")]:{["".concat(t,"-container:first-child")]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:"0 ".concat(lx(n)," 0 ").concat(lx(n)," ").concat(o)}},["".concat(t,"-bordered ").concat(t,"-cell-scrollbar")]:{borderInlineEnd:c}}}},aZ=e=>{const{componentCls:t}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-cell-ellipsis")]:Object.assign(Object.assign({},pb),{wordBreak:"keep-all",["\n          &".concat(t,"-cell-fix-left-last,\n          &").concat(t,"-cell-fix-right-first\n        ")]:{overflow:"visible",["".concat(t,"-cell-content")]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},["".concat(t,"-column-title")]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},oZ=e=>{const{componentCls:t}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-tbody > tr").concat(t,"-placeholder")]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},iZ=e=>{const{componentCls:t,antCls:n,motionDurationSlow:r,lineWidth:a,paddingXS:o,lineType:i,tableBorderColor:s,tableExpandIconBg:l,tableExpandColumnWidth:c,borderRadius:d,tablePaddingVertical:u,tablePaddingHorizontal:m,tableExpandedRowBg:g,paddingXXS:p,expandIconMarginTop:f,expandIconSize:h,expandIconHalfInner:v,expandIconScale:x,calc:y}=e,b="".concat(lx(a)," ").concat(i," ").concat(s),k=y(p).sub(a).equal();return{["".concat(t,"-wrapper")]:{["".concat(t,"-expand-icon-col")]:{width:c},["".concat(t,"-row-expand-icon-cell")]:{textAlign:"center",["".concat(t,"-row-expand-icon")]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},["".concat(t,"-row-indent")]:{height:1,float:"left"},["".concat(t,"-row-expand-icon")]:Object.assign(Object.assign({},yb(e)),{position:"relative",float:"left",width:h,height:h,color:"inherit",lineHeight:lx(h),background:l,border:b,borderRadius:d,transform:"scale(".concat(x,")"),"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:"transform ".concat(r," ease-out"),content:'""'},"&::before":{top:v,insetInlineEnd:k,insetInlineStart:k,height:a},"&::after":{top:k,bottom:k,insetInlineStart:v,width:a,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),["".concat(t,"-row-indent + ").concat(t,"-row-expand-icon")]:{marginTop:f,marginInlineEnd:o},["tr".concat(t,"-expanded-row")]:{"&, &:hover":{"> th, > td":{background:g}},["".concat(n,"-descriptions-view")]:{display:"flex",table:{flex:"auto",width:"100%"}}},["".concat(t,"-expanded-row-fixed")]:{position:"relative",margin:"".concat(lx(y(u).mul(-1).equal())," ").concat(lx(y(m).mul(-1).equal())),padding:"".concat(lx(u)," ").concat(lx(m))}}}},sZ=e=>{const{componentCls:t,antCls:n,iconCls:r,tableFilterDropdownWidth:a,tableFilterDropdownSearchWidth:o,paddingXXS:i,paddingXS:s,colorText:l,lineWidth:c,lineType:d,tableBorderColor:u,headerIconColor:m,fontSizeSM:g,tablePaddingHorizontal:p,borderRadius:f,motionDurationSlow:h,colorIcon:v,colorPrimary:x,tableHeaderFilterActiveBg:y,colorTextDisabled:b,tableFilterDropdownBg:k,tableFilterDropdownHeight:w,controlItemBgHover:j,controlItemBgActive:N,boxShadowSecondary:C,filterDropdownMenuBg:S,calc:E}=e,_="".concat(n,"-dropdown"),O="".concat(t,"-filter-dropdown"),I="".concat(n,"-tree"),M="".concat(lx(c)," ").concat(d," ").concat(u);return[{["".concat(t,"-wrapper")]:{["".concat(t,"-filter-column")]:{display:"flex",justifyContent:"space-between"},["".concat(t,"-filter-trigger")]:{position:"relative",display:"flex",alignItems:"center",marginBlock:E(i).mul(-1).equal(),marginInline:"".concat(lx(i)," ").concat(lx(E(p).div(2).mul(-1).equal())),padding:"0 ".concat(lx(i)),color:m,fontSize:g,borderRadius:f,cursor:"pointer",transition:"all ".concat(h),"&:hover":{color:v,background:y},"&.active":{color:x}}}},{["".concat(n,"-dropdown")]:{[O]:Object.assign(Object.assign({},fb(e)),{minWidth:a,backgroundColor:k,borderRadius:f,boxShadow:C,overflow:"hidden",["".concat(_,"-menu")]:{maxHeight:w,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:S,"&:empty::after":{display:"block",padding:"".concat(lx(s)," 0"),color:b,fontSize:g,textAlign:"center",content:'"Not Found"'}},["".concat(O,"-tree")]:{paddingBlock:"".concat(lx(s)," 0"),paddingInline:s,[I]:{padding:0},["".concat(I,"-treenode ").concat(I,"-node-content-wrapper:hover")]:{backgroundColor:j},["".concat(I,"-treenode-checkbox-checked ").concat(I,"-node-content-wrapper")]:{"&, &:hover":{backgroundColor:N}}},["".concat(O,"-search")]:{padding:s,borderBottom:M,"&-input":{input:{minWidth:o},[r]:{color:b}}},["".concat(O,"-checkall")]:{width:"100%",marginBottom:i,marginInlineStart:i},["".concat(O,"-btns")]:{display:"flex",justifyContent:"space-between",padding:"".concat(lx(E(s).sub(c).equal())," ").concat(lx(s)),overflow:"hidden",borderTop:M}})}},{["".concat(n,"-dropdown ").concat(O,", ").concat(O,"-submenu")]:{["".concat(n,"-checkbox-wrapper + span")]:{paddingInlineStart:s,color:l},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},lZ=e=>{const{componentCls:t,lineWidth:n,colorSplit:r,motionDurationSlow:a,zIndexTableFixed:o,tableBg:i,zIndexTableSticky:s,calc:l}=e,c=r;return{["".concat(t,"-wrapper")]:{["\n        ".concat(t,"-cell-fix-left,\n        ").concat(t,"-cell-fix-right\n      ")]:{position:"sticky !important",zIndex:o,background:i},["\n        ".concat(t,"-cell-fix-left-first::after,\n        ").concat(t,"-cell-fix-left-last::after\n      ")]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:l(n).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:"box-shadow ".concat(a),content:'""',pointerEvents:"none",willChange:"transform"},["".concat(t,"-cell-fix-left-all::after")]:{display:"none"},["\n        ".concat(t,"-cell-fix-right-first::after,\n        ").concat(t,"-cell-fix-right-last::after\n      ")]:{position:"absolute",top:0,bottom:l(n).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:"box-shadow ".concat(a),content:'""',pointerEvents:"none"},["".concat(t,"-container")]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:l(s).add(1).equal({unit:!1}),width:30,transition:"box-shadow ".concat(a),content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},["".concat(t,"-ping-left")]:{["&:not(".concat(t,"-has-fix-left) ").concat(t,"-container::before")]:{boxShadow:"inset 10px 0 8px -8px ".concat(c)},["\n          ".concat(t,"-cell-fix-left-first::after,\n          ").concat(t,"-cell-fix-left-last::after\n        ")]:{boxShadow:"inset 10px 0 8px -8px ".concat(c)},["".concat(t,"-cell-fix-left-last::before")]:{backgroundColor:"transparent !important"}},["".concat(t,"-ping-right")]:{["&:not(".concat(t,"-has-fix-right) ").concat(t,"-container::after")]:{boxShadow:"inset -10px 0 8px -8px ".concat(c)},["\n          ".concat(t,"-cell-fix-right-first::after,\n          ").concat(t,"-cell-fix-right-last::after\n        ")]:{boxShadow:"inset -10px 0 8px -8px ".concat(c)}},["".concat(t,"-fixed-column-gapped")]:{["\n        ".concat(t,"-cell-fix-left-first::after,\n        ").concat(t,"-cell-fix-left-last::after,\n        ").concat(t,"-cell-fix-right-first::after,\n        ").concat(t,"-cell-fix-right-last::after\n      ")]:{boxShadow:"none"}}}}},cZ=e=>{const{componentCls:t,antCls:n,margin:r}=e;return{["".concat(t,"-wrapper ").concat(t,"-pagination").concat(n,"-pagination")]:{margin:"".concat(lx(r)," 0")}}},dZ=e=>{const{componentCls:t,tableRadius:n}=e;return{["".concat(t,"-wrapper")]:{[t]:{["".concat(t,"-title, ").concat(t,"-header")]:{borderRadius:"".concat(lx(n)," ").concat(lx(n)," 0 0")},["".concat(t,"-title + ").concat(t,"-container")]:{borderStartStartRadius:0,borderStartEndRadius:0,["".concat(t,"-header, table")]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:n,borderStartEndRadius:n,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:n},"> *:last-child":{borderStartEndRadius:n}}},"&-footer":{borderRadius:"0 0 ".concat(lx(n)," ").concat(lx(n))}}}}},uZ=e=>{const{componentCls:t}=e;return{["".concat(t,"-wrapper-rtl")]:{direction:"rtl",table:{direction:"rtl"},["".concat(t,"-pagination-left")]:{justifyContent:"flex-end"},["".concat(t,"-pagination-right")]:{justifyContent:"flex-start"},["".concat(t,"-row-expand-icon")]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},["".concat(t,"-container")]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},["".concat(t,"-row-indent")]:{float:"right"}}}}},mZ=e=>{const{componentCls:t,antCls:n,iconCls:r,fontSizeIcon:a,padding:o,paddingXS:i,headerIconColor:s,headerIconHoverColor:l,tableSelectionColumnWidth:c,tableSelectedRowBg:d,tableSelectedRowHoverBg:u,tableRowHoverBg:m,tablePaddingHorizontal:g,calc:p}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-selection-col")]:{width:c,["&".concat(t,"-selection-col-with-dropdown")]:{width:p(c).add(a).add(p(o).div(4)).equal()}},["".concat(t,"-bordered ").concat(t,"-selection-col")]:{width:p(c).add(p(i).mul(2)).equal(),["&".concat(t,"-selection-col-with-dropdown")]:{width:p(c).add(a).add(p(o).div(4)).add(p(i).mul(2)).equal()}},["\n        table tr th".concat(t,"-selection-column,\n        table tr td").concat(t,"-selection-column,\n        ").concat(t,"-selection-column\n      ")]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",["".concat(n,"-radio-wrapper")]:{marginInlineEnd:0}},["table tr th".concat(t,"-selection-column").concat(t,"-cell-fix-left")]:{zIndex:p(e.zIndexTableFixed).add(1).equal({unit:!1})},["table tr th".concat(t,"-selection-column::after")]:{backgroundColor:"transparent !important"},["".concat(t,"-selection")]:{position:"relative",display:"inline-flex",flexDirection:"column"},["".concat(t,"-selection-extra")]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),marginInlineStart:"100%",paddingInlineStart:lx(p(g).div(4).equal()),[r]:{color:s,fontSize:a,verticalAlign:"baseline","&:hover":{color:l}}},["".concat(t,"-tbody")]:{["".concat(t,"-row")]:{["&".concat(t,"-row-selected")]:{["> ".concat(t,"-cell")]:{background:d,"&-row-hover":{background:u}}},["> ".concat(t,"-cell-row-hover")]:{background:m}}}}}},gZ=e=>{const{componentCls:t,tableExpandColumnWidth:n,calc:r}=e,a=(e,a,o,i)=>({["".concat(t).concat(t,"-").concat(e)]:{fontSize:i,["\n        ".concat(t,"-title,\n        ").concat(t,"-footer,\n        ").concat(t,"-cell,\n        ").concat(t,"-thead > tr > th,\n        ").concat(t,"-tbody > tr > th,\n        ").concat(t,"-tbody > tr > td,\n        tfoot > tr > th,\n        tfoot > tr > td\n      ")]:{padding:"".concat(lx(a)," ").concat(lx(o))},["".concat(t,"-filter-trigger")]:{marginInlineEnd:lx(r(o).div(2).mul(-1).equal())},["".concat(t,"-expanded-row-fixed")]:{margin:"".concat(lx(r(a).mul(-1).equal())," ").concat(lx(r(o).mul(-1).equal()))},["".concat(t,"-tbody")]:{["".concat(t,"-wrapper:only-child ").concat(t)]:{marginBlock:lx(r(a).mul(-1).equal()),marginInline:"".concat(lx(r(n).sub(o).equal())," ").concat(lx(r(o).mul(-1).equal()))}},["".concat(t,"-selection-extra")]:{paddingInlineStart:lx(r(o).div(4).equal())}}});return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({},a("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),a("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},pZ=e=>{const{componentCls:t,marginXXS:n,fontSizeIcon:r,headerIconColor:a,headerIconHoverColor:o}=e;return{["".concat(t,"-wrapper")]:{["".concat(t,"-thead th").concat(t,"-column-has-sorters")]:{outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow,", left 0s"),"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},["\n          &".concat(t,"-cell-fix-left:hover,\n          &").concat(t,"-cell-fix-right:hover\n        ")]:{background:e.tableFixedHeaderSortActiveBg}},["".concat(t,"-thead th").concat(t,"-column-sort")]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},["td".concat(t,"-column-sort")]:{background:e.tableBodySortBg},["".concat(t,"-column-title")]:{position:"relative",zIndex:1,flex:1,minWidth:0},["".concat(t,"-column-sorters")]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},["".concat(t,"-column-sorters-tooltip-target-sorter")]:{"&::after":{content:"none"}},["".concat(t,"-column-sorter")]:{marginInlineStart:n,color:a,fontSize:0,transition:"color ".concat(e.motionDurationSlow),"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:r,"&.active":{color:e.colorPrimary}},["".concat(t,"-column-sorter-up + ").concat(t,"-column-sorter-down")]:{marginTop:"-0.3em"}},["".concat(t,"-column-sorters:hover ").concat(t,"-column-sorter")]:{color:o}}}},fZ=e=>{const{componentCls:t,opacityLoading:n,tableScrollThumbBg:r,tableScrollThumbBgHover:a,tableScrollThumbSize:o,tableScrollBg:i,zIndexTableSticky:s,stickyScrollBarBorderRadius:l,lineWidth:c,lineType:d,tableBorderColor:u}=e,m="".concat(lx(c)," ").concat(d," ").concat(u);return{["".concat(t,"-wrapper")]:{["".concat(t,"-sticky")]:{"&-holder":{position:"sticky",zIndex:s,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:"".concat(lx(o)," !important"),zIndex:s,display:"flex",alignItems:"center",background:i,borderTop:m,opacity:n,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:o,backgroundColor:r,borderRadius:l,transition:"all ".concat(e.motionDurationSlow,", transform 0s"),position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:a}}}}}}},hZ=e=>{const{componentCls:t,lineWidth:n,tableBorderColor:r,calc:a}=e,o="".concat(lx(n)," ").concat(e.lineType," ").concat(r);return{["".concat(t,"-wrapper")]:{["".concat(t,"-summary")]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:o}}},["div".concat(t,"-summary")]:{boxShadow:"0 ".concat(lx(a(n).mul(-1).equal())," 0 ").concat(r)}}}},vZ=e=>{const{componentCls:t,motionDurationMid:n,lineWidth:r,lineType:a,tableBorderColor:o,calc:i}=e,s="".concat(lx(r)," ").concat(a," ").concat(o),l="".concat(t,"-expanded-row-cell");return{["".concat(t,"-wrapper")]:{["".concat(t,"-tbody-virtual")]:{["".concat(t,"-tbody-virtual-holder-inner")]:{["\n            & > ".concat(t,"-row, \n            & > div:not(").concat(t,"-row) > ").concat(t,"-row\n          ")]:{display:"flex",boxSizing:"border-box",width:"100%"}},["".concat(t,"-cell")]:{borderBottom:s,transition:"background ".concat(n)},["".concat(t,"-expanded-row")]:{["".concat(l).concat(l,"-fixed")]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:"calc(var(--virtual-width) - ".concat(lx(r),")"),borderInlineEnd:"none"}}},["".concat(t,"-bordered")]:{["".concat(t,"-tbody-virtual")]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:s,position:"absolute"},["".concat(t,"-cell")]:{borderInlineEnd:s,["&".concat(t,"-cell-fix-right-first:before")]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:i(r).mul(-1).equal(),borderInlineStart:s}}},["&".concat(t,"-virtual")]:{["".concat(t,"-placeholder ").concat(t,"-cell")]:{borderInlineEnd:s,borderBottom:s}}}}}},xZ=e=>{const{componentCls:t,fontWeightStrong:n,tablePaddingVertical:r,tablePaddingHorizontal:a,tableExpandColumnWidth:o,lineWidth:i,lineType:s,tableBorderColor:l,tableFontSize:c,tableBg:d,tableRadius:u,tableHeaderTextColor:m,motionDurationMid:g,tableHeaderBg:p,tableHeaderCellSplitColor:f,tableFooterTextColor:h,tableFooterBg:v,calc:x}=e,y="".concat(lx(i)," ").concat(s," ").concat(l);return{["".concat(t,"-wrapper")]:Object.assign(Object.assign({clear:"both",maxWidth:"100%","--rc-virtual-list-scrollbar-bg":e.tableScrollBg},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[t]:Object.assign(Object.assign({},fb(e)),{fontSize:c,background:d,borderRadius:"".concat(lx(u)," ").concat(lx(u)," 0 0"),scrollbarColor:"".concat(e.tableScrollThumbBg," ").concat(e.tableScrollBg)}),table:{width:"100%",textAlign:"start",borderRadius:"".concat(lx(u)," ").concat(lx(u)," 0 0"),borderCollapse:"separate",borderSpacing:0},["\n          ".concat(t,"-cell,\n          ").concat(t,"-thead > tr > th,\n          ").concat(t,"-tbody > tr > th,\n          ").concat(t,"-tbody > tr > td,\n          tfoot > tr > th,\n          tfoot > tr > td\n        ")]:{position:"relative",padding:"".concat(lx(r)," ").concat(lx(a)),overflowWrap:"break-word"},["".concat(t,"-title")]:{padding:"".concat(lx(r)," ").concat(lx(a))},["".concat(t,"-thead")]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:m,fontWeight:n,textAlign:"start",background:p,borderBottom:y,transition:"background ".concat(g," ease"),"&[colspan]:not([colspan='1'])":{textAlign:"center"},["&:not(:last-child):not(".concat(t,"-selection-column):not(").concat(t,"-row-expand-icon-cell):not([colspan])::before")]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:f,transform:"translateY(-50%)",transition:"background-color ".concat(g),content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},["".concat(t,"-tbody")]:{"> tr":{"> th, > td":{transition:"background ".concat(g,", border-color ").concat(g),borderBottom:y,["\n              > ".concat(t,"-wrapper:only-child,\n              > ").concat(t,"-expanded-row-fixed > ").concat(t,"-wrapper:only-child\n            ")]:{[t]:{marginBlock:lx(x(r).mul(-1).equal()),marginInline:"".concat(lx(x(o).sub(a).equal()),"\n                ").concat(lx(x(a).mul(-1).equal())),["".concat(t,"-tbody > tr:last-child > td")]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:m,fontWeight:n,textAlign:"start",background:p,borderBottom:y,transition:"background ".concat(g," ease")},["& > ".concat(t,"-measure-cell")]:{paddingBlock:"0 !important",borderBlock:"0 !important",["".concat(t,"-measure-cell-content")]:{height:0,overflow:"hidden",pointerEvents:"none"}}}},["".concat(t,"-footer")]:{padding:"".concat(lx(r)," ").concat(lx(a)),color:h,background:v}})}},yZ=_k("Table",e=>{const{colorTextHeading:t,colorSplit:n,colorBgContainer:r,controlInteractiveSize:a,headerBg:o,headerColor:i,headerSortActiveBg:s,headerSortHoverBg:l,bodySortBg:c,rowHoverBg:d,rowSelectedBg:u,rowSelectedHoverBg:m,rowExpandedBg:g,cellPaddingBlock:p,cellPaddingInline:f,cellPaddingBlockMD:h,cellPaddingInlineMD:v,cellPaddingBlockSM:x,cellPaddingInlineSM:y,borderColor:b,footerBg:k,footerColor:w,headerBorderRadius:j,cellFontSize:N,cellFontSizeMD:C,cellFontSizeSM:S,headerSplitColor:E,fixedHeaderSortActiveBg:_,headerFilterHoverBg:O,filterDropdownBg:I,expandIconBg:M,selectionColumnWidth:P,stickyScrollBarBg:T,calc:A}=e,R=rb(e,{tableFontSize:N,tableBg:r,tableRadius:j,tablePaddingVertical:p,tablePaddingHorizontal:f,tablePaddingVerticalMiddle:h,tablePaddingHorizontalMiddle:v,tablePaddingVerticalSmall:x,tablePaddingHorizontalSmall:y,tableBorderColor:b,tableHeaderTextColor:i,tableHeaderBg:o,tableFooterTextColor:w,tableFooterBg:k,tableHeaderCellSplitColor:E,tableHeaderSortBg:s,tableHeaderSortHoverBg:l,tableBodySortBg:c,tableFixedHeaderSortActiveBg:_,tableHeaderFilterActiveBg:O,tableFilterDropdownBg:I,tableRowHoverBg:d,tableSelectedRowBg:u,tableSelectedRowHoverBg:m,zIndexTableFixed:2,zIndexTableSticky:A(2).add(1).equal({unit:!1}),tableFontSizeMiddle:C,tableFontSizeSmall:S,tableSelectionColumnWidth:P,tableExpandIconBg:M,tableExpandColumnWidth:A(a).add(A(e.padding).mul(2)).equal(),tableExpandedRowBg:g,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:T,tableScrollThumbBgHover:t,tableScrollBg:n});return[xZ(R),cZ(R),hZ(R),pZ(R),sZ(R),rZ(R),dZ(R),iZ(R),hZ(R),oZ(R),mZ(R),lZ(R),fZ(R),aZ(R),gZ(R),uZ(R),vZ(R)]},e=>{const{colorFillAlter:t,colorBgContainer:n,colorTextHeading:r,colorFillSecondary:a,colorFillContent:o,controlItemBgActive:i,controlItemBgActiveHover:s,padding:l,paddingSM:c,paddingXS:d,colorBorderSecondary:u,borderRadiusLG:m,controlHeight:g,colorTextPlaceholder:p,fontSize:f,fontSizeSM:h,lineHeight:v,lineWidth:x,colorIcon:y,colorIconHover:b,opacityLoading:k,controlInteractiveSize:w}=e,j=new _b(a).onBackground(n).toHexString(),N=new _b(o).onBackground(n).toHexString(),C=new _b(t).onBackground(n).toHexString(),S=new _b(y),E=new _b(b),_=w/2-x,O=2*_+3*x;return{headerBg:C,headerColor:r,headerSortActiveBg:j,headerSortHoverBg:N,bodySortBg:C,rowHoverBg:C,rowSelectedBg:i,rowSelectedHoverBg:s,rowExpandedBg:t,cellPaddingBlock:l,cellPaddingInline:l,cellPaddingBlockMD:c,cellPaddingInlineMD:d,cellPaddingBlockSM:d,cellPaddingInlineSM:d,borderColor:u,headerBorderRadius:m,footerBg:C,footerColor:r,cellFontSize:f,cellFontSizeMD:f,cellFontSizeSM:f,headerSplitColor:u,fixedHeaderSortActiveBg:j,headerFilterHoverBg:o,filterDropdownMenuBg:n,filterDropdownBg:n,expandIconBg:n,selectionColumnWidth:g,stickyScrollBarBg:p,stickyScrollBarBorderRadius:100,expandIconMarginTop:(f*v-3*x)/2-Math.ceil((1.4*h-3*x)/2),headerIconColor:S.clone().setA(S.a*k).toRgbString(),headerIconHoverColor:E.clone().setA(E.a*k).toRgbString(),expandIconHalfInner:_,expandIconSize:O,expandIconScale:w/O}},{unitless:{expandIconScale:!0}}),bZ=[],kZ=(e,t)=>{var n,a;const{prefixCls:o,className:i,rootClassName:s,style:l,size:c,bordered:d,dropdownPrefixCls:u,dataSource:m,pagination:g,rowSelection:p,rowKey:f="key",rowClassName:h,columns:v,children:x,childrenColumnName:y,onChange:b,getPopupContainer:k,loading:w,expandIcon:j,expandable:N,expandedRowRender:C,expandIconColumnIndex:S,indentSize:E,scroll:_,sortDirections:O,locale:I,showSorterTooltip:M={target:"full-header"},virtual:P}=e;aC("Table");const T=r.useMemo(()=>v||SG(x),[v,x]),A=r.useMemo(()=>T.some(e=>e.responsive),[T]),R=EO(A),z=r.useMemo(()=>{const e=new Set(Object.keys(R).filter(e=>R[e]));return T.filter(t=>!t.responsive||t.responsive.some(t=>e.has(t)))},[T,R]),D=Fh(e,["className","style","columns"]),{locale:L=uC,direction:B,table:F,renderEmpty:H,getPrefixCls:W,getPopupContainer:V}=r.useContext(av),q=hj(c),U=Object.assign(Object.assign({},L.Table),I),K=m||bZ,G=W("table",o),X=W("dropdown",u),[,Y]=Ek(),$=hS(G),[J,Z,Q]=yZ(G,$),ee=Object.assign(Object.assign({childrenColumnName:y,expandIconColumnIndex:S},N),{expandIcon:null!==(n=null===N||void 0===N?void 0:N.expandIcon)&&void 0!==n?n:null===(a=null===F||void 0===F?void 0:F.expandable)||void 0===a?void 0:a.expandIcon}),{childrenColumnName:te="children"}=ee,ne=r.useMemo(()=>K.some(e=>null===e||void 0===e?void 0:e[te])?"nest":C||(null===N||void 0===N?void 0:N.expandedRowRender)?"row":null,[K]),re={body:r.useRef(null)},ae=function(e){return(t,n)=>{const r=t.querySelector(".".concat(e,"-container"));let a=n;if(r){const e=getComputedStyle(r);a=n-Number.parseInt(e.borderLeftWidth,10)-Number.parseInt(e.borderRightWidth,10)}return a}}(G),oe=r.useRef(null),ie=r.useRef(null);ZY(t,()=>Object.assign(Object.assign({},ie.current),{nativeElement:oe.current}));const se=r.useMemo(()=>"function"===typeof f?f:e=>null===e||void 0===e?void 0:e[f],[f]),[le]=MJ(K,te,se),ce={},de=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,a,o,i;const s=Object.assign(Object.assign({},ce),e);n&&(null===(r=ce.resetPagination)||void 0===r||r.call(ce),(null===(a=s.pagination)||void 0===a?void 0:a.current)&&(s.pagination.current=1),g&&(null===(o=g.onChange)||void 0===o||o.call(g,1,null===(i=s.pagination)||void 0===i?void 0:i.pageSize))),_&&!1!==_.scrollToFirstRowOnChange&&re.body.current&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getContainer:n=()=>window,callback:r,duration:a=450}=t,o=n(),i=e$(o),s=Date.now(),l=()=>{const t=Date.now()-s,n=function(e,t,n,r){const a=n-t;return(e/=r/2)<1?a/2*e*e*e+t:a/2*((e-=2)*e*e+2)+t}(t>a?a:t,i,e,a);QY(o)?o.scrollTo(window.pageXOffset,n):o instanceof Document||"HTMLDocument"===o.constructor.name?o.documentElement.scrollTop=n:o.scrollTop=n,t<a?Lk(l):"function"===typeof r&&r()};Lk(l)}(0,{getContainer:()=>re.body.current}),null===b||void 0===b||b(s.pagination,s.filters,s.sorter,{currentDataSource:_J(YJ(K,s.sorterStates,te),s.filterStates,te),action:t})},[ue,me,ge,pe]=$J({prefixCls:G,mergedColumns:z,onSorterChange:(e,t)=>{de({sorter:e,sorterStates:t},"sort",!1)},sortDirections:O||["ascend","descend"],tableLocale:U,showSorterTooltip:M}),fe=r.useMemo(()=>YJ(K,me,te),[K,me]);ce.sorter=pe(),ce.sorterStates=me;const[he,ve,xe]=IJ({prefixCls:G,locale:U,dropdownPrefixCls:X,mergedColumns:z,onFilterChange:(e,t)=>{de({filters:e,filterStates:t},"filter",!0)},getPopupContainer:k||V,rootClassName:Ah()(s,$)}),ye=_J(fe,ve,te);ce.filters=xe,ce.filterStates=ve;const be=r.useMemo(()=>{const e={};return Object.keys(xe).forEach(t=>{null!==xe[t]&&(e[t]=xe[t])}),Object.assign(Object.assign({},ge),{filters:e})},[ge,xe]),[ke]=ZJ(be),[we,je]=AJ(ye.length,(e,t)=>{de({pagination:Object.assign(Object.assign({},ce.pagination),{current:e,pageSize:t})},"paginate")},g);ce.pagination=!1===g?{}:function(e,t){const n={current:e.current,pageSize:e.pageSize},r=t&&"object"===typeof t?t:{};return Object.keys(r).forEach(t=>{const r=e[t];"function"!==typeof r&&(n[t]=r)}),n}(we,g),ce.resetPagination=je;const Ne=r.useMemo(()=>{if(!1===g||!we.pageSize)return ye;const{current:e=1,total:t,pageSize:n=TJ}=we;return ye.length<t?ye.length>n?ye.slice((e-1)*n,e*n):ye:ye.slice((e-1)*n,e*n)},[!!g,ye,null===we||void 0===we?void 0:we.current,null===we||void 0===we?void 0:we.pageSize,null===we||void 0===we?void 0:we.total]),[Ce,Se]=JY({prefixCls:G,data:ye,pageData:Ne,getRowKey:se,getRecordByKey:le,expandType:ne,childrenColumnName:te,locale:U,getPopupContainer:k||V},p);ee.__PARENT_RENDER_ICON__=ee.expandIcon,ee.expandIcon=ee.expandIcon||j||t$(U),"nest"===ne&&void 0===ee.expandIconColumnIndex?ee.expandIconColumnIndex=p?1:0:ee.expandIconColumnIndex>0&&p&&(ee.expandIconColumnIndex-=1),"number"!==typeof ee.indentSize&&(ee.indentSize="number"===typeof E?E:15);const Ee=r.useCallback(e=>ke(Ce(he(ue(e)))),[ue,he,Ce]),_e=r.useMemo(()=>"boolean"===typeof w?{spinning:w}:"object"===typeof w&&null!==w?Object.assign({spinning:!0},w):void 0,[w]),Oe=Ah()(Q,$,"".concat(G,"-wrapper"),null===F||void 0===F?void 0:F.className,{["".concat(G,"-wrapper-rtl")]:"rtl"===B},i,s,Z),Ie=Object.assign(Object.assign({},null===F||void 0===F?void 0:F.style),l),Me=r.useMemo(()=>(null===_e||void 0===_e?void 0:_e.spinning)&&K===bZ?null:"undefined"!==typeof(null===I||void 0===I?void 0:I.emptyText)?I.emptyText:(null===H||void 0===H?void 0:H("Table"))||r.createElement(OD,{componentName:"Table"}),[null===_e||void 0===_e?void 0:_e.spinning,K,null===I||void 0===I?void 0:I.emptyText,H]),Pe=P?nZ:eZ,Te={},Ae=r.useMemo(()=>{const{fontSize:e,lineHeight:t,lineWidth:n,padding:r,paddingXS:a,paddingSM:o}=Y,i=Math.floor(e*t);switch(q){case"middle":return 2*o+i+n;case"small":return 2*a+i+n;default:return 2*r+i+n}},[Y,q]);P&&(Te.listItemHeight=Ae);const{top:Re,bottom:ze}=(()=>{if(!1===g||!(null===we||void 0===we?void 0:we.total))return{};const e=e=>{const t="left"===e?"start":"right"===e?"end":e;return r.createElement(VF,Object.assign({},we,{align:we.align||t,className:Ah()("".concat(G,"-pagination"),we.className),size:we.size||("small"===q||"middle"===q?"small":void 0)}))},t="rtl"===B?"left":"right",n=we.position;if(null===n||!Array.isArray(n))return{bottom:e(t)};const a=n.find(e=>"string"===typeof e&&e.toLowerCase().includes("top")),o=n.find(e=>"string"===typeof e&&e.toLowerCase().includes("bottom")),i=n.every(e=>"none"==="".concat(e)),s=a?a.toLowerCase().replace("top",""):"",l=o?o.toLowerCase().replace("bottom",""):"",c=!a&&!o&&!i;return{top:s?e(s):void 0,bottom:l?e(l):c?e(t):void 0}})();return J(r.createElement("div",{ref:oe,className:Oe,style:Ie},r.createElement(aH,Object.assign({spinning:!1},_e),Re,r.createElement(Pe,Object.assign({},Te,D,{ref:ie,columns:z,direction:B,expandable:ee,prefixCls:G,className:Ah()({["".concat(G,"-middle")]:"middle"===q,["".concat(G,"-small")]:"small"===q,["".concat(G,"-bordered")]:d,["".concat(G,"-empty")]:0===K.length},Q,$,Z),data:Ne,rowKey:se,rowClassName:(e,t,n)=>{let r;return r="function"===typeof h?Ah()(h(e,t,n)):Ah()(h),Ah()({["".concat(G,"-row-selected")]:Se.has(se(e,t))},r)},emptyText:Me,internalHooks:PK,internalRefs:re,transformColumns:Ee,getContainerWidth:ae,measureRowRender:e=>r.createElement(BC,{getPopupContainer:e=>e},e)})),ze)))},wZ=r.forwardRef(kZ),jZ=(e,t)=>{const n=r.useRef(0);return n.current+=1,r.createElement(wZ,Object.assign({},e,{ref:t,_renderTimes:n.current}))},NZ=r.forwardRef(jZ);NZ.SELECTION_COLUMN=UY,NZ.EXPAND_COLUMN=MK,NZ.SELECTION_ALL=KY,NZ.SELECTION_INVERT=GY,NZ.SELECTION_NONE=XY,NZ.Column=sX,NZ.ColumnGroup=lX,NZ.Summary=eG;const CZ=NZ,SZ=e=>{let{scenarios:t=[],loading:n=!1,onRefresh:a,onLoadScenario:o,onDeleteScenario:i}=e;const[s,l]=(0,r.useState)(""),c=(0,r.useMemo)(()=>{if(!s)return t;const e=s.toLowerCase();return t.filter(t=>{var n,r,a;return(null===(n=t.name)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(r=t.description)||void 0===r?void 0:r.toLowerCase().includes(e))||(null===(a=t.tags)||void 0===a?void 0:a.some(t=>t.toLowerCase().includes(e)))})},[t,s]),d=[{title:"Name",dataIndex:"name",key:"name",render:(e,t)=>(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e}),(0,Ue.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.description})]})},{title:"Tags",dataIndex:"tags",key:"tags",render:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,Ue.jsx)(qB,{size:[4,4],wrap:!0,children:e.map(e=>(0,Ue.jsx)(sF,{color:"blue",className:"text-xs",children:e},e))})}},{title:"Expected",dataIndex:"expected_outcome",key:"expected_outcome",render:e=>(0,Ue.jsx)(sF,{color:"allow"===e?"green":"red",className:"text-xs uppercase",children:e||"n/a"})},{title:"Created By",dataIndex:"created_by",key:"created_by",render:e=>(0,Ue.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:e})},{title:"Actions",key:"actions",render:(e,t)=>(0,Ue.jsxs)(qB,{children:[(0,Ue.jsx)(KM,{title:"Load scenario into builder",children:(0,Ue.jsx)(eC,{type:"primary",size:"small",icon:(0,Ue.jsx)(xH,{className:"w-4 h-4"}),onClick:()=>null===o||void 0===o?void 0:o(t),children:"Load"})}),(0,Ue.jsx)(KM,{title:"Delete scenario",children:(0,Ue.jsx)(eC,{danger:!0,type:"text",size:"small",icon:(0,Ue.jsx)(QH,{className:"w-4 h-4"}),onClick:()=>null===i||void 0===i?void 0:i(t)})})]})}];return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,Ue.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Saved Scenarios"}),(0,Ue.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage reusable simulation scenarios for quick policy validation"})]}),(0,Ue.jsxs)(qB,{children:[(0,Ue.jsx)(TR,{allowClear:!0,prefix:(0,Ue.jsx)(Rr,{className:"w-4 h-4 text-gray-400"}),placeholder:"Search scenarios",value:s,onChange:e=>l(e.target.value),className:"w-64"}),(0,Ue.jsx)(eC,{icon:(0,Ue.jsx)(ZH,{className:"w-4 h-4"}),onClick:a,loading:n,children:"Refresh"})]})]}),(0,Ue.jsx)(CZ,{rowKey:"id",dataSource:c,columns:d,loading:n,locale:{emptyText:(0,Ue.jsx)(_D,{image:_D.PRESENTED_IMAGE_SIMPLE,description:(0,Ue.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No scenarios saved yet"}),children:(0,Ue.jsx)(eC,{type:"primary",icon:(0,Ue.jsx)(Fa,{className:"w-4 h-4"}),onClick:a,children:"Load sample scenarios"})})},pagination:{pageSize:5,showSizeChanger:!1},className:"scenario-table"})]})},EZ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,Ue.jsx)(XV,{bordered:!0,size:"small",column:1,className:"bg-white dark:bg-gray-800",children:Object.entries(e).map(e=>{let[n,r]=e;return(0,Ue.jsx)(XV.Item,{label:n,labelStyle:{width:140},children:"object"===typeof r?(0,Ue.jsx)("pre",{className:"text-xs whitespace-pre-wrap bg-gray-50 dark:bg-gray-900/40 p-2 rounded-md",children:JSON.stringify(r,null,2)}):String(r)},"".concat(t,"-").concat(n))})})},_Z=e=>{let{open:t,onClose:n,metadata:r,loading:a}=e;return(0,Ue.jsx)($T,{title:"Resource Metadata",open:t,onCancel:n,footer:null,width:720,className:"dark:bg-gray-800",children:a?(0,Ue.jsx)("div",{className:"flex justify-center py-20",children:(0,Ue.jsx)(aH,{size:"large"})}):r?(0,Ue.jsxs)(SK,{defaultActiveKey:"syntactic",children:[r.syntactic&&(0,Ue.jsx)(SK.TabPane,{tab:"Syntactic",children:EZ(r.syntactic,"syntactic")},"syntactic"),r.semantic&&(0,Ue.jsx)(SK.TabPane,{tab:"Semantic",children:EZ(r.semantic,"semantic")},"semantic"),r.information&&(0,Ue.jsx)(SK.TabPane,{tab:"Information",children:EZ(r.information,"information")},"information")]}):(0,Ue.jsx)(_D,{description:"No metadata available"})})},OZ=()=>{const[e,t]=(0,r.useState)(iW()),[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null),[v,x]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[k,w]=(0,r.useState)([]),[j,N]=(0,r.useState)(!1),[C]=oP.useForm(),S=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=localStorage.getItem("policySimulatorPrefill");if(e)try{const n=JSON.parse(e);null!==n&&void 0!==n&&n.policyId?(l(n.policyId),XS.info("Testing specific policy")):console.warn("No policyId found in prefill"),null!==n&&void 0!==n&&n.request&&(t(mW(n.request)),XS.info("Loaded scenario from policy editor"))}catch(n){console.error("Failed to parse simulator prefill",n)}finally{localStorage.removeItem("policySimulatorPrefill")}},[]);const E=(0,r.useCallback)(async()=>{N(!0);try{const e=await nV.listScenarios();w(e.scenarios||[])}catch(e){console.error("Failed to load scenarios",e),XS.error("Unable to load saved scenarios")}finally{N(!1)}},[]);(0,r.useEffect)(()=>{E()},[E]);return(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 p-8 space-y-6",children:[(0,Ue.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Policy Simulation"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test and validate policies before deployment using realistic scenarios."})]}),(0,Ue.jsx)(qB,{children:(0,Ue.jsx)(eC,{icon:(0,Ue.jsx)(Aa,{className:"w-4 h-4"}),href:"https://docs.produktiv.ai/policy-simulator",target:"_blank",children:"Help"})})]}),(0,Ue.jsx)(pW,{request:e,onRequestChange:t,onRunSimulation:async t=>{const n=t||cW(e);s&&(n.policy_id=s);try{i(!0);const e=await nV.runSimulation(n);a(e),XS.success("Simulation completed"),null!==e&&void 0!==e&&e.trace&&d(!0),setTimeout(()=>{var e;null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})},100)}catch(r){console.error("Simulation error",r),XS.error(r.message||"Failed to run simulation")}finally{i(!1)}},onSaveScenario:()=>{var e;C.setFieldsValue({name:"",description:"",expected_outcome:null!==n&&void 0!==n&&null!==(e=n.decision)&&void 0!==e&&e.allowed?"allow":"deny",tags:""}),x(!0)},onPreviewMetadata:async e=>{if(e){m(!0),p(!0);try{const t=await nV.previewMetadata(e);h(t.metadata||t)}catch(t){console.error("Failed to load metadata preview",t),XS.error("Unable to fetch metadata preview")}finally{p(!1)}}else XS.info("Please provide a resource ID to preview metadata")},loading:o,showQuickScenarios:!0}),(0,Ue.jsx)($W,{ref:S,results:n,loading:o,onViewTrace:()=>d(!0),onExport:e=>{const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="simulation-results-".concat(Date.now(),".json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),XS.success("Results exported")}}),c&&(null===n||void 0===n?void 0:n.trace)&&(0,Ue.jsx)(IK,{trace:n.trace}),(0,Ue.jsx)(SZ,{scenarios:k,loading:j,onRefresh:E,onLoadScenario:async e=>{try{i(!0);const n=await nV.getScenario(e.id),r=(null===n||void 0===n?void 0:n.request_data)||e.request_data;if(!r)return void XS.warning("Selected scenario has no request data");t(mW(r)),XS.success('Scenario "'.concat(e.name,'" loaded'))}catch(n){console.error("Load scenario failed",n),XS.error("Unable to load selected scenario")}finally{i(!1)}},onDeleteScenario:async e=>{$T.confirm({title:"Delete scenario",content:'Are you sure you want to delete "'.concat(e.name,'"?'),okButtonProps:{danger:!0},onOk:async()=>{try{await nV.deleteScenario(e.id),XS.success("Scenario deleted"),E()}catch(t){console.error("Delete scenario failed",t),XS.error("Unable to delete scenario")}}})}}),(0,Ue.jsx)(_Z,{open:u,onClose:()=>m(!1),metadata:f,loading:g}),(0,Ue.jsx)($T,{title:"Save Scenario",open:v,onCancel:()=>x(!1),onOk:async()=>{try{const t=await C.validateFields();b(!0);const n={name:t.name,description:t.description,expected_outcome:t.expected_outcome,tags:t.tags?t.tags.split(",").map(e=>e.trim()).filter(Boolean):[],request_data:cW(e)};await nV.saveScenario(n),XS.success("Scenario saved"),x(!1),E()}catch(t){if(null!==t&&void 0!==t&&t.errorFields)return;console.error("Save scenario failed",t),XS.error(t.message||"Failed to save scenario")}finally{b(!1)}},confirmLoading:y,okText:"Save",className:"dark:bg-gray-800",children:(0,Ue.jsxs)(oP,{form:C,layout:"vertical",children:[(0,Ue.jsx)(oP.Item,{name:"name",label:"Scenario Name",rules:[{required:!0,message:"Scenario name is required"}],children:(0,Ue.jsx)(TR,{placeholder:"e.g. Finance analyst accessing Q3 report"})}),(0,Ue.jsx)(oP.Item,{name:"description",label:"Description",children:(0,Ue.jsx)(TR.TextArea,{rows:3,placeholder:"Describe when to use this scenario"})}),(0,Ue.jsx)(oP.Item,{name:"expected_outcome",label:"Expected Outcome",initialValue:"allow",children:(0,Ue.jsx)(ML,{options:[{label:"Allow",value:"allow"},{label:"Deny",value:"deny"}]})}),(0,Ue.jsx)(oP.Item,{name:"tags",label:"Tags",children:(0,Ue.jsx)(TR,{placeholder:"Comma separated tags"})})]})})]})})},IZ=()=>(r.useEffect(()=>{window.open("https://rag-ui-dev.produktiv.ai","_blank","noopener,noreferrer"),window.history.back()},[]),(0,Ue.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),(0,Ue.jsx)("p",{className:"ml-3",children:"Opening RAG Application in new tab..."})]})),MZ=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),PZ=e=>{let{policies:t=[],loading:n}=e;const[a,o]=(0,r.useState)(1),[i,s]=(0,r.useState)(10),[l,c]=(0,r.useState)({key:null,direction:"asc"}),d=e=>(0,Ue.jsxs)("div",{className:"flex flex-col ml-1",children:[(0,Ue.jsx)(Ip,{className:"w-3 h-3 ".concat(l.key===e&&"asc"===l.direction?"text-blue-500":"text-gray-400 dark:text-gray-500")}),(0,Ue.jsx)(ja,{className:"w-3 h-3 -mt-1 ".concat(l.key===e&&"desc"===l.direction?"text-blue-500":"text-gray-400 dark:text-gray-500")})]}),u=[...t||[]].sort((e,t)=>{var n,r;const{key:a,direction:o}=l;if(!a)return 0;const i=null!==(n=e[a])&&void 0!==n?n:"",s=null!==(r=t[a])&&void 0!==r?r:"";if("timestamp"===a){const e=new Date(i),t=new Date(s);return"asc"===o?e-t:t-e}const c=i.toString().toLowerCase(),d=s.toString().toLowerCase();return"asc"===o?c.localeCompare(d):d.localeCompare(c)}),m=u.length,g=Math.max(1,Math.ceil(m/i)),p=(a-1)*i,f=p+i,h=u.slice(p,f),v=m>0?p+1:0,x=Math.min(f,m),y=e=>{e>=1&&e<=g&&o(e)};return(0,r.useEffect)(()=>{a>g&&o(1)},[g]),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Policy Details"})}),(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsx)("tr",{children:[{label:"Policy Name",key:"policy_name"},{label:"Policy Status",key:"policy_status"},{label:"Active",key:"active"},{label:"Timestamp",key:"timestamp"}].map(e=>{let{label:t,key:n}=e;return(0,Ue.jsx)("th",{onClick:()=>(e=>{c(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))})(n),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",children:(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1",children:[t,d(n)]})},n)})})}),(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:n?(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,Ue.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,Ue.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading..."})]})})}):0===h.length?(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No policies found."})}):h.map(e=>{return(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.policy_name}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.policy_status}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:(0,Ue.jsx)("div",{className:"flex items-center",children:e.active?(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(MZ,{size:16,className:"text-green-600 dark:text-green-400 mr-2"}),(0,Ue.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"Yes"})]}):(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(Cr,{size:16,className:"text-red-600 dark:text-red-400 mr-2"}),(0,Ue.jsx)("span",{className:"text-red-600 dark:text-red-400",children:"No"})]})})}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:(t=e.timestamp,new Date(t).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}))})]},e.log_id);var t})})]})}),!n&&u.length>0&&(0,Ue.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(0,Ue.jsx)("span",{className:"font-medium",children:v})," to ",(0,Ue.jsx)("span",{className:"font-medium",children:x})," of"," ",(0,Ue.jsx)("span",{className:"font-medium",children:m})," results"]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Records per page"}),(0,Ue.jsx)("select",{value:i,onChange:e=>{const t=parseInt(e.target.value);s(t),o(1)},className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[10,25,50,100].map(e=>(0,Ue.jsx)("option",{value:e,children:e},e))})]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsxs)("button",{onClick:()=>y(a-1),disabled:a<=1,className:"flex items-center px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 text-gray-700 dark:text-gray-300",children:[(0,Ue.jsx)(Pa,{size:16,className:"mr-1"})," Previous"]}),(0,Ue.jsxs)("span",{className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md",children:[a," of ",g]}),(0,Ue.jsxs)("button",{onClick:()=>y(a+1),disabled:a>=g,className:"flex items-center px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 text-gray-700 dark:text-gray-300",children:["Next ",(0,Ue.jsx)(Na,{size:16,className:"ml-1"})]})]})]})]})]})},TZ=()=>{var e,t,n,a,o,i,s,l,c,d;const[u,m]=(0,r.useState)(null),[g,p]=(0,r.useState)([]),[f,h]=(0,r.useState)(!1),[v,x]=(0,r.useState)(!1),y=yr.create({baseURL:"https://dev-services.produktiv.ai",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});y.interceptors.request.use(e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1];return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e)),y.interceptors.response.use(e=>e,e=>{var t,n,r,a,o,i;return console.error("API Error:",{message:e.message,code:e.code,status:null===(t=e.response)||void 0===t?void 0:t.status,data:null===(n=e.response)||void 0===n?void 0:n.data,config:{url:null===(r=e.config)||void 0===r?void 0:r.url,method:null===(a=e.config)||void 0===a?void 0:a.method,baseURL:null===(o=e.config)||void 0===o?void 0:o.baseURL}}),401===(null===(i=e.response)||void 0===i?void 0:i.status)?(console.warn("401 Unauthorized - redirecting to dashboard"),window.location.href="/dashboard"):"ERR_NETWORK"===e.code&&console.error("Network error - service may be unreachable"),Promise.reject(e)}),(0,r.useEffect)(()=>{(async()=>{h(!0);try{var e;const t=(null===(e=(await y.get("/api/v1/policy/policies/analytics")).data.data)||void 0===e?void 0:e[0])||{};m(t);const n=t.policy_detail||[];p(n)}catch(t){console.error("Failed to fetch policy analytics:",t),m({}),p([])}finally{h(!1)}})()},[]);return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Policy Analytics"}),u?(0,Ue.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,Ue.jsxs)("div",{className:"flex flex-wrap justify-between gap-6",children:[function(e,t){const n={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",value:"text-blue-600 dark:text-blue-400",subtitle:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",value:"text-green-600 dark:text-green-400",subtitle:"text-green-600 dark:text-green-400"},amber:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",value:"text-amber-600 dark:text-amber-400",subtitle:"text-amber-600 dark:text-amber-400"}}[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blue"];return(0,Ue.jsxs)("div",{className:"".concat(n.bg," p-6 rounded-xl border ").concat(n.border," transition-all duration-200 hover:shadow-md flex flex-col items-center justify-center text-center"),children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-2",children:e}),(0,Ue.jsx)("p",{className:"text-3xl font-bold ".concat(n.value),children:null!==t&&void 0!==t?t:0})]})}("Total Policies",u.total_policies,"blue"),(0,Ue.jsx)("button",{onClick:()=>x(e=>!e),className:"flex-1 min-w-[200px] bg-green-50 dark:bg-green-900/20 p-6 rounded-xl border border-green-200 dark:border-green-800 flex justify-center hover:shadow-md transition-all duration-200",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,Ue.jsxs)("div",{className:"text-center w-full",children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Active"}),(0,Ue.jsx)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:null!==(e=u.active_policies)&&void 0!==e?e:0})]}),(0,Ue.jsx)("div",{className:"h-10 w-px bg-green-300 dark:bg-green-700 mx-4"}),(0,Ue.jsxs)("div",{className:"text-center w-full",children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Inactive"}),(0,Ue.jsx)("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:null!==(t=u.inactive_policies)&&void 0!==t?t:0})]})]})}),(0,Ue.jsx)("div",{className:"flex-1 min-w-[200px] bg-amber-50 dark:bg-amber-900/20 p-6 rounded-xl border border-amber-200 dark:border-amber-800 flex justify-center transition-all duration-200 hover:shadow-md",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-center w-full",children:[(0,Ue.jsxs)("div",{className:"text-center w-full",children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Syntactic"}),(0,Ue.jsx)("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:null!==(n=u.syntactic_count)&&void 0!==n?n:0})]}),(0,Ue.jsx)("div",{className:"h-10 w-px bg-amber-300 dark:bg-amber-700 mx-6"}),(0,Ue.jsxs)("div",{className:"text-center w-full",children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Semantic"}),(0,Ue.jsx)("p",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:null!==(a=u.semantic_count)&&void 0!==a?a:0})]})]})})]}),v&&(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-4 text-center",children:"Active Policies Breakdown"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"text-center mb-2 border-b border-gray-600 pb-2",children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-green-500",children:"Allow"}),(0,Ue.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:null!==(o=u.active_allow_count)&&void 0!==o?o:0})]}),(0,Ue.jsxs)("div",{className:"flex justify-around items-center",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"ABAC"}),(0,Ue.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:null!==(i=u.allow_abac_count)&&void 0!==i?i:0})]}),(0,Ue.jsx)("div",{className:"h-10 w-px bg-gray-600"}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"RBAC"}),(0,Ue.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:null!==(s=u.allow_rbac_count)&&void 0!==s?s:0})]})]})]}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"text-center mb-2 border-b border-gray-600 pb-2",children:[(0,Ue.jsx)("p",{className:"text-sm font-semibold text-red-500",children:"Deny"}),(0,Ue.jsx)("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:null!==(l=u.active_deny_count)&&void 0!==l?l:0})]}),(0,Ue.jsxs)("div",{className:"flex justify-around items-center",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"ABAC"}),(0,Ue.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:null!==(c=u.deny_abac_count)&&void 0!==c?c:0})]}),(0,Ue.jsx)("div",{className:"h-10 w-px bg-gray-600"}),(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"RBAC"}),(0,Ue.jsx)("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:null!==(d=u.deny_rbac_count)&&void 0!==d?d:0})]})]})]})]})]}),(0,Ue.jsx)(PZ,{policies:g,loading:f})]}):(0,Ue.jsx)("p",{className:"text-gray-400",children:"Loading analytics..."})]})},AZ=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(null),[s,l]=(0,r.useState)({}),[c,d]=(0,r.useState)({key:null,direction:"asc"}),[u,m]=(0,r.useState)(!1),[g,p]=(0,r.useState)([]),f=ne(),h=async e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1],r=await fetch("https://localhost:8780".concat(e),{credentials:"include",headers:Le({Accept:"application/json","Content-Type":"application/json"},n&&{Authorization:"Bearer ".concat(n)})});if(401===r.status)return window.location.href="/dashboard",null;if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return r.json()};(0,r.useEffect)(()=>{(async()=>{try{const e=await h("/api/v1/taxonomy/analytics");null!==e&&void 0!==e&&e.length&&i(e[0]);const n=await h("/api/v1/taxonomy/taxonomy-with-nodes");n&&t(n)}catch(e){a("Failed to load taxonomy data.")}})()},[]);const v=e=>(0,Ue.jsxs)("div",{className:"flex flex-col ml-1",children:[(0,Ue.jsx)(Ip,{className:"w-3 h-3 ".concat(c.key===e&&"asc"===c.direction?"text-blue-500":"text-gray-400 dark:text-gray-500")}),(0,Ue.jsx)(ja,{className:"w-3 h-3 -mt-1 ".concat(c.key===e&&"desc"===c.direction?"text-blue-500":"text-gray-400 dark:text-gray-500")})]});let x=[...e];s.type&&(x=x.filter(e=>e.type===s.type)),s.industry&&(x=x.filter(e=>e.industry===s.industry));const y=[...x].sort((e,t)=>{const{key:n,direction:r}=c;if(!n)return 0;const a=e[n]||"",o=t[n]||"";if(n.includes("at")){const e=new Date(a),t=new Date(o);return"asc"===r?e-t:t-e}const i=a.toString().toLowerCase(),s=o.toString().toLowerCase();return"asc"===r?i.localeCompare(s):s.localeCompare(i)});return n?(0,Ue.jsxs)("div",{className:"p-6 text-red-600 dark:text-red-400 font-medium",children:["Error: ",n]}):e.length?(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[o&&(0,Ue.jsxs)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4",children:"Taxonomy Analytics"}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[(0,Ue.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 shadow-sm border border-blue-200 dark:border-blue-800 cursor-pointer transition-all duration-200 hover:shadow-md",onClick:()=>l({}),children:[(0,Ue.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Total Taxonomies"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:o.total_taxonomy}),(0,Ue.jsx)("div",{className:"text-blue-600 dark:text-blue-400 text-sm",children:"Total"})]})]}),(0,Ue.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-xl p-6 shadow-sm border border-green-200 dark:border-green-800 cursor-pointer transition-all duration-200 hover:shadow-md",onClick:()=>l(e=>Le(Le({},e),{},{type:"custom"})),children:[(0,Ue.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Created From Scratch"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("div",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:o.created_count}),(0,Ue.jsx)("div",{className:"text-green-600 dark:text-green-400 text-sm",children:"Custom"})]})]}),(0,Ue.jsxs)("div",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-xl p-6 shadow-sm border border-amber-200 dark:border-amber-800 cursor-pointer transition-all duration-200 hover:shadow-md",onClick:()=>l(e=>Le(Le({},e),{},{type:"template"})),children:[(0,Ue.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"Created From Template"}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("div",{className:"text-3xl font-bold text-amber-600 dark:text-amber-400",children:o.template_count}),(0,Ue.jsx)("div",{className:"text-amber-600 dark:text-amber-400 text-sm",children:"Template"})]})]})]}),(0,Ue.jsx)("h4",{className:"text-md font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Industry-wise Count"}),(0,Ue.jsx)("div",{className:"grid gap-4",style:{display:"grid",gridTemplateColumns:"repeat(".concat(Math.min(o.industry_wise_count.length,7),", 1fr)")},children:o.industry_wise_count.map((e,t)=>(0,Ue.jsxs)("div",{onClick:()=>l(t=>Le(Le({},t),{},{industry:e.industry_name})),className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded p-3 cursor-pointer min-w-[140px] break-words",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.industry_name||"Unspecified Industry"}),(0,Ue.jsx)("div",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.count})]},t))})]}),(0,Ue.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Taxonomy Details"})}),(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"SR No."}),[{label:"Taxonomy Name",key:"taxonomy_name"},{label:"Industry",key:"industry"},{label:"Created By",key:"created_by_username"},{label:"Updated By",key:"updated_by_username"},{label:"Created At",key:"created_at"},{label:"Updated At",key:"updated_at"}].map(e=>{let{label:t,key:n}=e;return(0,Ue.jsx)("th",{onClick:()=>(e=>{d(t=>({key:e,direction:t.key===e&&"asc"===t.direction?"desc":"asc"}))})(n),className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer",children:(0,Ue.jsxs)("div",{className:"inline-flex items-center gap-1",children:[t,v(n)]})},n)}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:y.map((e,t)=>(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:t+1}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.taxonomy_name||"Unnamed"}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.industry||"\u2014"}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.created_by_username||"\u2014"}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.updated_by_username||"\u2014"}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.created_at?new Date(e.created_at).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"\u2014"}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:e.updated_at?new Date(e.updated_at).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"\u2014"}),(0,Ue.jsx)("td",{className:"px-6 py-4",children:(0,Ue.jsxs)("button",{onClick:()=>(e=>{var t;const n=(null===(t=e.nodes)||void 0===t?void 0:t.flatMap(e=>{var t;return(null===(t=e.audit_logs)||void 0===t?void 0:t.map((t,n)=>({node:e,log:t,key:"".concat(e.name||"Unnamed","-").concat(n)})))||[]}))||[],r=n.sort((e,t)=>new Date(t.log.created_at)-new Date(e.log.created_at));p(r),m(!0)})(e),className:"flex items-center text-sm text-blue-600 dark:text-blue-400 hover:underline",children:["View Logs ",(0,Ue.jsx)(ja,{className:"ml-1 w-4 h-4"})]})})]},t))})]})}),u&&(0,Ue.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto relative",children:[(0,Ue.jsx)("button",{onClick:()=>m(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-red-500",children:(0,Ue.jsx)(Cr,{size:20})}),(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Activity Logs"}),g.length?(0,Ue.jsx)("div",{className:"space-y-3",children:g.map(e=>{let{node:t,log:n,key:r}=e;const a=n.new_values||{},o=a.name||t.name||"Unnamed",i=t.level,s=n.updated_by_username||"Unknown",l=new Date(n.created_at).toLocaleString("en-IN",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0});let c="";if("node_created"===n.action_type)c=1===i?'New Node Level 1 created "'.concat(o,'" at ').concat(l," by ").concat(s):"New Child Node Level ".concat(i,' Created "').concat(o,'" at ').concat(l," by ").concat(s);else if("node_parent_changed"===n.action_type){const e=a.parent||"Unknown";c='"'.concat(o,'" parent changed to "').concat(e,'" at ').concat(l," by ").concat(s)}else c="node_updated"===n.action_type?'"'.concat(o,'" is updated at ').concat(l," by ").concat(s):"".concat(n.action_type,' on "').concat(o,'" at ').concat(l," by ").concat(s);return(0,Ue.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 p-3 rounded-lg text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 shadow-sm text-sm",children:c},r)})}):(0,Ue.jsx)("div",{className:"text-sm italic text-gray-500 dark:text-gray-400",children:"No logs found."})]})})]}):(0,Ue.jsxs)("div",{className:"p-6 text-gray-600 dark:text-gray-400",children:[(0,Ue.jsx)("div",{className:"mb-4",children:"No Taxonomy Found"}),(0,Ue.jsx)("button",{onClick:()=>f("/classification",{state:{showTemplates:!0}}),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",children:"Create Taxonomy"})]})},RZ=()=>{const[e,t]=(0,r.useState)("policy");return(0,Ue.jsxs)("div",{className:"w-full px-6 py-4 bg-white text-black dark:bg-gray-800 dark:text-white rounded-md shadow-md",children:[(0,Ue.jsxs)("div",{className:"flex space-x-6 border-b border-gray-700 mb-4",children:[(0,Ue.jsx)("button",{onClick:()=>t("policy"),className:"py-2 px-1 text-sm font-medium border-b-2 transition-colors duration-200".concat("policy"===e?"text-black border-black dark:text-white dark:border-white":"text-gray-400 border-transparent hover:text-black dark:hover:text-white"),children:"Policy"}),(0,Ue.jsx)("button",{onClick:()=>t("taxonomy"),className:"py-2 px-1 text-sm font-medium border-b-2 transition-colors duration-200".concat("taxonomy"===e?"text-black border-black dark:text-white dark:border-white":"text-gray-400 border-transparent hover:text-black dark:hover:text-white"),children:"Taxonomy"})]}),(0,Ue.jsx)("div",{className:"bg-white border-gray-200 text-black dark:bg-gray-800 dark:border-gray-700 dark:text-white p-4 rounded-md border",children:"policy"===e?(0,Ue.jsx)(TZ,{}):(0,Ue.jsx)(AZ,{})})]})},zZ=e=>{let{filters:t,onFiltersChange:n,loading:a}=e;const[o,i]=(0,r.useState)(t),s=(e,t)=>{const n=Le(Le({},o),{},{[e]:t||void 0});Object.keys(n).forEach(e=>{n[e]||delete n[e]}),i(n)};return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>{n(o)},disabled:a,title:"Apply Filters",className:"p-2 rounded-lg text-white bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 disabled:cursor-not-allowed transition-all",children:(0,Ue.jsx)(Rr,{size:18})}),(0,Ue.jsx)("button",{onClick:()=>{i({}),n({})},disabled:a,title:"Reset Filters",className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700  hover:text-indigo-600 dark:hover:text-indigo-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Ue.jsxs)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"}),(0,Ue.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l-2 2m0 0l-2 2m2-2l2 2m-2-2l-2-2"})]})})]})]}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"subjectType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Subject Type"}),(0,Ue.jsxs)("select",{id:"subjectType",value:o.subject_type||"",onChange:e=>s("subject_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),(0,Ue.jsx)("option",{value:"user",children:"User"}),(0,Ue.jsx)("option",{value:"service",children:"Service"}),(0,Ue.jsx)("option",{value:"system",children:"System"})]})]}),(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"resourceType",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Resource Type"}),(0,Ue.jsxs)("select",{id:"resourceType",value:o.resource_type||"",onChange:e=>s("resource_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),(0,Ue.jsx)("option",{value:"document",children:"Document"}),(0,Ue.jsx)("option",{value:"chunk",children:"Chunk"}),(0,Ue.jsx)("option",{value:"collection",children:"Collection"})]})]}),(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"action",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Action"}),(0,Ue.jsxs)("select",{id:"action",value:o.action||"",onChange:e=>s("action",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),(0,Ue.jsx)("option",{value:"read",children:"Read"}),(0,Ue.jsx)("option",{value:"write",children:"Write"}),(0,Ue.jsx)("option",{value:"delete",children:"Delete"}),(0,Ue.jsx)("option",{value:"search",children:"Search"})]})]}),(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"decision",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Decision"}),(0,Ue.jsxs)("select",{id:"decision",value:o.decision||"",onChange:e=>s("decision",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),(0,Ue.jsx)("option",{value:"true",children:"Allowed"}),(0,Ue.jsx)("option",{value:"false",children:"Denied"})]})]}),(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"startTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Start Time"}),(0,Ue.jsx)("input",{type:"datetime-local",id:"startTime",value:o.start_time||"",onChange:e=>s("start_time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10"})]}),(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"endTime",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"End Time"}),(0,Ue.jsx)("input",{type:"datetime-local",id:"endTime",value:o.end_time||"",onChange:e=>s("end_time",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10"})]}),(0,Ue.jsxs)("div",{className:"flex flex-col",children:[(0,Ue.jsx)("label",{htmlFor:"sensitivity",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Sensitivity"}),(0,Ue.jsxs)("select",{id:"sensitivity",value:o.sensitivity||"",onChange:e=>s("sensitivity",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm transition-all h-10",children:[(0,Ue.jsx)("option",{value:"",children:"All"}),(0,Ue.jsx)("option",{value:"HIGH",children:"High"}),(0,Ue.jsx)("option",{value:"MEDIUM",children:"Medium"}),(0,Ue.jsx)("option",{value:"LOW",children:"Low"})]})]})]})]})},DZ=Ve("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),LZ=e=>{var t,n,r,a,o,i;let{insights:s}=e;const l=[{title:"Total Access Attempts",value:(null===(t=s.total_access_attempts)||void 0===t?void 0:t.toLocaleString())||"0",subtitle:"Attempts",icon:(0,Ue.jsx)(aa,{size:20}),colorScheme:"blue"},{title:"Allowed Access",value:(null===(n=s.allowed_access)||void 0===n?void 0:n.toLocaleString())||"0",subtitle:"Granted",icon:(0,Ue.jsx)(MZ,{size:20}),colorScheme:"green"},{title:"Denied Access",value:(null===(r=s.denied_access)||void 0===r?void 0:r.toLocaleString())||"0",subtitle:"Blocked",icon:(0,Ue.jsx)(Cr,{size:20}),colorScheme:"red"},{title:"Allowance Rate",value:"".concat((null===(a=s.allowance_rate)||void 0===a?void 0:a.toFixed(1))||"0","%"),subtitle:"Success",icon:(0,Ue.jsx)(DZ,{size:20}),colorScheme:"purple"},{title:"Unique Users",value:(null===(o=s.unique_users)||void 0===o?void 0:o.toLocaleString())||"0",subtitle:"Users",icon:(0,Ue.jsx)(Dr,{size:20}),colorScheme:"amber"},{title:"Unique Resources",value:(null===(i=s.unique_resources)||void 0===i?void 0:i.toLocaleString())||"0",subtitle:"Resources",icon:(0,Ue.jsx)(Gr,{size:20}),colorScheme:"indigo"}],c={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",value:"text-blue-600 dark:text-blue-400",subtitle:"text-blue-600 dark:text-blue-400"},green:{bg:"bg-green-50 dark:bg-green-900/20",border:"border-green-200 dark:border-green-800",value:"text-green-600 dark:text-green-400",subtitle:"text-green-600 dark:text-green-400"},red:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",value:"text-red-600 dark:text-red-400",subtitle:"text-red-600 dark:text-red-400"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-200 dark:border-purple-800",value:"text-purple-600 dark:text-purple-400",subtitle:"text-purple-600 dark:text-purple-400"},amber:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-800",value:"text-amber-600 dark:text-amber-400",subtitle:"text-amber-600 dark:text-amber-400"},indigo:{bg:"bg-indigo-50 dark:bg-indigo-900/20",border:"border-indigo-200 dark:border-indigo-800",value:"text-indigo-600 dark:text-indigo-400",subtitle:"text-indigo-600 dark:text-indigo-400"}};return(0,Ue.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:l.map((e,t)=>{const n=c[e.colorScheme];return(0,Ue.jsxs)("div",{className:"".concat(n.bg," p-6 rounded-xl shadow-sm border ").concat(n.border," transition-all duration-200 hover:shadow-md"),children:[(0,Ue.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:e.title}),(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("span",{className:"text-3xl font-bold ".concat(n.value),children:e.value}),(0,Ue.jsx)("span",{className:"".concat(n.subtitle," text-sm"),children:e.subtitle})]})]},t)})})},BZ=e=>{let{insights:t}=e;const n=e=>({document:"Files",document_chunk:"Information",chunk:"Chunks",collection:"Collections"}[e]||e),r=e=>e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"",a=e=>{let{data:t,title:n,formatLabel:r}=e;return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:n}),(0,Ue.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{const n=e.allowed_count+e.denied_count,a=n>0?e.allowed_count/n*100:0,o=n>0?e.denied_count/n*100:0,i=e.resource_type||e.action||e.sensitivity;return(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"w-28 text-sm font-medium text-gray-700 dark:text-gray-300 truncate",children:r?r(i):i}),(0,Ue.jsx)("div",{className:"flex-1 mx-3",children:(0,Ue.jsxs)("div",{className:"bg-gray-200 dark:bg-gray-700 rounded-full h-4 relative overflow-hidden flex",children:[(0,Ue.jsx)("div",{className:"bg-emerald-400/80 dark:bg-emerald-500/70 h-full transition-all duration-300 hover:bg-emerald-500/90 dark:hover:bg-emerald-600/80",style:{width:"".concat(a,"%")},title:"Allowed: ".concat(e.allowed_count)}),(0,Ue.jsx)("div",{className:"bg-rose-400/80 dark:bg-rose-500/70 h-full transition-all duration-300 hover:bg-rose-500/90 dark:hover:bg-rose-600/80",style:{width:"".concat(o,"%")},title:"Denied: ".concat(e.denied_count)})]})}),(0,Ue.jsx)("div",{className:"w-20 text-sm font-medium text-gray-900 dark:text-white text-right",children:(0,Ue.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Ue.jsx)("span",{className:"text-emerald-600 dark:text-emerald-400",children:e.allowed_count}),(0,Ue.jsx)("span",{className:"text-gray-400",children:"/"}),(0,Ue.jsx)("span",{className:"text-rose-600 dark:text-rose-400",children:e.denied_count})]})})]},t)})}),(0,Ue.jsxs)("div",{className:"mt-4 flex items-center justify-center space-x-6 text-sm",children:[(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"w-3 h-3 bg-emerald-400/80 dark:bg-emerald-500/70 rounded-full mr-2"}),(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Allowed"})]}),(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"w-3 h-3 bg-rose-400/80 dark:bg-rose-500/70 rounded-full mr-2"}),(0,Ue.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Denied"})]})]})]})},o=e=>{let{data:t,title:n}=e;const r=t.reduce((e,t)=>e+t.count,0);return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:n}),(0,Ue.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{const n=r>0?(e.count/r*100).toFixed(1):0,a=["bg-blue-500 dark:bg-blue-400","bg-green-500 dark:bg-green-400","bg-amber-500 dark:bg-amber-400","bg-red-500 dark:bg-red-400","bg-purple-500 dark:bg-purple-400","bg-indigo-500 dark:bg-indigo-400"],o=a[t%a.length];return(0,Ue.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ue.jsxs)("div",{className:"flex items-center",children:[(0,Ue.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat(o)}),(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.sensitivity||e.resource_type})]}),(0,Ue.jsxs)("div",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:[e.count," (",n,"%)"]})]},t)})})]})},i=e=>{let{data:t,title:n}=e;const r=Math.max(...t.map(e=>e.count));return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:n}),(0,Ue.jsx)("div",{className:"h-48 relative",children:(0,Ue.jsx)("div",{className:"absolute inset-0 flex items-end space-x-1",children:t.map((e,t)=>{const n=r>0?e.count/r*100:0;return(0,Ue.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[(0,Ue.jsx)("div",{className:"w-full bg-gradient-to-t from-indigo-500 to-indigo-400 dark:from-indigo-600 dark:to-indigo-500 rounded-t transition-all duration-300 hover:from-indigo-600 hover:to-indigo-500 dark:hover:from-indigo-700 dark:hover:to-indigo-600 relative group",style:{height:"".concat(Math.max(n,2),"%")},children:(0,Ue.jsxs)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[e.count," accesses"]})}),(0,Ue.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 transform -rotate-45 origin-top-left",children:[e.hour,":00"]})]},t)})})})]})};return{ResourceTypeAndAction:()=>(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ue.jsx)(a,{data:t.access_by_resource_type||[],title:"Access by Resource Type",formatLabel:n}),(0,Ue.jsx)(a,{data:t.access_by_action||[],title:"Access by Action",formatLabel:r})]}),SensitivityChart:()=>(0,Ue.jsx)(o,{data:t.access_by_sensitivity||[],title:"Access by Sensitivity Level"}),TimeOfDayChart:()=>(0,Ue.jsx)(i,{data:t.access_by_time_of_day||[],title:"Access by Time of Day"})}},FZ=e=>{let{logs:t,pagination:n,onPageChange:r,onPageSizeChange:a,loading:o}=e;const i=e=>{switch(e){case"HIGH":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"LOW":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}},s=(n.page-1)*n.pageSize+1,l=Math.min(n.page*n.pageSize,n.total);return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Access Logs"}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Show:"}),(0,Ue.jsxs)("select",{value:n.pageSize,onChange:e=>{a(parseInt(e.target.value))},className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Ue.jsx)("option",{value:"10",children:"10"}),(0,Ue.jsx)("option",{value:"25",children:"25"}),(0,Ue.jsx)("option",{value:"50",children:"50"}),(0,Ue.jsx)("option",{value:"100",children:"100"})]})]})]}),(0,Ue.jsx)("div",{className:"overflow-x-auto",children:(0,Ue.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Ue.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Ue.jsxs)("tr",{children:[(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Timestamp"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subject"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Resource"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Action"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Decision"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Reason"}),(0,Ue.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sensitivity"})]})}),(0,Ue.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:o?(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center",children:(0,Ue.jsxs)("div",{className:"flex justify-center items-center",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,Ue.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading..."})]})})}):0===t.length?(0,Ue.jsx)("tr",{children:(0,Ue.jsx)("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No access logs found."})}):t.map((e,t)=>{return(0,Ue.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-150",children:[(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:(n=e.timestamp,new Date(n).toLocaleString())}),(0,Ue.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-white",children:e.subject_id}),(0,Ue.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:e.subject_type})]}),(0,Ue.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[(0,Ue.jsx)("div",{className:"text-gray-900 dark:text-white",children:e.resource_id}),(0,Ue.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:e.resource_type})]}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.action}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ue.jsxs)("span",{className:"inline-flex items-center ".concat(e.decision?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.decision?(0,Ue.jsx)(MZ,{size:16,className:"mr-1"}):(0,Ue.jsx)(Cr,{size:16,className:"mr-1"}),e.decision?"Allowed":"Denied"]})}),(0,Ue.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white max-w-xs truncate",title:e.reason,children:e.reason||"-"}),(0,Ue.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.sensitivity?(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(i(e.sensitivity)),children:e.sensitivity}):(0,Ue.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"-"})})]},t);var n})})]})}),(0,Ue.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Ue.jsxs)("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",(0,Ue.jsx)("span",{className:"font-medium",children:s})," to"," ",(0,Ue.jsx)("span",{className:"font-medium",children:l})," of"," ",(0,Ue.jsx)("span",{className:"font-medium",children:n.total})," results"]}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsxs)("button",{onClick:()=>r(n.page-1),disabled:n.page<=1,className:"flex items-center px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 dark:text-gray-300",children:[(0,Ue.jsx)(Pa,{size:16,className:"mr-1"}),"Previous"]}),(0,Ue.jsx)("span",{className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md",children:n.page}),(0,Ue.jsxs)("button",{onClick:()=>r(n.page+1),disabled:n.page>=n.totalPages,className:"flex items-center px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 dark:text-gray-300",children:["Next",(0,Ue.jsx)(Na,{size:16,className:"ml-1"})]})]})]})]})},HZ=e=>{let{reasons:t}=e;return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Denial Reasons"}),t&&0!==t.length?(0,Ue.jsx)("div",{className:"space-y-3",children:t.map((e,n)=>(0,Ue.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-150",children:[(0,Ue.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white flex-1 mr-4",children:e.reason}),(0,Ue.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ue.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.count," occurrences"]}),(0,Ue.jsx)("div",{className:"w-12 bg-gray-200 dark:bg-gray-600 rounded-full h-2",children:(0,Ue.jsx)("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(e.count/Math.max(...t.map(e=>e.count))*100,100),"%")}})})]})]},n))}):(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No denial reasons found."})]})},WZ=e=>{let{activities:t}=e;const n=e=>{switch(e){case"HIGH_DENIAL_RATE":return(0,Ue.jsx)(ta,{size:16});case"BROAD_RESOURCE_ACCESS":return(0,Ue.jsx)(aa,{size:16});default:return(0,Ue.jsx)(Qr,{size:16})}};return(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Ue.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Suspicious Activity"}),t&&0!==t.length?(0,Ue.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>{const r=(e=>{switch(e){case"HIGH":return{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-800",icon:"text-red-600 dark:text-red-400",badge:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"};case"MEDIUM":return{bg:"bg-yellow-50 dark:bg-yellow-900/20",border:"border-yellow-200 dark:border-yellow-800",icon:"text-yellow-600 dark:text-yellow-400",badge:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"};case"LOW":return{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-800",icon:"text-blue-600 dark:text-blue-400",badge:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"};default:return{bg:"bg-gray-50 dark:bg-gray-700",border:"border-gray-200 dark:border-gray-600",icon:"text-gray-600 dark:text-gray-400",badge:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}}})(e.severity);return(0,Ue.jsxs)("div",{className:"flex items-center p-3 ".concat(r.bg," border ").concat(r.border," rounded-lg"),children:[(0,Ue.jsx)("div",{className:"".concat(r.icon," mr-3"),children:n(e.type)}),(0,Ue.jsxs)("div",{className:"flex-1",children:[(0,Ue.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.description}),(0,Ue.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.type," - Count: ",e.count]})]}),(0,Ue.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat(r.badge),children:e.severity})]},t)})}):(0,Ue.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No suspicious activity detected."})]})},VZ=()=>({total_access_attempts:1234,allowed_access:987,denied_access:247,allowance_rate:80,unique_users:45,unique_resources:156,top_denial_reasons:[{reason:"Insufficient permissions",count:87},{reason:"Resource not found",count:43},{reason:"Access outside business hours",count:32},{reason:"High sensitivity resource",count:21}],access_by_resource_type:[{resource_type:"document",count:567,allowed_count:445,denied_count:122},{resource_type:"chunk",count:445,allowed_count:378,denied_count:67},{resource_type:"collection",count:222,allowed_count:164,denied_count:58}],access_by_action:[{action:"read",count:789,allowed_count:654,denied_count:135},{action:"search",count:234,allowed_count:198,denied_count:36},{action:"write",count:156,allowed_count:102,denied_count:54},{action:"delete",count:55,allowed_count:33,denied_count:22}],access_by_sensitivity:[{sensitivity:"HIGH",count:123,allowed_count:67,denied_count:56},{sensitivity:"MEDIUM",count:456,allowed_count:389,denied_count:67},{sensitivity:"LOW",count:567,allowed_count:478,denied_count:89},{sensitivity:"UNKNOWN",count:88,allowed_count:53,denied_count:35}],access_by_time_of_day:Array.from({length:24},(e,t)=>({hour:t,count:Math.floor(100*Math.random())+10})),suspicious_activity:[{type:"HIGH_DENIAL_RATE",description:"IP address 192.168.1.100 has 45 access denials",severity:"HIGH",count:45,details:{ip_address:"192.168.1.100",unique_users_affected:3}},{type:"BROAD_RESOURCE_ACCESS",description:"User john.doe accessed 8 different resource types",severity:"MEDIUM",count:8,details:{user_id:"john.doe",resource_types:["document","chunk","collection"]}}],time_range:{start_time:new Date(Date.now()-6048e5).toISOString(),end_time:(new Date).toISOString()}}),qZ=()=>[{id:"1",subject_id:"john.doe@company.com",subject_type:"user",resource_id:"doc_123",resource_type:"document",action:"read",decision:!0,timestamp:new Date(Date.now()-72e5).toISOString(),reason:"Access granted",ip_address:"192.168.1.50",user_agent:"Mozilla/5.0...",sensitivity:"MEDIUM"},{id:"2",subject_id:"jane.smith@company.com",subject_type:"user",resource_id:"doc_456",resource_type:"document",action:"read",decision:!1,timestamp:new Date(Date.now()-108e5).toISOString(),reason:"Insufficient permissions",ip_address:"192.168.1.75",user_agent:"Mozilla/5.0...",sensitivity:"HIGH"}],UZ=()=>{const[e,t]=(0,r.useState)(!1),[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)([]),[s,l]=(0,r.useState)({}),[c,d]=(0,r.useState)({page:1,pageSize:25,total:0,totalPages:0}),u=yr.create({baseURL:"https://dev-services.produktiv.ai",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}});u.interceptors.request.use(e=>{var t;const n=null===(t=document.cookie.split("; ").find(e=>e.startsWith("session_token=")))||void 0===t?void 0:t.split("=")[1];return n&&(e.headers.Authorization="Bearer ".concat(n)),e},e=>Promise.reject(e)),u.interceptors.response.use(e=>e,e=>{var t,n,r,a,o,i;return console.error("API Error:",{message:e.message,code:e.code,status:null===(t=e.response)||void 0===t?void 0:t.status,data:null===(n=e.response)||void 0===n?void 0:n.data,config:{url:null===(r=e.config)||void 0===r?void 0:r.url,method:null===(a=e.config)||void 0===a?void 0:a.method,baseURL:null===(o=e.config)||void 0===o?void 0:o.baseURL}}),401===(null===(i=e.response)||void 0===i?void 0:i.status)?(console.warn("401 Unauthorized - redirecting to dashboard"),window.location.href="/dashboard"):"ERR_NETWORK"===e.code&&console.error("Network error - service may be unreachable"),Promise.reject(e)}),(0,r.useEffect)(()=>{m()},[s,c.page,c.pageSize]);const m=async()=>{t(!0),console.log("Loading data with config:",{baseURL:u.defaults.baseURL,withCredentials:u.defaults.withCredentials,filters:s,pagination:c});try{await Promise.all([g(),p()])}catch(e){console.error("Failed to load data:",e),f()}finally{t(!1)}},g=async()=>{try{const e={};Object.keys(s).forEach(t=>{if(void 0!==s[t]&&""!==s[t])if("start_time"===t||"end_time"===t){const n=new Date(s[t]);e[t]=n.toISOString()}else e[t]=s[t]}),console.log("Loading insights with params:",e);const t=await u.get("/api/v1/policy/access-logs/insights",{params:e});console.log("Insights response:",t.data),a(t.data.insights)}catch(t){var e;console.error("Failed to load insights:",{message:t.message,code:t.code,status:null===(e=t.response)||void 0===e?void 0:e.status,baseURL:u.defaults.baseURL}),a(VZ())}},p=async()=>{try{const e={page:c.page,page_size:c.pageSize};Object.keys(s).forEach(t=>{if(void 0!==s[t]&&""!==s[t])if("start_time"===t||"end_time"===t){const n=new Date(s[t]);e[t]=n.toISOString()}else e[t]=s[t]});const t=await u.get("/api/v1/policy/access-logs",{params:e});i(t.data.data),d(e=>Le(Le({},e),{},{total:t.data.total,totalPages:t.data.total_pages}))}catch(e){console.error("Failed to load access logs:",e),i(qZ()),d(e=>Le(Le({},e),{},{total:50,totalPages:2}))}},f=()=>{a(VZ()),i(qZ()),d(e=>Le(Le({},e),{},{total:50,totalPages:2}))},h=e=>{d(t=>Le(Le({},t),{},{page:e}))},v=e=>{d(t=>Le(Le({},t),{},{pageSize:e,page:1}))};return(0,Ue.jsxs)("div",{className:"space-y-6",children:[!1,(0,Ue.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ue.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Access Log Analytics"}),(0,Ue.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ue.jsx)("button",{onClick:()=>{m()},disabled:e,title:"Refresh Data",className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700  hover:text-indigo-600 dark:hover:text-indigo-400 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Ue.jsx)(rh,{size:20,className:e?"animate-spin":""})}),(0,Ue.jsx)("button",{onClick:async()=>{try{const e={};Object.keys(s).forEach(t=>{if(void 0!==s[t]&&""!==s[t])if("start_time"===t||"end_time"===t){const n=new Date(s[t]);e[t]=n.toISOString()}else e[t]=s[t]});const t=await u.get("/api/v1/policy/access-logs/export",{params:e,responseType:"text"}),n=new Blob([t.data],{type:"text/csv"}),r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download="access-logs-".concat((new Date).toISOString().slice(0,19).replace(/:/g,"-"),".csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(r)}catch(e){console.error("Export failed:",e),alert("Failed to export access logs. Please try again.")}},title:"Export CSV",className:"p-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700  hover:text-green-600 dark:hover:text-green-400 transition-all",children:(0,Ue.jsx)(Fa,{size:20})})]})]}),(0,Ue.jsx)(zZ,{filters:s,onFiltersChange:e=>{l(e),d(e=>Le(Le({},e),{},{page:1}))},loading:e}),e&&(0,Ue.jsxs)("div",{className:"flex justify-center items-center py-12",children:[(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,Ue.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading analytics data..."})]}),n&&!e&&(()=>{const t=BZ({insights:n});return(0,Ue.jsxs)(Ue.Fragment,{children:[(0,Ue.jsx)(LZ,{insights:n}),t.ResourceTypeAndAction(),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ue.jsx)(HZ,{reasons:n.top_denial_reasons||[]}),t.SensitivityChart()]}),(0,Ue.jsx)(FZ,{logs:o,pagination:c,onPageChange:h,onPageSizeChange:v,loading:e}),(0,Ue.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.TimeOfDayChart(),(0,Ue.jsx)(WZ,{activities:n.suspicious_activity||[]})]})]})})()]})},KZ=()=>{var e;const t=ee(),[n,a]=(0,r.useState)((null===(e=t.state)||void 0===e?void 0:e.activeTab)||"access-evaluation"),o=[{id:"access-evaluation",label:"Access Evaluation",icon:(0,Ue.jsx)(ta,{size:18}),component:UZ},{id:"system-performance",label:"System Performance",icon:(0,Ue.jsx)(Lr,{size:18}),component:()=>(0,Ue.jsx)("div",{className:"text-center py-12 text-gray-500",children:"System Performance dashboard coming soon..."})},{id:"analytics",label:"Analytics",icon:(0,Ue.jsx)(Ma,{size:18}),component:RZ},{id:"alerts",label:"Alerts",icon:(0,Ue.jsx)(Qr,{size:18}),component:()=>(0,Ue.jsx)("div",{className:"text-center py-12 text-gray-500",children:"Alerts dashboard coming soon..."})}];return(0,Ue.jsx)(Wr,{children:(0,Ue.jsxs)("div",{className:"flex-1 p-8 overflow-y-auto",children:[(0,Ue.jsx)("div",{className:"flex justify-between items-center mb-8",children:(0,Ue.jsxs)("div",{children:[(0,Ue.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Monitor"}),(0,Ue.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Monitor access patterns, system performance, and security events"})]})}),(0,Ue.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 mb-6",children:[(0,Ue.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Ue.jsx)("nav",{className:"-mb-px flex space-x-8 px-6",children:o.map(e=>(0,Ue.jsxs)("button",{onClick:()=>a(e.id),className:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors duration-200 ".concat(n===e.id?"border-indigo-500 text-indigo-600 dark:text-indigo-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[e.icon,(0,Ue.jsx)("span",{children:e.label})]},e.id))})}),(0,Ue.jsx)("div",{className:"p-6",children:(()=>{const e=o.find(e=>e.id===n),t=null===e||void 0===e?void 0:e.component;return t?(0,Ue.jsx)(t,{}):null})()})]})]})})},GZ="https://dev-services.produktiv.ai",XZ=()=>(0,Ue.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ue.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}),YZ=e=>{let{children:t}=e;const[n,a]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[s,l]=(0,r.useState)(null),[c,d]=(0,r.useState)(!1),u=(0,r.useCallback)(async()=>{try{const e=await fetch("".concat(GZ,"/api/v1/auth/dashboard"),{credentials:"include",headers:{Accept:"application/json",Origin:window.location.origin}}),t=await e.json(),n=e.ok&&(null===t||void 0===t?void 0:t.authenticated)&&(null===t||void 0===t?void 0:t.userId);a(n?t:null)}catch(s){console.error("Auth check failed:",s),a(null)}finally{i(!1)}},[]);return(0,r.useEffect)(()=>{u()},[u]),(0,Ue.jsx)(Sr.Provider,{value:{user:n,loading:o,error:s,isDeactivated:c,checkAuth:u,setError:l,setIsDeactivated:d},children:t})},$Z=()=>{const{error:e,isDeactivated:t,setIsDeactivated:n,setError:a}=(0,r.useContext)(Sr);r.useEffect(()=>{"true"===sessionStorage.getItem("userDeactivated")&&n(!0)},[n]);return(0,Ue.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ue.jsxs)("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow",children:[(0,Ue.jsxs)("div",{className:"text-center",children:[(0,Ue.jsx)("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"produktiv.ai"}),(0,Ue.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please sign in to continue"})]}),t&&(0,Ue.jsxs)(Ke,{variant:"destructive",children:[(0,Ue.jsx)(qe,{className:"h-4 w-4"}),(0,Ue.jsx)(Ge,{children:(0,Ue.jsxs)("div",{className:"space-y-2",children:[(0,Ue.jsx)("div",{className:"font-semibold",children:"Account Deactivated"}),(0,Ue.jsx)("div",{children:"Your account has been deactivated and you cannot access the system at this time."}),(0,Ue.jsx)("div",{className:"text-xs text-red-600",children:"Please contact your system administrator for assistance or to reactivate your account."})]})})]}),e&&!t&&(0,Ue.jsxs)(Ke,{variant:"destructive",children:[(0,Ue.jsx)(qe,{className:"h-4 w-4"}),(0,Ue.jsx)(Ge,{children:e})]}),!t&&(0,Ue.jsx)("button",{onClick:()=>{n(!1),a(null),sessionStorage.removeItem("userDeactivated"),window.location.href="".concat(GZ,"/api/v1/auth/login")},className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white text-white bg-[#050708] hover:bg-[#050708]/90 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg  inline-flex items-center dark:focus:ring-[#050708]/50 dark:hover:bg-[#050708]/30 me-2 mb-2",children:"Sign in with Microsoft"}),t&&(0,Ue.jsxs)("div",{className:"text-center space-y-4",children:[(0,Ue.jsx)("div",{className:"text-sm text-gray-500",children:"Unable to sign in with a deactivated account"}),(0,Ue.jsx)("button",{onClick:()=>{n(!1),a(null),sessionStorage.removeItem("userDeactivated")},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-4 focus:outline-none focus:ring-gray-200",children:"Back to Login"})]})]})})},JZ=()=>{const{setError:e,setIsDeactivated:t}=(0,r.useContext)(Sr);return(0,r.useEffect)(()=>{(async()=>{try{const n=new URLSearchParams(window.location.search),r=await fetch("".concat(GZ,"/api/v1/auth/callback?").concat(n.toString()),{credentials:"include",headers:{Accept:"application/json",Origin:window.location.origin,"X-Timezone":Intl.DateTimeFormat().resolvedOptions().timeZone}}),a=await r.json();if(403===r.status&&a.error&&a.error.toLowerCase().includes("deactivated"))return t(!0),e(null),sessionStorage.setItem("userDeactivated","true"),void window.location.replace("/login");if(!r.ok)throw new Error(a.error||"Authentication failed");if(a.success)return t(!1),e(null),sessionStorage.removeItem("userDeactivated"),void(window.location.href="/dashboard");throw new Error(a.error||"Authentication failed")}catch(n){console.error("Callback handling failed:",n),n.message&&n.message.toLowerCase().includes("deactivated")?(t(!0),e(null),sessionStorage.setItem("userDeactivated","true")):e(n.message),window.location.replace("/login")}})()},[e,t]),(0,Ue.jsx)(XZ,{})},ZZ=()=>{const{user:e,loading:t}=(0,r.useContext)(Sr),n=ee();return t?(0,Ue.jsx)(XZ,{}):"/callback"===n.pathname?(0,Ue.jsx)(JZ,{}):"/login"===n.pathname?e?(0,Ue.jsx)(ve,{to:"/dashboard",replace:!0}):(0,Ue.jsx)($Z,{}):e?(0,Ue.jsxs)(be,{children:[(0,Ue.jsx)(xe,{path:"/dashboard",element:(0,Ue.jsx)(ba,{})}),(0,Ue.jsx)(xe,{path:"/users",element:(0,Ue.jsx)(zf,{})}),(0,Ue.jsx)(xe,{path:"/system",element:(0,Ue.jsx)(vf,{})}),(0,Ue.jsx)(xe,{path:"/connect",element:(0,Ue.jsx)(Df,{})}),(0,Ue.jsx)(xe,{path:"/metadata",element:(0,Ue.jsx)(Hp,{})}),(0,Ue.jsx)(xe,{path:"/classification",element:(0,Ue.jsx)(Ep,{})}),(0,Ue.jsx)(xe,{path:"/policies",element:(0,Ue.jsx)(jV,{})}),(0,Ue.jsx)(xe,{path:"/policy-simulator",element:(0,Ue.jsx)(OZ,{})}),(0,Ue.jsx)(xe,{path:"/monitor",element:(0,Ue.jsx)(KZ,{})}),(0,Ue.jsx)(xe,{path:"/monitoring",element:(0,Ue.jsx)(Nf,{})}),(0,Ue.jsx)(xe,{path:"/settings",element:(0,Ue.jsx)(If,{})}),(0,Ue.jsx)(xe,{path:"/rag",element:(0,Ue.jsx)(IZ,{})}),(0,Ue.jsx)(xe,{path:"/explorer/:sourceId",element:(0,Ue.jsx)(Ph,{})}),(0,Ue.jsx)(xe,{path:"/discover",element:(0,Ue.jsx)(YH,{})}),(0,Ue.jsx)(xe,{path:"*",element:(0,Ue.jsx)(ve,{to:"/dashboard",replace:!0})}),(0,Ue.jsx)(xe,{path:"/",element:(0,Ue.jsx)(ve,{to:"/dashboard",replace:!0})})]}):(0,Ue.jsx)(ve,{to:"/login",replace:!0})},QZ=()=>(0,Ue.jsx)(_e,{children:(0,Ue.jsx)(YZ,{children:(0,Ue.jsx)(Or,{children:(0,Ue.jsx)(ZZ,{})})})});o.createRoot(document.getElementById("root")).render((0,Ue.jsx)(r.StrictMode,{children:(0,Ue.jsx)(QZ,{})}))})()})();
//# sourceMappingURL=main.507da33e.js.map